# Story 1.6: AI Summary Field in Existing Add/Edit Modals

**Epic**: AI-Powered Content Library Enhancement
**Story ID**: 1.6
**Priority**: Medium
**Estimated Effort**: Medium (3-4 hours)

---

## User Story

**As a** user manually adding content,
**I want** to add or edit AI summaries and other new fields,
**so that** I maintain full control over all content metadata.

---

## Acceptance Criteria

1. ✅ Add AI Summary textarea field to existing Add Content modal (above Notes field)
2. ✅ Add AI Summary textarea field to existing Edit Content modal
3. ✅ AI Summary field is optional and can be manually entered
4. ✅ Add Dashboard Areas selector to both modals
5. ✅ Add Value Rating input to both modals
6. ✅ Maintain all existing fields and functionality
7. ✅ Form validation updated to include new fields
8. ✅ Save operations update all new fields in database
9. ✅ Visual indicator ("AI" badge) when summary was AI-generated vs manually entered

---

## Integration Verification

**IV1**: Existing manual content creation flow continues to work without AI features
**IV2**: Editing existing content preserves all original fields
**IV3**: Form submission uses existing Supabase insert/update patterns

---

## Implementation Notes

### Add AI Summary Field
```tsx
{/* After URL field, before Notes */}
<div>
  <label className="block text-sm font-medium text-gray-300 mb-1">
    AI Summary
    {formData.ai_generated && <span className="ml-2 text-xs bg-blue-900 text-blue-300 px-2 py-0.5 rounded">AI</span>}
  </label>
  <textarea
    value={formData.ai_summary || ''}
    onChange={(e) => setFormData({ ...formData, ai_summary: e.target.value })}
    rows={3}
    className="w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"
    placeholder="AI-generated summary or write your own..."
  />
</div>
```

### Add Dashboard Areas
```tsx
<div>
  <label className="block text-sm font-medium text-gray-300 mb-1">Dashboard Areas</label>
  <DashboardAreaSelector
    selectedAreas={formData.dashboard_areas || []}
    onChange={(areas) => setFormData({ ...formData, dashboard_areas: areas })}
  />
</div>
```

### Add Value Rating
```tsx
<div>
  <ValueRatingInput
    value={formData.value_rating}
    onChange={(rating) => setFormData({ ...formData, value_rating: rating })}
    label="Value Rating (optional)"
    showClear
  />
</div>
```

---

## Files to Modify

- `src/components/ContentLibrary.tsx` (Add/Edit modal sections)
- `src/types/content.ts` (ensure all fields included)

---

## Definition of Done

- [ ] AI Summary field added to Add modal
- [ ] AI Summary field added to Edit modal
- [ ] Dashboard Areas selector integrated
- [ ] Value Rating input integrated
- [ ] All existing fields preserved
- [ ] Form saves all new fields to database
- [ ] Editing preserves existing data
- [ ] All integration verification tests pass

---

**Story Status**: Ready for Development (depends on Stories 1.1, 1.2)
**Assigned To**: TBD
