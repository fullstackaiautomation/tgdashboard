function bB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Ox={exports:{}},md={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function jB(){if(gC)return md;gC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:i}}return md.Fragment=t,md.jsx=r,md.jsxs=r,md}var pC;function _B(){return pC||(pC=1,Ox.exports=jB()),Ox.exports}var s=_B(),Dx={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC;function SB(){if(yC)return Je;yC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function S(P,H,Q){this.props=P,this.context=H,this.refs=b,this.updater=Q||_}S.prototype.isReactComponent={},S.prototype.setState=function(P,H){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,H,"setState")},S.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function k(){}k.prototype=S.prototype;function C(P,H,Q){this.props=P,this.context=H,this.refs=b,this.updater=Q||_}var A=C.prototype=new k;A.constructor=C,w(A,S.prototype),A.isPureReactComponent=!0;var E=Array.isArray;function M(){}var T={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function L(P,H,Q){var ne=Q.ref;return{$$typeof:e,type:P,key:H,ref:ne!==void 0?ne:null,props:Q}}function B(P,H){return L(P.type,H,P.props)}function z(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function F(P){var H={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Q){return H[Q]})}var G=/\/+/g;function V(P,H){return typeof P=="object"&&P!==null&&P.key!=null?F(""+P.key):H.toString(36)}function Y(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(M,M):(P.status="pending",P.then(function(H){P.status==="pending"&&(P.status="fulfilled",P.value=H)},function(H){P.status==="pending"&&(P.status="rejected",P.reason=H)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function $(P,H,Q,ne,ge){var be=typeof P;(be==="undefined"||be==="boolean")&&(P=null);var te=!1;if(P===null)te=!0;else switch(be){case"bigint":case"string":case"number":te=!0;break;case"object":switch(P.$$typeof){case e:case t:te=!0;break;case h:return te=P._init,$(te(P._payload),H,Q,ne,ge)}}if(te)return ge=ge(P),te=ne===""?"."+V(P,0):ne,E(ge)?(Q="",te!=null&&(Q=te.replace(G,"$&/")+"/"),$(ge,H,Q,"",function(pe){return pe})):ge!=null&&(z(ge)&&(ge=B(ge,Q+(ge.key==null||P&&P.key===ge.key?"":(""+ge.key).replace(G,"$&/")+"/")+te)),H.push(ge)),1;te=0;var Se=ne===""?".":ne+":";if(E(P))for(var ce=0;ce<P.length;ce++)ne=P[ce],be=Se+V(ne,ce),te+=$(ne,H,Q,be,ge);else if(ce=v(P),typeof ce=="function")for(P=ce.call(P),ce=0;!(ne=P.next()).done;)ne=ne.value,be=Se+V(ne,ce++),te+=$(ne,H,Q,be,ge);else if(be==="object"){if(typeof P.then=="function")return $(Y(P),H,Q,ne,ge);throw H=String(P),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return te}function ee(P,H,Q){if(P==null)return P;var ne=[],ge=0;return $(P,ne,"","",function(be){return H.call(Q,be,ge++)}),ne}function J(P){if(P._status===-1){var H=P._result;H=H(),H.then(function(Q){(P._status===0||P._status===-1)&&(P._status=1,P._result=Q)},function(Q){(P._status===0||P._status===-1)&&(P._status=2,P._result=Q)}),P._status===-1&&(P._status=0,P._result=H)}if(P._status===1)return P._result.default;throw P._result}var W=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},U={map:ee,forEach:function(P,H,Q){ee(P,function(){H.apply(this,arguments)},Q)},count:function(P){var H=0;return ee(P,function(){H++}),H},toArray:function(P){return ee(P,function(H){return H})||[]},only:function(P){if(!z(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Je.Activity=g,Je.Children=U,Je.Component=S,Je.Fragment=r,Je.Profiler=a,Je.PureComponent=C,Je.StrictMode=n,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Je.__COMPILER_RUNTIME={__proto__:null,c:function(P){return T.H.useMemoCache(P)}},Je.cache=function(P){return function(){return P.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(P,H,Q){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ne=w({},P.props),ge=P.key;if(H!=null)for(be in H.key!==void 0&&(ge=""+H.key),H)!D.call(H,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&H.ref===void 0||(ne[be]=H[be]);var be=arguments.length-2;if(be===1)ne.children=Q;else if(1<be){for(var te=Array(be),Se=0;Se<be;Se++)te[Se]=arguments[Se+2];ne.children=te}return L(P.type,ge,ne)},Je.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:i,_context:P},P},Je.createElement=function(P,H,Q){var ne,ge={},be=null;if(H!=null)for(ne in H.key!==void 0&&(be=""+H.key),H)D.call(H,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ge[ne]=H[ne]);var te=arguments.length-2;if(te===1)ge.children=Q;else if(1<te){for(var Se=Array(te),ce=0;ce<te;ce++)Se[ce]=arguments[ce+2];ge.children=Se}if(P&&P.defaultProps)for(ne in te=P.defaultProps,te)ge[ne]===void 0&&(ge[ne]=te[ne]);return L(P,be,ge)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(P){return{$$typeof:u,render:P}},Je.isValidElement=z,Je.lazy=function(P){return{$$typeof:h,_payload:{_status:-1,_result:P},_init:J}},Je.memo=function(P,H){return{$$typeof:m,type:P,compare:H===void 0?null:H}},Je.startTransition=function(P){var H=T.T,Q={};T.T=Q;try{var ne=P(),ge=T.S;ge!==null&&ge(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(M,W)}catch(be){W(be)}finally{H!==null&&Q.types!==null&&(H.types=Q.types),T.T=H}},Je.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Je.use=function(P){return T.H.use(P)},Je.useActionState=function(P,H,Q){return T.H.useActionState(P,H,Q)},Je.useCallback=function(P,H){return T.H.useCallback(P,H)},Je.useContext=function(P){return T.H.useContext(P)},Je.useDebugValue=function(){},Je.useDeferredValue=function(P,H){return T.H.useDeferredValue(P,H)},Je.useEffect=function(P,H){return T.H.useEffect(P,H)},Je.useEffectEvent=function(P){return T.H.useEffectEvent(P)},Je.useId=function(){return T.H.useId()},Je.useImperativeHandle=function(P,H,Q){return T.H.useImperativeHandle(P,H,Q)},Je.useInsertionEffect=function(P,H){return T.H.useInsertionEffect(P,H)},Je.useLayoutEffect=function(P,H){return T.H.useLayoutEffect(P,H)},Je.useMemo=function(P,H){return T.H.useMemo(P,H)},Je.useOptimistic=function(P,H){return T.H.useOptimistic(P,H)},Je.useReducer=function(P,H,Q){return T.H.useReducer(P,H,Q)},Je.useRef=function(P){return T.H.useRef(P)},Je.useState=function(P){return T.H.useState(P)},Je.useSyncExternalStore=function(P,H,Q){return T.H.useSyncExternalStore(P,H,Q)},Je.useTransition=function(){return T.H.useTransition()},Je.version="19.2.0",Je}var xC;function au(){return xC||(xC=1,Dx.exports=SB()),Dx.exports}var x=au();const je=Wa(x),O1=bB({__proto__:null,default:je},[x]);var Mx={exports:{}},gd={},Px={exports:{}},Rx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function NB(){return vC||(vC=1,(function(e){function t($,ee){var J=$.length;$.push(ee);e:for(;0<J;){var W=J-1>>>1,U=$[W];if(0<a(U,ee))$[W]=ee,$[J]=U,J=W;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var ee=$[0],J=$.pop();if(J!==ee){$[0]=J;e:for(var W=0,U=$.length,P=U>>>1;W<P;){var H=2*(W+1)-1,Q=$[H],ne=H+1,ge=$[ne];if(0>a(Q,J))ne<U&&0>a(ge,Q)?($[W]=ge,$[ne]=J,W=ne):($[W]=Q,$[H]=J,W=H);else if(ne<U&&0>a(ge,J))$[W]=ge,$[ne]=J,W=ne;else break e}}return ee}function a($,ee){var J=$.sortIndex-ee.sortIndex;return J!==0?J:$.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],m=[],h=1,g=null,y=3,v=!1,_=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A($){for(var ee=r(m);ee!==null;){if(ee.callback===null)n(m);else if(ee.startTime<=$)n(m),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=r(m)}}function E($){if(w=!1,A($),!_)if(r(d)!==null)_=!0,M||(M=!0,F());else{var ee=r(m);ee!==null&&Y(E,ee.startTime-$)}}var M=!1,T=-1,D=5,L=-1;function B(){return b?!0:!(e.unstable_now()-L<D)}function z(){if(b=!1,M){var $=e.unstable_now();L=$;var ee=!0;try{e:{_=!1,w&&(w=!1,k(T),T=-1),v=!0;var J=y;try{t:{for(A($),g=r(d);g!==null&&!(g.expirationTime>$&&B());){var W=g.callback;if(typeof W=="function"){g.callback=null,y=g.priorityLevel;var U=W(g.expirationTime<=$);if($=e.unstable_now(),typeof U=="function"){g.callback=U,A($),ee=!0;break t}g===r(d)&&n(d),A($)}else n(d);g=r(d)}if(g!==null)ee=!0;else{var P=r(m);P!==null&&Y(E,P.startTime-$),ee=!1}}break e}finally{g=null,y=J,v=!1}ee=void 0}}finally{ee?F():M=!1}}}var F;if(typeof C=="function")F=function(){C(z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,V=G.port2;G.port1.onmessage=z,F=function(){V.postMessage(null)}}else F=function(){S(z,0)};function Y($,ee){T=S(function(){$(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function($){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var J=y;y=ee;try{return $()}finally{y=J}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=y;y=$;try{return ee()}finally{y=J}},e.unstable_scheduleCallback=function($,ee,J){var W=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?W+J:W):J=W,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=J+U,$={id:h++,callback:ee,priorityLevel:$,startTime:J,expirationTime:U,sortIndex:-1},J>W?($.sortIndex=J,t(m,$),r(d)===null&&$===r(m)&&(w?(k(T),T=-1):w=!0,Y(E,J-W))):($.sortIndex=U,t(d,$),_||v||(_=!0,M||(M=!0,F()))),$},e.unstable_shouldYield=B,e.unstable_wrapCallback=function($){var ee=y;return function(){var J=y;y=ee;try{return $.apply(this,arguments)}finally{y=J}}}})(Rx)),Rx}var bC;function kB(){return bC||(bC=1,Px.exports=NB()),Px.exports}var Ix={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC;function CB(){if(wC)return pn;wC=1;var e=au();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,m,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:m,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,pn.createPortal=function(d,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return i(d,m,null,h)},pn.flushSync=function(d){var m=l.T,h=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=m,n.p=h,n.d.f()}},pn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(d,m))},pn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},pn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var h=m.as,g=u(h,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?n.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):h==="script"&&n.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);n.d.M(d,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(d)},pn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,g=u(h,m.crossOrigin);n.d.L(d,h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pn.preloadModule=function(d,m){if(typeof d=="string")if(m){var h=u(m.as,m.crossOrigin);n.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(d)},pn.requestFormReset=function(d){n.d.r(d)},pn.unstable_batchedUpdates=function(d,m){return d(m)},pn.useFormState=function(d,m,h){return l.H.useFormState(d,m,h)},pn.useFormStatus=function(){return l.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var jC;function BM(){if(jC)return Ix.exports;jC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ix.exports=CB(),Ix.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function TB(){if(_C)return gd;_C=1;var e=kB(),t=au(),r=BM();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(i(o)!==o)throw Error(n(188))}function m(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(n(188));return c!==o?null:o}for(var f=o,p=c;;){var j=f.return;if(j===null)break;var N=j.alternate;if(N===null){if(p=j.return,p!==null){f=p;continue}break}if(j.child===N.child){for(N=j.child;N;){if(N===f)return d(j),o;if(N===p)return d(j),c;N=N.sibling}throw Error(n(188))}if(f.return!==p.return)f=j,p=N;else{for(var O=!1,I=j.child;I;){if(I===f){O=!0,f=j,p=N;break}if(I===p){O=!0,p=j,f=N;break}I=I.sibling}if(!O){for(I=N.child;I;){if(I===f){O=!0,f=N,p=j;break}if(I===p){O=!0,p=N,f=j;break}I=I.sibling}if(!O)throw Error(n(189))}}if(f.alternate!==p)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var G=Symbol.for("react.client.reference");function V(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===G?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case S:return"Profiler";case b:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case C:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case A:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case T:return c=o.displayName||null,c!==null?c:V(o.type)||"Memo";case D:c=o._payload,o=o._init;try{return V(o(c))}catch{}}return null}var Y=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},W=[],U=-1;function P(o){return{current:o}}function H(o){0>U||(o.current=W[U],W[U]=null,U--)}function Q(o,c){U++,W[U]=o.current,o.current=c}var ne=P(null),ge=P(null),be=P(null),te=P(null);function Se(o,c){switch(Q(be,c),Q(ge,o),Q(ne,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?$2(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=$2(c),o=B2(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}H(ne),Q(ne,o)}function ce(){H(ne),H(ge),H(be)}function pe(o){o.memoizedState!==null&&Q(te,o);var c=ne.current,f=B2(c,o.type);c!==f&&(Q(ge,o),Q(ne,f))}function ke(o){ge.current===o&&(H(ne),H(ge)),te.current===o&&(H(te),ud._currentValue=J)}var de,qe;function Ae(o){if(de===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);de=c&&c[1]||"",qe=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+o+qe}var Ye=!1;function at(o,c){if(!o||Ye)return"";Ye=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(fe){var ue=fe}Reflect.construct(o,[],we)}else{try{we.call()}catch(fe){ue=fe}o.call(we.prototype)}}else{try{throw Error()}catch(fe){ue=fe}(we=o())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(fe){if(fe&&ue&&typeof fe.stack=="string")return[fe.stack,ue.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),O=N[0],I=N[1];if(O&&I){var X=O.split(`
`),le=I.split(`
`);for(j=p=0;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;for(;j<le.length&&!le[j].includes("DetermineComponentFrameRoot");)j++;if(p===X.length||j===le.length)for(p=X.length-1,j=le.length-1;1<=p&&0<=j&&X[p]!==le[j];)j--;for(;1<=p&&0<=j;p--,j--)if(X[p]!==le[j]){if(p!==1||j!==1)do if(p--,j--,0>j||X[p]!==le[j]){var ye=`
`+X[p].replace(" at new "," at ");return o.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",o.displayName)),ye}while(1<=p&&0<=j);break}}}finally{Ye=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Ae(f):""}function Jt(o,c){switch(o.tag){case 26:case 27:case 5:return Ae(o.type);case 16:return Ae("Lazy");case 13:return o.child!==c&&c!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return at(o.type,!1);case 11:return at(o.type.render,!1);case 1:return at(o.type,!0);case 31:return Ae("Activity");default:return""}}function cr(o){try{var c="",f=null;do c+=Jt(o,f),f=o,o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var fr=Object.prototype.hasOwnProperty,$t=e.unstable_scheduleCallback,kr=e.unstable_cancelCallback,sn=e.unstable_shouldYield,K=e.unstable_requestPaint,ie=e.unstable_now,R=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,xe=e.unstable_UserBlockingPriority,Te=e.unstable_NormalPriority,et=e.unstable_LowPriority,Dt=e.unstable_IdlePriority,Nt=e.log,Cr=e.unstable_setDisableYieldValue,Bt=null,Yt=null;function dt(o){if(typeof Nt=="function"&&Cr(o),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Bt,o)}catch{}}var Xe=Math.clz32?Math.clz32:$e,ft=Math.log,Be=Math.LN2;function $e(o){return o>>>=0,o===0?32:31-(ft(o)/Be|0)|0}var _e=256,Ue=262144,Ze=4194304;function Ce(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function vt(o,c,f){var p=o.pendingLanes;if(p===0)return 0;var j=0,N=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var I=p&134217727;return I!==0?(p=I&~N,p!==0?j=Ce(p):(O&=I,O!==0?j=Ce(O):f||(f=I&~o,f!==0&&(j=Ce(f))))):(I=p&~N,I!==0?j=Ce(I):O!==0?j=Ce(O):f||(f=p&~o,f!==0&&(j=Ce(f)))),j===0?0:c!==0&&c!==j&&(c&N)===0&&(N=j&-j,f=c&-c,N>=f||N===32&&(f&4194048)!==0)?c:j}function Tr(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ht(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function it(){var o=Ze;return Ze<<=1,(Ze&62914560)===0&&(Ze=4194304),o}function Ar(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function bn(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function rr(o,c,f,p,j,N){var O=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,X=o.expirationTimes,le=o.hiddenUpdates;for(f=O&~f;0<f;){var ye=31-Xe(f),we=1<<ye;I[ye]=0,X[ye]=-1;var ue=le[ye];if(ue!==null)for(le[ye]=null,ye=0;ye<ue.length;ye++){var fe=ue[ye];fe!==null&&(fe.lane&=-536870913)}f&=~we}p!==0&&En(o,p,0),N!==0&&j===0&&o.tag!==0&&(o.suspendedLanes|=N&~(O&~c))}function En(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var p=31-Xe(c);o.entangledLanes|=c,o.entanglements[p]=o.entanglements[p]|1073741824|f&261930}function gn(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var p=31-Xe(f),j=1<<p;j&c|o[p]&c&&(o[p]|=c),f&=~j}}function tt(o,c){var f=c&-c;return f=(f&42)!==0?1:ba(f),(f&(o.suspendedLanes|c))!==0?0:f}function ba(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ds(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ct(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:lC(o.type))}function Ga(o,c){var f=ee.p;try{return ee.p=o,c()}finally{ee.p=f}}var Kr=Math.random().toString(36).slice(2),q="__reactFiber$"+Kr,me="__reactProps$"+Kr,Ge="__reactContainer$"+Kr,mt="__reactEvents$"+Kr,wn="__reactListeners$"+Kr,yr="__reactHandles$"+Kr,fs="__reactResources$"+Kr,jn="__reactMarker$"+Kr;function To(o){delete o[q],delete o[me],delete o[mt],delete o[wn],delete o[yr]}function hs(o){var c=o[q];if(c)return c;for(var f=o.parentNode;f;){if(c=f[Ge]||f[q]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=Y2(o);o!==null;){if(f=o[q])return f;o=Y2(o)}return c}o=f,f=o.parentNode}return null}function Ll(o){if(o=o[q]||o[Ge]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function ku(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function $l(o){var c=o[fs];return c||(c=o[fs]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Gr(o){o[jn]=!0}var kS=new Set,CS={};function Ao(o,c){Bl(o,c),Bl(o+"Capture",c)}function Bl(o,c){for(CS[o]=c,o=0;o<c.length;o++)kS.add(c[o])}var d$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),TS={},AS={};function f$(o){return fr.call(AS,o)?!0:fr.call(TS,o)?!1:d$.test(o)?AS[o]=!0:(TS[o]=!0,!1)}function Gf(o,c,f){if(f$(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function Vf(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function $s(o,c,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+p)}}function wa(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ES(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function h$(o,c,f){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var j=p.get,N=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return j.call(this)},set:function(O){f=""+O,N.call(this,O)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function S0(o){if(!o._valueTracker){var c=ES(o)?"checked":"value";o._valueTracker=h$(o,c,""+o[c])}}function OS(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),p="";return o&&(p=ES(o)?o.checked?"true":"false":o.value),o=p,o!==f?(c.setValue(o),!0):!1}function Qf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var m$=/[\n"\\]/g;function ja(o){return o.replace(m$,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function N0(o,c,f,p,j,N,O,I){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),c!=null?O==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+wa(c)):o.value!==""+wa(c)&&(o.value=""+wa(c)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),c!=null?k0(o,O,wa(c)):f!=null?k0(o,O,wa(f)):p!=null&&o.removeAttribute("value"),j==null&&N!=null&&(o.defaultChecked=!!N),j!=null&&(o.checked=j&&typeof j!="function"&&typeof j!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+wa(I):o.removeAttribute("name")}function DS(o,c,f,p,j,N,O,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),c!=null||f!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){S0(o);return}f=f!=null?""+wa(f):"",c=c!=null?""+wa(c):f,I||c===o.value||(o.value=c),o.defaultValue=c}p=p??j,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=I?o.checked:!!p,o.defaultChecked=!!p,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),S0(o)}function k0(o,c,f){c==="number"&&Qf(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function zl(o,c,f,p){if(o=o.options,c){c={};for(var j=0;j<f.length;j++)c["$"+f[j]]=!0;for(f=0;f<o.length;f++)j=c.hasOwnProperty("$"+o[f].value),o[f].selected!==j&&(o[f].selected=j),j&&p&&(o[f].defaultSelected=!0)}else{for(f=""+wa(f),c=null,j=0;j<o.length;j++){if(o[j].value===f){o[j].selected=!0,p&&(o[j].defaultSelected=!0);return}c!==null||o[j].disabled||(c=o[j])}c!==null&&(c.selected=!0)}}function MS(o,c,f){if(c!=null&&(c=""+wa(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+wa(f):""}function PS(o,c,f,p){if(c==null){if(p!=null){if(f!=null)throw Error(n(92));if(Y(p)){if(1<p.length)throw Error(n(93));p=p[0]}f=p}f==null&&(f=""),c=f}f=wa(c),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p),S0(o)}function Fl(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var g$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function RS(o,c,f){var p=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":p?o.setProperty(c,f):typeof f!="number"||f===0||g$.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function IS(o,c,f){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var j in c)p=c[j],c.hasOwnProperty(j)&&f[j]!==p&&RS(o,j,p)}else for(var N in c)c.hasOwnProperty(N)&&RS(o,N,c[N])}function C0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xf(o){return y$.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Bs(){}var T0=null;function A0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ql=null,Ul=null;function LS(o){var c=Ll(o);if(c&&(o=c.stateNode)){var f=o[me]||null;e:switch(o=c.stateNode,c.type){case"input":if(N0(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ja(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var p=f[c];if(p!==o&&p.form===o.form){var j=p[me]||null;if(!j)throw Error(n(90));N0(p,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(c=0;c<f.length;c++)p=f[c],p.form===o.form&&OS(p)}break e;case"textarea":MS(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&zl(o,!!f.multiple,c,!1)}}}var E0=!1;function $S(o,c,f){if(E0)return o(c,f);E0=!0;try{var p=o(c);return p}finally{if(E0=!1,(ql!==null||Ul!==null)&&($h(),ql&&(c=ql,o=Ul,Ul=ql=null,LS(c),o)))for(c=0;c<o.length;c++)LS(o[c])}}function Cu(o,c){var f=o.stateNode;if(f===null)return null;var p=f[me]||null;if(p===null)return null;f=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O0=!1;if(zs)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){O0=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{O0=!1}var ki=null,D0=null,Zf=null;function BS(){if(Zf)return Zf;var o,c=D0,f=c.length,p,j="value"in ki?ki.value:ki.textContent,N=j.length;for(o=0;o<f&&c[o]===j[o];o++);var O=f-o;for(p=1;p<=O&&c[f-p]===j[N-p];p++);return Zf=j.slice(o,1<p?1-p:void 0)}function Jf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function eh(){return!0}function zS(){return!1}function On(o){function c(f,p,j,N,O){this._reactName=f,this._targetInst=j,this.type=p,this.nativeEvent=N,this.target=O,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?eh:zS,this.isPropagationStopped=zS,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),c}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=On(Eo),Au=g({},Eo,{view:0,detail:0}),x$=On(Au),M0,P0,Eu,rh=g({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Eu&&(Eu&&o.type==="mousemove"?(M0=o.screenX-Eu.screenX,P0=o.screenY-Eu.screenY):P0=M0=0,Eu=o),M0)},movementY:function(o){return"movementY"in o?o.movementY:P0}}),FS=On(rh),v$=g({},rh,{dataTransfer:0}),b$=On(v$),w$=g({},Au,{relatedTarget:0}),R0=On(w$),j$=g({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),_$=On(j$),S$=g({},Eo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),N$=On(S$),k$=g({},Eo,{data:0}),qS=On(k$),C$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E$(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=A$[o])?!!c[o]:!1}function I0(){return E$}var O$=g({},Au,{key:function(o){if(o.key){var c=C$[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Jf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?T$[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I0,charCode:function(o){return o.type==="keypress"?Jf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Jf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),D$=On(O$),M$=g({},rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),US=On(M$),P$=g({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I0}),R$=On(P$),I$=g({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),L$=On(I$),$$=g({},rh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),B$=On($$),z$=g({},Eo,{newState:0,oldState:0}),F$=On(z$),q$=[9,13,27,32],L0=zs&&"CompositionEvent"in window,Ou=null;zs&&"documentMode"in document&&(Ou=document.documentMode);var U$=zs&&"TextEvent"in window&&!Ou,HS=zs&&(!L0||Ou&&8<Ou&&11>=Ou),WS=" ",YS=!1;function KS(o,c){switch(o){case"keyup":return q$.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Hl=!1;function H$(o,c){switch(o){case"compositionend":return GS(c);case"keypress":return c.which!==32?null:(YS=!0,WS);case"textInput":return o=c.data,o===WS&&YS?null:o;default:return null}}function W$(o,c){if(Hl)return o==="compositionend"||!L0&&KS(o,c)?(o=BS(),Zf=D0=ki=null,Hl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return HS&&c.locale!=="ko"?null:c.data;default:return null}}var Y$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VS(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Y$[o.type]:c==="textarea"}function QS(o,c,f,p){ql?Ul?Ul.push(p):Ul=[p]:ql=p,c=Wh(c,"onChange"),0<c.length&&(f=new th("onChange","change",null,f,p),o.push({event:f,listeners:c}))}var Du=null,Mu=null;function K$(o){D2(o,0)}function nh(o){var c=ku(o);if(OS(c))return o}function XS(o,c){if(o==="change")return c}var ZS=!1;if(zs){var $0;if(zs){var B0="oninput"in document;if(!B0){var JS=document.createElement("div");JS.setAttribute("oninput","return;"),B0=typeof JS.oninput=="function"}$0=B0}else $0=!1;ZS=$0&&(!document.documentMode||9<document.documentMode)}function eN(){Du&&(Du.detachEvent("onpropertychange",tN),Mu=Du=null)}function tN(o){if(o.propertyName==="value"&&nh(Mu)){var c=[];QS(c,Mu,o,A0(o)),$S(K$,c)}}function G$(o,c,f){o==="focusin"?(eN(),Du=c,Mu=f,Du.attachEvent("onpropertychange",tN)):o==="focusout"&&eN()}function V$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return nh(Mu)}function Q$(o,c){if(o==="click")return nh(c)}function X$(o,c){if(o==="input"||o==="change")return nh(c)}function Z$(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Vn=typeof Object.is=="function"?Object.is:Z$;function Pu(o,c){if(Vn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),p=Object.keys(c);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var j=f[p];if(!fr.call(c,j)||!Vn(o[j],c[j]))return!1}return!0}function rN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function nN(o,c){var f=rN(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=c&&p>=c)return{node:f,offset:c-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=rN(f)}}function aN(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?aN(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function sN(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Qf(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=Qf(o.document)}return c}function z0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var J$=zs&&"documentMode"in document&&11>=document.documentMode,Wl=null,F0=null,Ru=null,q0=!1;function iN(o,c,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;q0||Wl==null||Wl!==Qf(p)||(p=Wl,"selectionStart"in p&&z0(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ru&&Pu(Ru,p)||(Ru=p,p=Wh(F0,"onSelect"),0<p.length&&(c=new th("onSelect","select",null,c,f),o.push({event:c,listeners:p}),c.target=Wl)))}function Oo(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Yl={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionrun:Oo("Transition","TransitionRun"),transitionstart:Oo("Transition","TransitionStart"),transitioncancel:Oo("Transition","TransitionCancel"),transitionend:Oo("Transition","TransitionEnd")},U0={},oN={};zs&&(oN=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Do(o){if(U0[o])return U0[o];if(!Yl[o])return o;var c=Yl[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in oN)return U0[o]=c[f];return o}var lN=Do("animationend"),cN=Do("animationiteration"),uN=Do("animationstart"),e7=Do("transitionrun"),t7=Do("transitionstart"),r7=Do("transitioncancel"),dN=Do("transitionend"),fN=new Map,H0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");H0.push("scrollEnd");function Va(o,c){fN.set(o,c),Ao(c,[o])}var ah=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},_a=[],Kl=0,W0=0;function sh(){for(var o=Kl,c=W0=Kl=0;c<o;){var f=_a[c];_a[c++]=null;var p=_a[c];_a[c++]=null;var j=_a[c];_a[c++]=null;var N=_a[c];if(_a[c++]=null,p!==null&&j!==null){var O=p.pending;O===null?j.next=j:(j.next=O.next,O.next=j),p.pending=j}N!==0&&hN(f,j,N)}}function ih(o,c,f,p){_a[Kl++]=o,_a[Kl++]=c,_a[Kl++]=f,_a[Kl++]=p,W0|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Y0(o,c,f,p){return ih(o,c,f,p),oh(o)}function Mo(o,c){return ih(o,null,null,c),oh(o)}function hN(o,c,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var j=!1,N=o.return;N!==null;)N.childLanes|=f,p=N.alternate,p!==null&&(p.childLanes|=f),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(j=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,j&&c!==null&&(j=31-Xe(f),o=N.hiddenUpdates,p=o[j],p===null?o[j]=[c]:p.push(c),c.lane=f|536870912),N):null}function oh(o){if(50<nd)throw nd=0,tx=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Gl={};function n7(o,c,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(o,c,f,p){return new n7(o,c,f,p)}function K0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fs(o,c){var f=o.alternate;return f===null?(f=Qn(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function mN(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function lh(o,c,f,p,j,N){var O=0;if(p=o,typeof o=="function")K0(o)&&(O=1);else if(typeof o=="string")O=lB(o,f,ne.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Qn(31,f,c,j),o.elementType=L,o.lanes=N,o;case w:return Po(f.children,j,N,c);case b:O=8,j|=24;break;case S:return o=Qn(12,f,c,j|2),o.elementType=S,o.lanes=N,o;case E:return o=Qn(13,f,c,j),o.elementType=E,o.lanes=N,o;case M:return o=Qn(19,f,c,j),o.elementType=M,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:O=10;break e;case k:O=9;break e;case A:O=11;break e;case T:O=14;break e;case D:O=16,p=null;break e}O=29,f=Error(n(130,o===null?"null":typeof o,"")),p=null}return c=Qn(O,f,c,j),c.elementType=o,c.type=p,c.lanes=N,c}function Po(o,c,f,p){return o=Qn(7,o,p,c),o.lanes=f,o}function G0(o,c,f){return o=Qn(6,o,null,c),o.lanes=f,o}function gN(o){var c=Qn(18,null,null,0);return c.stateNode=o,c}function V0(o,c,f){return c=Qn(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var pN=new WeakMap;function Sa(o,c){if(typeof o=="object"&&o!==null){var f=pN.get(o);return f!==void 0?f:(c={value:o,source:c,stack:cr(c)},pN.set(o,c),c)}return{value:o,source:c,stack:cr(c)}}var Vl=[],Ql=0,ch=null,Iu=0,Na=[],ka=0,Ci=null,ms=1,gs="";function qs(o,c){Vl[Ql++]=Iu,Vl[Ql++]=ch,ch=o,Iu=c}function yN(o,c,f){Na[ka++]=ms,Na[ka++]=gs,Na[ka++]=Ci,Ci=o;var p=ms;o=gs;var j=32-Xe(p)-1;p&=~(1<<j),f+=1;var N=32-Xe(c)+j;if(30<N){var O=j-j%5;N=(p&(1<<O)-1).toString(32),p>>=O,j-=O,ms=1<<32-Xe(c)+j|f<<j|p,gs=N+o}else ms=1<<N|f<<j|p,gs=o}function Q0(o){o.return!==null&&(qs(o,1),yN(o,1,0))}function X0(o){for(;o===ch;)ch=Vl[--Ql],Vl[Ql]=null,Iu=Vl[--Ql],Vl[Ql]=null;for(;o===Ci;)Ci=Na[--ka],Na[ka]=null,gs=Na[--ka],Na[ka]=null,ms=Na[--ka],Na[ka]=null}function xN(o,c){Na[ka++]=ms,Na[ka++]=gs,Na[ka++]=Ci,ms=c.id,gs=c.overflow,Ci=o}var on=null,nr=null,_t=!1,Ti=null,Ca=!1,Z0=Error(n(519));function Ai(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lu(Sa(c,o)),Z0}function vN(o){var c=o.stateNode,f=o.type,p=o.memoizedProps;switch(c[q]=o,c[me]=p,f){case"dialog":yt("cancel",c),yt("close",c);break;case"iframe":case"object":case"embed":yt("load",c);break;case"video":case"audio":for(f=0;f<sd.length;f++)yt(sd[f],c);break;case"source":yt("error",c);break;case"img":case"image":case"link":yt("error",c),yt("load",c);break;case"details":yt("toggle",c);break;case"input":yt("invalid",c),DS(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":yt("invalid",c);break;case"textarea":yt("invalid",c),PS(c,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||p.suppressHydrationWarning===!0||I2(c.textContent,f)?(p.popover!=null&&(yt("beforetoggle",c),yt("toggle",c)),p.onScroll!=null&&yt("scroll",c),p.onScrollEnd!=null&&yt("scrollend",c),p.onClick!=null&&(c.onclick=Bs),c=!0):c=!1,c||Ai(o,!0)}function bN(o){for(on=o.return;on;)switch(on.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:on=on.return}}function Xl(o){if(o!==on)return!1;if(!_t)return bN(o),_t=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||px(o.type,o.memoizedProps)),f=!f),f&&nr&&Ai(o),bN(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));nr=W2(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));nr=W2(o)}else c===27?(c=nr,Ui(o.type)?(o=wx,wx=null,nr=o):nr=c):nr=on?Aa(o.stateNode.nextSibling):null;return!0}function Ro(){nr=on=null,_t=!1}function J0(){var o=Ti;return o!==null&&(Rn===null?Rn=o:Rn.push.apply(Rn,o),Ti=null),o}function Lu(o){Ti===null?Ti=[o]:Ti.push(o)}var ey=P(null),Io=null,Us=null;function Ei(o,c,f){Q(ey,c._currentValue),c._currentValue=f}function Hs(o){o._currentValue=ey.current,H(ey)}function ty(o,c,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),o===f)break;o=o.return}}function ry(o,c,f,p){var j=o.child;for(j!==null&&(j.return=o);j!==null;){var N=j.dependencies;if(N!==null){var O=j.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=j;for(var X=0;X<c.length;X++)if(I.context===c[X]){N.lanes|=f,I=N.alternate,I!==null&&(I.lanes|=f),ty(N.return,f,o),p||(O=null);break e}N=I.next}}else if(j.tag===18){if(O=j.return,O===null)throw Error(n(341));O.lanes|=f,N=O.alternate,N!==null&&(N.lanes|=f),ty(O,f,o),O=null}else O=j.child;if(O!==null)O.return=j;else for(O=j;O!==null;){if(O===o){O=null;break}if(j=O.sibling,j!==null){j.return=O.return,O=j;break}O=O.return}j=O}}function Zl(o,c,f,p){o=null;for(var j=c,N=!1;j!==null;){if(!N){if((j.flags&524288)!==0)N=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var O=j.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var I=j.type;Vn(j.pendingProps.value,O.value)||(o!==null?o.push(I):o=[I])}}else if(j===te.current){if(O=j.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(o!==null?o.push(ud):o=[ud])}j=j.return}o!==null&&ry(c,o,f,p),c.flags|=262144}function uh(o){for(o=o.firstContext;o!==null;){if(!Vn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Lo(o){Io=o,Us=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ln(o){return wN(Io,o)}function dh(o,c){return Io===null&&Lo(o),wN(o,c)}function wN(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Us===null){if(o===null)throw Error(n(308));Us=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Us=Us.next=c;return f}var a7=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},s7=e.unstable_scheduleCallback,i7=e.unstable_NormalPriority,Er={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ny(){return{controller:new a7,data:new Map,refCount:0}}function $u(o){o.refCount--,o.refCount===0&&s7(i7,function(){o.controller.abort()})}var Bu=null,ay=0,Jl=0,ec=null;function o7(o,c){if(Bu===null){var f=Bu=[];ay=0,Jl=ox(),ec={status:"pending",value:void 0,then:function(p){f.push(p)}}}return ay++,c.then(jN,jN),c}function jN(){if(--ay===0&&Bu!==null){ec!==null&&(ec.status="fulfilled");var o=Bu;Bu=null,Jl=0,ec=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function l7(o,c){var f=[],p={status:"pending",value:null,reason:null,then:function(j){f.push(j)}};return o.then(function(){p.status="fulfilled",p.value=c;for(var j=0;j<f.length;j++)(0,f[j])(c)},function(j){for(p.status="rejected",p.reason=j,j=0;j<f.length;j++)(0,f[j])(void 0)}),p}var _N=$.S;$.S=function(o,c){i2=ie(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&o7(o,c),_N!==null&&_N(o,c)};var $o=P(null);function sy(){var o=$o.current;return o!==null?o:Xt.pooledCache}function fh(o,c){c===null?Q($o,$o.current):Q($o,c.pool)}function SN(){var o=sy();return o===null?null:{parent:Er._currentValue,pool:o}}var tc=Error(n(460)),iy=Error(n(474)),hh=Error(n(542)),mh={then:function(){}};function NN(o){return o=o.status,o==="fulfilled"||o==="rejected"}function kN(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(Bs,Bs),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,TN(o),o;default:if(typeof c.status=="string")c.then(Bs,Bs);else{if(o=Xt,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(p){if(c.status==="pending"){var j=c;j.status="fulfilled",j.value=p}},function(p){if(c.status==="pending"){var j=c;j.status="rejected",j.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,TN(o),o}throw zo=c,tc}}function Bo(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(zo=f,tc):f}}var zo=null;function CN(){if(zo===null)throw Error(n(459));var o=zo;return zo=null,o}function TN(o){if(o===tc||o===hh)throw Error(n(483))}var rc=null,zu=0;function gh(o){var c=zu;return zu+=1,rc===null&&(rc=[]),kN(rc,o,c)}function Fu(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function ph(o,c){throw c.$$typeof===y?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function AN(o){function c(ae,re){if(o){var oe=ae.deletions;oe===null?(ae.deletions=[re],ae.flags|=16):oe.push(re)}}function f(ae,re){if(!o)return null;for(;re!==null;)c(ae,re),re=re.sibling;return null}function p(ae){for(var re=new Map;ae!==null;)ae.key!==null?re.set(ae.key,ae):re.set(ae.index,ae),ae=ae.sibling;return re}function j(ae,re){return ae=Fs(ae,re),ae.index=0,ae.sibling=null,ae}function N(ae,re,oe){return ae.index=oe,o?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<re?(ae.flags|=67108866,re):oe):(ae.flags|=67108866,re)):(ae.flags|=1048576,re)}function O(ae){return o&&ae.alternate===null&&(ae.flags|=67108866),ae}function I(ae,re,oe,ve){return re===null||re.tag!==6?(re=G0(oe,ae.mode,ve),re.return=ae,re):(re=j(re,oe),re.return=ae,re)}function X(ae,re,oe,ve){var We=oe.type;return We===w?ye(ae,re,oe.props.children,ve,oe.key):re!==null&&(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===D&&Bo(We)===re.type)?(re=j(re,oe.props),Fu(re,oe),re.return=ae,re):(re=lh(oe.type,oe.key,oe.props,null,ae.mode,ve),Fu(re,oe),re.return=ae,re)}function le(ae,re,oe,ve){return re===null||re.tag!==4||re.stateNode.containerInfo!==oe.containerInfo||re.stateNode.implementation!==oe.implementation?(re=V0(oe,ae.mode,ve),re.return=ae,re):(re=j(re,oe.children||[]),re.return=ae,re)}function ye(ae,re,oe,ve,We){return re===null||re.tag!==7?(re=Po(oe,ae.mode,ve,We),re.return=ae,re):(re=j(re,oe),re.return=ae,re)}function we(ae,re,oe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=G0(""+re,ae.mode,oe),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return oe=lh(re.type,re.key,re.props,null,ae.mode,oe),Fu(oe,re),oe.return=ae,oe;case _:return re=V0(re,ae.mode,oe),re.return=ae,re;case D:return re=Bo(re),we(ae,re,oe)}if(Y(re)||F(re))return re=Po(re,ae.mode,oe,null),re.return=ae,re;if(typeof re.then=="function")return we(ae,gh(re),oe);if(re.$$typeof===C)return we(ae,dh(ae,re),oe);ph(ae,re)}return null}function ue(ae,re,oe,ve){var We=re!==null?re.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return We!==null?null:I(ae,re,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:return oe.key===We?X(ae,re,oe,ve):null;case _:return oe.key===We?le(ae,re,oe,ve):null;case D:return oe=Bo(oe),ue(ae,re,oe,ve)}if(Y(oe)||F(oe))return We!==null?null:ye(ae,re,oe,ve,null);if(typeof oe.then=="function")return ue(ae,re,gh(oe),ve);if(oe.$$typeof===C)return ue(ae,re,dh(ae,oe),ve);ph(ae,oe)}return null}function fe(ae,re,oe,ve,We){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ae=ae.get(oe)||null,I(re,ae,""+ve,We);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case v:return ae=ae.get(ve.key===null?oe:ve.key)||null,X(re,ae,ve,We);case _:return ae=ae.get(ve.key===null?oe:ve.key)||null,le(re,ae,ve,We);case D:return ve=Bo(ve),fe(ae,re,oe,ve,We)}if(Y(ve)||F(ve))return ae=ae.get(oe)||null,ye(re,ae,ve,We,null);if(typeof ve.then=="function")return fe(ae,re,oe,gh(ve),We);if(ve.$$typeof===C)return fe(ae,re,oe,dh(re,ve),We);ph(re,ve)}return null}function Oe(ae,re,oe,ve){for(var We=null,Tt=null,Re=re,st=re=0,wt=null;Re!==null&&st<oe.length;st++){Re.index>st?(wt=Re,Re=null):wt=Re.sibling;var At=ue(ae,Re,oe[st],ve);if(At===null){Re===null&&(Re=wt);break}o&&Re&&At.alternate===null&&c(ae,Re),re=N(At,re,st),Tt===null?We=At:Tt.sibling=At,Tt=At,Re=wt}if(st===oe.length)return f(ae,Re),_t&&qs(ae,st),We;if(Re===null){for(;st<oe.length;st++)Re=we(ae,oe[st],ve),Re!==null&&(re=N(Re,re,st),Tt===null?We=Re:Tt.sibling=Re,Tt=Re);return _t&&qs(ae,st),We}for(Re=p(Re);st<oe.length;st++)wt=fe(Re,ae,st,oe[st],ve),wt!==null&&(o&&wt.alternate!==null&&Re.delete(wt.key===null?st:wt.key),re=N(wt,re,st),Tt===null?We=wt:Tt.sibling=wt,Tt=wt);return o&&Re.forEach(function(Gi){return c(ae,Gi)}),_t&&qs(ae,st),We}function Ve(ae,re,oe,ve){if(oe==null)throw Error(n(151));for(var We=null,Tt=null,Re=re,st=re=0,wt=null,At=oe.next();Re!==null&&!At.done;st++,At=oe.next()){Re.index>st?(wt=Re,Re=null):wt=Re.sibling;var Gi=ue(ae,Re,At.value,ve);if(Gi===null){Re===null&&(Re=wt);break}o&&Re&&Gi.alternate===null&&c(ae,Re),re=N(Gi,re,st),Tt===null?We=Gi:Tt.sibling=Gi,Tt=Gi,Re=wt}if(At.done)return f(ae,Re),_t&&qs(ae,st),We;if(Re===null){for(;!At.done;st++,At=oe.next())At=we(ae,At.value,ve),At!==null&&(re=N(At,re,st),Tt===null?We=At:Tt.sibling=At,Tt=At);return _t&&qs(ae,st),We}for(Re=p(Re);!At.done;st++,At=oe.next())At=fe(Re,ae,st,At.value,ve),At!==null&&(o&&At.alternate!==null&&Re.delete(At.key===null?st:At.key),re=N(At,re,st),Tt===null?We=At:Tt.sibling=At,Tt=At);return o&&Re.forEach(function(vB){return c(ae,vB)}),_t&&qs(ae,st),We}function Vt(ae,re,oe,ve){if(typeof oe=="object"&&oe!==null&&oe.type===w&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:e:{for(var We=oe.key;re!==null;){if(re.key===We){if(We=oe.type,We===w){if(re.tag===7){f(ae,re.sibling),ve=j(re,oe.props.children),ve.return=ae,ae=ve;break e}}else if(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===D&&Bo(We)===re.type){f(ae,re.sibling),ve=j(re,oe.props),Fu(ve,oe),ve.return=ae,ae=ve;break e}f(ae,re);break}else c(ae,re);re=re.sibling}oe.type===w?(ve=Po(oe.props.children,ae.mode,ve,oe.key),ve.return=ae,ae=ve):(ve=lh(oe.type,oe.key,oe.props,null,ae.mode,ve),Fu(ve,oe),ve.return=ae,ae=ve)}return O(ae);case _:e:{for(We=oe.key;re!==null;){if(re.key===We)if(re.tag===4&&re.stateNode.containerInfo===oe.containerInfo&&re.stateNode.implementation===oe.implementation){f(ae,re.sibling),ve=j(re,oe.children||[]),ve.return=ae,ae=ve;break e}else{f(ae,re);break}else c(ae,re);re=re.sibling}ve=V0(oe,ae.mode,ve),ve.return=ae,ae=ve}return O(ae);case D:return oe=Bo(oe),Vt(ae,re,oe,ve)}if(Y(oe))return Oe(ae,re,oe,ve);if(F(oe)){if(We=F(oe),typeof We!="function")throw Error(n(150));return oe=We.call(oe),Ve(ae,re,oe,ve)}if(typeof oe.then=="function")return Vt(ae,re,gh(oe),ve);if(oe.$$typeof===C)return Vt(ae,re,dh(ae,oe),ve);ph(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,re!==null&&re.tag===6?(f(ae,re.sibling),ve=j(re,oe),ve.return=ae,ae=ve):(f(ae,re),ve=G0(oe,ae.mode,ve),ve.return=ae,ae=ve),O(ae)):f(ae,re)}return function(ae,re,oe,ve){try{zu=0;var We=Vt(ae,re,oe,ve);return rc=null,We}catch(Re){if(Re===tc||Re===hh)throw Re;var Tt=Qn(29,Re,null,ae.mode);return Tt.lanes=ve,Tt.return=ae,Tt}finally{}}}var Fo=AN(!0),EN=AN(!1),Oi=!1;function oy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ly(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Di(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Mi(o,c,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Mt&2)!==0){var j=p.pending;return j===null?c.next=c:(c.next=j.next,j.next=c),p.pending=c,c=oh(o),hN(o,null,f),c}return ih(o,p,c,f),oh(o)}function qu(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var p=c.lanes;p&=o.pendingLanes,f|=p,c.lanes=f,gn(o,f)}}function cy(o,c){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var j=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var O={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};N===null?j=N=O:N=N.next=O,f=f.next}while(f!==null);N===null?j=N=c:N=N.next=c}else j=N=c;f={baseState:p.baseState,firstBaseUpdate:j,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var uy=!1;function Uu(){if(uy){var o=ec;if(o!==null)throw o}}function Hu(o,c,f,p){uy=!1;var j=o.updateQueue;Oi=!1;var N=j.firstBaseUpdate,O=j.lastBaseUpdate,I=j.shared.pending;if(I!==null){j.shared.pending=null;var X=I,le=X.next;X.next=null,O===null?N=le:O.next=le,O=X;var ye=o.alternate;ye!==null&&(ye=ye.updateQueue,I=ye.lastBaseUpdate,I!==O&&(I===null?ye.firstBaseUpdate=le:I.next=le,ye.lastBaseUpdate=X))}if(N!==null){var we=j.baseState;O=0,ye=le=X=null,I=N;do{var ue=I.lane&-536870913,fe=ue!==I.lane;if(fe?(bt&ue)===ue:(p&ue)===ue){ue!==0&&ue===Jl&&(uy=!0),ye!==null&&(ye=ye.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Oe=o,Ve=I;ue=c;var Vt=f;switch(Ve.tag){case 1:if(Oe=Ve.payload,typeof Oe=="function"){we=Oe.call(Vt,we,ue);break e}we=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ve.payload,ue=typeof Oe=="function"?Oe.call(Vt,we,ue):Oe,ue==null)break e;we=g({},we,ue);break e;case 2:Oi=!0}}ue=I.callback,ue!==null&&(o.flags|=64,fe&&(o.flags|=8192),fe=j.callbacks,fe===null?j.callbacks=[ue]:fe.push(ue))}else fe={lane:ue,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ye===null?(le=ye=fe,X=we):ye=ye.next=fe,O|=ue;if(I=I.next,I===null){if(I=j.shared.pending,I===null)break;fe=I,I=fe.next,fe.next=null,j.lastBaseUpdate=fe,j.shared.pending=null}}while(!0);ye===null&&(X=we),j.baseState=X,j.firstBaseUpdate=le,j.lastBaseUpdate=ye,N===null&&(j.shared.lanes=0),$i|=O,o.lanes=O,o.memoizedState=we}}function ON(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function DN(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)ON(f[o],c)}var nc=P(null),yh=P(0);function MN(o,c){o=Js,Q(yh,o),Q(nc,c),Js=o|c.baseLanes}function dy(){Q(yh,Js),Q(nc,nc.current)}function fy(){Js=yh.current,H(nc),H(yh)}var Xn=P(null),Ta=null;function Pi(o){var c=o.alternate;Q(xr,xr.current&1),Q(Xn,o),Ta===null&&(c===null||nc.current!==null||c.memoizedState!==null)&&(Ta=o)}function hy(o){Q(xr,xr.current),Q(Xn,o),Ta===null&&(Ta=o)}function PN(o){o.tag===22?(Q(xr,xr.current),Q(Xn,o),Ta===null&&(Ta=o)):Ri()}function Ri(){Q(xr,xr.current),Q(Xn,Xn.current)}function Zn(o){H(Xn),Ta===o&&(Ta=null),H(xr)}var xr=P(0);function xh(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||vx(f)||bx(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ws=0,nt=null,Kt=null,Or=null,vh=!1,ac=!1,qo=!1,bh=0,Wu=0,sc=null,c7=0;function hr(){throw Error(n(321))}function my(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Vn(o[f],c[f]))return!1;return!0}function gy(o,c,f,p,j,N){return Ws=N,nt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,$.H=o===null||o.memoizedState===null?yk:Ey,qo=!1,N=f(p,j),qo=!1,ac&&(N=IN(c,f,p,j)),RN(o),N}function RN(o){$.H=Gu;var c=Kt!==null&&Kt.next!==null;if(Ws=0,Or=Kt=nt=null,vh=!1,Wu=0,sc=null,c)throw Error(n(300));o===null||Dr||(o=o.dependencies,o!==null&&uh(o)&&(Dr=!0))}function IN(o,c,f,p){nt=o;var j=0;do{if(ac&&(sc=null),Wu=0,ac=!1,25<=j)throw Error(n(301));if(j+=1,Or=Kt=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}$.H=xk,N=c(f,p)}while(ac);return N}function u7(){var o=$.H,c=o.useState()[0];return c=typeof c.then=="function"?Yu(c):c,o=o.useState()[0],(Kt!==null?Kt.memoizedState:null)!==o&&(nt.flags|=1024),c}function py(){var o=bh!==0;return bh=0,o}function yy(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function xy(o){if(vh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}vh=!1}Ws=0,Or=Kt=nt=null,ac=!1,Wu=bh=0,sc=null}function _n(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?nt.memoizedState=Or=o:Or=Or.next=o,Or}function vr(){if(Kt===null){var o=nt.alternate;o=o!==null?o.memoizedState:null}else o=Kt.next;var c=Or===null?nt.memoizedState:Or.next;if(c!==null)Or=c,Kt=o;else{if(o===null)throw nt.alternate===null?Error(n(467)):Error(n(310));Kt=o,o={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Or===null?nt.memoizedState=Or=o:Or=Or.next=o}return Or}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yu(o){var c=Wu;return Wu+=1,sc===null&&(sc=[]),o=kN(sc,o,c),c=nt,(Or===null?c.memoizedState:Or.next)===null&&(c=c.alternate,$.H=c===null||c.memoizedState===null?yk:Ey),o}function jh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Yu(o);if(o.$$typeof===C)return ln(o)}throw Error(n(438,String(o)))}function vy(o){var c=null,f=nt.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var p=nt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(j){return j.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=wh(),nt.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),p=0;p<o;p++)f[p]=B;return c.index++,f}function Ys(o,c){return typeof c=="function"?c(o):c}function _h(o){var c=vr();return by(c,Kt,o)}function by(o,c,f){var p=o.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=f;var j=o.baseQueue,N=p.pending;if(N!==null){if(j!==null){var O=j.next;j.next=N.next,N.next=O}c.baseQueue=j=N,p.pending=null}if(N=o.baseState,j===null)o.memoizedState=N;else{c=j.next;var I=O=null,X=null,le=c,ye=!1;do{var we=le.lane&-536870913;if(we!==le.lane?(bt&we)===we:(Ws&we)===we){var ue=le.revertLane;if(ue===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),we===Jl&&(ye=!0);else if((Ws&ue)===ue){le=le.next,ue===Jl&&(ye=!0);continue}else we={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(I=X=we,O=N):X=X.next=we,nt.lanes|=ue,$i|=ue;we=le.action,qo&&f(N,we),N=le.hasEagerState?le.eagerState:f(N,we)}else ue={lane:we,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(I=X=ue,O=N):X=X.next=ue,nt.lanes|=we,$i|=we;le=le.next}while(le!==null&&le!==c);if(X===null?O=N:X.next=I,!Vn(N,o.memoizedState)&&(Dr=!0,ye&&(f=ec,f!==null)))throw f;o.memoizedState=N,o.baseState=O,o.baseQueue=X,p.lastRenderedState=N}return j===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function wy(o){var c=vr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var p=f.dispatch,j=f.pending,N=c.memoizedState;if(j!==null){f.pending=null;var O=j=j.next;do N=o(N,O.action),O=O.next;while(O!==j);Vn(N,c.memoizedState)||(Dr=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),f.lastRenderedState=N}return[N,p]}function LN(o,c,f){var p=nt,j=vr(),N=_t;if(N){if(f===void 0)throw Error(n(407));f=f()}else f=c();var O=!Vn((Kt||j).memoizedState,f);if(O&&(j.memoizedState=f,Dr=!0),j=j.queue,Sy(zN.bind(null,p,j,o),[o]),j.getSnapshot!==c||O||Or!==null&&Or.memoizedState.tag&1){if(p.flags|=2048,ic(9,{destroy:void 0},BN.bind(null,p,j,f,c),null),Xt===null)throw Error(n(349));N||(Ws&127)!==0||$N(p,c,f)}return f}function $N(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=nt.updateQueue,c===null?(c=wh(),nt.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function BN(o,c,f,p){c.value=f,c.getSnapshot=p,FN(c)&&qN(o)}function zN(o,c,f){return f(function(){FN(c)&&qN(o)})}function FN(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Vn(o,f)}catch{return!0}}function qN(o){var c=Mo(o,2);c!==null&&In(c,o,2)}function jy(o){var c=_n();if(typeof o=="function"){var f=o;if(o=f(),qo){dt(!0);try{f()}finally{dt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:o},c}function UN(o,c,f,p){return o.baseState=f,by(o,Kt,typeof p=="function"?p:Ys)}function d7(o,c,f,p,j){if(kh(o))throw Error(n(485));if(o=c.action,o!==null){var N={payload:j,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){N.listeners.push(O)}};$.T!==null?f(!0):N.isTransition=!1,p(N),f=c.pending,f===null?(N.next=c.pending=N,HN(c,N)):(N.next=f.next,c.pending=f.next=N)}}function HN(o,c){var f=c.action,p=c.payload,j=o.state;if(c.isTransition){var N=$.T,O={};$.T=O;try{var I=f(j,p),X=$.S;X!==null&&X(O,I),WN(o,c,I)}catch(le){_y(o,c,le)}finally{N!==null&&O.types!==null&&(N.types=O.types),$.T=N}}else try{N=f(j,p),WN(o,c,N)}catch(le){_y(o,c,le)}}function WN(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){YN(o,c,p)},function(p){return _y(o,c,p)}):YN(o,c,f)}function YN(o,c,f){c.status="fulfilled",c.value=f,KN(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,HN(o,f)))}function _y(o,c,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=f,KN(c),c=c.next;while(c!==p)}o.action=null}function KN(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function GN(o,c){return c}function VN(o,c){if(_t){var f=Xt.formState;if(f!==null){e:{var p=nt;if(_t){if(nr){t:{for(var j=nr,N=Ca;j.nodeType!==8;){if(!N){j=null;break t}if(j=Aa(j.nextSibling),j===null){j=null;break t}}N=j.data,j=N==="F!"||N==="F"?j:null}if(j){nr=Aa(j.nextSibling),p=j.data==="F!";break e}}Ai(p)}p=!1}p&&(c=f[0])}}return f=_n(),f.memoizedState=f.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:GN,lastRenderedState:c},f.queue=p,f=mk.bind(null,nt,p),p.dispatch=f,p=jy(!1),N=Ay.bind(null,nt,!1,p.queue),p=_n(),j={state:c,dispatch:null,action:o,pending:null},p.queue=j,f=d7.bind(null,nt,j,N,f),j.dispatch=f,p.memoizedState=o,[c,f,!1]}function QN(o){var c=vr();return XN(c,Kt,o)}function XN(o,c,f){if(c=by(o,c,GN)[0],o=_h(Ys)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Yu(c)}catch(O){throw O===tc?hh:O}else p=c;c=vr();var j=c.queue,N=j.dispatch;return f!==c.memoizedState&&(nt.flags|=2048,ic(9,{destroy:void 0},f7.bind(null,j,f),null)),[p,N,o]}function f7(o,c){o.action=c}function ZN(o){var c=vr(),f=Kt;if(f!==null)return XN(c,f,o);vr(),c=c.memoizedState,f=vr();var p=f.queue.dispatch;return f.memoizedState=o,[c,p,!1]}function ic(o,c,f,p){return o={tag:o,create:f,deps:p,inst:c,next:null},c=nt.updateQueue,c===null&&(c=wh(),nt.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,c.lastEffect=o),o}function JN(){return vr().memoizedState}function Sh(o,c,f,p){var j=_n();nt.flags|=o,j.memoizedState=ic(1|c,{destroy:void 0},f,p===void 0?null:p)}function Nh(o,c,f,p){var j=vr();p=p===void 0?null:p;var N=j.memoizedState.inst;Kt!==null&&p!==null&&my(p,Kt.memoizedState.deps)?j.memoizedState=ic(c,N,f,p):(nt.flags|=o,j.memoizedState=ic(1|c,N,f,p))}function ek(o,c){Sh(8390656,8,o,c)}function Sy(o,c){Nh(2048,8,o,c)}function h7(o){nt.flags|=4;var c=nt.updateQueue;if(c===null)c=wh(),nt.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function tk(o){var c=vr().memoizedState;return h7({ref:c,nextImpl:o}),function(){if((Mt&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function rk(o,c){return Nh(4,2,o,c)}function nk(o,c){return Nh(4,4,o,c)}function ak(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function sk(o,c,f){f=f!=null?f.concat([o]):null,Nh(4,4,ak.bind(null,c,o),f)}function Ny(){}function ik(o,c){var f=vr();c=c===void 0?null:c;var p=f.memoizedState;return c!==null&&my(c,p[1])?p[0]:(f.memoizedState=[o,c],o)}function ok(o,c){var f=vr();c=c===void 0?null:c;var p=f.memoizedState;if(c!==null&&my(c,p[1]))return p[0];if(p=o(),qo){dt(!0);try{o()}finally{dt(!1)}}return f.memoizedState=[p,c],p}function ky(o,c,f){return f===void 0||(Ws&1073741824)!==0&&(bt&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=l2(),nt.lanes|=o,$i|=o,f)}function lk(o,c,f,p){return Vn(f,c)?f:nc.current!==null?(o=ky(o,f,p),Vn(o,c)||(Dr=!0),o):(Ws&42)===0||(Ws&1073741824)!==0&&(bt&261930)===0?(Dr=!0,o.memoizedState=f):(o=l2(),nt.lanes|=o,$i|=o,c)}function ck(o,c,f,p,j){var N=ee.p;ee.p=N!==0&&8>N?N:8;var O=$.T,I={};$.T=I,Ay(o,!1,c,f);try{var X=j(),le=$.S;if(le!==null&&le(I,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ye=l7(X,p);Ku(o,c,ye,ta(o))}else Ku(o,c,p,ta(o))}catch(we){Ku(o,c,{then:function(){},status:"rejected",reason:we},ta())}finally{ee.p=N,O!==null&&I.types!==null&&(O.types=I.types),$.T=O}}function m7(){}function Cy(o,c,f,p){if(o.tag!==5)throw Error(n(476));var j=uk(o).queue;ck(o,j,c,J,f===null?m7:function(){return dk(o),f(p)})}function uk(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:J},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function dk(o){var c=uk(o);c.next===null&&(c=o.alternate.memoizedState),Ku(o,c.next.queue,{},ta())}function Ty(){return ln(ud)}function fk(){return vr().memoizedState}function hk(){return vr().memoizedState}function g7(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=ta();o=Di(f);var p=Mi(c,o,f);p!==null&&(In(p,c,f),qu(p,c,f)),c={cache:ny()},o.payload=c;return}c=c.return}}function p7(o,c,f){var p=ta();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},kh(o)?gk(c,f):(f=Y0(o,c,f,p),f!==null&&(In(f,o,p),pk(f,c,p)))}function mk(o,c,f){var p=ta();Ku(o,c,f,p)}function Ku(o,c,f,p){var j={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(kh(o))gk(c,j);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var O=c.lastRenderedState,I=N(O,f);if(j.hasEagerState=!0,j.eagerState=I,Vn(I,O))return ih(o,c,j,0),Xt===null&&sh(),!1}catch{}finally{}if(f=Y0(o,c,j,p),f!==null)return In(f,o,p),pk(f,c,p),!0}return!1}function Ay(o,c,f,p){if(p={lane:2,revertLane:ox(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},kh(o)){if(c)throw Error(n(479))}else c=Y0(o,f,p,2),c!==null&&In(c,o,2)}function kh(o){var c=o.alternate;return o===nt||c!==null&&c===nt}function gk(o,c){ac=vh=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function pk(o,c,f){if((f&4194048)!==0){var p=c.lanes;p&=o.pendingLanes,f|=p,c.lanes=f,gn(o,f)}}var Gu={readContext:ln,use:jh,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useLayoutEffect:hr,useInsertionEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useSyncExternalStore:hr,useId:hr,useHostTransitionStatus:hr,useFormState:hr,useActionState:hr,useOptimistic:hr,useMemoCache:hr,useCacheRefresh:hr};Gu.useEffectEvent=hr;var yk={readContext:ln,use:jh,useCallback:function(o,c){return _n().memoizedState=[o,c===void 0?null:c],o},useContext:ln,useEffect:ek,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,Sh(4194308,4,ak.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Sh(4194308,4,o,c)},useInsertionEffect:function(o,c){Sh(4,2,o,c)},useMemo:function(o,c){var f=_n();c=c===void 0?null:c;var p=o();if(qo){dt(!0);try{o()}finally{dt(!1)}}return f.memoizedState=[p,c],p},useReducer:function(o,c,f){var p=_n();if(f!==void 0){var j=f(c);if(qo){dt(!0);try{f(c)}finally{dt(!1)}}}else j=c;return p.memoizedState=p.baseState=j,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:j},p.queue=o,o=o.dispatch=p7.bind(null,nt,o),[p.memoizedState,o]},useRef:function(o){var c=_n();return o={current:o},c.memoizedState=o},useState:function(o){o=jy(o);var c=o.queue,f=mk.bind(null,nt,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:Ny,useDeferredValue:function(o,c){var f=_n();return ky(f,o,c)},useTransition:function(){var o=jy(!1);return o=ck.bind(null,nt,o.queue,!0,!1),_n().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var p=nt,j=_n();if(_t){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),Xt===null)throw Error(n(349));(bt&127)!==0||$N(p,c,f)}j.memoizedState=f;var N={value:f,getSnapshot:c};return j.queue=N,ek(zN.bind(null,p,N,o),[o]),p.flags|=2048,ic(9,{destroy:void 0},BN.bind(null,p,N,f,c),null),f},useId:function(){var o=_n(),c=Xt.identifierPrefix;if(_t){var f=gs,p=ms;f=(p&~(1<<32-Xe(p)-1)).toString(32)+f,c="_"+c+"R_"+f,f=bh++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=c7++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Ty,useFormState:VN,useActionState:VN,useOptimistic:function(o){var c=_n();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Ay.bind(null,nt,!0,f),f.dispatch=c,[o,c]},useMemoCache:vy,useCacheRefresh:function(){return _n().memoizedState=g7.bind(null,nt)},useEffectEvent:function(o){var c=_n(),f={impl:o};return c.memoizedState=f,function(){if((Mt&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},Ey={readContext:ln,use:jh,useCallback:ik,useContext:ln,useEffect:Sy,useImperativeHandle:sk,useInsertionEffect:rk,useLayoutEffect:nk,useMemo:ok,useReducer:_h,useRef:JN,useState:function(){return _h(Ys)},useDebugValue:Ny,useDeferredValue:function(o,c){var f=vr();return lk(f,Kt.memoizedState,o,c)},useTransition:function(){var o=_h(Ys)[0],c=vr().memoizedState;return[typeof o=="boolean"?o:Yu(o),c]},useSyncExternalStore:LN,useId:fk,useHostTransitionStatus:Ty,useFormState:QN,useActionState:QN,useOptimistic:function(o,c){var f=vr();return UN(f,Kt,o,c)},useMemoCache:vy,useCacheRefresh:hk};Ey.useEffectEvent=tk;var xk={readContext:ln,use:jh,useCallback:ik,useContext:ln,useEffect:Sy,useImperativeHandle:sk,useInsertionEffect:rk,useLayoutEffect:nk,useMemo:ok,useReducer:wy,useRef:JN,useState:function(){return wy(Ys)},useDebugValue:Ny,useDeferredValue:function(o,c){var f=vr();return Kt===null?ky(f,o,c):lk(f,Kt.memoizedState,o,c)},useTransition:function(){var o=wy(Ys)[0],c=vr().memoizedState;return[typeof o=="boolean"?o:Yu(o),c]},useSyncExternalStore:LN,useId:fk,useHostTransitionStatus:Ty,useFormState:ZN,useActionState:ZN,useOptimistic:function(o,c){var f=vr();return Kt!==null?UN(f,Kt,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:vy,useCacheRefresh:hk};xk.useEffectEvent=tk;function Oy(o,c,f,p){c=o.memoizedState,f=f(p,c),f=f==null?c:g({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Dy={enqueueSetState:function(o,c,f){o=o._reactInternals;var p=ta(),j=Di(p);j.payload=c,f!=null&&(j.callback=f),c=Mi(o,j,p),c!==null&&(In(c,o,p),qu(c,o,p))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var p=ta(),j=Di(p);j.tag=1,j.payload=c,f!=null&&(j.callback=f),c=Mi(o,j,p),c!==null&&(In(c,o,p),qu(c,o,p))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=ta(),p=Di(f);p.tag=2,c!=null&&(p.callback=c),c=Mi(o,p,f),c!==null&&(In(c,o,f),qu(c,o,f))}};function vk(o,c,f,p,j,N,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,N,O):c.prototype&&c.prototype.isPureReactComponent?!Pu(f,p)||!Pu(j,N):!0}function bk(o,c,f,p){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,p),c.state!==o&&Dy.enqueueReplaceState(c,c.state,null)}function Uo(o,c){var f=c;if("ref"in c){f={};for(var p in c)p!=="ref"&&(f[p]=c[p])}if(o=o.defaultProps){f===c&&(f=g({},f));for(var j in o)f[j]===void 0&&(f[j]=o[j])}return f}function wk(o){ah(o)}function jk(o){console.error(o)}function _k(o){ah(o)}function Ch(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function Sk(o,c,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function My(o,c,f){return f=Di(f),f.tag=3,f.payload={element:null},f.callback=function(){Ch(o,c)},f}function Nk(o){return o=Di(o),o.tag=3,o}function kk(o,c,f,p){var j=f.type.getDerivedStateFromError;if(typeof j=="function"){var N=p.value;o.payload=function(){return j(N)},o.callback=function(){Sk(c,f,p)}}var O=f.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){Sk(c,f,p),typeof j!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function y7(o,c,f,p,j){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=f.alternate,c!==null&&Zl(c,f,j,!0),f=Xn.current,f!==null){switch(f.tag){case 31:case 13:return Ta===null?Bh():f.alternate===null&&mr===0&&(mr=3),f.flags&=-257,f.flags|=65536,f.lanes=j,p===mh?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([p]):c.add(p),ax(o,p,j)),!1;case 22:return f.flags|=65536,p===mh?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([p]):f.add(p)),ax(o,p,j)),!1}throw Error(n(435,f.tag))}return ax(o,p,j),Bh(),!1}if(_t)return c=Xn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=j,p!==Z0&&(o=Error(n(422),{cause:p}),Lu(Sa(o,f)))):(p!==Z0&&(c=Error(n(423),{cause:p}),Lu(Sa(c,f))),o=o.current.alternate,o.flags|=65536,j&=-j,o.lanes|=j,p=Sa(p,f),j=My(o.stateNode,p,j),cy(o,j),mr!==4&&(mr=2)),!1;var N=Error(n(520),{cause:p});if(N=Sa(N,f),rd===null?rd=[N]:rd.push(N),mr!==4&&(mr=2),c===null)return!0;p=Sa(p,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=j&-j,f.lanes|=o,o=My(f.stateNode,p,o),cy(f,o),!1;case 1:if(c=f.type,N=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Bi===null||!Bi.has(N))))return f.flags|=65536,j&=-j,f.lanes|=j,j=Nk(j),kk(j,o,f,p),cy(f,j),!1}f=f.return}while(f!==null);return!1}var Py=Error(n(461)),Dr=!1;function cn(o,c,f,p){c.child=o===null?EN(c,null,f,p):Fo(c,o.child,f,p)}function Ck(o,c,f,p,j){f=f.render;var N=c.ref;if("ref"in p){var O={};for(var I in p)I!=="ref"&&(O[I]=p[I])}else O=p;return Lo(c),p=gy(o,c,f,O,N,j),I=py(),o!==null&&!Dr?(yy(o,c,j),Ks(o,c,j)):(_t&&I&&Q0(c),c.flags|=1,cn(o,c,p,j),c.child)}function Tk(o,c,f,p,j){if(o===null){var N=f.type;return typeof N=="function"&&!K0(N)&&N.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=N,Ak(o,c,N,p,j)):(o=lh(f.type,null,p,c,c.mode,j),o.ref=c.ref,o.return=c,c.child=o)}if(N=o.child,!qy(o,j)){var O=N.memoizedProps;if(f=f.compare,f=f!==null?f:Pu,f(O,p)&&o.ref===c.ref)return Ks(o,c,j)}return c.flags|=1,o=Fs(N,p),o.ref=c.ref,o.return=c,c.child=o}function Ak(o,c,f,p,j){if(o!==null){var N=o.memoizedProps;if(Pu(N,p)&&o.ref===c.ref)if(Dr=!1,c.pendingProps=p=N,qy(o,j))(o.flags&131072)!==0&&(Dr=!0);else return c.lanes=o.lanes,Ks(o,c,j)}return Ry(o,c,f,p,j)}function Ek(o,c,f,p){var j=p.children,N=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|f:f,o!==null){for(p=c.child=o.child,j=0;p!==null;)j=j|p.lanes|p.childLanes,p=p.sibling;p=j&~N}else p=0,c.child=null;return Ok(o,c,N,f,p)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&fh(c,N!==null?N.cachePool:null),N!==null?MN(c,N):dy(),PN(c);else return p=c.lanes=536870912,Ok(o,c,N!==null?N.baseLanes|f:f,f,p)}else N!==null?(fh(c,N.cachePool),MN(c,N),Ri(),c.memoizedState=null):(o!==null&&fh(c,null),dy(),Ri());return cn(o,c,j,f),c.child}function Vu(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Ok(o,c,f,p,j){var N=sy();return N=N===null?null:{parent:Er._currentValue,pool:N},c.memoizedState={baseLanes:f,cachePool:N},o!==null&&fh(c,null),dy(),PN(c),o!==null&&Zl(o,c,p,!0),c.childLanes=j,null}function Th(o,c){return c=Eh({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function Dk(o,c,f){return Fo(c,o.child,null,f),o=Th(c,c.pendingProps),o.flags|=2,Zn(c),c.memoizedState=null,o}function x7(o,c,f){var p=c.pendingProps,j=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(_t){if(p.mode==="hidden")return o=Th(c,p),c.lanes=536870912,Vu(null,o);if(hy(c),(o=nr)?(o=H2(o,Ca),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Ci!==null?{id:ms,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},f=gN(o),f.return=c,c.child=f,on=c,nr=null)):o=null,o===null)throw Ai(c);return c.lanes=536870912,null}return Th(c,p)}var N=o.memoizedState;if(N!==null){var O=N.dehydrated;if(hy(c),j)if(c.flags&256)c.flags&=-257,c=Dk(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(Dr||Zl(o,c,f,!1),j=(f&o.childLanes)!==0,Dr||j){if(p=Xt,p!==null&&(O=tt(p,f),O!==0&&O!==N.retryLane))throw N.retryLane=O,Mo(o,O),In(p,o,O),Py;Bh(),c=Dk(o,c,f)}else o=N.treeContext,nr=Aa(O.nextSibling),on=c,_t=!0,Ti=null,Ca=!1,o!==null&&xN(c,o),c=Th(c,p),c.flags|=4096;return c}return o=Fs(o.child,{mode:p.mode,children:p.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Ah(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function Ry(o,c,f,p,j){return Lo(c),f=gy(o,c,f,p,void 0,j),p=py(),o!==null&&!Dr?(yy(o,c,j),Ks(o,c,j)):(_t&&p&&Q0(c),c.flags|=1,cn(o,c,f,j),c.child)}function Mk(o,c,f,p,j,N){return Lo(c),c.updateQueue=null,f=IN(c,p,f,j),RN(o),p=py(),o!==null&&!Dr?(yy(o,c,N),Ks(o,c,N)):(_t&&p&&Q0(c),c.flags|=1,cn(o,c,f,N),c.child)}function Pk(o,c,f,p,j){if(Lo(c),c.stateNode===null){var N=Gl,O=f.contextType;typeof O=="object"&&O!==null&&(N=ln(O)),N=new f(p,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Dy,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=p,N.state=c.memoizedState,N.refs={},oy(c),O=f.contextType,N.context=typeof O=="object"&&O!==null?ln(O):Gl,N.state=c.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(Oy(c,f,O,p),N.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(O=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),O!==N.state&&Dy.enqueueReplaceState(N,N.state,null),Hu(c,p,N,j),Uu(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(o===null){N=c.stateNode;var I=c.memoizedProps,X=Uo(f,I);N.props=X;var le=N.context,ye=f.contextType;O=Gl,typeof ye=="object"&&ye!==null&&(O=ln(ye));var we=f.getDerivedStateFromProps;ye=typeof we=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=c.pendingProps!==I,ye||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||le!==O)&&bk(c,N,p,O),Oi=!1;var ue=c.memoizedState;N.state=ue,Hu(c,p,N,j),Uu(),le=c.memoizedState,I||ue!==le||Oi?(typeof we=="function"&&(Oy(c,f,we,p),le=c.memoizedState),(X=Oi||vk(c,f,X,p,ue,le,O))?(ye||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=le),N.props=p,N.state=le,N.context=O,p=X):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{N=c.stateNode,ly(o,c),O=c.memoizedProps,ye=Uo(f,O),N.props=ye,we=c.pendingProps,ue=N.context,le=f.contextType,X=Gl,typeof le=="object"&&le!==null&&(X=ln(le)),I=f.getDerivedStateFromProps,(le=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==we||ue!==X)&&bk(c,N,p,X),Oi=!1,ue=c.memoizedState,N.state=ue,Hu(c,p,N,j),Uu();var fe=c.memoizedState;O!==we||ue!==fe||Oi||o!==null&&o.dependencies!==null&&uh(o.dependencies)?(typeof I=="function"&&(Oy(c,f,I,p),fe=c.memoizedState),(ye=Oi||vk(c,f,ye,p,ue,fe,X)||o!==null&&o.dependencies!==null&&uh(o.dependencies))?(le||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,fe,X),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,fe,X)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||O===o.memoizedProps&&ue===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ue===o.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=fe),N.props=p,N.state=fe,N.context=X,p=ye):(typeof N.componentDidUpdate!="function"||O===o.memoizedProps&&ue===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ue===o.memoizedState||(c.flags|=1024),p=!1)}return N=p,Ah(o,c),p=(c.flags&128)!==0,N||p?(N=c.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,o!==null&&p?(c.child=Fo(c,o.child,null,j),c.child=Fo(c,null,f,j)):cn(o,c,f,j),c.memoizedState=N.state,o=c.child):o=Ks(o,c,j),o}function Rk(o,c,f,p){return Ro(),c.flags|=256,cn(o,c,f,p),c.child}var Iy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ly(o){return{baseLanes:o,cachePool:SN()}}function $y(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=ea),o}function Ik(o,c,f){var p=c.pendingProps,j=!1,N=(c.flags&128)!==0,O;if((O=N)||(O=o!==null&&o.memoizedState===null?!1:(xr.current&2)!==0),O&&(j=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,o===null){if(_t){if(j?Pi(c):Ri(),(o=nr)?(o=H2(o,Ca),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Ci!==null?{id:ms,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},f=gN(o),f.return=c,c.child=f,on=c,nr=null)):o=null,o===null)throw Ai(c);return bx(o)?c.lanes=32:c.lanes=536870912,null}var I=p.children;return p=p.fallback,j?(Ri(),j=c.mode,I=Eh({mode:"hidden",children:I},j),p=Po(p,j,f,null),I.return=c,p.return=c,I.sibling=p,c.child=I,p=c.child,p.memoizedState=Ly(f),p.childLanes=$y(o,O,f),c.memoizedState=Iy,Vu(null,p)):(Pi(c),By(c,I))}var X=o.memoizedState;if(X!==null&&(I=X.dehydrated,I!==null)){if(N)c.flags&256?(Pi(c),c.flags&=-257,c=zy(o,c,f)):c.memoizedState!==null?(Ri(),c.child=o.child,c.flags|=128,c=null):(Ri(),I=p.fallback,j=c.mode,p=Eh({mode:"visible",children:p.children},j),I=Po(I,j,f,null),I.flags|=2,p.return=c,I.return=c,p.sibling=I,c.child=p,Fo(c,o.child,null,f),p=c.child,p.memoizedState=Ly(f),p.childLanes=$y(o,O,f),c.memoizedState=Iy,c=Vu(null,p));else if(Pi(c),bx(I)){if(O=I.nextSibling&&I.nextSibling.dataset,O)var le=O.dgst;O=le,p=Error(n(419)),p.stack="",p.digest=O,Lu({value:p,source:null,stack:null}),c=zy(o,c,f)}else if(Dr||Zl(o,c,f,!1),O=(f&o.childLanes)!==0,Dr||O){if(O=Xt,O!==null&&(p=tt(O,f),p!==0&&p!==X.retryLane))throw X.retryLane=p,Mo(o,p),In(O,o,p),Py;vx(I)||Bh(),c=zy(o,c,f)}else vx(I)?(c.flags|=192,c.child=o.child,c=null):(o=X.treeContext,nr=Aa(I.nextSibling),on=c,_t=!0,Ti=null,Ca=!1,o!==null&&xN(c,o),c=By(c,p.children),c.flags|=4096);return c}return j?(Ri(),I=p.fallback,j=c.mode,X=o.child,le=X.sibling,p=Fs(X,{mode:"hidden",children:p.children}),p.subtreeFlags=X.subtreeFlags&65011712,le!==null?I=Fs(le,I):(I=Po(I,j,f,null),I.flags|=2),I.return=c,p.return=c,p.sibling=I,c.child=p,Vu(null,p),p=c.child,I=o.child.memoizedState,I===null?I=Ly(f):(j=I.cachePool,j!==null?(X=Er._currentValue,j=j.parent!==X?{parent:X,pool:X}:j):j=SN(),I={baseLanes:I.baseLanes|f,cachePool:j}),p.memoizedState=I,p.childLanes=$y(o,O,f),c.memoizedState=Iy,Vu(o.child,p)):(Pi(c),f=o.child,o=f.sibling,f=Fs(f,{mode:"visible",children:p.children}),f.return=c,f.sibling=null,o!==null&&(O=c.deletions,O===null?(c.deletions=[o],c.flags|=16):O.push(o)),c.child=f,c.memoizedState=null,f)}function By(o,c){return c=Eh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Eh(o,c){return o=Qn(22,o,null,c),o.lanes=0,o}function zy(o,c,f){return Fo(c,o.child,null,f),o=By(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Lk(o,c,f){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c),ty(o.return,c,f)}function Fy(o,c,f,p,j,N){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:j,treeForkCount:N}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=p,O.tail=f,O.tailMode=j,O.treeForkCount=N)}function $k(o,c,f){var p=c.pendingProps,j=p.revealOrder,N=p.tail;p=p.children;var O=xr.current,I=(O&2)!==0;if(I?(O=O&1|2,c.flags|=128):O&=1,Q(xr,O),cn(o,c,p,f),p=_t?Iu:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Lk(o,f,c);else if(o.tag===19)Lk(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(j){case"forwards":for(f=c.child,j=null;f!==null;)o=f.alternate,o!==null&&xh(o)===null&&(j=f),f=f.sibling;f=j,f===null?(j=c.child,c.child=null):(j=f.sibling,f.sibling=null),Fy(c,!1,j,f,N,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,j=c.child,c.child=null;j!==null;){if(o=j.alternate,o!==null&&xh(o)===null){c.child=j;break}o=j.sibling,j.sibling=f,f=j,j=o}Fy(c,!0,f,null,N,p);break;case"together":Fy(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function Ks(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),$i|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(Zl(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,f=Fs(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Fs(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function qy(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&uh(o)))}function v7(o,c,f){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),Ei(c,Er,o.memoizedState.cache),Ro();break;case 27:case 5:pe(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:Ei(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,hy(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Pi(c),c.flags|=128,null):(f&c.child.childLanes)!==0?Ik(o,c,f):(Pi(c),o=Ks(o,c,f),o!==null?o.sibling:null);Pi(c);break;case 19:var j=(o.flags&128)!==0;if(p=(f&c.childLanes)!==0,p||(Zl(o,c,f,!1),p=(f&c.childLanes)!==0),j){if(p)return $k(o,c,f);c.flags|=128}if(j=c.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Q(xr,xr.current),p)break;return null;case 22:return c.lanes=0,Ek(o,c,f,c.pendingProps);case 24:Ei(c,Er,o.memoizedState.cache)}return Ks(o,c,f)}function Bk(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)Dr=!0;else{if(!qy(o,f)&&(c.flags&128)===0)return Dr=!1,v7(o,c,f);Dr=(o.flags&131072)!==0}else Dr=!1,_t&&(c.flags&1048576)!==0&&yN(c,Iu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(o=Bo(c.elementType),c.type=o,typeof o=="function")K0(o)?(p=Uo(o,p),c.tag=1,c=Pk(null,c,o,p,f)):(c.tag=0,c=Ry(null,c,o,p,f));else{if(o!=null){var j=o.$$typeof;if(j===A){c.tag=11,c=Ck(null,c,o,p,f);break e}else if(j===T){c.tag=14,c=Tk(null,c,o,p,f);break e}}throw c=V(o)||o,Error(n(306,c,""))}}return c;case 0:return Ry(o,c,c.type,c.pendingProps,f);case 1:return p=c.type,j=Uo(p,c.pendingProps),Pk(o,c,p,j,f);case 3:e:{if(Se(c,c.stateNode.containerInfo),o===null)throw Error(n(387));p=c.pendingProps;var N=c.memoizedState;j=N.element,ly(o,c),Hu(c,p,null,f);var O=c.memoizedState;if(p=O.cache,Ei(c,Er,p),p!==N.cache&&ry(c,[Er],f,!0),Uu(),p=O.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=Rk(o,c,p,f);break e}else if(p!==j){j=Sa(Error(n(424)),c),Lu(j),c=Rk(o,c,p,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(nr=Aa(o.firstChild),on=c,_t=!0,Ti=null,Ca=!0,f=EN(c,null,p,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ro(),p===j){c=Ks(o,c,f);break e}cn(o,c,p,f)}c=c.child}return c;case 26:return Ah(o,c),o===null?(f=Q2(c.type,null,c.pendingProps,null))?c.memoizedState=f:_t||(f=c.type,o=c.pendingProps,p=Yh(be.current).createElement(f),p[q]=c,p[me]=o,un(p,f,o),Gr(p),c.stateNode=p):c.memoizedState=Q2(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return pe(c),o===null&&_t&&(p=c.stateNode=K2(c.type,c.pendingProps,be.current),on=c,Ca=!0,j=nr,Ui(c.type)?(wx=j,nr=Aa(p.firstChild)):nr=j),cn(o,c,c.pendingProps.children,f),Ah(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&_t&&((j=p=nr)&&(p=V7(p,c.type,c.pendingProps,Ca),p!==null?(c.stateNode=p,on=c,nr=Aa(p.firstChild),Ca=!1,j=!0):j=!1),j||Ai(c)),pe(c),j=c.type,N=c.pendingProps,O=o!==null?o.memoizedProps:null,p=N.children,px(j,N)?p=null:O!==null&&px(j,O)&&(c.flags|=32),c.memoizedState!==null&&(j=gy(o,c,u7,null,null,f),ud._currentValue=j),Ah(o,c),cn(o,c,p,f),c.child;case 6:return o===null&&_t&&((o=f=nr)&&(f=Q7(f,c.pendingProps,Ca),f!==null?(c.stateNode=f,on=c,nr=null,o=!0):o=!1),o||Ai(c)),null;case 13:return Ik(o,c,f);case 4:return Se(c,c.stateNode.containerInfo),p=c.pendingProps,o===null?c.child=Fo(c,null,p,f):cn(o,c,p,f),c.child;case 11:return Ck(o,c,c.type,c.pendingProps,f);case 7:return cn(o,c,c.pendingProps,f),c.child;case 8:return cn(o,c,c.pendingProps.children,f),c.child;case 12:return cn(o,c,c.pendingProps.children,f),c.child;case 10:return p=c.pendingProps,Ei(c,c.type,p.value),cn(o,c,p.children,f),c.child;case 9:return j=c.type._context,p=c.pendingProps.children,Lo(c),j=ln(j),p=p(j),c.flags|=1,cn(o,c,p,f),c.child;case 14:return Tk(o,c,c.type,c.pendingProps,f);case 15:return Ak(o,c,c.type,c.pendingProps,f);case 19:return $k(o,c,f);case 31:return x7(o,c,f);case 22:return Ek(o,c,f,c.pendingProps);case 24:return Lo(c),p=ln(Er),o===null?(j=sy(),j===null&&(j=Xt,N=ny(),j.pooledCache=N,N.refCount++,N!==null&&(j.pooledCacheLanes|=f),j=N),c.memoizedState={parent:p,cache:j},oy(c),Ei(c,Er,j)):((o.lanes&f)!==0&&(ly(o,c),Hu(c,null,null,f),Uu()),j=o.memoizedState,N=c.memoizedState,j.parent!==p?(j={parent:p,cache:p},c.memoizedState=j,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=j),Ei(c,Er,p)):(p=N.cache,Ei(c,Er,p),p!==j.cache&&ry(c,[Er],f,!0))),cn(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Gs(o){o.flags|=4}function Uy(o,c,f,p,j){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(j&335544128)===j)if(o.stateNode.complete)o.flags|=8192;else if(f2())o.flags|=8192;else throw zo=mh,iy}else o.flags&=-16777217}function zk(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!tC(c))if(f2())o.flags|=8192;else throw zo=mh,iy}function Oh(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?it():536870912,o.lanes|=c,uc|=c)}function Qu(o,c){if(!_t)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function ar(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(c)for(var j=o.child;j!==null;)f|=j.lanes|j.childLanes,p|=j.subtreeFlags&65011712,p|=j.flags&65011712,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)f|=j.lanes|j.childLanes,p|=j.subtreeFlags,p|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=p,o.childLanes=f,c}function b7(o,c,f){var p=c.pendingProps;switch(X0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(c),null;case 1:return ar(c),null;case 3:return f=c.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Hs(Er),ce(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Xl(c)?Gs(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,J0())),ar(c),null;case 26:var j=c.type,N=c.memoizedState;return o===null?(Gs(c),N!==null?(ar(c),zk(c,N)):(ar(c),Uy(c,j,null,p,f))):N?N!==o.memoizedState?(Gs(c),ar(c),zk(c,N)):(ar(c),c.flags&=-16777217):(o=o.memoizedProps,o!==p&&Gs(c),ar(c),Uy(c,j,o,p,f)),null;case 27:if(ke(c),f=be.current,j=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&Gs(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return ar(c),null}o=ne.current,Xl(c)?vN(c):(o=K2(j,p,f),c.stateNode=o,Gs(c))}return ar(c),null;case 5:if(ke(c),j=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&Gs(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return ar(c),null}if(N=ne.current,Xl(c))vN(c);else{var O=Yh(be.current);switch(N){case 1:N=O.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:N=O.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":N=O.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":N=O.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":N=O.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?O.createElement("select",{is:p.is}):O.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?O.createElement(j,{is:p.is}):O.createElement(j)}}N[q]=c,N[me]=p;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)N.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=N;e:switch(un(N,j,p),j){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Gs(c)}}return ar(c),Uy(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==p&&Gs(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(n(166));if(o=be.current,Xl(c)){if(o=c.stateNode,f=c.memoizedProps,p=null,j=on,j!==null)switch(j.tag){case 27:case 5:p=j.memoizedProps}o[q]=c,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||I2(o.nodeValue,f)),o||Ai(c,!0)}else o=Yh(o).createTextNode(p),o[q]=c,c.stateNode=o}return ar(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(p=Xl(c),f!==null){if(o===null){if(!p)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[q]=c}else Ro(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ar(c),o=!1}else f=J0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Zn(c),c):(Zn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return ar(c),null;case 13:if(p=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(j=Xl(c),p!==null&&p.dehydrated!==null){if(o===null){if(!j)throw Error(n(318));if(j=c.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[q]=c}else Ro(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ar(c),j=!1}else j=J0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=j),j=!0;if(!j)return c.flags&256?(Zn(c),c):(Zn(c),null)}return Zn(c),(c.flags&128)!==0?(c.lanes=f,c):(f=p!==null,o=o!==null&&o.memoizedState!==null,f&&(p=c.child,j=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(j=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==j&&(p.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),Oh(c,c.updateQueue),ar(c),null);case 4:return ce(),o===null&&dx(c.stateNode.containerInfo),ar(c),null;case 10:return Hs(c.type),ar(c),null;case 19:if(H(xr),p=c.memoizedState,p===null)return ar(c),null;if(j=(c.flags&128)!==0,N=p.rendering,N===null)if(j)Qu(p,!1);else{if(mr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(N=xh(o),N!==null){for(c.flags|=128,Qu(p,!1),o=N.updateQueue,c.updateQueue=o,Oh(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)mN(f,o),f=f.sibling;return Q(xr,xr.current&1|2),_t&&qs(c,p.treeForkCount),c.child}o=o.sibling}p.tail!==null&&ie()>Ih&&(c.flags|=128,j=!0,Qu(p,!1),c.lanes=4194304)}else{if(!j)if(o=xh(N),o!==null){if(c.flags|=128,j=!0,o=o.updateQueue,c.updateQueue=o,Oh(c,o),Qu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!_t)return ar(c),null}else 2*ie()-p.renderingStartTime>Ih&&f!==536870912&&(c.flags|=128,j=!0,Qu(p,!1),c.lanes=4194304);p.isBackwards?(N.sibling=c.child,c.child=N):(o=p.last,o!==null?o.sibling=N:c.child=N,p.last=N)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=ie(),o.sibling=null,f=xr.current,Q(xr,j?f&1|2:f&1),_t&&qs(c,p.treeForkCount),o):(ar(c),null);case 22:case 23:return Zn(c),fy(),p=c.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(f&536870912)!==0&&(c.flags&128)===0&&(ar(c),c.subtreeFlags&6&&(c.flags|=8192)):ar(c),f=c.updateQueue,f!==null&&Oh(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048),o!==null&&H($o),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Hs(Er),ar(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function w7(o,c){switch(X0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Hs(Er),ce(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return ke(c),null;case 31:if(c.memoizedState!==null){if(Zn(c),c.alternate===null)throw Error(n(340));Ro()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Zn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Ro()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return H(xr),null;case 4:return ce(),null;case 10:return Hs(c.type),null;case 22:case 23:return Zn(c),fy(),o!==null&&H($o),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Hs(Er),null;case 25:return null;default:return null}}function Fk(o,c){switch(X0(c),c.tag){case 3:Hs(Er),ce();break;case 26:case 27:case 5:ke(c);break;case 4:ce();break;case 31:c.memoizedState!==null&&Zn(c);break;case 13:Zn(c);break;case 19:H(xr);break;case 10:Hs(c.type);break;case 22:case 23:Zn(c),fy(),o!==null&&H($o);break;case 24:Hs(Er)}}function Xu(o,c){try{var f=c.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var j=p.next;f=j;do{if((f.tag&o)===o){p=void 0;var N=f.create,O=f.inst;p=N(),O.destroy=p}f=f.next}while(f!==j)}}catch(I){Ft(c,c.return,I)}}function Ii(o,c,f){try{var p=c.updateQueue,j=p!==null?p.lastEffect:null;if(j!==null){var N=j.next;p=N;do{if((p.tag&o)===o){var O=p.inst,I=O.destroy;if(I!==void 0){O.destroy=void 0,j=c;var X=f,le=I;try{le()}catch(ye){Ft(j,X,ye)}}}p=p.next}while(p!==N)}}catch(ye){Ft(c,c.return,ye)}}function qk(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{DN(c,f)}catch(p){Ft(o,o.return,p)}}}function Uk(o,c,f){f.props=Uo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){Ft(o,c,p)}}function Zu(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(j){Ft(o,c,j)}}function ps(o,c){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(j){Ft(o,c,j)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(j){Ft(o,c,j)}else f.current=null}function Hk(o){var c=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(j){Ft(o,o.return,j)}}function Hy(o,c,f){try{var p=o.stateNode;U7(p,o.type,f,c),p[me]=c}catch(j){Ft(o,o.return,j)}}function Wk(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ui(o.type)||o.tag===4}function Wy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Wk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ui(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Yy(o,c,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Bs));else if(p!==4&&(p===27&&Ui(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(Yy(o,c,f),o=o.sibling;o!==null;)Yy(o,c,f),o=o.sibling}function Dh(o,c,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(p!==4&&(p===27&&Ui(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Dh(o,c,f),o=o.sibling;o!==null;)Dh(o,c,f),o=o.sibling}function Yk(o){var c=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,j=c.attributes;j.length;)c.removeAttributeNode(j[0]);un(c,p,f),c[q]=o,c[me]=f}catch(N){Ft(o,o.return,N)}}var Vs=!1,Mr=!1,Ky=!1,Kk=typeof WeakSet=="function"?WeakSet:Set,Vr=null;function j7(o,c){if(o=o.containerInfo,mx=Jh,o=sN(o),z0(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var j=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var O=0,I=-1,X=-1,le=0,ye=0,we=o,ue=null;t:for(;;){for(var fe;we!==f||j!==0&&we.nodeType!==3||(I=O+j),we!==N||p!==0&&we.nodeType!==3||(X=O+p),we.nodeType===3&&(O+=we.nodeValue.length),(fe=we.firstChild)!==null;)ue=we,we=fe;for(;;){if(we===o)break t;if(ue===f&&++le===j&&(I=O),ue===N&&++ye===p&&(X=O),(fe=we.nextSibling)!==null)break;we=ue,ue=we.parentNode}we=fe}f=I===-1||X===-1?null:{start:I,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(gx={focusedElem:o,selectionRange:f},Jh=!1,Vr=c;Vr!==null;)if(c=Vr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Vr=o;else for(;Vr!==null;){switch(c=Vr,N=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)j=o[f],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,f=c,j=N.memoizedProps,N=N.memoizedState,p=f.stateNode;try{var Oe=Uo(f.type,j);o=p.getSnapshotBeforeUpdate(Oe,N),p.__reactInternalSnapshotBeforeUpdate=o}catch(Ve){Ft(f,f.return,Ve)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)xx(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":xx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Vr=o;break}Vr=c.return}}function Gk(o,c,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Xs(o,f),p&4&&Xu(5,f);break;case 1:if(Xs(o,f),p&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(O){Ft(f,f.return,O)}else{var j=Uo(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(j,c,o.__reactInternalSnapshotBeforeUpdate)}catch(O){Ft(f,f.return,O)}}p&64&&qk(f),p&512&&Zu(f,f.return);break;case 3:if(Xs(o,f),p&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{DN(o,c)}catch(O){Ft(f,f.return,O)}}break;case 27:c===null&&p&4&&Yk(f);case 26:case 5:Xs(o,f),c===null&&p&4&&Hk(f),p&512&&Zu(f,f.return);break;case 12:Xs(o,f);break;case 31:Xs(o,f),p&4&&Xk(o,f);break;case 13:Xs(o,f),p&4&&Zk(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=O7.bind(null,f),X7(o,f))));break;case 22:if(p=f.memoizedState!==null||Vs,!p){c=c!==null&&c.memoizedState!==null||Mr,j=Vs;var N=Mr;Vs=p,(Mr=c)&&!N?Zs(o,f,(f.subtreeFlags&8772)!==0):Xs(o,f),Vs=j,Mr=N}break;case 30:break;default:Xs(o,f)}}function Vk(o){var c=o.alternate;c!==null&&(o.alternate=null,Vk(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&To(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ir=null,Dn=!1;function Qs(o,c,f){for(f=f.child;f!==null;)Qk(o,c,f),f=f.sibling}function Qk(o,c,f){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Bt,f)}catch{}switch(f.tag){case 26:Mr||ps(f,c),Qs(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Mr||ps(f,c);var p=ir,j=Dn;Ui(f.type)&&(ir=f.stateNode,Dn=!1),Qs(o,c,f),od(f.stateNode),ir=p,Dn=j;break;case 5:Mr||ps(f,c);case 6:if(p=ir,j=Dn,ir=null,Qs(o,c,f),ir=p,Dn=j,ir!==null)if(Dn)try{(ir.nodeType===9?ir.body:ir.nodeName==="HTML"?ir.ownerDocument.body:ir).removeChild(f.stateNode)}catch(N){Ft(f,c,N)}else try{ir.removeChild(f.stateNode)}catch(N){Ft(f,c,N)}break;case 18:ir!==null&&(Dn?(o=ir,q2(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),xc(o)):q2(ir,f.stateNode));break;case 4:p=ir,j=Dn,ir=f.stateNode.containerInfo,Dn=!0,Qs(o,c,f),ir=p,Dn=j;break;case 0:case 11:case 14:case 15:Ii(2,f,c),Mr||Ii(4,f,c),Qs(o,c,f);break;case 1:Mr||(ps(f,c),p=f.stateNode,typeof p.componentWillUnmount=="function"&&Uk(f,c,p)),Qs(o,c,f);break;case 21:Qs(o,c,f);break;case 22:Mr=(p=Mr)||f.memoizedState!==null,Qs(o,c,f),Mr=p;break;default:Qs(o,c,f)}}function Xk(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{xc(o)}catch(f){Ft(c,c.return,f)}}}function Zk(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{xc(o)}catch(f){Ft(c,c.return,f)}}function _7(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Kk),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Kk),c;default:throw Error(n(435,o.tag))}}function Mh(o,c){var f=_7(o);c.forEach(function(p){if(!f.has(p)){f.add(p);var j=D7.bind(null,o,p);p.then(j,j)}})}function Mn(o,c){var f=c.deletions;if(f!==null)for(var p=0;p<f.length;p++){var j=f[p],N=o,O=c,I=O;e:for(;I!==null;){switch(I.tag){case 27:if(Ui(I.type)){ir=I.stateNode,Dn=!1;break e}break;case 5:ir=I.stateNode,Dn=!1;break e;case 3:case 4:ir=I.stateNode.containerInfo,Dn=!0;break e}I=I.return}if(ir===null)throw Error(n(160));Qk(N,O,j),ir=null,Dn=!1,N=j.alternate,N!==null&&(N.return=null),j.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Jk(c,o),c=c.sibling}var Qa=null;function Jk(o,c){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Mn(c,o),Pn(o),p&4&&(Ii(3,o,o.return),Xu(3,o),Ii(5,o,o.return));break;case 1:Mn(c,o),Pn(o),p&512&&(Mr||f===null||ps(f,f.return)),p&64&&Vs&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var j=Qa;if(Mn(c,o),Pn(o),p&512&&(Mr||f===null||ps(f,f.return)),p&4){var N=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,j=j.ownerDocument||j;t:switch(p){case"title":N=j.getElementsByTagName("title")[0],(!N||N[jn]||N[q]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=j.createElement(p),j.head.insertBefore(N,j.querySelector("head > title"))),un(N,p,f),N[q]=o,Gr(N),p=N;break e;case"link":var O=J2("link","href",j).get(p+(f.href||""));if(O){for(var I=0;I<O.length;I++)if(N=O[I],N.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&N.getAttribute("rel")===(f.rel==null?null:f.rel)&&N.getAttribute("title")===(f.title==null?null:f.title)&&N.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){O.splice(I,1);break t}}N=j.createElement(p),un(N,p,f),j.head.appendChild(N);break;case"meta":if(O=J2("meta","content",j).get(p+(f.content||""))){for(I=0;I<O.length;I++)if(N=O[I],N.getAttribute("content")===(f.content==null?null:""+f.content)&&N.getAttribute("name")===(f.name==null?null:f.name)&&N.getAttribute("property")===(f.property==null?null:f.property)&&N.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&N.getAttribute("charset")===(f.charSet==null?null:f.charSet)){O.splice(I,1);break t}}N=j.createElement(p),un(N,p,f),j.head.appendChild(N);break;default:throw Error(n(468,p))}N[q]=o,Gr(N),p=N}o.stateNode=p}else eC(j,o.type,o.stateNode);else o.stateNode=Z2(j,p,o.memoizedProps);else N!==p?(N===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):N.count--,p===null?eC(j,o.type,o.stateNode):Z2(j,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Hy(o,o.memoizedProps,f.memoizedProps)}break;case 27:Mn(c,o),Pn(o),p&512&&(Mr||f===null||ps(f,f.return)),f!==null&&p&4&&Hy(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Mn(c,o),Pn(o),p&512&&(Mr||f===null||ps(f,f.return)),o.flags&32){j=o.stateNode;try{Fl(j,"")}catch(Oe){Ft(o,o.return,Oe)}}p&4&&o.stateNode!=null&&(j=o.memoizedProps,Hy(o,j,f!==null?f.memoizedProps:j)),p&1024&&(Ky=!0);break;case 6:if(Mn(c,o),Pn(o),p&4){if(o.stateNode===null)throw Error(n(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(Oe){Ft(o,o.return,Oe)}}break;case 3:if(Vh=null,j=Qa,Qa=Kh(c.containerInfo),Mn(c,o),Qa=j,Pn(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{xc(c.containerInfo)}catch(Oe){Ft(o,o.return,Oe)}Ky&&(Ky=!1,e2(o));break;case 4:p=Qa,Qa=Kh(o.stateNode.containerInfo),Mn(c,o),Pn(o),Qa=p;break;case 12:Mn(c,o),Pn(o);break;case 31:Mn(c,o),Pn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Mh(o,p)));break;case 13:Mn(c,o),Pn(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Rh=ie()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Mh(o,p)));break;case 22:j=o.memoizedState!==null;var X=f!==null&&f.memoizedState!==null,le=Vs,ye=Mr;if(Vs=le||j,Mr=ye||X,Mn(c,o),Mr=ye,Vs=le,Pn(o),p&8192)e:for(c=o.stateNode,c._visibility=j?c._visibility&-2:c._visibility|1,j&&(f===null||X||Vs||Mr||Ho(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){X=f=c;try{if(N=X.stateNode,j)O=N.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{I=X.stateNode;var we=X.memoizedProps.style,ue=we!=null&&we.hasOwnProperty("display")?we.display:null;I.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Oe){Ft(X,X.return,Oe)}}}else if(c.tag===6){if(f===null){X=c;try{X.stateNode.nodeValue=j?"":X.memoizedProps}catch(Oe){Ft(X,X.return,Oe)}}}else if(c.tag===18){if(f===null){X=c;try{var fe=X.stateNode;j?U2(fe,!0):U2(X.stateNode,!1)}catch(Oe){Ft(X,X.return,Oe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,Mh(o,f))));break;case 19:Mn(c,o),Pn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Mh(o,p)));break;case 30:break;case 21:break;default:Mn(c,o),Pn(o)}}function Pn(o){var c=o.flags;if(c&2){try{for(var f,p=o.return;p!==null;){if(Wk(p)){f=p;break}p=p.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var j=f.stateNode,N=Wy(o);Dh(o,N,j);break;case 5:var O=f.stateNode;f.flags&32&&(Fl(O,""),f.flags&=-33);var I=Wy(o);Dh(o,I,O);break;case 3:case 4:var X=f.stateNode.containerInfo,le=Wy(o);Yy(o,le,X);break;default:throw Error(n(161))}}catch(ye){Ft(o,o.return,ye)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function e2(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;e2(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Xs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Gk(o,c.alternate,c),c=c.sibling}function Ho(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ii(4,c,c.return),Ho(c);break;case 1:ps(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&Uk(c,c.return,f),Ho(c);break;case 27:od(c.stateNode);case 26:case 5:ps(c,c.return),Ho(c);break;case 22:c.memoizedState===null&&Ho(c);break;case 30:Ho(c);break;default:Ho(c)}o=o.sibling}}function Zs(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,j=o,N=c,O=N.flags;switch(N.tag){case 0:case 11:case 15:Zs(j,N,f),Xu(4,N);break;case 1:if(Zs(j,N,f),p=N,j=p.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(le){Ft(p,p.return,le)}if(p=N,j=p.updateQueue,j!==null){var I=p.stateNode;try{var X=j.shared.hiddenCallbacks;if(X!==null)for(j.shared.hiddenCallbacks=null,j=0;j<X.length;j++)ON(X[j],I)}catch(le){Ft(p,p.return,le)}}f&&O&64&&qk(N),Zu(N,N.return);break;case 27:Yk(N);case 26:case 5:Zs(j,N,f),f&&p===null&&O&4&&Hk(N),Zu(N,N.return);break;case 12:Zs(j,N,f);break;case 31:Zs(j,N,f),f&&O&4&&Xk(j,N);break;case 13:Zs(j,N,f),f&&O&4&&Zk(j,N);break;case 22:N.memoizedState===null&&Zs(j,N,f),Zu(N,N.return);break;case 30:break;default:Zs(j,N,f)}c=c.sibling}}function Gy(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&$u(f))}function Vy(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&$u(o))}function Xa(o,c,f,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)t2(o,c,f,p),c=c.sibling}function t2(o,c,f,p){var j=c.flags;switch(c.tag){case 0:case 11:case 15:Xa(o,c,f,p),j&2048&&Xu(9,c);break;case 1:Xa(o,c,f,p);break;case 3:Xa(o,c,f,p),j&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&$u(o)));break;case 12:if(j&2048){Xa(o,c,f,p),o=c.stateNode;try{var N=c.memoizedProps,O=N.id,I=N.onPostCommit;typeof I=="function"&&I(O,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(X){Ft(c,c.return,X)}}else Xa(o,c,f,p);break;case 31:Xa(o,c,f,p);break;case 13:Xa(o,c,f,p);break;case 23:break;case 22:N=c.stateNode,O=c.alternate,c.memoizedState!==null?N._visibility&2?Xa(o,c,f,p):Ju(o,c):N._visibility&2?Xa(o,c,f,p):(N._visibility|=2,oc(o,c,f,p,(c.subtreeFlags&10256)!==0||!1)),j&2048&&Gy(O,c);break;case 24:Xa(o,c,f,p),j&2048&&Vy(c.alternate,c);break;default:Xa(o,c,f,p)}}function oc(o,c,f,p,j){for(j=j&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=o,O=c,I=f,X=p,le=O.flags;switch(O.tag){case 0:case 11:case 15:oc(N,O,I,X,j),Xu(8,O);break;case 23:break;case 22:var ye=O.stateNode;O.memoizedState!==null?ye._visibility&2?oc(N,O,I,X,j):Ju(N,O):(ye._visibility|=2,oc(N,O,I,X,j)),j&&le&2048&&Gy(O.alternate,O);break;case 24:oc(N,O,I,X,j),j&&le&2048&&Vy(O.alternate,O);break;default:oc(N,O,I,X,j)}c=c.sibling}}function Ju(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,p=c,j=p.flags;switch(p.tag){case 22:Ju(f,p),j&2048&&Gy(p.alternate,p);break;case 24:Ju(f,p),j&2048&&Vy(p.alternate,p);break;default:Ju(f,p)}c=c.sibling}}var ed=8192;function lc(o,c,f){if(o.subtreeFlags&ed)for(o=o.child;o!==null;)r2(o,c,f),o=o.sibling}function r2(o,c,f){switch(o.tag){case 26:lc(o,c,f),o.flags&ed&&o.memoizedState!==null&&cB(f,Qa,o.memoizedState,o.memoizedProps);break;case 5:lc(o,c,f);break;case 3:case 4:var p=Qa;Qa=Kh(o.stateNode.containerInfo),lc(o,c,f),Qa=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=ed,ed=16777216,lc(o,c,f),ed=p):lc(o,c,f));break;default:lc(o,c,f)}}function n2(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function td(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];Vr=p,s2(p,o)}n2(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)a2(o),o=o.sibling}function a2(o){switch(o.tag){case 0:case 11:case 15:td(o),o.flags&2048&&Ii(9,o,o.return);break;case 3:td(o);break;case 12:td(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Ph(o)):td(o);break;default:td(o)}}function Ph(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];Vr=p,s2(p,o)}n2(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ii(8,c,c.return),Ph(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,Ph(c));break;default:Ph(c)}o=o.sibling}}function s2(o,c){for(;Vr!==null;){var f=Vr;switch(f.tag){case 0:case 11:case 15:Ii(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:$u(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Vr=p;else e:for(f=o;Vr!==null;){p=Vr;var j=p.sibling,N=p.return;if(Vk(p),p===f){Vr=null;break e}if(j!==null){j.return=N,Vr=j;break e}Vr=N}}}var S7={getCacheForType:function(o){var c=ln(Er),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return ln(Er).controller.signal}},N7=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Xt=null,pt=null,bt=0,zt=0,Jn=null,Li=!1,cc=!1,Qy=!1,Js=0,mr=0,$i=0,Wo=0,Xy=0,ea=0,uc=0,rd=null,Rn=null,Zy=!1,Rh=0,i2=0,Ih=1/0,Lh=null,Bi=null,Br=0,zi=null,dc=null,ei=0,Jy=0,ex=null,o2=null,nd=0,tx=null;function ta(){return(Mt&2)!==0&&bt!==0?bt&-bt:$.T!==null?ox():Ct()}function l2(){if(ea===0)if((bt&536870912)===0||_t){var o=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),ea=o}else ea=536870912;return o=Xn.current,o!==null&&(o.flags|=32),ea}function In(o,c,f){(o===Xt&&(zt===2||zt===9)||o.cancelPendingCommit!==null)&&(fc(o,0),Fi(o,bt,ea,!1)),bn(o,f),((Mt&2)===0||o!==Xt)&&(o===Xt&&((Mt&2)===0&&(Wo|=f),mr===4&&Fi(o,bt,ea,!1)),ys(o))}function c2(o,c,f){if((Mt&6)!==0)throw Error(n(327));var p=!f&&(c&127)===0&&(c&o.expiredLanes)===0||Tr(o,c),j=p?T7(o,c):nx(o,c,!0),N=p;do{if(j===0){cc&&!p&&Fi(o,c,0,!1);break}else{if(f=o.current.alternate,N&&!k7(f)){j=nx(o,c,!1),N=!1;continue}if(j===2){if(N=c,o.errorRecoveryDisabledLanes&N)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var I=o;j=rd;var X=I.current.memoizedState.isDehydrated;if(X&&(fc(I,O).flags|=256),O=nx(I,O,!1),O!==2){if(Qy&&!X){I.errorRecoveryDisabledLanes|=N,Wo|=N,j=4;break e}N=Rn,Rn=j,N!==null&&(Rn===null?Rn=N:Rn.push.apply(Rn,N))}j=O}if(N=!1,j!==2)continue}}if(j===1){fc(o,0),Fi(o,c,0,!0);break}e:{switch(p=o,N=j,N){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Fi(p,c,ea,!Li);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(j=Rh+300-ie(),10<j)){if(Fi(p,c,ea,!Li),vt(p,0,!0)!==0)break e;ei=c,p.timeoutHandle=z2(u2.bind(null,p,f,Rn,Lh,Zy,c,ea,Wo,uc,Li,N,"Throttled",-0,0),j);break e}u2(p,f,Rn,Lh,Zy,c,ea,Wo,uc,Li,N,null,-0,0)}}break}while(!0);ys(o)}function u2(o,c,f,p,j,N,O,I,X,le,ye,we,ue,fe){if(o.timeoutHandle=-1,we=c.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bs},r2(c,N,we);var Oe=(N&62914560)===N?Rh-ie():(N&4194048)===N?i2-ie():0;if(Oe=uB(we,Oe),Oe!==null){ei=N,o.cancelPendingCommit=Oe(x2.bind(null,o,c,N,f,p,j,O,I,X,ye,we,null,ue,fe)),Fi(o,N,O,!le);return}}x2(o,c,N,f,p,j,O,I,X)}function k7(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var j=f[p],N=j.getSnapshot;j=j.value;try{if(!Vn(N(),j))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Fi(o,c,f,p){c&=~Xy,c&=~Wo,o.suspendedLanes|=c,o.pingedLanes&=~c,p&&(o.warmLanes|=c),p=o.expirationTimes;for(var j=c;0<j;){var N=31-Xe(j),O=1<<N;p[N]=-1,j&=~O}f!==0&&En(o,f,c)}function $h(){return(Mt&6)===0?(ad(0),!1):!0}function rx(){if(pt!==null){if(zt===0)var o=pt.return;else o=pt,Us=Io=null,xy(o),rc=null,zu=0,o=pt;for(;o!==null;)Fk(o.alternate,o),o=o.return;pt=null}}function fc(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,Y7(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),ei=0,rx(),Xt=o,pt=f=Fs(o.current,null),bt=c,zt=0,Jn=null,Li=!1,cc=Tr(o,c),Qy=!1,uc=ea=Xy=Wo=$i=mr=0,Rn=rd=null,Zy=!1,(c&8)!==0&&(c|=c&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=c;0<p;){var j=31-Xe(p),N=1<<j;c|=o[j],p&=~N}return Js=c,sh(),f}function d2(o,c){nt=null,$.H=Gu,c===tc||c===hh?(c=CN(),zt=3):c===iy?(c=CN(),zt=4):zt=c===Py?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Jn=c,pt===null&&(mr=1,Ch(o,Sa(c,o.current)))}function f2(){var o=Xn.current;return o===null?!0:(bt&4194048)===bt?Ta===null:(bt&62914560)===bt||(bt&536870912)!==0?o===Ta:!1}function h2(){var o=$.H;return $.H=Gu,o===null?Gu:o}function m2(){var o=$.A;return $.A=S7,o}function Bh(){mr=4,Li||(bt&4194048)!==bt&&Xn.current!==null||(cc=!0),($i&134217727)===0&&(Wo&134217727)===0||Xt===null||Fi(Xt,bt,ea,!1)}function nx(o,c,f){var p=Mt;Mt|=2;var j=h2(),N=m2();(Xt!==o||bt!==c)&&(Lh=null,fc(o,c)),c=!1;var O=mr;e:do try{if(zt!==0&&pt!==null){var I=pt,X=Jn;switch(zt){case 8:rx(),O=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(c=!0);var le=zt;if(zt=0,Jn=null,hc(o,I,X,le),f&&cc){O=0;break e}break;default:le=zt,zt=0,Jn=null,hc(o,I,X,le)}}C7(),O=mr;break}catch(ye){d2(o,ye)}while(!0);return c&&o.shellSuspendCounter++,Us=Io=null,Mt=p,$.H=j,$.A=N,pt===null&&(Xt=null,bt=0,sh()),O}function C7(){for(;pt!==null;)g2(pt)}function T7(o,c){var f=Mt;Mt|=2;var p=h2(),j=m2();Xt!==o||bt!==c?(Lh=null,Ih=ie()+500,fc(o,c)):cc=Tr(o,c);e:do try{if(zt!==0&&pt!==null){c=pt;var N=Jn;t:switch(zt){case 1:zt=0,Jn=null,hc(o,c,N,1);break;case 2:case 9:if(NN(N)){zt=0,Jn=null,p2(c);break}c=function(){zt!==2&&zt!==9||Xt!==o||(zt=7),ys(o)},N.then(c,c);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:NN(N)?(zt=0,Jn=null,p2(c)):(zt=0,Jn=null,hc(o,c,N,7));break;case 5:var O=null;switch(pt.tag){case 26:O=pt.memoizedState;case 5:case 27:var I=pt;if(O?tC(O):I.stateNode.complete){zt=0,Jn=null;var X=I.sibling;if(X!==null)pt=X;else{var le=I.return;le!==null?(pt=le,zh(le)):pt=null}break t}}zt=0,Jn=null,hc(o,c,N,5);break;case 6:zt=0,Jn=null,hc(o,c,N,6);break;case 8:rx(),mr=6;break e;default:throw Error(n(462))}}A7();break}catch(ye){d2(o,ye)}while(!0);return Us=Io=null,$.H=p,$.A=j,Mt=f,pt!==null?0:(Xt=null,bt=0,sh(),mr)}function A7(){for(;pt!==null&&!sn();)g2(pt)}function g2(o){var c=Bk(o.alternate,o,Js);o.memoizedProps=o.pendingProps,c===null?zh(o):pt=c}function p2(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=Mk(f,c,c.pendingProps,c.type,void 0,bt);break;case 11:c=Mk(f,c,c.pendingProps,c.type.render,c.ref,bt);break;case 5:xy(c);default:Fk(f,c),c=pt=mN(c,Js),c=Bk(f,c,Js)}o.memoizedProps=o.pendingProps,c===null?zh(o):pt=c}function hc(o,c,f,p){Us=Io=null,xy(c),rc=null,zu=0;var j=c.return;try{if(y7(o,j,c,f,bt)){mr=1,Ch(o,Sa(f,o.current)),pt=null;return}}catch(N){if(j!==null)throw pt=j,N;mr=1,Ch(o,Sa(f,o.current)),pt=null;return}c.flags&32768?(_t||p===1?o=!0:cc||(bt&536870912)!==0?o=!1:(Li=o=!0,(p===2||p===9||p===3||p===6)&&(p=Xn.current,p!==null&&p.tag===13&&(p.flags|=16384))),y2(c,o)):zh(c)}function zh(o){var c=o;do{if((c.flags&32768)!==0){y2(c,Li);return}o=c.return;var f=b7(c.alternate,c,Js);if(f!==null){pt=f;return}if(c=c.sibling,c!==null){pt=c;return}pt=c=o}while(c!==null);mr===0&&(mr=5)}function y2(o,c){do{var f=w7(o.alternate,o);if(f!==null){f.flags&=32767,pt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){pt=o;return}pt=o=f}while(o!==null);mr=6,pt=null}function x2(o,c,f,p,j,N,O,I,X){o.cancelPendingCommit=null;do Fh();while(Br!==0);if((Mt&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(N=c.lanes|c.childLanes,N|=W0,rr(o,f,N,O,I,X),o===Xt&&(pt=Xt=null,bt=0),dc=c,zi=o,ei=f,Jy=N,ex=j,o2=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,M7(Te,function(){return _2(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,j=ee.p,ee.p=2,O=Mt,Mt|=4;try{j7(o,c,f)}finally{Mt=O,ee.p=j,$.T=p}}Br=1,v2(),b2(),w2()}}function v2(){if(Br===1){Br=0;var o=zi,c=dc,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var p=ee.p;ee.p=2;var j=Mt;Mt|=4;try{Jk(c,o);var N=gx,O=sN(o.containerInfo),I=N.focusedElem,X=N.selectionRange;if(O!==I&&I&&I.ownerDocument&&aN(I.ownerDocument.documentElement,I)){if(X!==null&&z0(I)){var le=X.start,ye=X.end;if(ye===void 0&&(ye=le),"selectionStart"in I)I.selectionStart=le,I.selectionEnd=Math.min(ye,I.value.length);else{var we=I.ownerDocument||document,ue=we&&we.defaultView||window;if(ue.getSelection){var fe=ue.getSelection(),Oe=I.textContent.length,Ve=Math.min(X.start,Oe),Vt=X.end===void 0?Ve:Math.min(X.end,Oe);!fe.extend&&Ve>Vt&&(O=Vt,Vt=Ve,Ve=O);var ae=nN(I,Ve),re=nN(I,Vt);if(ae&&re&&(fe.rangeCount!==1||fe.anchorNode!==ae.node||fe.anchorOffset!==ae.offset||fe.focusNode!==re.node||fe.focusOffset!==re.offset)){var oe=we.createRange();oe.setStart(ae.node,ae.offset),fe.removeAllRanges(),Ve>Vt?(fe.addRange(oe),fe.extend(re.node,re.offset)):(oe.setEnd(re.node,re.offset),fe.addRange(oe))}}}}for(we=[],fe=I;fe=fe.parentNode;)fe.nodeType===1&&we.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<we.length;I++){var ve=we[I];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Jh=!!mx,gx=mx=null}finally{Mt=j,ee.p=p,$.T=f}}o.current=c,Br=2}}function b2(){if(Br===2){Br=0;var o=zi,c=dc,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var p=ee.p;ee.p=2;var j=Mt;Mt|=4;try{Gk(o,c.alternate,c)}finally{Mt=j,ee.p=p,$.T=f}}Br=3}}function w2(){if(Br===4||Br===3){Br=0,K();var o=zi,c=dc,f=ei,p=o2;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Br=5:(Br=0,dc=zi=null,j2(o,o.pendingLanes));var j=o.pendingLanes;if(j===0&&(Bi=null),ds(f),c=c.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Bt,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=$.T,j=ee.p,ee.p=2,$.T=null;try{for(var N=o.onRecoverableError,O=0;O<p.length;O++){var I=p[O];N(I.value,{componentStack:I.stack})}}finally{$.T=c,ee.p=j}}(ei&3)!==0&&Fh(),ys(o),j=o.pendingLanes,(f&261930)!==0&&(j&42)!==0?o===tx?nd++:(nd=0,tx=o):nd=0,ad(0)}}function j2(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,$u(c)))}function Fh(){return v2(),b2(),w2(),_2()}function _2(){if(Br!==5)return!1;var o=zi,c=Jy;Jy=0;var f=ds(ei),p=$.T,j=ee.p;try{ee.p=32>f?32:f,$.T=null,f=ex,ex=null;var N=zi,O=ei;if(Br=0,dc=zi=null,ei=0,(Mt&6)!==0)throw Error(n(331));var I=Mt;if(Mt|=4,a2(N.current),t2(N,N.current,O,f),Mt=I,ad(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Bt,N)}catch{}return!0}finally{ee.p=j,$.T=p,j2(o,c)}}function S2(o,c,f){c=Sa(f,c),c=My(o.stateNode,c,2),o=Mi(o,c,2),o!==null&&(bn(o,2),ys(o))}function Ft(o,c,f){if(o.tag===3)S2(o,o,f);else for(;c!==null;){if(c.tag===3){S2(c,o,f);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Bi===null||!Bi.has(p))){o=Sa(f,o),f=Nk(2),p=Mi(c,f,2),p!==null&&(kk(f,p,c,o),bn(p,2),ys(p));break}}c=c.return}}function ax(o,c,f){var p=o.pingCache;if(p===null){p=o.pingCache=new N7;var j=new Set;p.set(c,j)}else j=p.get(c),j===void 0&&(j=new Set,p.set(c,j));j.has(f)||(Qy=!0,j.add(f),o=E7.bind(null,o,c,f),c.then(o,o))}function E7(o,c,f){var p=o.pingCache;p!==null&&p.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Xt===o&&(bt&f)===f&&(mr===4||mr===3&&(bt&62914560)===bt&&300>ie()-Rh?(Mt&2)===0&&fc(o,0):Xy|=f,uc===bt&&(uc=0)),ys(o)}function N2(o,c){c===0&&(c=it()),o=Mo(o,c),o!==null&&(bn(o,c),ys(o))}function O7(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),N2(o,f)}function D7(o,c){var f=0;switch(o.tag){case 31:case 13:var p=o.stateNode,j=o.memoizedState;j!==null&&(f=j.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(c),N2(o,f)}function M7(o,c){return $t(o,c)}var qh=null,mc=null,sx=!1,Uh=!1,ix=!1,qi=0;function ys(o){o!==mc&&o.next===null&&(mc===null?qh=mc=o:mc=mc.next=o),Uh=!0,sx||(sx=!0,R7())}function ad(o,c){if(!ix&&Uh){ix=!0;do for(var f=!1,p=qh;p!==null;){if(o!==0){var j=p.pendingLanes;if(j===0)var N=0;else{var O=p.suspendedLanes,I=p.pingedLanes;N=(1<<31-Xe(42|o)+1)-1,N&=j&~(O&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(f=!0,A2(p,N))}else N=bt,N=vt(p,p===Xt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||Tr(p,N)||(f=!0,A2(p,N));p=p.next}while(f);ix=!1}}function P7(){k2()}function k2(){Uh=sx=!1;var o=0;qi!==0&&W7()&&(o=qi);for(var c=ie(),f=null,p=qh;p!==null;){var j=p.next,N=C2(p,c);N===0?(p.next=null,f===null?qh=j:f.next=j,j===null&&(mc=f)):(f=p,(o!==0||(N&3)!==0)&&(Uh=!0)),p=j}Br!==0&&Br!==5||ad(o),qi!==0&&(qi=0)}function C2(o,c){for(var f=o.suspendedLanes,p=o.pingedLanes,j=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var O=31-Xe(N),I=1<<O,X=j[O];X===-1?((I&f)===0||(I&p)!==0)&&(j[O]=ht(I,c)):X<=c&&(o.expiredLanes|=I),N&=~I}if(c=Xt,f=bt,f=vt(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===c&&(zt===2||zt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&kr(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Tr(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(p!==null&&kr(p),ds(f)){case 2:case 8:f=xe;break;case 32:f=Te;break;case 268435456:f=Dt;break;default:f=Te}return p=T2.bind(null,o),f=$t(f,p),o.callbackPriority=c,o.callbackNode=f,c}return p!==null&&p!==null&&kr(p),o.callbackPriority=2,o.callbackNode=null,2}function T2(o,c){if(Br!==0&&Br!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Fh()&&o.callbackNode!==f)return null;var p=bt;return p=vt(o,o===Xt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(c2(o,p,c),C2(o,ie()),o.callbackNode!=null&&o.callbackNode===f?T2.bind(null,o):null)}function A2(o,c){if(Fh())return null;c2(o,c,!0)}function R7(){K7(function(){(Mt&6)!==0?$t(se,P7):k2()})}function ox(){if(qi===0){var o=Jl;o===0&&(o=_e,_e<<=1,(_e&261888)===0&&(_e=256)),qi=o}return qi}function E2(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Xf(""+o)}function O2(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function I7(o,c,f,p,j){if(c==="submit"&&f&&f.stateNode===j){var N=E2((j[me]||null).action),O=p.submitter;O&&(c=(c=O[me]||null)?E2(c.formAction):O.getAttribute("formAction"),c!==null&&(N=c,O=null));var I=new th("action","action",null,p,j);o.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(qi!==0){var X=O?O2(j,O):new FormData(j);Cy(f,{pending:!0,data:X,method:j.method,action:N},null,X)}}else typeof N=="function"&&(I.preventDefault(),X=O?O2(j,O):new FormData(j),Cy(f,{pending:!0,data:X,method:j.method,action:N},N,X))},currentTarget:j}]})}}for(var lx=0;lx<H0.length;lx++){var cx=H0[lx],L7=cx.toLowerCase(),$7=cx[0].toUpperCase()+cx.slice(1);Va(L7,"on"+$7)}Va(lN,"onAnimationEnd"),Va(cN,"onAnimationIteration"),Va(uN,"onAnimationStart"),Va("dblclick","onDoubleClick"),Va("focusin","onFocus"),Va("focusout","onBlur"),Va(e7,"onTransitionRun"),Va(t7,"onTransitionStart"),Va(r7,"onTransitionCancel"),Va(dN,"onTransitionEnd"),Bl("onMouseEnter",["mouseout","mouseover"]),Bl("onMouseLeave",["mouseout","mouseover"]),Bl("onPointerEnter",["pointerout","pointerover"]),Bl("onPointerLeave",["pointerout","pointerover"]),Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sd));function D2(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],j=p.event;p=p.listeners;e:{var N=void 0;if(c)for(var O=p.length-1;0<=O;O--){var I=p[O],X=I.instance,le=I.currentTarget;if(I=I.listener,X!==N&&j.isPropagationStopped())break e;N=I,j.currentTarget=le;try{N(j)}catch(ye){ah(ye)}j.currentTarget=null,N=X}else for(O=0;O<p.length;O++){if(I=p[O],X=I.instance,le=I.currentTarget,I=I.listener,X!==N&&j.isPropagationStopped())break e;N=I,j.currentTarget=le;try{N(j)}catch(ye){ah(ye)}j.currentTarget=null,N=X}}}}function yt(o,c){var f=c[mt];f===void 0&&(f=c[mt]=new Set);var p=o+"__bubble";f.has(p)||(M2(c,o,2,!1),f.add(p))}function ux(o,c,f){var p=0;c&&(p|=4),M2(f,o,p,c)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function dx(o){if(!o[Hh]){o[Hh]=!0,kS.forEach(function(f){f!=="selectionchange"&&(B7.has(f)||ux(f,!1,o),ux(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Hh]||(c[Hh]=!0,ux("selectionchange",!1,c))}}function M2(o,c,f,p){switch(lC(c)){case 2:var j=hB;break;case 8:j=mB;break;default:j=kx}f=j.bind(null,c,f,o),j=void 0,!O0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(j=!0),p?j!==void 0?o.addEventListener(c,f,{capture:!0,passive:j}):o.addEventListener(c,f,!0):j!==void 0?o.addEventListener(c,f,{passive:j}):o.addEventListener(c,f,!1)}function fx(o,c,f,p,j){var N=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var O=p.tag;if(O===3||O===4){var I=p.stateNode.containerInfo;if(I===j)break;if(O===4)for(O=p.return;O!==null;){var X=O.tag;if((X===3||X===4)&&O.stateNode.containerInfo===j)return;O=O.return}for(;I!==null;){if(O=hs(I),O===null)return;if(X=O.tag,X===5||X===6||X===26||X===27){p=N=O;continue e}I=I.parentNode}}p=p.return}$S(function(){var le=N,ye=A0(f),we=[];e:{var ue=fN.get(o);if(ue!==void 0){var fe=th,Oe=o;switch(o){case"keypress":if(Jf(f)===0)break e;case"keydown":case"keyup":fe=D$;break;case"focusin":Oe="focus",fe=R0;break;case"focusout":Oe="blur",fe=R0;break;case"beforeblur":case"afterblur":fe=R0;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=FS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=b$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=R$;break;case lN:case cN:case uN:fe=_$;break;case dN:fe=L$;break;case"scroll":case"scrollend":fe=x$;break;case"wheel":fe=B$;break;case"copy":case"cut":case"paste":fe=N$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=US;break;case"toggle":case"beforetoggle":fe=F$}var Ve=(c&4)!==0,Vt=!Ve&&(o==="scroll"||o==="scrollend"),ae=Ve?ue!==null?ue+"Capture":null:ue;Ve=[];for(var re=le,oe;re!==null;){var ve=re;if(oe=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||oe===null||ae===null||(ve=Cu(re,ae),ve!=null&&Ve.push(id(re,ve,oe))),Vt)break;re=re.return}0<Ve.length&&(ue=new fe(ue,Oe,null,f,ye),we.push({event:ue,listeners:Ve}))}}if((c&7)===0){e:{if(ue=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",ue&&f!==T0&&(Oe=f.relatedTarget||f.fromElement)&&(hs(Oe)||Oe[Ge]))break e;if((fe||ue)&&(ue=ye.window===ye?ye:(ue=ye.ownerDocument)?ue.defaultView||ue.parentWindow:window,fe?(Oe=f.relatedTarget||f.toElement,fe=le,Oe=Oe?hs(Oe):null,Oe!==null&&(Vt=i(Oe),Ve=Oe.tag,Oe!==Vt||Ve!==5&&Ve!==27&&Ve!==6)&&(Oe=null)):(fe=null,Oe=le),fe!==Oe)){if(Ve=FS,ve="onMouseLeave",ae="onMouseEnter",re="mouse",(o==="pointerout"||o==="pointerover")&&(Ve=US,ve="onPointerLeave",ae="onPointerEnter",re="pointer"),Vt=fe==null?ue:ku(fe),oe=Oe==null?ue:ku(Oe),ue=new Ve(ve,re+"leave",fe,f,ye),ue.target=Vt,ue.relatedTarget=oe,ve=null,hs(ye)===le&&(Ve=new Ve(ae,re+"enter",Oe,f,ye),Ve.target=oe,Ve.relatedTarget=Vt,ve=Ve),Vt=ve,fe&&Oe)t:{for(Ve=z7,ae=fe,re=Oe,oe=0,ve=ae;ve;ve=Ve(ve))oe++;ve=0;for(var We=re;We;We=Ve(We))ve++;for(;0<oe-ve;)ae=Ve(ae),oe--;for(;0<ve-oe;)re=Ve(re),ve--;for(;oe--;){if(ae===re||re!==null&&ae===re.alternate){Ve=ae;break t}ae=Ve(ae),re=Ve(re)}Ve=null}else Ve=null;fe!==null&&P2(we,ue,fe,Ve,!1),Oe!==null&&Vt!==null&&P2(we,Vt,Oe,Ve,!0)}}e:{if(ue=le?ku(le):window,fe=ue.nodeName&&ue.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ue.type==="file")var Tt=XS;else if(VS(ue))if(ZS)Tt=X$;else{Tt=V$;var Re=G$}else fe=ue.nodeName,!fe||fe.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&C0(le.elementType)&&(Tt=XS):Tt=Q$;if(Tt&&(Tt=Tt(o,le))){QS(we,Tt,f,ye);break e}Re&&Re(o,ue,le),o==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&k0(ue,"number",ue.value)}switch(Re=le?ku(le):window,o){case"focusin":(VS(Re)||Re.contentEditable==="true")&&(Wl=Re,F0=le,Ru=null);break;case"focusout":Ru=F0=Wl=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,iN(we,f,ye);break;case"selectionchange":if(J$)break;case"keydown":case"keyup":iN(we,f,ye)}var st;if(L0)e:{switch(o){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else Hl?KS(o,f)&&(wt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(wt="onCompositionStart");wt&&(HS&&f.locale!=="ko"&&(Hl||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Hl&&(st=BS()):(ki=ye,D0="value"in ki?ki.value:ki.textContent,Hl=!0)),Re=Wh(le,wt),0<Re.length&&(wt=new qS(wt,o,null,f,ye),we.push({event:wt,listeners:Re}),st?wt.data=st:(st=GS(f),st!==null&&(wt.data=st)))),(st=U$?H$(o,f):W$(o,f))&&(wt=Wh(le,"onBeforeInput"),0<wt.length&&(Re=new qS("onBeforeInput","beforeinput",null,f,ye),we.push({event:Re,listeners:wt}),Re.data=st)),I7(we,o,le,f,ye)}D2(we,c)})}function id(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Wh(o,c){for(var f=c+"Capture",p=[];o!==null;){var j=o,N=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||N===null||(j=Cu(o,f),j!=null&&p.unshift(id(o,j,N)),j=Cu(o,c),j!=null&&p.push(id(o,j,N))),o.tag===3)return p;o=o.return}return[]}function z7(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function P2(o,c,f,p,j){for(var N=c._reactName,O=[];f!==null&&f!==p;){var I=f,X=I.alternate,le=I.stateNode;if(I=I.tag,X!==null&&X===p)break;I!==5&&I!==26&&I!==27||le===null||(X=le,j?(le=Cu(f,N),le!=null&&O.unshift(id(f,le,X))):j||(le=Cu(f,N),le!=null&&O.push(id(f,le,X)))),f=f.return}O.length!==0&&o.push({event:c,listeners:O})}var F7=/\r\n?/g,q7=/\u0000|\uFFFD/g;function R2(o){return(typeof o=="string"?o:""+o).replace(F7,`
`).replace(q7,"")}function I2(o,c){return c=R2(c),R2(o)===c}function Gt(o,c,f,p,j,N){switch(f){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||Fl(o,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&Fl(o,""+p);break;case"className":Vf(o,"class",p);break;case"tabIndex":Vf(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Vf(o,f,p);break;case"style":IS(o,p,N);break;case"data":if(c!=="object"){Vf(o,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Xf(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(f==="formAction"?(c!=="input"&&Gt(o,c,"name",j.name,j,null),Gt(o,c,"formEncType",j.formEncType,j,null),Gt(o,c,"formMethod",j.formMethod,j,null),Gt(o,c,"formTarget",j.formTarget,j,null)):(Gt(o,c,"encType",j.encType,j,null),Gt(o,c,"method",j.method,j,null),Gt(o,c,"target",j.target,j,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Xf(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=Bs);break;case"onScroll":p!=null&&yt("scroll",o);break;case"onScrollEnd":p!=null&&yt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(f=p.__html,f!=null){if(j.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=Xf(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":yt("beforetoggle",o),yt("toggle",o),Gf(o,"popover",p);break;case"xlinkActuate":$s(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":$s(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":$s(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":$s(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":$s(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":$s(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":$s(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":$s(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":$s(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Gf(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=p$.get(f)||f,Gf(o,f,p))}}function hx(o,c,f,p,j,N){switch(f){case"style":IS(o,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(f=p.__html,f!=null){if(j.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"children":typeof p=="string"?Fl(o,p):(typeof p=="number"||typeof p=="bigint")&&Fl(o,""+p);break;case"onScroll":p!=null&&yt("scroll",o);break;case"onScrollEnd":p!=null&&yt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!CS.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(j=f.endsWith("Capture"),c=f.slice(2,j?f.length-7:void 0),N=o[me]||null,N=N!=null?N[f]:null,typeof N=="function"&&o.removeEventListener(c,N,j),typeof p=="function")){typeof N!="function"&&N!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,p,j);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):Gf(o,f,p)}}}function un(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",o),yt("load",o);var p=!1,j=!1,N;for(N in f)if(f.hasOwnProperty(N)){var O=f[N];if(O!=null)switch(N){case"src":p=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Gt(o,c,N,O,f,null)}}j&&Gt(o,c,"srcSet",f.srcSet,f,null),p&&Gt(o,c,"src",f.src,f,null);return;case"input":yt("invalid",o);var I=N=O=j=null,X=null,le=null;for(p in f)if(f.hasOwnProperty(p)){var ye=f[p];if(ye!=null)switch(p){case"name":j=ye;break;case"type":O=ye;break;case"checked":X=ye;break;case"defaultChecked":le=ye;break;case"value":N=ye;break;case"defaultValue":I=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,c));break;default:Gt(o,c,p,ye,f,null)}}DS(o,N,I,X,le,O,j,!1);return;case"select":yt("invalid",o),p=O=N=null;for(j in f)if(f.hasOwnProperty(j)&&(I=f[j],I!=null))switch(j){case"value":N=I;break;case"defaultValue":O=I;break;case"multiple":p=I;default:Gt(o,c,j,I,f,null)}c=N,f=O,o.multiple=!!p,c!=null?zl(o,!!p,c,!1):f!=null&&zl(o,!!p,f,!0);return;case"textarea":yt("invalid",o),N=j=p=null;for(O in f)if(f.hasOwnProperty(O)&&(I=f[O],I!=null))switch(O){case"value":p=I;break;case"defaultValue":j=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:Gt(o,c,O,I,f,null)}PS(o,p,j,N);return;case"option":for(X in f)if(f.hasOwnProperty(X)&&(p=f[X],p!=null))switch(X){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Gt(o,c,X,p,f,null)}return;case"dialog":yt("beforetoggle",o),yt("toggle",o),yt("cancel",o),yt("close",o);break;case"iframe":case"object":yt("load",o);break;case"video":case"audio":for(p=0;p<sd.length;p++)yt(sd[p],o);break;case"image":yt("error",o),yt("load",o);break;case"details":yt("toggle",o);break;case"embed":case"source":case"link":yt("error",o),yt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in f)if(f.hasOwnProperty(le)&&(p=f[le],p!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Gt(o,c,le,p,f,null)}return;default:if(C0(c)){for(ye in f)f.hasOwnProperty(ye)&&(p=f[ye],p!==void 0&&hx(o,c,ye,p,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(p=f[I],p!=null&&Gt(o,c,I,p,f,null))}function U7(o,c,f,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,N=null,O=null,I=null,X=null,le=null,ye=null;for(fe in f){var we=f[fe];if(f.hasOwnProperty(fe)&&we!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":X=we;default:p.hasOwnProperty(fe)||Gt(o,c,fe,null,p,we)}}for(var ue in p){var fe=p[ue];if(we=f[ue],p.hasOwnProperty(ue)&&(fe!=null||we!=null))switch(ue){case"type":N=fe;break;case"name":j=fe;break;case"checked":le=fe;break;case"defaultChecked":ye=fe;break;case"value":O=fe;break;case"defaultValue":I=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,c));break;default:fe!==we&&Gt(o,c,ue,fe,p,we)}}N0(o,O,I,X,le,ye,N,j);return;case"select":fe=O=I=ue=null;for(N in f)if(X=f[N],f.hasOwnProperty(N)&&X!=null)switch(N){case"value":break;case"multiple":fe=X;default:p.hasOwnProperty(N)||Gt(o,c,N,null,p,X)}for(j in p)if(N=p[j],X=f[j],p.hasOwnProperty(j)&&(N!=null||X!=null))switch(j){case"value":ue=N;break;case"defaultValue":I=N;break;case"multiple":O=N;default:N!==X&&Gt(o,c,j,N,p,X)}c=I,f=O,p=fe,ue!=null?zl(o,!!f,ue,!1):!!p!=!!f&&(c!=null?zl(o,!!f,c,!0):zl(o,!!f,f?[]:"",!1));return;case"textarea":fe=ue=null;for(I in f)if(j=f[I],f.hasOwnProperty(I)&&j!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Gt(o,c,I,null,p,j)}for(O in p)if(j=p[O],N=f[O],p.hasOwnProperty(O)&&(j!=null||N!=null))switch(O){case"value":ue=j;break;case"defaultValue":fe=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:j!==N&&Gt(o,c,O,j,p,N)}MS(o,ue,fe);return;case"option":for(var Oe in f)if(ue=f[Oe],f.hasOwnProperty(Oe)&&ue!=null&&!p.hasOwnProperty(Oe))switch(Oe){case"selected":o.selected=!1;break;default:Gt(o,c,Oe,null,p,ue)}for(X in p)if(ue=p[X],fe=f[X],p.hasOwnProperty(X)&&ue!==fe&&(ue!=null||fe!=null))switch(X){case"selected":o.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Gt(o,c,X,ue,p,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in f)ue=f[Ve],f.hasOwnProperty(Ve)&&ue!=null&&!p.hasOwnProperty(Ve)&&Gt(o,c,Ve,null,p,ue);for(le in p)if(ue=p[le],fe=f[le],p.hasOwnProperty(le)&&ue!==fe&&(ue!=null||fe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,c));break;default:Gt(o,c,le,ue,p,fe)}return;default:if(C0(c)){for(var Vt in f)ue=f[Vt],f.hasOwnProperty(Vt)&&ue!==void 0&&!p.hasOwnProperty(Vt)&&hx(o,c,Vt,void 0,p,ue);for(ye in p)ue=p[ye],fe=f[ye],!p.hasOwnProperty(ye)||ue===fe||ue===void 0&&fe===void 0||hx(o,c,ye,ue,p,fe);return}}for(var ae in f)ue=f[ae],f.hasOwnProperty(ae)&&ue!=null&&!p.hasOwnProperty(ae)&&Gt(o,c,ae,null,p,ue);for(we in p)ue=p[we],fe=f[we],!p.hasOwnProperty(we)||ue===fe||ue==null&&fe==null||Gt(o,c,we,ue,p,fe)}function L2(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H7(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var j=f[p],N=j.transferSize,O=j.initiatorType,I=j.duration;if(N&&I&&L2(O)){for(O=0,I=j.responseEnd,p+=1;p<f.length;p++){var X=f[p],le=X.startTime;if(le>I)break;var ye=X.transferSize,we=X.initiatorType;ye&&L2(we)&&(X=X.responseEnd,O+=ye*(X<I?1:(I-le)/(X-le)))}if(--p,c+=8*(N+O)/(j.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var mx=null,gx=null;function Yh(o){return o.nodeType===9?o:o.ownerDocument}function $2(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B2(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function px(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var yx=null;function W7(){var o=window.event;return o&&o.type==="popstate"?o===yx?!1:(yx=o,!0):(yx=null,!1)}var z2=typeof setTimeout=="function"?setTimeout:void 0,Y7=typeof clearTimeout=="function"?clearTimeout:void 0,F2=typeof Promise=="function"?Promise:void 0,K7=typeof queueMicrotask=="function"?queueMicrotask:typeof F2<"u"?function(o){return F2.resolve(null).then(o).catch(G7)}:z2;function G7(o){setTimeout(function(){throw o})}function Ui(o){return o==="head"}function q2(o,c){var f=c,p=0;do{var j=f.nextSibling;if(o.removeChild(f),j&&j.nodeType===8)if(f=j.data,f==="/$"||f==="/&"){if(p===0){o.removeChild(j),xc(c);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")od(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,od(f);for(var N=f.firstChild;N;){var O=N.nextSibling,I=N.nodeName;N[jn]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=O}}else f==="body"&&od(o.ownerDocument.body);f=j}while(f);xc(c)}function U2(o,c){var f=o;o=0;do{var p=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=p}while(f)}function xx(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":xx(f),To(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function V7(o,c,f,p){for(;o.nodeType===1;){var j=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[jn])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==j.rel||o.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||o.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||o.getAttribute("title")!==(j.title==null?null:j.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(j.src==null?null:j.src)||o.getAttribute("type")!==(j.type==null?null:j.type)||o.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var N=j.name==null?null:""+j.name;if(j.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=Aa(o.nextSibling),o===null)break}return null}function Q7(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Aa(o.nextSibling),o===null))return null;return o}function H2(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Aa(o.nextSibling),o===null))return null;return o}function vx(o){return o.data==="$?"||o.data==="$~"}function bx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function X7(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var p=function(){c(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Aa(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var wx=null;function W2(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return Aa(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function Y2(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function K2(o,c,f){switch(c=Yh(f),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function od(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);To(o)}var Ea=new Map,G2=new Set;function Kh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ti=ee.d;ee.d={f:Z7,r:J7,D:eB,C:tB,L:rB,m:nB,X:sB,S:aB,M:iB};function Z7(){var o=ti.f(),c=$h();return o||c}function J7(o){var c=Ll(o);c!==null&&c.tag===5&&c.type==="form"?dk(c):ti.r(o)}var gc=typeof document>"u"?null:document;function V2(o,c,f){var p=gc;if(p&&typeof c=="string"&&c){var j=ja(c);j='link[rel="'+o+'"][href="'+j+'"]',typeof f=="string"&&(j+='[crossorigin="'+f+'"]'),G2.has(j)||(G2.add(j),o={rel:o,crossOrigin:f,href:c},p.querySelector(j)===null&&(c=p.createElement("link"),un(c,"link",o),Gr(c),p.head.appendChild(c)))}}function eB(o){ti.D(o),V2("dns-prefetch",o,null)}function tB(o,c){ti.C(o,c),V2("preconnect",o,c)}function rB(o,c,f){ti.L(o,c,f);var p=gc;if(p&&o&&c){var j='link[rel="preload"][as="'+ja(c)+'"]';c==="image"&&f&&f.imageSrcSet?(j+='[imagesrcset="'+ja(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(j+='[imagesizes="'+ja(f.imageSizes)+'"]')):j+='[href="'+ja(o)+'"]';var N=j;switch(c){case"style":N=pc(o);break;case"script":N=yc(o)}Ea.has(N)||(o=g({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),Ea.set(N,o),p.querySelector(j)!==null||c==="style"&&p.querySelector(ld(N))||c==="script"&&p.querySelector(cd(N))||(c=p.createElement("link"),un(c,"link",o),Gr(c),p.head.appendChild(c)))}}function nB(o,c){ti.m(o,c);var f=gc;if(f&&o){var p=c&&typeof c.as=="string"?c.as:"script",j='link[rel="modulepreload"][as="'+ja(p)+'"][href="'+ja(o)+'"]',N=j;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=yc(o)}if(!Ea.has(N)&&(o=g({rel:"modulepreload",href:o},c),Ea.set(N,o),f.querySelector(j)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(cd(N)))return}p=f.createElement("link"),un(p,"link",o),Gr(p),f.head.appendChild(p)}}}function aB(o,c,f){ti.S(o,c,f);var p=gc;if(p&&o){var j=$l(p).hoistableStyles,N=pc(o);c=c||"default";var O=j.get(N);if(!O){var I={loading:0,preload:null};if(O=p.querySelector(ld(N)))I.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},f),(f=Ea.get(N))&&jx(o,f);var X=O=p.createElement("link");Gr(X),un(X,"link",o),X._p=new Promise(function(le,ye){X.onload=le,X.onerror=ye}),X.addEventListener("load",function(){I.loading|=1}),X.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Gh(O,c,p)}O={type:"stylesheet",instance:O,count:1,state:I},j.set(N,O)}}}function sB(o,c){ti.X(o,c);var f=gc;if(f&&o){var p=$l(f).hoistableScripts,j=yc(o),N=p.get(j);N||(N=f.querySelector(cd(j)),N||(o=g({src:o,async:!0},c),(c=Ea.get(j))&&_x(o,c),N=f.createElement("script"),Gr(N),un(N,"link",o),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(j,N))}}function iB(o,c){ti.M(o,c);var f=gc;if(f&&o){var p=$l(f).hoistableScripts,j=yc(o),N=p.get(j);N||(N=f.querySelector(cd(j)),N||(o=g({src:o,async:!0,type:"module"},c),(c=Ea.get(j))&&_x(o,c),N=f.createElement("script"),Gr(N),un(N,"link",o),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(j,N))}}function Q2(o,c,f,p){var j=(j=be.current)?Kh(j):null;if(!j)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=pc(f.href),f=$l(j).hoistableStyles,p=f.get(c),p||(p={type:"style",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=pc(f.href);var N=$l(j).hoistableStyles,O=N.get(o);if(O||(j=j.ownerDocument||j,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,O),(N=j.querySelector(ld(o)))&&!N._p&&(O.instance=N,O.state.loading=5),Ea.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ea.set(o,f),N||oB(j,o,f,O.state))),c&&p===null)throw Error(n(528,""));return O}if(c&&p!==null)throw Error(n(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=yc(f),f=$l(j).hoistableScripts,p=f.get(c),p||(p={type:"script",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function pc(o){return'href="'+ja(o)+'"'}function ld(o){return'link[rel="stylesheet"]['+o+"]"}function X2(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function oB(o,c,f,p){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=o.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),un(c,"link",f),Gr(c),o.head.appendChild(c))}function yc(o){return'[src="'+ja(o)+'"]'}function cd(o){return"script[async]"+o}function Z2(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var p=o.querySelector('style[data-href~="'+ja(f.href)+'"]');if(p)return c.instance=p,Gr(p),p;var j=g({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Gr(p),un(p,"style",j),Gh(p,f.precedence,o),c.instance=p;case"stylesheet":j=pc(f.href);var N=o.querySelector(ld(j));if(N)return c.state.loading|=4,c.instance=N,Gr(N),N;p=X2(f),(j=Ea.get(j))&&jx(p,j),N=(o.ownerDocument||o).createElement("link"),Gr(N);var O=N;return O._p=new Promise(function(I,X){O.onload=I,O.onerror=X}),un(N,"link",p),c.state.loading|=4,Gh(N,f.precedence,o),c.instance=N;case"script":return N=yc(f.src),(j=o.querySelector(cd(N)))?(c.instance=j,Gr(j),j):(p=f,(j=Ea.get(N))&&(p=g({},f),_x(p,j)),o=o.ownerDocument||o,j=o.createElement("script"),Gr(j),un(j,"link",p),o.head.appendChild(j),c.instance=j);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,Gh(p,f.precedence,o));return c.instance}function Gh(o,c,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=p.length?p[p.length-1]:null,N=j,O=0;O<p.length;O++){var I=p[O];if(I.dataset.precedence===c)N=I;else if(N!==j)break}N?N.parentNode.insertBefore(o,N.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function jx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function _x(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Vh=null;function J2(o,c,f){if(Vh===null){var p=new Map,j=Vh=new Map;j.set(f,p)}else j=Vh,p=j.get(f),p||(p=new Map,j.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),j=0;j<f.length;j++){var N=f[j];if(!(N[jn]||N[q]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var O=N.getAttribute(c)||"";O=o+O;var I=p.get(O);I?I.push(N):p.set(O,[N])}}return p}function eC(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function lB(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function tC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function cB(o,c,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var j=pc(p.href),N=c.querySelector(ld(j));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Qh.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=N,Gr(N);return}N=c.ownerDocument||c,p=X2(p),(j=Ea.get(j))&&jx(p,j),N=N.createElement("link"),Gr(N);var O=N;O._p=new Promise(function(I,X){O.onload=I,O.onerror=X}),un(N,"link",p),f.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Qh.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var Sx=0;function uB(o,c){return o.stylesheets&&o.count===0&&Zh(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var p=setTimeout(function(){if(o.stylesheets&&Zh(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+c);0<o.imgBytes&&Sx===0&&(Sx=62500*H7());var j=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Zh(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>Sx?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(j)}}:null}function Qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Xh=null;function Zh(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Xh=new Map,c.forEach(dB,o),Xh=null,Qh.call(o))}function dB(o,c){if(!(c.state.loading&4)){var f=Xh.get(o);if(f)var p=f.get(null);else{f=new Map,Xh.set(o,f);for(var j=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<j.length;N++){var O=j[N];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(f.set(O.dataset.precedence,O),p=O)}p&&f.set(null,p)}j=c.instance,O=j.getAttribute("data-precedence"),N=f.get(O)||p,N===p&&f.set(null,j),f.set(O,j),this.count++,p=Qh.bind(this),j.addEventListener("load",p),j.addEventListener("error",p),N?N.parentNode.insertBefore(j,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(j,o.firstChild)),c.state.loading|=4}}var ud={$$typeof:C,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function fB(o,c,f,p,j,N,O,I,X){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=p,this.onUncaughtError=j,this.onCaughtError=N,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function rC(o,c,f,p,j,N,O,I,X,le,ye,we){return o=new fB(o,c,f,O,X,le,ye,we,I),c=1,N===!0&&(c|=24),N=Qn(3,null,null,c),o.current=N,N.stateNode=o,c=ny(),c.refCount++,o.pooledCache=c,c.refCount++,N.memoizedState={element:p,isDehydrated:f,cache:c},oy(N),o}function nC(o){return o?(o=Gl,o):Gl}function aC(o,c,f,p,j,N){j=nC(j),p.context===null?p.context=j:p.pendingContext=j,p=Di(c),p.payload={element:f},N=N===void 0?null:N,N!==null&&(p.callback=N),f=Mi(o,p,c),f!==null&&(In(f,o,c),qu(f,o,c))}function sC(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Nx(o,c){sC(o,c),(o=o.alternate)&&sC(o,c)}function iC(o){if(o.tag===13||o.tag===31){var c=Mo(o,67108864);c!==null&&In(c,o,67108864),Nx(o,67108864)}}function oC(o){if(o.tag===13||o.tag===31){var c=ta();c=ba(c);var f=Mo(o,c);f!==null&&In(f,o,c),Nx(o,c)}}var Jh=!0;function hB(o,c,f,p){var j=$.T;$.T=null;var N=ee.p;try{ee.p=2,kx(o,c,f,p)}finally{ee.p=N,$.T=j}}function mB(o,c,f,p){var j=$.T;$.T=null;var N=ee.p;try{ee.p=8,kx(o,c,f,p)}finally{ee.p=N,$.T=j}}function kx(o,c,f,p){if(Jh){var j=Cx(p);if(j===null)fx(o,c,p,em,f),cC(o,p);else if(pB(j,o,c,f,p))p.stopPropagation();else if(cC(o,p),c&4&&-1<gB.indexOf(o)){for(;j!==null;){var N=Ll(j);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var O=Ce(N.pendingLanes);if(O!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;O;){var X=1<<31-Xe(O);I.entanglements[1]|=X,O&=~X}ys(N),(Mt&6)===0&&(Ih=ie()+500,ad(0))}}break;case 31:case 13:I=Mo(N,2),I!==null&&In(I,N,2),$h(),Nx(N,2)}if(N=Cx(p),N===null&&fx(o,c,p,em,f),N===j)break;j=N}j!==null&&p.stopPropagation()}else fx(o,c,p,null,f)}}function Cx(o){return o=A0(o),Tx(o)}var em=null;function Tx(o){if(em=null,o=hs(o),o!==null){var c=i(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=l(c),o!==null)return o;o=null}else if(f===31){if(o=u(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return em=o,null}function lC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(R()){case se:return 2;case xe:return 8;case Te:case et:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var Ax=!1,Hi=null,Wi=null,Yi=null,dd=new Map,fd=new Map,Ki=[],gB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cC(o,c){switch(o){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":dd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(c.pointerId)}}function hd(o,c,f,p,j,N){return o===null||o.nativeEvent!==N?(o={blockedOn:c,domEventName:f,eventSystemFlags:p,nativeEvent:N,targetContainers:[j]},c!==null&&(c=Ll(c),c!==null&&iC(c)),o):(o.eventSystemFlags|=p,c=o.targetContainers,j!==null&&c.indexOf(j)===-1&&c.push(j),o)}function pB(o,c,f,p,j){switch(c){case"focusin":return Hi=hd(Hi,o,c,f,p,j),!0;case"dragenter":return Wi=hd(Wi,o,c,f,p,j),!0;case"mouseover":return Yi=hd(Yi,o,c,f,p,j),!0;case"pointerover":var N=j.pointerId;return dd.set(N,hd(dd.get(N)||null,o,c,f,p,j)),!0;case"gotpointercapture":return N=j.pointerId,fd.set(N,hd(fd.get(N)||null,o,c,f,p,j)),!0}return!1}function uC(o){var c=hs(o.target);if(c!==null){var f=i(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){o.blockedOn=c,Ga(o.priority,function(){oC(f)});return}}else if(c===31){if(c=u(f),c!==null){o.blockedOn=c,Ga(o.priority,function(){oC(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function tm(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=Cx(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);T0=p,f.target.dispatchEvent(p),T0=null}else return c=Ll(f),c!==null&&iC(c),o.blockedOn=f,!1;c.shift()}return!0}function dC(o,c,f){tm(o)&&f.delete(c)}function yB(){Ax=!1,Hi!==null&&tm(Hi)&&(Hi=null),Wi!==null&&tm(Wi)&&(Wi=null),Yi!==null&&tm(Yi)&&(Yi=null),dd.forEach(dC),fd.forEach(dC)}function rm(o,c){o.blockedOn===c&&(o.blockedOn=null,Ax||(Ax=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yB)))}var nm=null;function fC(o){nm!==o&&(nm=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){nm===o&&(nm=null);for(var c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],j=o[c+2];if(typeof p!="function"){if(Tx(p||f)===null)continue;break}var N=Ll(f);N!==null&&(o.splice(c,3),c-=3,Cy(N,{pending:!0,data:j,method:f.method,action:p},p,j))}}))}function xc(o){function c(X){return rm(X,o)}Hi!==null&&rm(Hi,o),Wi!==null&&rm(Wi,o),Yi!==null&&rm(Yi,o),dd.forEach(c),fd.forEach(c);for(var f=0;f<Ki.length;f++){var p=Ki[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ki.length&&(f=Ki[0],f.blockedOn===null);)uC(f),f.blockedOn===null&&Ki.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var j=f[p],N=f[p+1],O=j[me]||null;if(typeof N=="function")O||fC(f);else if(O){var I=null;if(N&&N.hasAttribute("formAction")){if(j=N,O=N[me]||null)I=O.formAction;else if(Tx(j)!==null)continue}else I=O.action;typeof I=="function"?f[p+1]=I:(f.splice(p,3),p-=3),fC(f)}}}function hC(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(O){return j=O})},focusReset:"manual",scroll:"manual"})}function c(){j!==null&&(j(),j=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,j=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),j!==null&&(j(),j=null)}}}function Ex(o){this._internalRoot=o}am.prototype.render=Ex.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var f=c.current,p=ta();aC(f,p,o,c,null,null)},am.prototype.unmount=Ex.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;aC(o.current,2,null,o,null,null),$h(),c[Ge]=null}};function am(o){this._internalRoot=o}am.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ct();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Ki.length&&c!==0&&c<Ki[f].priority;f++);Ki.splice(f,0,o),f===0&&uC(o)}};var mC=t.version;if(mC!=="19.2.0")throw Error(n(527,mC,"19.2.0"));ee.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=m(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var xB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{Bt=sm.inject(xB),Yt=sm}catch{}}return gd.createRoot=function(o,c){if(!a(o))throw Error(n(299));var f=!1,p="",j=wk,N=jk,O=_k;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(j=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=rC(o,1,!1,null,null,f,p,null,j,N,O,hC),o[Ge]=c.current,dx(o),new Ex(c)},gd.hydrateRoot=function(o,c,f){if(!a(o))throw Error(n(299));var p=!1,j="",N=wk,O=jk,I=_k,X=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(j=f.identifierPrefix),f.onUncaughtError!==void 0&&(N=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.formState!==void 0&&(X=f.formState)),c=rC(o,1,!0,c,f??null,p,j,X,N,O,I,hC),c.context=nC(null),f=c.current,p=ta(),p=ba(p),j=Di(p),j.callback=null,Mi(f,j,p),f=p,c.current.lanes=f,bn(c,f),ys(c),o[Ge]=c.current,dx(o),new am(c)},gd.version="19.2.0",gd}var SC;function AB(){if(SC)return Mx.exports;SC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mx.exports=TB(),Mx.exports}var EB=AB(),su=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},OB={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},DB=class{#e=OB;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},nl=new DB;function MB(e){setTimeout(e,0)}var ml=typeof window>"u"||"Deno"in globalThis;function Sn(){}function PB(e,t){return typeof e=="function"?e(t):e}function Zb(e){return typeof e=="number"&&e>=0&&e!==1/0}function zM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function so(e,t){return typeof e=="function"?e(t):e}function La(e,t){return typeof e=="function"?e(t):e}function NC(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==D1(l,t.options))return!1}else if(!Ud(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||i&&!i(t))}function kC(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(gl(t.options.mutationKey)!==gl(i))return!1}else if(!Ud(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function D1(e,t){return(t?.queryKeyHashFn||gl)(e)}function gl(e){return JSON.stringify(e,(t,r)=>Jb(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ud(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ud(e[r],t[r])):!1}var RB=Object.prototype.hasOwnProperty;function FM(e,t){if(e===t)return e;const r=CC(e)&&CC(t);if(!r&&!(Jb(e)&&Jb(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),l=i.length,u=r?new Array(l):{};let d=0;for(let m=0;m<l;m++){const h=r?m:i[m],g=e[h],y=t[h];if(g===y){u[h]=g,(r?m<a:RB.call(e,h))&&d++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){u[h]=y;continue}const v=FM(g,y);u[h]=v,v===g&&d++}return a===l&&d===a?e:u}function Qm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function CC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jb(e){if(!TC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!TC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function TC(e){return Object.prototype.toString.call(e)==="[object Object]"}function IB(e){return new Promise(t=>{nl.setTimeout(t,e)})}function ew(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?FM(e,t):t}function LB(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function $B(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var M1=Symbol();function qM(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===M1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function UM(e,t){return typeof e=="function"?e(...t):!!e}var BB=class extends su{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!ml&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},P1=new BB;function tw(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var zB=MB;function FB(){let e=[],t=0,r=u=>{u()},n=u=>{u()},a=zB;const i=u=>{t?e.push(u):a(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&a(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{i(()=>{u(...d)})},schedule:i,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{a=u}}}var Hr=FB(),qB=class extends su{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!ml&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Xm=new qB;function UB(e){return Math.min(1e3*2**e,3e4)}function HM(e){return(e??"online")==="online"?Xm.isOnline():!0}var rw=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function WM(e){let t=!1,r=0,n;const a=tw(),i=()=>a.status!=="pending",l=w=>{if(!i()){const b=new rw(w);y(b),e.onCancel?.(b)}},u=()=>{t=!0},d=()=>{t=!1},m=()=>P1.isFocused()&&(e.networkMode==="always"||Xm.isOnline())&&e.canRun(),h=()=>HM(e.networkMode)&&e.canRun(),g=w=>{i()||(n?.(),a.resolve(w))},y=w=>{i()||(n?.(),a.reject(w))},v=()=>new Promise(w=>{n=b=>{(i()||m())&&w(b)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),_=()=>{if(i())return;let w;const b=r===0?e.initialPromise:void 0;try{w=b??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(g).catch(S=>{if(i())return;const k=e.retry??(ml?0:3),C=e.retryDelay??UB,A=typeof C=="function"?C(r,S):C,E=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,S);if(t||!E){y(S);return}r++,e.onFail?.(r,S),IB(A).then(()=>m()?void 0:v()).then(()=>{t?y(S):_()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n?.(),a),cancelRetry:u,continueRetry:d,canStart:h,start:()=>(h()?_():v().then(_),a)}}var YM=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zb(this.gcTime)&&(this.#e=nl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ml?1/0:300*1e3))}clearGcTimeout(){this.#e&&(nl.clearTimeout(this.#e),this.#e=void 0)}},HB=class extends YM{#e;#t;#r;#a;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=AC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=AC(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=ew(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>La(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>so(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!zM(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const u=qM(this.options,t),m=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#o=!1,this.options.persister?this.options.persister(u,m,this):u(m)},l=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(u),u})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=WM({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:u=>{u instanceof rw&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const u=await this.#n.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof rw){if(u.silent)return this.#n.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#s({type:"error",error:u}),this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...KM(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Hr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function KM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function AC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var WB=class extends su{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=tw(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#i;#o;#s;#g;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),EC(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nw(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nw(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof La(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),t._defaulted&&!Qm(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&OC(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||La(this.options.enabled,this.#t)!==La(t.enabled,this.#t)||so(this.options.staleTime,this.#t)!==so(t.staleTime,this.#t))&&this.#p();const a=this.#y();n&&(this.#t!==r||La(this.options.enabled,this.#t)!==La(t.enabled,this.#t)||a!==this.#l)&&this.#x(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return KB(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Sn)),t}#p(){this.#b();const e=so(this.options.staleTime,this.#t);if(ml||this.#a.isStale||!Zb(e))return;const r=zM(this.#a.dataUpdatedAt,e)+1;this.#c=nl.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#w(),this.#l=e,!(ml||La(this.options.enabled,this.#t)===!1||!Zb(this.#l)||this.#l===0)&&(this.#u=nl.setInterval(()=>{(this.options.refetchIntervalInBackground||P1.isFocused())&&this.#d()},this.#l))}#v(){this.#p(),this.#x(this.#y())}#b(){this.#c&&(nl.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(nl.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,l=this.#i,d=e!==r?e.state:this.#r,{state:m}=e;let h={...m},g=!1,y;if(t._optimisticResults){const D=this.hasListeners(),L=!D&&EC(e,t),B=D&&OC(e,r,t,n);(L||B)&&(h={...h,...KM(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:w}=h;y=h.data;let b=!1;if(t.placeholderData!==void 0&&y===void 0&&w==="pending"){let D;a?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(D=a.data,b=!0):D=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,D!==void 0&&(w="success",y=ew(a?.data,D,t),g=!0)}if(t.select&&y!==void 0&&!b)if(a&&y===i?.data&&t.select===this.#g)y=this.#f;else try{this.#g=t.select,y=t.select(y),y=ew(a?.data,y,t),this.#f=y,this.#s=null}catch(D){this.#s=D}this.#s&&(v=this.#s,y=this.#f,_=Date.now(),w="error");const S=h.fetchStatus==="fetching",k=w==="pending",C=w==="error",A=k&&S,E=y!==void 0,T={status:w,fetchStatus:h.fetchStatus,isPending:k,isSuccess:w==="success",isError:C,isInitialLoading:A,isLoading:A,data:y,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:C&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&E,isStale:R1(e,t),refetch:this.refetch,promise:this.#o,isEnabled:La(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=z=>{T.status==="error"?z.reject(T.error):T.data!==void 0&&z.resolve(T.data)},L=()=>{const z=this.#o=T.promise=tw();D(z)},B=this.#o;switch(B.status){case"pending":e.queryHash===r.queryHash&&D(B);break;case"fulfilled":(T.status==="error"||T.data!==B.value)&&L();break;case"rejected":(T.status!=="error"||T.error!==B.reason)&&L();break}}return T}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Qm(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(l=>{const u=l;return this.#a[u]!==e[u]&&i.has(u)})};this.#_({listeners:r()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#_(e){Hr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function YB(e,t){return La(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function EC(e,t){return YB(e,t)||e.state.data!==void 0&&nw(e,t,t.refetchOnMount)}function nw(e,t,r){if(La(t.enabled,e)!==!1&&so(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&R1(e,t)}return!1}function OC(e,t,r,n){return(e!==t||La(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&R1(e,r)}function R1(e,t){return La(t.enabled,e)!==!1&&e.isStaleByTime(so(t.staleTime,e))}function KB(e,t){return!Qm(e.getCurrentResult(),t)}function DC(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const m=async()=>{let h=!1;const g=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},y=qM(t.options,t.fetchOptions),v=async(_,w,b)=>{if(h)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:w,direction:b?"backward":"forward",meta:t.options.meta};return g(M),M})(),C=await y(k),{maxPages:A}=t.options,E=b?$B:LB;return{pages:E(_.pages,C,A),pageParams:E(_.pageParams,w,A)}};if(a&&i.length){const _=a==="backward",w=_?GB:MC,b={pages:i,pageParams:l},S=w(n,b);u=await v(b,S,_)}else{const _=e??i.length;do{const w=d===0?l[0]??n.initialPageParam:MC(n,u);if(d>0&&w==null)break;u=await v(u,w),d++}while(d<_)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=m}}}function MC(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function GB(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var VB=class extends YM{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||GM(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=WM({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const l=await this.options.onMutate?.(e,r);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Hr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function GM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var QB=class extends su{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new VB({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=im(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=im(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=im(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=im(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Hr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>kC(t,r))}findAll(e={}){return this.getAll().filter(t=>kC(e,t))}notify(e){Hr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Hr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Sn))))}};function im(e){return e.options.scope?.id}var XB=class extends su{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Qm(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&gl(r.mutationKey)!==gl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??GM();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Hr.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},ZB=class extends su{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??D1(n,t);let i=this.get(a);return i||(i=new HB({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Hr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>NC(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>NC(e,r)):t}notify(e){Hr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Hr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Hr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},JB=class{#e;#t;#r;#a;#n;#i;#o;#s;constructor(e={}){this.#e=e.queryCache||new ZB,this.#t=e.mutationCache||new QB,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=P1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Xm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(so(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,l=PB(t,i);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Hr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Hr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Hr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Hr.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Sn).catch(Sn)}invalidateQueries(e,t={}){return Hr.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Hr.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Sn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(so(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sn).catch(Sn)}fetchInfiniteQuery(e){return e.behavior=DC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sn).catch(Sn)}ensureInfiniteQueryData(e){return e.behavior=DC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(gl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Ud(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(gl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ud(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=D1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===M1&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},VM=x.createContext(void 0),ut=e=>{const t=x.useContext(VM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ez=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(VM.Provider,{value:e,children:t})),QM=x.createContext(!1),tz=()=>x.useContext(QM);QM.Provider;function rz(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nz=x.createContext(rz()),az=()=>x.useContext(nz),sz=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},iz=e=>{x.useEffect(()=>{e.clearReset()},[e])},oz=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||UM(r,[e.error,n])),lz=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cz=(e,t)=>e.isLoading&&e.isFetching&&!t,uz=(e,t)=>e?.suspense&&t.isPending,PC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function dz(e,t,r){const n=tz(),a=az(),i=ut(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",lz(l),sz(l,a),iz(a);const u=!i.getQueryCache().get(l.queryHash),[d]=x.useState(()=>new t(i,l)),m=d.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(g=>{const y=h?d.subscribe(Hr.batchCalls(g)):Sn;return d.updateResult(),y},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(l)},[l,d]),uz(l,m))throw PC(l,d,a);if(oz({result:m,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!ml&&cz(m,n)&&(u?PC(l,d,a):i.getQueryCache().get(l.queryHash)?.promise)?.catch(Sn).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?m:d.trackResult(m)}function Ie(e,t){return dz(e,WB)}function jt(e,t){const r=ut(),[n]=x.useState(()=>new XB(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(l=>n.subscribe(Hr.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((l,u)=>{n.mutate(l,u).catch(Sn)},[n]);if(a.error&&UM(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const fz="modulepreload",hz=function(e){return"/"+e},RC={},uf=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let m=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var l=m;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=m(r.map(h=>{if(h=hz(h),h in RC)return;RC[h]=!0;const g=h.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":fz,g||(v.as="script"),v.crossOrigin="",v.href=h,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((_,w)=>{v.addEventListener("load",_),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&i(d.reason);return t().catch(i)})},mz=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>uf(async()=>{const{default:n}=await Promise.resolve().then(()=>iu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class I1 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class IC extends I1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class LC extends I1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $C extends I1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var aw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(aw||(aw={}));var gz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class pz{constructor(t,{headers:r={},customFetch:n,region:a=aw.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=mz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return gz(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:l,signal:u}=r;let d={},{region:m}=r;m||(m=this.region);const h=new URL(`${this.url}/${t}`);m&&m!=="any"&&(d["x-region"]=m,h.searchParams.set("forceFunctionRegion",m));let g;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(d["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(d["Content-Type"]="application/json",g=JSON.stringify(l)));const y=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:g,signal:u}).catch(b=>{throw b.name==="AbortError"?b:new IC(b)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new LC(y);if(!y.ok)throw new $C(y);let _=((n=y.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield y.json():_==="application/octet-stream"?w=yield y.blob():_==="text/event-stream"?w=y:_==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null,response:y}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new IC(a)}:{data:null,error:a,response:a instanceof $C||a instanceof LC?a.context:void 0}}})}}var Qr={},vc={},bc={},wc={},jc={},_c={},yz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hc=yz();const xz=Hc.fetch,XM=Hc.fetch.bind(Hc),ZM=Hc.Headers,vz=Hc.Request,bz=Hc.Response,iu=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZM,Request:vz,Response:bz,default:XM,fetch:xz},Symbol.toStringTag,{value:"Module"})),wz=wB(iu);var om={},BC;function JM(){if(BC)return om;BC=1,Object.defineProperty(om,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return om.default=e,om}var zC;function e4(){if(zC)return _c;zC=1;var e=_c&&_c.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(_c,"__esModule",{value:!0});const t=e(wz),r=e(JM());class n{constructor(i){var l,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var h,g,y,v;let _=null,w=null,b=null,S=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const M=await m.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?w=M:w=JSON.parse(M))}const A=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),E=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");A&&E&&E.length>1&&(b=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,b=null,S=406,k="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await m.text();try{_=JSON.parse(A),Array.isArray(_)&&m.status===404&&(w=[],_=null,S=200,k="OK")}catch{m.status===404&&A===""?(S=204,k="No Content"):_={message:A}}if(_&&this.isMaybeSingle&&(!((v=_?.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,S=200,k="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:w,count:b,status:S,statusText:k}});return this.shouldThrowOnError||(d=d.catch(m=>{var h,g,y;return{error:{message:`${(h=m?.name)!==null&&h!==void 0?h:"FetchError"}: ${m?.message}`,details:`${(g=m?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=m?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,l)}returns(){return this}overrideTypes(){return this}}return _c.default=n,_c}var FC;function t4(){if(FC)return jc;FC=1;var e=jc&&jc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jc,"__esModule",{value:!0});const t=e(e4());class r extends t.default{select(a){let i=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const m=d?`${d}.order`:"order",h=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${h?`${h},`:""}${a}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(m,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:m="text"}={}){var h;const g=[a?"analyze":null,i?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${g};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return jc.default=r,jc}var qC;function L1(){if(qC)return wc;qC=1;var e=wc&&wc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wc,"__esModule",{value:!0});const t=e(t4());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const l=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const m=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${m}.${i}`),this}match(a){return Object.entries(a).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(a,i,l){return this.url.searchParams.append(a,`not.${i}.${l}`),this}or(a,{foreignTable:i,referencedTable:l=i}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,i,l){return this.url.searchParams.append(a,`${i}.${l}`),this}}return wc.default=r,wc}var UC;function r4(){if(UC)return bc;UC=1;var e=bc&&bc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bc,"__esModule",{value:!0});const t=e(L1());class r{constructor(a,{headers:i={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(i),this.schema=l,this.fetch=u}select(a,{head:i=!1,count:l}={}){const u=i?"HEAD":"GET";let d=!1;const m=(a??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",m),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:l=!0}={}){var u;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(m.length>0){const h=[...new Set(m)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var m;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:i}={}){var l;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var i;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return bc.default=r,bc}var HC;function jz(){if(HC)return vc;HC=1;var e=vc&&vc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(vc,"__esModule",{value:!0});const t=e(r4()),r=e(L1());class n{constructor(i,{headers:l={},schema:u,fetch:d}={}){this.url=i,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(i){const l=new URL(`${this.url}/${i}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:u=!1,get:d=!1,count:m}={}){var h;let g;const y=new URL(`${this.url}/rpc/${i}`);let v;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{y.searchParams.append(w,b)})):(g="POST",v=l);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new r.default({method:g,url:y,headers:_,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return vc.default=n,vc}var WC;function _z(){if(WC)return Qr;WC=1;var e=Qr&&Qr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.PostgrestError=Qr.PostgrestBuilder=Qr.PostgrestTransformBuilder=Qr.PostgrestFilterBuilder=Qr.PostgrestQueryBuilder=Qr.PostgrestClient=void 0;const t=e(jz());Qr.PostgrestClient=t.default;const r=e(r4());Qr.PostgrestQueryBuilder=r.default;const n=e(L1());Qr.PostgrestFilterBuilder=n.default;const a=e(t4());Qr.PostgrestTransformBuilder=a.default;const i=e(e4());Qr.PostgrestBuilder=i.default;const l=e(JM());return Qr.PostgrestError=l.default,Qr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:l.default},Qr}var Sz=_z();const Nz=Wa(Sz),{PostgrestClient:kz,PostgrestQueryBuilder:Nbe,PostgrestFilterBuilder:kbe,PostgrestTransformBuilder:Cbe,PostgrestBuilder:Tbe,PostgrestError:Abe}=Nz;class Cz{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Tz="2.15.5",Az=`realtime-js/${Tz}`,Ez="1.0.0",sw=1e4,Oz=1e3,Dz=100;var Rd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rd||(Rd={}));var Fr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fr||(Fr={}));var Ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ja||(Ja={}));var iw;(function(e){e.websocket="websocket"})(iw||(iw={}));var rl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rl||(rl={}));class Mz{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const m=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:m}}}let n4=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var er;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(er||(er={}));const YC=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=Pz(l,e,t,a),i),{})},Pz=(e,t,r,n)=>{const a=t.find(u=>u.name===e),i=a?.type,l=r[e];return i&&!n.includes(i)?a4(i,l):ow(l)},a4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $z(t,r)}switch(e){case er.bool:return Rz(t);case er.float4:case er.float8:case er.int2:case er.int4:case er.int8:case er.numeric:case er.oid:return Iz(t);case er.json:case er.jsonb:return Lz(t);case er.timestamp:return Bz(t);case er.abstime:case er.date:case er.daterange:case er.int4range:case er.int8range:case er.money:case er.reltime:case er.text:case er.time:case er.timestamptz:case er.timetz:case er.tsrange:case er.tstzrange:return ow(t);default:return ow(t)}},ow=e=>e,Rz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Iz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$z=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(u=>a4(t,u))}return e},Bz=e=>typeof e=="string"?e.replace(" ","T"):e,s4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Lx{constructor(t,r,n={},a=sw){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var KC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(KC||(KC={}));class Id{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Id.syncState(this.state,a,i,l),this.pendingDiffs.forEach(d=>{this.state=Id.syncDiff(this.state,d,i,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Id.syncDiff(this.state,a,i,l),u())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(i,(m,h)=>{l[m]||(d[m]=h)}),this.map(l,(m,h)=>{const g=i[m];if(g){const y=h.map(b=>b.presence_ref),v=g.map(b=>b.presence_ref),_=h.filter(b=>v.indexOf(b.presence_ref)<0),w=g.filter(b=>y.indexOf(b.presence_ref)<0);_.length>0&&(u[m]=_),w.length>0&&(d[m]=w)}else u[m]=h}),this.syncDiff(i,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var m;const h=(m=t[u])!==null&&m!==void 0?m:[];if(t[u]=this.cloneDeep(d),h.length>0){const g=t[u].map(v=>v.presence_ref),y=h.filter(v=>g.indexOf(v.presence_ref)<0);t[u].unshift(...y)}n(u,h,d)}),this.map(l,(u,d)=>{let m=t[u];if(!m)return;const h=d.map(g=>g.presence_ref);m=m.filter(g=>h.indexOf(g.presence_ref)<0),t[u]=m,a(u,m,d),m.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var GC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(GC||(GC={}));var Ld;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ld||(Ld={}));var ni;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ni||(ni={}));class $1{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lx(this,Ja.join,this.params,this.timeout),this.rejoinTimer=new n4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ja.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Id(this),this.broadcastEndpointURL=s4(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fr.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,m=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[Ld.PRESENCE]&&this.bindings[Ld.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:m,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(ni.CHANNEL_ERROR,v)),this._onClose(()=>t?.(ni.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket.setAuth(),v===void 0){t?.(ni.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(_=w?.length)!==null&&_!==void 0?_:0,S=[];for(let k=0;k<b;k++){const C=w[k],{filter:{event:A,schema:E,table:M,filter:T}}=C,D=v&&v[k];if(D&&D.event===A&&D.schema===E&&D.table===M&&D.filter===T)S.push(Object.assign(Object.assign({},C),{id:D.id}));else{this.unsubscribe(),this.state=Fr.errored,t?.(ni.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(ni.SUBSCRIBED);return}}).receive("error",v=>{this.state=Fr.errored,t?.(ni.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Fr.joined&&t===Ld.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,u,d;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),m.receive("ok",()=>i("ok")),m.receive("error",()=>i("error")),m.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ja.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Lx(this,Ja.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Lx(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Dz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:m,join:h}=Ja;if(n&&[u,d,m,h].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var _,w,b;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(w=v.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(v=>v.callback(y,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var _,w,b,S,k,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const A=v.id,E=(_=v.filter)===null||_===void 0?void 0:_.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(E==="*"||E?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const A=(k=(S=v?.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return A==="*"||A===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:w,table:b,commit_timestamp:S,type:k,errors:C}=_;y=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:S,eventType:k,new:{},old:{},errors:C}),this._getPayloadRecords(_))}v.callback(y,n)})}_isClosed(){return this.state===Fr.closed}_isJoined(){return this.state===Fr.joined}_isJoining(){return this.state===Fr.joining}_isLeaving(){return this.state===Fr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&$1.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ja.close,{},t)}_onError(t){this._on(Ja.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=YC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=YC(t.columns,t.old_record)),r}}const $x=()=>{},lm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zz=[1e3,2e3,5e3,1e4],Fz=1e4,qz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sw,this.transport=null,this.heartbeatIntervalMs=lm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$x,this.ref=0,this.reconnectTimer=null,this.logger=$x,this.conn=null,this.sendBuffer=[],this.serializer=new Mz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>uf(async()=>{const{default:u}=await Promise.resolve().then(()=>iu);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${iw.websocket}`,this.httpEndpoint=s4(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ez}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Rd.connecting:return rl.Connecting;case Rd.open:return rl.Open;case Rd.closing:return rl.Closing;default:return rl.Closed}}isConnected(){return this.connectionState()===rl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new $1(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Oz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:l}=r,u=l?`(${l})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),i),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ja.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([qz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Az};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ja.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new n4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,l,u,d,m,h;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:sw,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:lm.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:$x,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(g=>zz[g-1]||Fz),this.encode=(m=t?.encode)!==null&&m!==void 0?m:((g,y)=>y(JSON.stringify(g))),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class B1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Hz extends B1{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lw extends B1{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Wz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const i4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>uf(async()=>{const{default:n}=await Promise.resolve().then(()=>iu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Yz=()=>Wz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield uf(()=>Promise.resolve().then(()=>iu),void 0)).Response:Response}),cw=e=>{if(Array.isArray(e))return e.map(r=>cw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=cw(n)}),t},Kz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ol=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const Bx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gz=(e,t,r)=>Ol(void 0,void 0,void 0,function*(){const n=yield Yz();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,l=a?.statusCode||i+"";t(new Hz(Bx(a),i,l))}).catch(a=>{t(new lw(Bx(a),a))}):t(new lw(Bx(e),e))}),Vz=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(Kz(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function df(e,t,r,n,a,i){return Ol(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,Vz(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Gz(d,u,n))})})}function Zm(e,t,r,n){return Ol(this,void 0,void 0,function*(){return df(e,"GET",t,r,n)})}function vs(e,t,r,n,a){return Ol(this,void 0,void 0,function*(){return df(e,"POST",t,n,a,r)})}function uw(e,t,r,n,a){return Ol(this,void 0,void 0,function*(){return df(e,"PUT",t,n,a,r)})}function Qz(e,t,r,n){return Ol(this,void 0,void 0,function*(){return df(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function o4(e,t,r,n,a){return Ol(this,void 0,void 0,function*(){return df(e,"DELETE",t,n,a,r)})}var Xz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class Zz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Xz(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pr(t))return{data:null,error:t};throw t}})}}var Jz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class eF{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new Zz(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return Jz(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pr(t))return{data:null,error:t};throw t}})}}var Ln=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const tF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},VC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rF{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=i4(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ln(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},VC),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const m=this._removeEmptyFolders(r),h=this._getFinalPath(m),g=yield(t=="PUT"?uw:vs)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:m,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ln(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const m=Object.assign({upsert:VC.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",m.cacheControl)):(d=n,h["cache-control"]=`max-age=${m.cacheControl}`,h["content-type"]=m.contentType);const g=yield uw(this.fetch,u.toString(),d,{headers:h});return{data:{path:i,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Pr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Ln(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield vs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),u=l.searchParams.get("token");if(!u)throw new B1("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ln(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ln(this,void 0,void 0,function*(){try{return{data:{path:(yield vs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ln(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield vs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ln(this,void 0,void 0,function*(){try{const a=yield vs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),l=i?`?${i}`:"",u=this._getFinalPath(t),d=()=>Zm(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new eF(d,this.shouldThrowOnError)}info(t){return Ln(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cw(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}exists(t){return Ln(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Qz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n)&&n instanceof lw){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${m}`)}}}remove(t){return Ln(this,void 0,void 0,function*(){try{return{data:yield o4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ln(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},tF),r),{prefix:t||""});return{data:yield vs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ln(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield vs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const nF="2.12.2",aF={"X-Client-Info":`storage-js/${nF}`};var Sc=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class sF{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},aF),r),this.fetch=i4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Sc(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pr(t))return{data:null,error:t};throw t}})}getBucket(t){return Sc(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Sc(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Sc(this,void 0,void 0,function*(){try{return{data:yield uw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Sc(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Sc(this,void 0,void 0,function*(){try{return{data:yield o4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}})}}class iF extends sF{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new rF(this.url,this.headers,t,this.fetch)}}const oF="2.58.0";let Ad="";typeof Deno<"u"?Ad="deno":typeof document<"u"?Ad="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ad="react-native":Ad="node";const lF={"X-Client-Info":`supabase-js-${Ad}/${oF}`},cF={headers:lF},uF={schema:"public"},dF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fF={};var hF=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const mF=e=>{let t;return e?t=e:typeof fetch>"u"?t=XM:t=fetch,(...r)=>t(...r)},gF=()=>typeof Headers>"u"?ZM:Headers,pF=(e,t,r)=>{const n=mF(r),a=gF();return(i,l)=>hF(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let m=new a(l?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},l),{headers:m}))})};var yF=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};function xF(e){return e.endsWith("/")?e:e+"/"}function vF(e,t){var r,n;const{db:a,auth:i,realtime:l,global:u}=e,{db:d,auth:m,realtime:h,global:g}=t,y={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},m),i),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>yF(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function bF(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const l4="2.72.0",Rc=30*1e3,dw=3,zx=dw*Rc,wF="http://localhost:9999",jF="supabase.auth.token",_F={"X-Client-Info":`gotrue-js/${l4}`},fw="X-Supabase-Api-Version",c4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NF=600*1e3;class z1 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kF extends z1{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function CF(e){return rt(e)&&e.name==="AuthApiError"}class u4 extends z1{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yo extends z1{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Zi extends yo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TF(e){return rt(e)&&e.name==="AuthSessionMissingError"}class pd extends yo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cm extends yo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class um extends yo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AF(e){return rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class QC extends yo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hw extends yo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fx(e){return rt(e)&&e.name==="AuthRetryableFetchError"}class XC extends yo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class mw extends yo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZC=` 	
\r=`.split(""),EF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ZC.length;t+=1)e[ZC[t].charCodeAt(0)]=-2;for(let t=0;t<Jm.length;t+=1)e[Jm[t].charCodeAt(0)]=t;return e})();function JC(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jm[n]),t.queuedBits-=6}}function d4(e,t,r){const n=EF[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eT(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{MF(l,n,r)};for(let l=0;l<e.length;l+=1)d4(e.charCodeAt(l),a,i);return t.join("")}function OF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DF(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}OF(n,t)}}function MF(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function PF(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)d4(e.charCodeAt(a),r,n);return new Uint8Array(t)}function RF(e){const t=[];return DF(e,r=>t.push(r)),new Uint8Array(t)}function IF(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>JC(a,r,n)),JC(null,r,n),t.join("")}function LF(e){return Math.round(Date.now()/1e3)+e}function $F(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ra=()=>typeof window<"u"&&typeof document<"u",Yo={tested:!1,writable:!1},f4=()=>{if(!Ra())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yo.tested)return Yo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yo.tested=!0,Yo.writable=!0}catch{Yo.tested=!0,Yo.writable=!1}return Yo.writable};function BF(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const h4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>uf(async()=>{const{default:n}=await Promise.resolve().then(()=>iu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ic=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ko=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vi=async(e,t)=>{await e.removeItem(t)};class ap{constructor(){this.promise=new ap.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ap.promiseConstructor=Promise;function qx(e){const t=e.split(".");if(t.length!==3)throw new mw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!SF.test(t[n]))throw new mw("JWT not in base64url format");return{header:JSON.parse(eT(t[0])),payload:JSON.parse(eT(t[1])),signature:PF(t[2]),raw:{header:t[0],payload:t[1]}}}async function FF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qF(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function UF(e){return("0"+e.toString(16)).substr(-2)}function HF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,UF).join("")}async function WF(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function YF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await WF(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nc(e,t,r=!1){const n=HF();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ic(e,`${t}-code-verifier`,a);const i=await YF(n);return[i,n===i?"plain":"s256"]}const KF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GF(e){const t=e.headers.get(fw);if(!t||!t.match(KF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function VF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function QF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kc(e){if(!XF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ux(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tT(e){return JSON.parse(JSON.stringify(e))}var ZF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Xo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JF=[502,503,504];async function rT(e){var t;if(!zF(e))throw new hw(Xo(e),0);if(JF.includes(e.status))throw new hw(Xo(e),e.status);let r;try{r=await e.json()}catch(i){throw new u4(Xo(i),i)}let n;const a=GF(e);if(a&&a.getTime()>=c4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new XC(Xo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new XC(Xo(r),e.status,r.weak_password.reasons);throw new kF(Xo(r),e.status||500,n)}const eq=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function gt(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[fw]||(i[fw]=c4["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await tq(e,t,r+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function tq(e,t,r,n,a,i){const l=eq(t,n,a,i);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new hw(Xo(d),0)}if(u.ok||await rT(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await rT(d)}}function xs(e){var t;let r=null;sq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=LF(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nT(e){const t=xs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function no(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rq(e){return{data:e,error:null}}function nq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,l=ZF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function aq(e){return e}function sq(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hx=["global","local","others"];var iq=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class oq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=h4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Hx[0]){if(Hx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hx.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:no})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=iq(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:nq,redirectTo:r?.redirectTo})}catch(r){if(rt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:no})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,l,u,d;try{const m={nextPage:null,lastPage:0,total:0},h=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:aq});if(h.error)throw h.error;const g=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);m[`${b}Page`]=w}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(rt(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){kc(t);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:no})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){kc(t);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:no})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){kc(t);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:no})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){kc(t.userId);try{const{data:r,error:n}=await gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){kc(t.userId),kc(t.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}}function aT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function lq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cc={debug:!!(globalThis&&f4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class m4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cq extends m4{}async function uq(e,t,r){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function g4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function dq(e){return parseInt(e,16)}function fq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function hq(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:u,requestId:d,resources:m,scheme:h,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=g4(e.address),_=h?`${h}://${n}`:n,w=e.statement?`${e.statement}
`:"",b=`${_} wants you to sign in with your Ethereum account:
${v}

${w}`;let S=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(S+=`
Expiration Time: ${a.toISOString()}`),u&&(S+=`
Not Before: ${u.toISOString()}`),d&&(S+=`
Request ID: ${d}`),m){let k=`
Resources:`;for(const C of m){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);k+=`
- ${C}`}S+=k}return`${b}
${S}`}lq();const mq={url:wF,storageKey:jF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_F,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sT(e,t,r){return await r()}const Tc={};class Hd{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hd.nextInstanceID,Hd.nextInstanceID+=1,this.instanceID>0&&Ra()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},mq),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new oq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=h4(a.fetch),this.lock=a.lock||sT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ra()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=uq:this.lock=sT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:f4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=aT(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=aT(this.memoryStorage)),Ra()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Tc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Tc[this.storageKey]=Object.assign(Object.assign({},Tc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Tc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Tc[this.storageKey]=Object.assign(Object.assign({},Tc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${l4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=BF(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ra()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),AF(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return rt(r)?{error:r}:{error:new u4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:xs}),{data:l,error:u}=i;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:h,password:g,options:y}=t;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await Nc(this.storage,this.storageKey)),i=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:h,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:_},xform:xs})}else if("phone"in t){const{phone:h,password:g,options:y}=t;i=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:xs})}else throw new cm("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:u}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:nT})}else if("phone"in t){const{phone:i,password:l,options:u}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:nT})}else throw new cm("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(rt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,l,u,d,m,h,g,y;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:w,wallet:b,statement:S,options:k}=t;let C;if(Ra())if(typeof b=="object")C=b;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")C=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=b}const A=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),E=await C.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=g4(E[0]);let T=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const L=await C.request({method:"eth_chainId"});T=dq(L)}const D={domain:A.host,address:M,statement:S,uri:A.href,version:"1",chainId:T,nonce:(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=k?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=hq(D),_=await C.request({method:"personal_sign",params:[fq(v),M]})}try{const{data:w,error:b}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:_},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:xs});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new pd}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(rt(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var r,n,a,i,l,u,d,m,h,g,y,v;let _,w;if("message"in t)_=t.message,w=t.signature;else{const{chain:b,wallet:S,statement:k,options:C}=t;let A;if(Ra())if(typeof S=="object")A=S;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))A=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const E=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const M=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),k?{statement:k}:null));let T;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")T=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)T=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)_=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${E.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(a=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=C?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((g=(h=C?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...C.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const M=await A.signMessage(new TextEncoder().encode(_),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=M}}try{const{data:b,error:S}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:IF(w)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:xs});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new pd}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if(rt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Ko(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xs});if(await Vi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(rt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=t,u=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:xs}),{data:d,error:m}=u;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new pd}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:m})}catch(r){if(rt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,l;try{if("email"in t){const{email:u,options:d}=t;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await Nc(this.storage,this.storageKey));const{error:g}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:m,code_challenge_method:h},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:u,options:d}=t,{data:m,error:h}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:h}}throw new cm("You must provide either an email or phone number.")}catch(u){if(rt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:xs});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,m=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Nc(this.storage,this.storageKey)),await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:rq})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zi;const{error:a}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:l}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:l,error:u}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new cm("You must provide either an email or phone number and a type")}catch(r){if(rt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ko(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Ko(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=Ux()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,m,h)=>(!l&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,m,h))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:no}):await this._useSession(async r=>{var n,a,i;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zi}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:no})})}catch(r){if(rt(r))return TF(r)&&(await this._removeSession(),await Vi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Zi;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Nc(this.storage,this.storageKey));const{data:m,error:h}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:no});if(h)throw h;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zi;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=qx(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{session:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(rt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Zi;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(rt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ra())throw new um("No browser detected.");if(t.error||t.error_description||t.error_code)throw new um(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new QC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new um("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new QC("No code detected.");const{data:k,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:u,expires_at:d,token_type:m}=t;if(!i||!u||!l||!m)throw new um("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(u);let y=h+g;d&&(y=parseInt(d));const v=y-h;v*1e3<=Rc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const _=y-g;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,h);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const S={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:g,expires_at:y,refresh_token:l,token_type:m,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(rt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ko(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(CF(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Vi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=$F(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Nc(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,u,d,m,h;const{data:g,error:y}=i;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return Ra()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(rt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qF(async a=>(a>0&&await FF(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xs})),(a,i)=>{const l=200*Math.pow(2,a);return i&&Fx(i)&&Date.now()+l-n<Rc})}catch(n){if(this._debug(r,"error",n),rt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ra()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ko(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Ko(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Ic(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:Ux()}else if(a&&!a.user&&!a.user){const l=await Ko(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await Vi(this.storage,this.storageKey+"-user"),await Ic(this.storage,this.storageKey,a)):a.user=Ux()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${zx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Fx(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ap;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Zi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),rt(i)){const l={session:null,error:i};return Fx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(l),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ic(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=tT(a);await Ic(this.storage,this.storageKey,i)}else{const a=tT(r);await Ic(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Vi(this.storage,this.storageKey),await Vi(this.storage,this.storageKey+"-code-verifier"),await Vi(this.storage,this.storageKey+"-user"),this.userStorage&&await Vi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ra()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Rc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Rc}ms, refresh threshold is ${dw} ticks`),a<=dw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof m4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ra()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Nc(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:m}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:u}=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(r){if(rt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(rt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],a=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=qx(a.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+NF>a)return n;const{data:i,error:l}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};n=v.session.access_token}const{header:a,payload:i,signature:l,raw:{header:u,payload:d}}=qx(n);r?.allowExpired||VF(i.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:l},error:null}}const h=QF(a.alg),g=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,l,RF(`${u}.${d}`)))throw new mw("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}}Hd.nextInstanceID=0;const gq=Hd;class pq extends gq{constructor(t){super(t)}}var yq=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(h){try{m(n.next(h))}catch(g){l(g)}}function d(h){try{m(n.throw(h))}catch(g){l(g)}}function m(h){h.done?i(h.value):a(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class xq{constructor(t,r,n){var a,i,l;this.supabaseUrl=t,this.supabaseKey=r;const u=bF(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:uF,realtime:fF,auth:Object.assign(Object.assign({},dF),{storageKey:d}),global:cF},h=vF(n??{},m);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=pF(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new kz(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new iF(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new pz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return yq(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:l,flowType:u,lock:d,debug:m},h,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pq({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:u,lock:d,debug:m,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Uz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vq=(e,t,r)=>new xq(e,t,r);function bq(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}bq()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wq="https://rnlijzolilwweptwbakv.supabase.co",jq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJubGlqem9saWx3d2VwdHdiYWt2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0NDcxMzAsImV4cCI6MjA3NDAyMzEzMH0.QADxoe2uCEKFRXdfomMQs9RQGPlh-fI_VnrRnbmcJ94",Z=vq(wq,jq),_q=()=>{const[e,t]=x.useState(()=>typeof window<"u"?window.innerWidth<768:!1);return x.useEffect(()=>{const r=()=>{t(window.innerWidth<768)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),iT=e=>{const t=Nq(e);return t.charAt(0).toUpperCase()+t.slice(1)},p4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),kq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...Cq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:p4("lucide",a),...!i&&!kq(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,h])=>x.createElement(m,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(Tq,{ref:i,iconNode:t,className:p4(`lucide-${Sq(iT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=iT(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Eq=Le("activity",Aq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Dq=Le("archive",Oq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Pq=Le("bold",Mq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],dm=Le("bookmark-plus",Rq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],F1=Le("briefcase",Iq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tn=Le("calendar",Lq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],y4=Le("chart-column",$q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sp=Le("check",Bq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xo=Le("chevron-down",zq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ip=Le("chevron-left",Fq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ms=Le("chevron-right",qq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],q1=Le("chevron-up",Uq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pl=Le("circle-alert",Hq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],U1=Le("circle-check-big",Wq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ff=Le("circle-check",Yq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x4=Le("circle-play",Kq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vq=Le("circle-x",Gq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],H1=Le("circle",Qq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wn=Le("clock",Xq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],oT=Le("credit-card",Zq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],W1=Le("dollar-sign",Jq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],t9=Le("ellipsis",e9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],v4=Le("external-link",r9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],a9=Le("flag",n9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Y1=Le("flame",s9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],o9=Le("funnel",i9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],c9=Le("grip-vertical",l9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],d9=Le("heart",u9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],lT=Le("history",f9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],m9=Le("house",h9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],p9=Le("landmark",g9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],b4=Le("link",y9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],v9=Le("list-ordered",x9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],cT=Le("list-todo",b9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],j9=Le("list",w9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gw=Le("loader-circle",_9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M5 12h14",key:"1ays0h"}]],w4=Le("minus",S9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],k9=Le("palette",N9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],op=Le("pen",C9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ma=Le("plus",T9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],E9=Le("refresh-cw",A9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],j4=Le("rotate-ccw",O9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lp=Le("save",D9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_4=Le("search",M9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R9=Le("settings",P9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],L9=Le("square-pen",I9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],io=Le("star",$9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],z9=Le("strikethrough",B9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yl=Le("target",F9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],U9=Le("timer",q9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fa=Le("trash-2",H9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],hf=Le("trending-down",W9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Hn=Le("trending-up",Y9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qa=Le("triangle-alert",K9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],V9=Le("trophy",G9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],X9=Le("underline",Q9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],J9=Le("video",Z9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],uT=Le("wallet",eU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],rU=Le("workflow",tU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ht=Le("x",nU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],K1=Le("zap",aU),Wx=[{id:"Health",name:"Health",color:"#10b981"},{id:"Finance",name:"Finance",color:"#3b82f6"},{id:"Life",name:"Life",color:"#a855f7"},{id:"Golf",name:"Golf",color:"#eab308"}],dT=({selectedAreas:e=[],onChange:t,className:r=""})=>{const[n,a]=x.useState(!1),i=x.useRef(null),{data:l=[]}=Ie({queryKey:["businesses"],queryFn:async()=>{const{data:v,error:_}=await Z.from("businesses").select("id, name, color").order("name");if(_)throw _;return v||[]}});x.useEffect(()=>{const v=_=>{i.current&&!i.current.contains(_.target)&&a(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const u=[...l.map(v=>({id:v.id,name:v.name,color:v.color,type:"business"})),...Wx.map(v=>({id:v.id,name:v.name,color:v.color,type:"life"}))],d=v=>{e.includes(v)?t(e.filter(_=>_!==v)):t([...e,v])},m=v=>{t(e.filter(_=>_!==v))},h=v=>u.find(_=>_.id===v),g=e.filter(v=>l.some(_=>_.id===v)),y=e.filter(v=>Wx.some(_=>_.id===v));return s.jsxs("div",{className:`relative ${r}`,ref:i,children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Dashboard Areas"}),s.jsx("div",{className:"min-h-[42px] px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus-within:ring-2 focus-within:ring-blue-500",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.length===0?s.jsx("span",{className:"text-gray-500 text-sm",children:"Select dashboard areas..."}):s.jsxs(s.Fragment,{children:[g.map(v=>{const _=h(v);return _?s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium border transition-colors",style:{backgroundColor:`${_.color}20`,borderColor:_.color,color:_.color},children:[_.name,s.jsx("button",{type:"button",onClick:()=>m(v),className:"hover:bg-black hover:bg-opacity-10 rounded-full p-0.5 transition-colors",children:s.jsx(Ht,{className:"w-3 h-3"})})]},v):null}),g.length>0&&y.length>0&&s.jsx("div",{className:"w-px bg-gray-700 self-stretch mx-1"}),y.map(v=>{const _=h(v);return _?s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium border transition-colors",style:{backgroundColor:`${_.color}20`,borderColor:_.color,color:_.color},children:[_.name,s.jsx("button",{type:"button",onClick:()=>m(v),className:"hover:bg-black hover:bg-opacity-10 rounded-full p-0.5 transition-colors",children:s.jsx(Ht,{className:"w-3 h-3"})})]},v):null})]}),s.jsx("button",{type:"button",onClick:()=>a(!n),className:"ml-auto p-1 text-gray-400 hover:text-gray-300 transition-colors",children:s.jsx(xo,{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`})})]})}),n&&s.jsxs("div",{className:"absolute z-10 mt-2 w-full bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-h-80 overflow-y-auto",children:[l.length>0&&s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Businesses"}),s.jsx("div",{className:"space-y-1",children:l.map(v=>s.jsxs("button",{type:"button",onClick:()=>d(v.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-md hover:bg-gray-700 transition-colors text-left",children:[s.jsx("input",{type:"checkbox",checked:e.includes(v.id),onChange:()=>{},className:"rounded border-gray-600 bg-gray-900",style:{accentColor:v.color}}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"text-sm text-gray-200",children:v.name})]},v.id))})]}),l.length>0&&s.jsx("div",{className:"border-t border-gray-700 my-2"}),s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Life Areas"}),s.jsx("div",{className:"space-y-1",children:Wx.map(v=>s.jsxs("button",{type:"button",onClick:()=>d(v.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-md hover:bg-gray-700 transition-colors text-left",children:[s.jsx("input",{type:"checkbox",checked:e.includes(v.id),onChange:()=>{},className:"rounded border-gray-600 bg-gray-900",style:{accentColor:v.color}}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"text-sm text-gray-200",children:v.name})]},v.id))})]})]})]})},fT=({value:e,onChange:t,className:r="",readonly:n=!1})=>{const a=l=>{const u=l.target.value;if(u==="")t(null);else{const d=parseInt(u,10);d>=1&&d<=10&&t(d)}},i=l=>l?l>=8?"text-yellow-400":l>=6?"text-yellow-500":l>=4?"text-orange-500":"text-gray-400":"text-gray-500";return n?s.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[s.jsx(io,{className:`w-5 h-5 ${i(e)} fill-current`}),s.jsx("span",{className:"text-sm font-medium text-gray-200",children:e?`${e}/10`:"Not rated"})]}):s.jsxs("div",{className:r,children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Value Rating (1-10)"}),s.jsx("input",{type:"number",min:"1",max:"10",value:e||"",onChange:a,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1-10"})]})},hT=({selectedAgent:e,onChange:t})=>{const[r,n]=x.useState([]),[a,i]=x.useState(!0),[l,u]=x.useState(!1),[d,m]=x.useState(""),[h,g]=x.useState(""),[y,v]=x.useState(!1);x.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:{session:b}}=await Z.auth.getSession();if(!b)return;const{data:S,error:k}=await Z.from("agents").select("id, name, description").eq("user_id",b.user.id).order("name");if(k)throw k;n(S||[])}catch(b){console.error("Error fetching agents:",b)}finally{i(!1)}},w=async()=>{if(!d.trim()){alert("Please enter an agent name");return}v(!0);try{const{data:{session:b}}=await Z.auth.getSession();if(!b)return;const{data:S,error:k}=await Z.from("agents").insert([{user_id:b.user.id,name:d.trim(),description:h.trim()||null}]).select();if(k)throw k;const C=S[0];n([...r,C].sort((A,E)=>A.name.localeCompare(E.name))),t(C.name),m(""),g(""),u(!1)}catch(b){console.error("Error adding agent:",b),alert("Failed to add agent. Please try again.")}finally{v(!1)}};return a?s.jsx("div",{className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-gray-400",children:"Loading agents..."}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:e||"",onChange:b=>t(b.target.value),className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select an agent..."}),r.map(b=>s.jsx("option",{value:b.name,children:b.name},b.id))]}),s.jsx("button",{onClick:()=>u(!l),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",title:"Add new agent",children:s.jsx(ma,{className:"w-4 h-4"})})]}),l&&s.jsxs("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded-lg space-y-2",children:[s.jsx("input",{type:"text",value:d,onChange:b=>m(b.target.value),placeholder:"Agent name",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:b=>b.key==="Enter"&&w()}),s.jsx("textarea",{value:h,onChange:b=>g(b.target.value),placeholder:"Description (optional)",rows:2,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:w,disabled:y||!d.trim(),className:"flex-1 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Adding...":"Add Agent"}),s.jsx("button",{onClick:()=>{u(!1),m(""),g("")},className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:s.jsx(Ht,{className:"w-4 h-4"})})]})]})]})},Yx={AI:"#1e40af",investing:"#10b981","Full Stack AI":"#22c55e","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Health:"#10b981","Claude Code":"#f97316",Quotes:"#ec4899"},sU=e=>{if(Yx[e])return Yx[e];const t=e.toLowerCase();for(const[r,n]of Object.entries(Yx))if(r.toLowerCase()===t)return n;return"#6b7280"},iU=({content:e,onClick:t,onToggleFavorite:r,onEdit:n,onDelete:a,getSourceIcon:i,getPriorityColor:l})=>{const[u,d]=x.useState(!1),m=e.ai_summary&&e.ai_summary.trim().length>0;return s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 overflow-hidden hover:shadow-xl hover:border-gray-600 transition-all",children:[s.jsxs("div",{className:"cursor-pointer hover:bg-gray-750 transition-colors",onClick:()=>d(!u),children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:[s.jsx("span",{className:"text-6xl opacity-20",children:i(e.source)}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("button",{onClick:h=>{h.stopPropagation(),r(e.id,e.is_favorite)},className:"p-1.5 bg-black bg-opacity-50 rounded-full hover:bg-opacity-70 transition-all",children:s.jsx(io,{className:`w-5 h-5 ${e.is_favorite?"text-yellow-500 fill-yellow-500":"text-white"}`})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx("span",{className:"text-xl mt-0.5",children:i(e.source)}),s.jsx("h3",{className:"text-base font-semibold text-white line-clamp-2 flex-1",children:e.title}),s.jsx("div",{className:"flex-shrink-0",children:u?s.jsx(q1,{className:"w-5 h-5 text-gray-400"}):s.jsx(xo,{className:"w-5 h-5 text-gray-400"})})]}),e.creator&&s.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["by ",e.creator]}),m&&s.jsx("div",{className:"mb-3",children:s.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 italic",children:e.ai_summary})}),!m&&e.notes&&s.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:e.notes}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-3",children:[e.time_estimate&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs bg-gray-700 text-gray-300",children:[s.jsx(Wn,{className:"w-3 h-3"}),"Time: ",e.time_estimate]}),s.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${l(e.priority)}`,children:e.priority})]}),e.tags&&e.tags.length>0&&s.jsx("div",{className:"flex items-center gap-1.5 flex-wrap mb-3",children:e.tags.map((h,g)=>{const y=sU(h);return s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:y},children:h},g)})})]})]}),u&&s.jsxs("div",{className:"border-t border-gray-700 bg-gray-900 bg-opacity-50 px-4 py-4 space-y-3",children:[m&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"Full Summary"}),s.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:e.ai_summary})]}),e.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"Notes"}),s.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:e.notes})]}),e.dashboard_areas&&e.dashboard_areas.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 mb-2",children:"Dashboard Areas"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.dashboard_areas.map((h,g)=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-700 text-xs font-medium text-gray-300",children:h},g))})]}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t border-gray-700",children:[e.folder&&s.jsxs("p",{children:["Folder: ",s.jsx("span",{className:"text-gray-400",children:e.folder})]}),s.jsxs("p",{children:["Added: ",s.jsx("span",{className:"text-gray-400",children:new Date(e.saved_at).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex gap-2 pt-3",children:[s.jsx("button",{onClick:h=>{h.stopPropagation(),t()},className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors",children:"Full Details"}),n&&s.jsx("button",{onClick:h=>{h.stopPropagation(),n()},className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",title:"Edit",children:s.jsx(op,{className:"w-4 h-4"})}),a&&s.jsx("button",{onClick:h=>{h.stopPropagation(),a()},className:"px-3 py-2 bg-red-900 hover:bg-red-800 text-white rounded transition-colors",title:"Delete",children:s.jsx(Fa,{className:"w-4 h-4"})}),s.jsx("button",{onClick:h=>{h.stopPropagation(),r(e.id,e.is_favorite)},className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",title:e.is_favorite?"Remove favorite":"Add favorite",children:s.jsx(io,{className:`w-4 h-4 ${e.is_favorite?"text-yellow-500 fill-yellow-500":"text-gray-300"}`})})]})]})]})};function G1(e){return e?e.replace(/-/g," ").trim().split(/\s+/).map(a=>{if(!a)return"";const i=a.toUpperCase();return["AI","API","UI","UX","CEO","CTO","AWS","GCP","SQL","HTTP","HTTPS","REST","JSON","XML","HTML","CSS","JS","TS"].includes(i)?i:a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()}).join(" "):""}function oU(e){return e.map(G1).filter(Boolean)}function Wd(e){return e.split(",").map(t=>G1(t)).filter(Boolean)}const Kx={AI:"#1e40af",investing:"#10b981","Full Stack AI":"#22c55e","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Health:"#10b981","Claude Code":"#f97316",Quotes:"#ec4899"},lU=e=>{if(Kx[e])return Kx[e];const t=e.toLowerCase();for(const[a,i]of Object.entries(Kx))if(a.toLowerCase()===t)return i;let r=0;for(let a=0;a<e.length;a++)r=e.charCodeAt(a)+((r<<5)-r);const n=["#8b5cf6","#10b981","#f59e0b","#3b82f6","#ec4899","#14b8a6","#f97316","#06b6d4","#84cc16","#6366f1"];return n[Math.abs(r)%n.length]},cU=({contents:e,onToggleFavorite:t,onEdit:r,onDelete:n,onOpenDetails:a,onUpdateTGRating:i,onUpdateGoogleLLM:l,onUpdateAgent:u,onUpdateNotes:d,onUpdateCreator:m,onUpdateStatus:h,onUpdateTags:g,getSourceIcon:y})=>{const[v,_]=x.useState([]),[w,b]=x.useState(null),[S,k]=x.useState(""),[C,A]=x.useState(null),[E,M]=x.useState(null),[T,D]=x.useState(""),[L,B]=x.useState(null),[z,F]=x.useState(""),[G,V]=x.useState(null),[Y,$]=x.useState(""),[ee,J]=x.useState(null),[W,U]=x.useState("");x.useEffect(()=>{P()},[]);const P=async()=>{try{const{data:{session:Q}}=await Z.auth.getSession();if(!Q)return;const{data:ne,error:ge}=await Z.from("agents").select("id, name").eq("user_id",Q.user.id).order("name");if(ge)throw ge;_(ne||[])}catch(Q){console.error("Error fetching agents:",Q)}},H=async Q=>{if(S.trim())try{const{data:{session:ne}}=await Z.auth.getSession();if(!ne)return;const{data:ge,error:be}=await Z.from("agents").insert([{user_id:ne.user.id,name:S.trim()}]).select();if(be)throw be;const te=ge[0];_([...v,te].sort((Se,ce)=>Se.name.localeCompare(ce.name))),u(Q,te.name),k(""),b(null)}catch(ne){console.error("Error adding agent:",ne)}};return e.length===0?s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-12 text-center",children:s.jsx("p",{className:"text-gray-400",children:"No content items found"})}):s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-gray-750 border-b-2 border-gray-700 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-sm font-bold text-gray-100 min-w-[150px] max-w-[300px]",children:"Title"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-12",children:"Platform"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-24",children:"Creator"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-20",children:"Rating"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-24",children:"Notebook"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-40",children:"Agent"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-24",children:"Added"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-24",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(Q=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750 transition-colors",children:[s.jsxs("td",{className:"px-3 py-3 font-medium align-middle break-words min-w-[150px] max-w-[300px]",children:[s.jsx("div",{className:"text-white line-clamp-2 block mb-2 text-base",children:Q.title}),ee===Q.id?s.jsx("input",{type:"text",value:W,onChange:ne=>U(ne.target.value),onBlur:()=>{const ne=Wd(W);g(Q.id,ne),J(null)},onKeyDown:ne=>{if(ne.key==="Enter"){const ge=Wd(W);g(Q.id,ge),J(null)}else ne.key==="Escape"&&J(null)},placeholder:"Enter tags separated by commas",className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 mt-1",autoFocus:!0}):s.jsx("div",{className:"flex gap-1 flex-wrap mt-1 cursor-pointer group",onClick:()=>{J(Q.id),U(Q.tags?.join(", ")||"")},title:"Click to edit tags",children:Q.tags&&Q.tags.length>0?[...Q.tags].sort((ne,ge)=>ne.localeCompare(ge)).map((ne,ge)=>{const be=ne.toLowerCase();let te;return be.includes("agent")?te="#991b1b":be.includes("ai")?te="#2563eb":te=lU(ne),s.jsx("span",{className:"px-1.5 py-0.5 rounded-full text-xs font-medium text-white group-hover:opacity-90 transition-opacity",style:{backgroundColor:te,opacity:.75},children:ne},ge)}):s.jsx("span",{className:"text-xs text-gray-500 italic group-hover:text-gray-400",children:"Click to add tags..."})})]}),s.jsx("td",{className:"px-2 py-3 text-center align-middle",children:s.jsx("a",{href:Q.url,target:"_blank",rel:"noopener noreferrer",className:"text-2xl hover:opacity-70 transition-opacity inline-block",style:Q.source==="YouTube"?{color:"#FF0000"}:{},title:"Open link",children:y(Q.source)})}),s.jsx("td",{className:"px-2 py-3 text-sm align-middle text-center max-w-[96px]",children:L===Q.id?s.jsx("input",{type:"text",value:z,onChange:ne=>F(ne.target.value),onBlur:()=>{z!==Q.creator&&m(Q.id,z),B(null)},onKeyDown:ne=>{ne.key==="Enter"?(z!==Q.creator&&m(Q.id,z),B(null)):ne.key==="Escape"&&B(null)},className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0}):s.jsx("span",{onClick:()=>{B(Q.id),F(Q.creator||"")},className:"block cursor-pointer hover:bg-gray-700 px-2 py-1 rounded transition-colors text-gray-300 break-words",children:Q.creator||s.jsx("span",{className:"text-gray-500 italic",children:"Click to add"})})}),s.jsx("td",{className:"px-2 py-3 text-sm align-middle text-center",children:s.jsx("input",{type:"text",inputMode:"numeric",maxLength:2,value:Q.tg_rating||"",onChange:ne=>{const ge=ne.target.value;(ge===""||ge.match(/^\d+$/)&&parseInt(ge)>=1&&parseInt(ge)<=10)&&i(Q.id,ge?parseInt(ge):null)},placeholder:"-",className:"w-10 px-1 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs text-center focus:outline-none focus:ring-1 focus:ring-blue-500"})}),s.jsx("td",{className:"px-2 py-3 text-sm align-middle text-center",children:s.jsxs("select",{value:Q.google_llm===!0?"yes":Q.google_llm===!1?"no":Q.google_llm===null?"should":"no",onChange:async ne=>{ne.stopPropagation();const ge=ne.target.value;console.log("Notebook dropdown changed:",ge,"for content:",Q.id),ge==="yes"?await l(Q.id,!0):ge==="should"?await l(Q.id,null):await l(Q.id,!1)},className:"px-1 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"no",children:"No"}),s.jsx("option",{value:"yes",children:"Yes"}),s.jsx("option",{value:"should",children:"Should"})]},`notebook-${Q.id}-${Q.google_llm}`)}),s.jsx("td",{className:"px-2 py-3 text-sm align-middle text-center",children:w===Q.id?s.jsxs("div",{className:"flex gap-1",children:[s.jsx("input",{type:"text",value:S,onChange:ne=>k(ne.target.value),placeholder:"Agent",className:"w-16 px-1 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",onKeyDown:ne=>ne.key==="Enter"&&H(Q.id),autoFocus:!0}),s.jsx("button",{onClick:()=>H(Q.id),className:"px-1 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-xs",children:""}),s.jsx("button",{onClick:()=>{b(null),k("")},className:"px-1 py-1 hover:bg-gray-700 rounded",children:s.jsx(Ht,{className:"w-3 h-3 text-gray-400"})})]}):s.jsxs("select",{value:Q.agent||"",onChange:ne=>{ne.target.value==="__create_new__"?b(Q.id):u(Q.id,ne.target.value||void 0)},className:"w-full px-1 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"-"}),v.map(ne=>s.jsx("option",{value:ne.name,children:ne.name},ne.id)),s.jsx("option",{value:"__create_new__",className:"text-blue-400 font-semibold",children:"+ Create Agent"})]})}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-400 text-center align-middle",children:Q.created_at?new Date(Q.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"}),s.jsx("td",{className:"px-2 py-3 text-center align-middle",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>A(C===Q.id?null:Q.id),className:"p-1 hover:bg-gray-700 rounded transition-colors inline-flex",title:"Toggle details",children:C===Q.id?s.jsx(q1,{className:"w-3.5 h-3.5 text-gray-400"}):s.jsx(xo,{className:"w-3.5 h-3.5 text-gray-400"})}),s.jsx("button",{onClick:()=>t(Q.id,Q.is_favorite),className:"p-1 hover:bg-gray-700 rounded transition-colors inline-flex",title:Q.is_favorite?"Remove favorite":"Add favorite",children:s.jsx(io,{className:`w-3.5 h-3.5 ${Q.is_favorite?"text-yellow-500 fill-yellow-500":"text-gray-400"}`})})]})})]},Q.id),C===Q.id&&s.jsx("tr",{className:"bg-gray-750 border-b border-gray-700",children:s.jsx("td",{colSpan:8,className:"px-3 py-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between pb-3 mb-4 border-b border-gray-700",children:[s.jsxs("div",{className:"flex gap-6 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Time:"}),s.jsx("span",{className:"text-gray-300 ml-2 font-medium",children:Q.time_estimate||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"AI Rating:"}),s.jsx("span",{className:"text-gray-300 ml-2 font-medium",children:Q.value_rating?Math.round(Q.value_rating):"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Status:"}),G===Q.id?s.jsxs("select",{value:Y,onChange:ne=>{$(ne.target.value),h(Q.id,ne.target.value),V(null)},onBlur:()=>V(null),className:"ml-2 px-2 py-0.5 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0,children:[s.jsx("option",{value:"To Watch",children:"To Watch"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Implementing",children:"Implementing"}),s.jsx("option",{value:"Archived",children:"Archived"}),s.jsx("option",{value:"Vault",children:"Vault"})]}):s.jsx("span",{onClick:()=>{V(Q.id),$(Q.status)},className:"ml-2 font-medium cursor-pointer hover:bg-gray-700 px-2 py-0.5 rounded transition-colors text-gray-300",children:Q.status})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>r(Q),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium flex items-center gap-1.5 transition-colors",children:[s.jsx(op,{className:"w-3.5 h-3.5"}),"Edit"]}),s.jsxs("button",{onClick:()=>n(Q.id),className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded text-xs font-medium flex items-center gap-1.5 transition-colors",children:[s.jsx(Fa,{className:"w-3.5 h-3.5"}),"Delete"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"AI Summary"}),s.jsx("div",{className:"text-sm text-gray-300 leading-relaxed min-h-[120px] max-h-[400px] overflow-y-auto pr-2",children:Q.ai_summary?(()=>{const ne=Q.ai_summary.split(`
`).filter(be=>be.trim());return ne.some(be=>be.trim().match(/^[\-\*]/))?s.jsx("ul",{className:"list-disc list-inside space-y-1",children:ne.map((be,te)=>{const Se=be.trim().replace(/^[\-\*]\s*/,"");return Se?s.jsx("li",{children:Se},te):null})}):Q.ai_summary})():s.jsx("span",{className:"text-gray-500 italic",children:"No AI summary available"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"Notes"}),E===Q.id?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("textarea",{value:T,onChange:ne=>D(ne.target.value),className:"w-full min-h-[120px] max-h-[400px] px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y",placeholder:"Add notes...",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{d(Q.id,T),M(null)},className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-xs font-medium",children:"Save"}),s.jsx("button",{onClick:()=>{M(null),D("")},className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white rounded text-xs font-medium",children:"Cancel"})]})]}):s.jsx("div",{onClick:()=>{M(Q.id),D(Q.notes||"")},className:"text-sm text-gray-300 leading-relaxed min-h-[120px] max-h-[400px] overflow-y-auto pl-2 cursor-pointer hover:bg-gray-750 rounded p-2 transition-colors",children:Q.notes||s.jsx("span",{className:"text-gray-500 italic",children:"Click to add notes..."})})]})]})]})})})]}))})]})})})};async function S4(e){try{console.log(" AI Analyzer: Starting analysis for:",e);const{data:{session:t}}=await Z.auth.getSession();console.log(" Auth session:",t?"Found":"Not found"),console.log(" Calling Edge Function: analyze-content");const{data:r,error:n}=await Z.functions.invoke("analyze-content",{body:{url:e},headers:t?.access_token?{Authorization:`Bearer ${t.access_token}`}:{}});return n?(console.error(" Edge function error:",n),console.log(" Falling back to placeholder logic"),mT(e)):(console.log(" AI Analysis successful:",r),{title:r.title||"Untitled Content",ai_summary:r.ai_summary||"No summary available",creator:r.creator,time_estimate:r.time_estimate,tags:r.tags||[],dashboard_areas:r.dashboard_areas||[],value_rating:r.value_rating,thumbnail_url:r.thumbnail_url})}catch(t){return console.error(" Error calling AI analyzer:",t),console.log(" Falling back to placeholder logic"),mT(e)}}function mT(e){let t="";try{t=new URL(e).hostname.replace("www.","")}catch{t="unknown"}const r={title:`Content from ${t}`,ai_summary:`Content from ${t}. AI analysis unavailable - using fallback. Deploy the Supabase Edge Function for full AI analysis.`,creator:void 0,time_estimate:void 0,tags:[],dashboard_areas:[],value_rating:void 0,thumbnail_url:void 0};return t.includes("youtube.com")||t.includes("youtu.be")?(r.creator="YouTube Creator",r.time_estimate="15 min",r.tags=["video","tutorial"],r.value_rating=7):t.includes("twitter.com")||t.includes("x.com")?(r.creator="Twitter User",r.time_estimate="2 min",r.tags=["social","quick-read"],r.value_rating=5):t.includes("medium.com")||t.includes("dev.to")?(r.creator="Blog Author",r.time_estimate="8 min",r.tags=["article","technical"],r.value_rating=7):t.includes("github.com")&&(r.creator="GitHub Repository",r.time_estimate="30 min",r.tags=["code","repository"],r.value_rating=8),r}const Gx={AI:"#1e40af",investing:"#10b981","Full Stack AI":"#22c55e","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Health:"#10b981","Claude Code":"#f97316",Quotes:"#ec4899"},gT=e=>{if(Gx[e])return Gx[e];const t=e.toLowerCase();for(const[r,n]of Object.entries(Gx))if(r.toLowerCase()===t)return n;return"#6b7280"},uU=({isOpen:e,onClose:t,onSave:r})=>{const[n,a]=x.useState(""),[i,l]=x.useState(!1),[u,d]=x.useState(!1),[m,h]=x.useState(""),[g,y]=x.useState([]),[v,_]=x.useState(!1),[w,b]=x.useState({title:"",url:"",source:"Website",category:"Full Stack Development",ai_summary:"",status:"To Watch",priority:"Medium",tags:[],dashboard_areas:[],google_llm:!1});if(x.useEffect(()=>{e&&(async()=>{const{data:D}=await Z.from("content_library").select("tags");if(D){const L=new Set;D.forEach(B=>{B.tags&&Array.isArray(B.tags)&&B.tags.forEach(z=>L.add(z))}),y(Array.from(L).sort())}})()},[e]),!e)return null;const S=()=>{const T=G1(m.trim());T&&!(w.tags||[]).includes(T)&&(b({...w,tags:[...w.tags||[],T]}),h(""),_(!1))},k=T=>{b({...w,tags:(w.tags||[]).filter(D=>D!==T)})},C=g.filter(T=>T.toLowerCase().includes(m.toLowerCase())&&!(w.tags||[]).includes(T)),A=async()=>{if(n.trim()){l(!0);try{const T=await S4(n),D=new URL(n);let L="Website";D.hostname.includes("youtube.com")||D.hostname.includes("youtu.be")?L="YouTube":D.hostname.includes("twitter.com")||D.hostname.includes("x.com")?L="Twitter":D.hostname.includes("instagram.com")?L="Instagram":D.hostname.includes("github.com")&&(L="Website"),b({...w,url:n,source:L,title:T.title,ai_summary:T.ai_summary,creator:T.creator,time_estimate:T.time_estimate,tags:oU(T.tags||[]),dashboard_areas:T.dashboard_areas||[],value_rating:T.value_rating,thumbnail_url:T.thumbnail_url,category:w.category||"Full Stack Development"}),d(!0)}catch(T){console.error("Error analyzing URL:",T),alert("Invalid URL. Please enter a valid URL.")}finally{l(!1)}}},E=async()=>{await r(w),M()},M=()=>{a(""),d(!1),b({title:"",url:"",source:"Website",ai_summary:"",status:"To Watch",priority:"Medium",tags:[],dashboard_areas:[]}),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Quick Add by URL"}),s.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-300",children:s.jsx(Ht,{className:"w-6 h-6"})})]}),u?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title *"}),s.jsx("input",{type:"text",value:w.title,onChange:T=>b({...w,title:T.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Creator"}),s.jsx("input",{type:"text",value:w.creator||"",onChange:T=>b({...w,creator:T.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Author/Creator name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Source"}),s.jsxs("select",{value:w.source,onChange:T=>b({...w,source:T.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitter",children:"Twitter"}),s.jsx("option",{value:"Instagram",children:"Instagram"}),s.jsx("option",{value:"Website",children:"Website"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),s.jsxs("select",{value:w.priority,onChange:T=>b({...w,priority:T.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags"}),(w.tags||[]).length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(w.tags||[]).map(T=>{const D=gT(T);return s.jsxs("span",{className:"px-3 py-1 text-white rounded-full text-sm flex items-center gap-2",style:{backgroundColor:D},children:[T,s.jsx("button",{onClick:()=>k(T),className:"text-white hover:text-red-200 transition-colors opacity-70 hover:opacity-100",title:"Remove tag",children:s.jsx(Ht,{className:"w-3 h-3"})})]},T)})}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:m,onChange:T=>{h(T.target.value),_(T.target.value.length>0)},onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),S())},placeholder:"Add a tag...",className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Add"})]}),v&&C.length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:C.slice(0,10).map(T=>{const D=gT(T);return s.jsx("button",{onClick:()=>{b({...w,tags:[...w.tags||[],T]}),h(""),_(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-700 transition-colors flex items-center gap-2",children:s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs text-white",style:{backgroundColor:D},children:T})},T)})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["AI Summary",s.jsx("span",{className:"ml-2 text-xs bg-blue-500 bg-opacity-20 text-blue-400 px-1.5 py-0.5 rounded",children:"AI"})]}),s.jsx("textarea",{value:w.ai_summary,onChange:T=>b({...w,ai_summary:T.target.value}),rows:9,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 italic text-sm leading-relaxed",placeholder:"AI-generated summary..."})]}),s.jsxs("div",{className:"flex items-center justify-between gap-3 pt-4 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-lg transition-colors",children:" Back"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:M,className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:E,disabled:!w.title||!w.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Content"})]})]})]}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(b4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),s.jsx("input",{type:"url",value:n,onChange:T=>a(T.target.value),placeholder:"https://...",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),s.jsx("button",{onClick:A,disabled:!n.trim()||i,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(gw,{className:"w-5 h-5 animate-spin"}),"Analyzing..."]}):"Analyze"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Paste a URL and click Analyze to extract title and summary"})]})})]})})})},Vx={AI:"#1e40af",investing:"#10b981","Full Stack AI":"#22c55e","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Health:"#10b981","Claude Code":"#f97316",Quotes:"#ec4899"},dU=e=>{if(Vx[e])return Vx[e];const t=e.toLowerCase();for(const[r,n]of Object.entries(Vx))if(r.toLowerCase()===t)return n;return"#6b7280"},fU=({isOpen:e,onClose:t,content:r,businesses:n,onEdit:a,onDelete:i,onUpdate:l})=>{const[u,d]=x.useState(!1),[m,h]=x.useState(!1),[g,y]=x.useState(""),[v,_]=x.useState([]);if(x.useEffect(()=>{r&&r.tags?_(r.tags):_([])},[r?.id,r?.tags]),!e||!r)return null;const w=()=>{if(g.trim()){const A=[...v,g.trim()];_(A),l(r.id,{tags:A}),y("")}},b=A=>{const E=v.filter((M,T)=>T!==A);_(E),l(r.id,{tags:E})},S=A=>{switch(A){case"To Watch":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"In Progress":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"Completed":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},k=A=>{switch(A){case"High":return"bg-red-500/20 text-red-400 border-red-500/30";case"Medium":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"Low":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},C=A=>A?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center gap-1",children:[...Array(10)].map((E,M)=>s.jsx(io,{className:`w-4 h-4 ${M<A?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},M))}),s.jsxs("span",{className:"text-lg font-semibold text-white",children:[A,"/10"]})]}):null;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("h2",{className:"text-2xl font-bold text-white",children:r.title})}),s.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[r.value_rating&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-400 uppercase mb-1",children:"Value Rating"}),C(r.value_rating)]}),u?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm text-red-400 font-medium",children:"Delete this?"}),s.jsx("button",{onClick:()=>{i(r.id),t()},className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg transition-all",children:"Yes"}),s.jsx("button",{onClick:()=>d(!1),className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded-lg transition-all",children:"No"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:a,className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-gray-700 rounded-lg transition-all",title:"Edit content",children:s.jsx(L9,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>d(!0),className:"p-2 text-red-400 hover:text-red-300 hover:bg-gray-700 rounded-lg transition-all",title:"Delete content",children:s.jsx(Fa,{className:"w-5 h-5"})}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300",children:s.jsx(Ht,{className:"w-6 h-6"})})]})]})]}),s.jsxs("div",{className:"mb-6",children:[r.creator&&s.jsxs("p",{className:"text-gray-400 mb-2",children:["by ",r.creator]}),s.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-1",children:[s.jsx(v4,{className:"w-4 h-4"}),r.url]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Source"}),s.jsx("p",{className:"text-white font-medium",children:r.source})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Status"}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium border ${S(r.status)}`,children:r.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Priority"}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium border ${k(r.priority)}`,children:r.priority})]}),r.time_estimate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Time Estimate"}),s.jsxs("div",{className:"flex items-center gap-1 text-white font-medium",children:[s.jsx(Wn,{className:"w-4 h-4"}),s.jsx("span",{children:r.time_estimate})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.map((A,E)=>{const M=dU(A);return s.jsxs("span",{className:"px-3 py-1 text-white rounded-full text-sm flex items-center gap-2 group",style:{backgroundColor:M},children:[A,s.jsx("button",{onClick:()=>b(E),className:"text-white hover:text-red-200 transition-colors opacity-70 hover:opacity-100",title:"Remove tag",children:s.jsx(Ht,{className:"w-3 h-3"})})]},E)})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:g,onChange:A=>y(A.target.value),onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),w())},placeholder:"Add a tag...",className:"flex-1 px-3 py-1.5 bg-gray-900 border border-gray-700 rounded-lg text-white text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:w,className:"px-4 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Add"})]})]}),r.ai_summary&&s.jsxs("div",{className:"mb-6 bg-blue-500/10 border border-blue-500/30 rounded-lg p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"text-sm font-semibold text-blue-400 uppercase tracking-wide",children:"AI Summary"}),s.jsx("span",{className:"text-xs bg-blue-500 bg-opacity-20 text-blue-400 px-2 py-0.5 rounded",children:"AI"})]}),s.jsx("p",{className:"text-gray-200 leading-relaxed italic whitespace-pre-wrap",children:r.ai_summary})]}),r.notes&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3",children:"Notes"}),s.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:r.notes})]}),s.jsx("div",{className:"border-t border-gray-700 pt-4 text-xs text-gray-500",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Created: ",new Date(r.created_at).toLocaleDateString()]}),r.updated_at&&s.jsxs("span",{children:["Updated: ",new Date(r.updated_at).toLocaleDateString()]})]})})]})})})},hU=["Health","Finance","Life","Golf"],mU=["Article","Video","Course","Documentation","Tutorial","Podcast","Book","Other"],gU=["To Watch","In Progress","Completed","Archived"],pU=["Low","Medium","High"],yU=["Full Stack Development","Front-End Development","Back-End Development","DevOps & Cloud","Data & Analytics","Mobile Development","AI & Machine Learning","Career & Growth","Business & Strategy","Tools & Productivity","Other"],xU=({isOpen:e,onClose:t,content:r,businesses:n,onSave:a})=>{const[i,l]=x.useState({});if(x.useEffect(()=>{r&&l({title:r.title,url:r.url,source:r.source,category:r.category,ai_summary:r.ai_summary,status:r.status,priority:r.priority,tags:r.tags||[],dashboard_areas:r.dashboard_areas||[],value_rating:r.value_rating,time_estimate:r.time_estimate,creator:r.creator})},[r]),!e||!r)return null;const u=m=>{m.preventDefault(),a(r.id,i),t()},d=m=>{const h=i.dashboard_areas||[],g=h.includes(m)?h.filter(y=>y!==m):[...h,m];l({...i,dashboard_areas:g})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Content"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300",children:s.jsx(Ht,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:i.title||"",onChange:m=>l({...i,title:m.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"URL"}),s.jsx("input",{type:"url",value:i.url||"",onChange:m=>l({...i,url:m.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"AI Summary"}),s.jsx("textarea",{value:i.ai_summary||"",onChange:m=>l({...i,ai_summary:m.target.value}),rows:4,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Source"}),s.jsx("select",{value:i.source||"",onChange:m=>l({...i,source:m.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:mU.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),s.jsx("select",{value:i.category||"",onChange:m=>l({...i,category:m.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:yU.map(m=>s.jsx("option",{value:m,children:m},m))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),s.jsx("select",{value:i.status||"",onChange:m=>l({...i,status:m.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:gU.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority"}),s.jsx("select",{value:i.priority||"",onChange:m=>l({...i,priority:m.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:pU.map(m=>s.jsx("option",{value:m,children:m},m))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Creator"}),s.jsx("input",{type:"text",value:i.creator||"",onChange:m=>l({...i,creator:m.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time Estimate"}),s.jsx("input",{type:"text",value:i.time_estimate||"",onChange:m=>l({...i,time_estimate:m.target.value}),placeholder:"e.g., 5 min, 1 hour",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Value Rating (1-10)"}),s.jsx("input",{type:"number",min:"1",max:"10",value:i.value_rating||5,onChange:m=>l({...i,value_rating:parseInt(m.target.value)}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Dashboard Areas"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Life Areas"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:hU.map(m=>s.jsx("button",{type:"button",onClick:()=>d(m),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${(i.dashboard_areas||[]).includes(m)?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:m},m))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Businesses"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(m=>s.jsx("button",{type:"button",onClick:()=>d(m.id),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${(i.dashboard_areas||[]).includes(m.id)?"text-white":"text-gray-300 hover:opacity-80"}`,style:{backgroundColor:(i.dashboard_areas||[]).includes(m.id)?m.color:"#374151"},children:m.name},m.id))})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:(i.tags||[]).join(", "),onChange:m=>l({...i,tags:Wd(m.target.value)}),placeholder:"react, typescript, tutorial",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[s.jsxs("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx(lp,{className:"w-5 h-5"}),"Save Changes"]}),s.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]})})},vU=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(!0),[l,u]=x.useState("table"),{data:d=[]}=Ie({queryKey:["businesses"],queryFn:async()=>{const{data:{session:R}}=await Z.auth.getSession();if(!R)return[];const{data:se,error:xe}=await Z.from("businesses").select("*").eq("user_id",R.user.id).order("name");if(xe)throw xe;return se||[]}}),[m,h]=x.useState(""),[g,y]=x.useState(!1),[v,_]=x.useState(!1),[w,b]=x.useState(!1),[S,k]=x.useState(!1),[C,A]=x.useState(null),[E,M]=x.useState(!1),[T,D]=x.useState("saved_at"),[L,B]=x.useState("desc"),[z,F]=x.useState(!1),[G,V]=x.useState({source:[],category:[],status:[],priority:[],tags:[],folder:void 0,searchTerm:"",isFavorite:void 0,dashboardAreas:[],minValueRating:null}),[Y,$]=x.useState({title:"",url:"",source:"Website",category:"Full Stack Development",status:"To Watch",priority:"Medium",notes:"",ai_summary:"",tags:[],dashboard_areas:[],value_rating:null,tg_rating:null,google_llm:!1,agent:"",is_favorite:!1}),[ee,J]=x.useState(null),[W,U]=x.useState("");x.useEffect(()=>{P()},[]),x.useEffect(()=>{H()},[e,m,G,T,L]);const P=async()=>{try{const{data:{session:R}}=await Z.auth.getSession();if(!R)return;const{data:se,error:xe}=await Z.from("content_library").select("*").eq("user_id",R.user.id).order("created_at",{ascending:!1});if(xe)throw xe;t(se||[])}catch(R){console.error("Error fetching contents:",R)}finally{i(!1)}},H=()=>{let R=[...e];m&&(R=R.filter(se=>se.title.toLowerCase().includes(m.toLowerCase())||se.notes.toLowerCase().includes(m.toLowerCase())||se.creator?.toLowerCase().includes(m.toLowerCase())||se.tags.some(xe=>xe.toLowerCase().includes(m.toLowerCase())))),G.source&&G.source.length>0&&(R=R.filter(se=>G.source.includes(se.source))),G.category&&G.category.length>0&&(R=R.filter(se=>G.category.includes(se.category))),G.status&&G.status.length>0&&(R=R.filter(se=>G.status.includes(se.status))),G.priority&&G.priority.length>0&&(R=R.filter(se=>G.priority.includes(se.priority))),G.tags&&G.tags.length>0&&(R=R.filter(se=>G.tags.some(xe=>se.tags.includes(xe)))),G.isFavorite!==void 0&&(R=R.filter(se=>se.is_favorite===G.isFavorite)),G.folder&&(R=R.filter(se=>se.folder===G.folder)),G.dashboardAreas&&G.dashboardAreas.length>0&&(R=R.filter(se=>se.dashboard_areas?.some(xe=>G.dashboardAreas.includes(xe)))),G.minValueRating&&(R=R.filter(se=>se.value_rating&&se.value_rating>=G.minValueRating)),R.sort((se,xe)=>{let Te=0;switch(T){case"saved_at":Te=new Date(se.saved_at).getTime()-new Date(xe.saved_at).getTime();break;case"priority":const et={High:3,Medium:2,Low:1};Te=et[se.priority]-et[xe.priority];break;case"title":Te=se.title.localeCompare(xe.title);break;case"status":Te=se.status.localeCompare(xe.status);break;case"value_rating":const Dt=se.value_rating||0,Nt=xe.value_rating||0;Te=Dt-Nt;break}return L==="asc"?Te:-Te}),n(R)},Q=async()=>{if(!Y.url){alert("Please enter a URL first");return}F(!0);try{const R=await S4(Y.url);$({...Y,title:R.title||Y.title,ai_summary:R.ai_summary||Y.ai_summary,creator:R.creator||Y.creator,time_estimate:R.time_estimate||Y.time_estimate,tags:R.tags&&R.tags.length>0?R.tags:Y.tags,value_rating:R.value_rating!==void 0?R.value_rating:Y.value_rating,thumbnail_url:R.thumbnail_url||Y.thumbnail_url})}catch(R){console.error("Error analyzing content:",R),alert("Failed to analyze content. Please try again.")}finally{F(!1)}},ne=async()=>{try{const{data:{session:R}}=await Z.auth.getSession();if(!R)return;const se={...Y,user_id:R.user.id,saved_at:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:xe,error:Te}=await Z.from("content_library").insert([se]).select();if(Te)throw Te;t([...e,xe[0]]),y(!1),fr()}catch(R){console.error("Error adding content:",R)}},ge=async()=>{if(Y.id)try{const R={...Y,updated_at:new Date().toISOString()},{error:se}=await Z.from("content_library").update(R).eq("id",Y.id);if(se)throw se;t(e.map(xe=>xe.id===Y.id?{...xe,...R}:xe)),b(!1),fr()}catch(R){console.error("Error updating content:",R)}},be=async(R,se)=>{try{const{error:xe}=await Z.from("content_library").update({...se,updated_at:new Date().toISOString()}).eq("id",R);if(xe)throw xe;t(e.map(Te=>Te.id===R?{...Te,...se}:Te))}catch(xe){console.error("Error updating content:",xe)}},te=async(R,se)=>{await be(R,{is_favorite:!se})},Se=async(R,se)=>{await be(R,{tg_rating:se})},ce=async(R,se)=>{await be(R,{google_llm:se||!1})},pe=async(R,se)=>{await be(R,{agent:se||void 0})},ke=async(R,se)=>{await be(R,{notes:se})},de=async(R,se)=>{await be(R,{creator:se})},qe=async(R,se)=>{await be(R,{status:se})},Ae=async(R,se)=>{await be(R,{tags:se})},Ye=R=>{if(!R.type.startsWith("image/")){alert("Please upload an image file");return}J(R);const se=new FileReader;se.onloadend=()=>{const xe=se.result;U(xe),$({...Y,thumbnail_url:xe})},se.readAsDataURL(R)},at=R=>{const se=R.clipboardData?.items;if(se){for(let xe=0;xe<se.length;xe++)if(se[xe].type.indexOf("image")!==-1){const Te=se[xe].getAsFile();Te&&Ye(Te)}}},Jt=R=>{R.preventDefault();const se=R.dataTransfer?.files;se&&se[0]&&Ye(se[0])},cr=R=>{R.preventDefault()},fr=()=>{$({title:"",url:"",source:"Website",category:"Full Stack Development",status:"To Watch",priority:"Medium",notes:"",tags:[],dashboard_areas:[],value_rating:null,tg_rating:null,google_llm:!1,agent:"",is_favorite:!1}),J(null),U("")},$t=R=>({Twitter:"",YouTube:"",Instagram:"",Website:"",Other:""})[R]||"",kr=R=>{switch(R){case"To Watch":return s.jsx(dm,{className:"w-4 h-4"});case"In Progress":return s.jsx(x4,{className:"w-4 h-4"});case"Completed":return s.jsx(ff,{className:"w-4 h-4"});case"Implementing":return s.jsx(Hn,{className:"w-4 h-4"});case"Archived":return s.jsx(Dq,{className:"w-4 h-4"});case"Vault":return s.jsx(dm,{className:"w-4 h-4"});default:return s.jsx(dm,{className:"w-4 h-4"})}},sn=R=>{switch(R){case"High":return"bg-red-900 text-red-300 border-red-700";case"Medium":return"bg-yellow-900 text-yellow-300 border-yellow-700";case"Low":return"bg-green-900 text-green-300 border-green-700";default:return"bg-gray-900 text-gray-300 border-gray-700"}},K=R=>{switch(R){case"To Watch":return"bg-blue-900 text-blue-300";case"In Progress":return"bg-purple-900 text-purple-300";case"Completed":return"bg-green-900 text-green-300";case"Implementing":return"bg-orange-900 text-orange-300";case"Archived":return"bg-gray-700 text-gray-300";case"Vault":return"bg-indigo-900 text-indigo-300";default:return"bg-gray-900 text-gray-300"}},ie={total:e.length,toWatch:e.filter(R=>R.status==="To Watch").length,inProgress:e.filter(R=>R.status==="In Progress").length,completed:e.filter(R=>R.status==="Completed").length,favorites:e.filter(R=>R.is_favorite).length};return a?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"text-gray-500",children:"Loading your content library..."})}):s.jsxs("div",{className:"w-full h-full overflow-y-auto px-6 py-6 space-y-6",style:{minWidth:0},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Content Library"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Your personal knowledge base of learning resources"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(v4,{className:"w-5 h-5"}),"Quick Add URL"]}),s.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ma,{className:"w-5 h-5"}),"Add Content"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-gray-700",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:ie.total}),s.jsx("div",{className:"text-sm text-gray-400",children:"Total Items"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-blue-600",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:ie.toWatch}),s.jsx("div",{className:"text-sm text-blue-300",children:"To Watch"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-purple-600",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:ie.inProgress}),s.jsx("div",{className:"text-sm text-purple-300",children:"In Progress"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-green-600",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:ie.completed}),s.jsx("div",{className:"text-sm text-green-300",children:"Completed"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-yellow-600",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:ie.favorites}),s.jsx("div",{className:"text-sm text-yellow-300",children:"Favorites"})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(_4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by title, notes, creator, or tags...",value:m,onChange:R=>h(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("button",{onClick:()=>k(!S),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${S?"bg-blue-600 border-blue-600 text-white":"bg-gray-900 border-gray-700 text-gray-300 hover:bg-gray-700"}`,children:[s.jsx(o9,{className:"w-5 h-5"}),"Filters"]}),s.jsxs("select",{value:T,onChange:R=>D(R.target.value),className:"px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"saved_at",children:"Sort by Date"}),s.jsx("option",{value:"priority",children:"Sort by Priority"}),s.jsx("option",{value:"value_rating",children:"Sort by Value Rating"}),s.jsx("option",{value:"title",children:"Sort by Title"}),s.jsx("option",{value:"status",children:"Sort by Status"})]}),s.jsx("button",{onClick:()=>B(L==="asc"?"desc":"asc"),className:"px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white hover:bg-gray-700",children:L==="asc"?"":""}),s.jsxs("div",{className:"flex gap-2 border border-gray-700 rounded-lg bg-gray-900 p-1",children:[s.jsx("button",{onClick:()=>u("grid"),className:`px-3 py-1 rounded transition-colors ${l==="grid"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-300"}`,title:"Grid view",children:""}),s.jsx("button",{onClick:()=>u("table"),className:`px-3 py-1 rounded transition-colors ${l==="table"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-300"}`,title:"Table view",children:""})]})]}),S&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),s.jsx("div",{className:"space-y-2",children:["Twitter","YouTube","Instagram","Article","Podcast","Video","Book","Course","Other"].map(R=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:G.source?.includes(R),onChange:se=>{const xe=se.target.checked?[...G.source||[],R]:G.source?.filter(Te=>Te!==R)||[];V({...G,source:xe})},className:"rounded border-gray-300"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[$t(R)," ",R]})]},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:["Full Stack Development","AI Build","Business & Entrepreneurship","Finance & Investing","Marketing & Sales","Personal Development","Health & Fitness","Golf","Productivity","Design","Leadership","Other"].map(R=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:G.category?.includes(R),onChange:se=>{const xe=se.target.checked?[...G.category||[],R]:G.category?.filter(Te=>Te!==R)||[];V({...G,category:xe})},className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm text-gray-700",children:R})]},R))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsx("div",{className:"space-y-2",children:["To Watch","In Progress","Completed","Implementing","Archived","Vault"].map(R=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:G.status?.includes(R),onChange:se=>{const xe=se.target.checked?[...G.status||[],R]:G.status?.filter(Te=>Te!==R)||[];V({...G,status:xe})},className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm text-gray-700",children:R})]},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),s.jsx("div",{className:"space-y-2",children:["High","Medium","Low"].map(R=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:G.priority?.includes(R),onChange:se=>{const xe=se.target.checked?[...G.priority||[],R]:G.priority?.filter(Te=>Te!==R)||[];V({...G,priority:xe})},className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm text-gray-700",children:R})]},R))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:G.isFavorite===!0,onChange:R=>{V({...G,isFavorite:R.target.checked?!0:void 0})},className:"rounded border-gray-300"}),s.jsx(io,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Favorites Only"})]})})]})]})]}),r.length===0?s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-12 text-center",children:[s.jsx(dm,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No content found"}),s.jsx("p",{className:"text-gray-400 mb-4",children:m||Object.values(G).some(R=>R&&(Array.isArray(R)?R.length>0:!0))?"Try adjusting your filters or search term":"Start building your knowledge base by adding your first piece of content"}),!m&&!Object.values(G).some(R=>R&&(Array.isArray(R)?R.length>0:!0))&&s.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[s.jsx(ma,{className:"w-5 h-5"}),"Add Your First Content"]})]}):l==="grid"?s.jsx("div",{className:"masonry-grid",children:r.map(R=>s.jsx("div",{className:"masonry-item",children:s.jsx(iU,{content:R,onClick:()=>{A(R),M(!0)},onToggleFavorite:te,onEdit:()=>{A(R),$(R),b(!0)},onDelete:async()=>{if(confirm("Are you sure you want to delete this content?"))try{const{error:se}=await Z.from("content_library").delete().eq("id",R.id);if(se)throw se;t(e.filter(xe=>xe.id!==R.id))}catch(se){console.error("Error deleting content:",se)}},getSourceIcon:$t,getStatusIcon:se=>kr(se),getStatusColor:se=>K(se),getPriorityColor:se=>sn(se)})},R.id))}):s.jsx(cU,{contents:r,onToggleFavorite:te,onEdit:R=>{A(R),$(R),b(!0)},onDelete:async R=>{if(confirm("Are you sure you want to delete this content?"))try{const{error:se}=await Z.from("content_library").delete().eq("id",R);if(se)throw se;t(e.filter(xe=>xe.id!==R))}catch(se){console.error("Error deleting content:",se)}},onOpenDetails:R=>{A(R),M(!0)},onUpdateTGRating:Se,onUpdateGoogleLLM:ce,onUpdateAgent:pe,onUpdateNotes:ke,onUpdateCreator:de,onUpdateStatus:qe,onUpdateTags:Ae,getSourceIcon:$t,getStatusColor:R=>K(R),getPriorityColor:R=>sn(R)}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add New Content"}),s.jsx("button",{onClick:()=>{y(!1),fr()},className:"text-gray-400 hover:text-gray-300",children:s.jsx(Ht,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title *"}),s.jsx("input",{type:"text",value:Y.title,onChange:R=>$({...Y,title:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter content title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",value:Y.url,onChange:R=>$({...Y,url:R.target.value}),className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."}),s.jsx("button",{type:"button",onClick:Q,disabled:!Y.url||z,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors whitespace-nowrap",children:z?s.jsxs(s.Fragment,{children:[s.jsx(gw,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Hn,{className:"w-4 h-4"}),"Analyze with AI"]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Thumbnail Image"}),s.jsx("div",{onPaste:at,onDrop:Jt,onDragOver:cr,className:"w-full px-3 py-4 bg-gray-900 border-2 border-dashed border-gray-700 rounded-lg text-gray-400 hover:border-gray-600 transition-colors cursor-pointer",children:W?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:W,alt:"Thumbnail preview",className:"w-full h-40 object-cover rounded"}),s.jsx("button",{onClick:()=>{J(null),U(""),$({...Y,thumbnail_url:void 0})},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:s.jsx(Ht,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"mb-2",children:"Drag & drop image, paste, or click to upload"}),s.jsx("input",{type:"file",accept:"image/*",onChange:R=>{const se=R.target.files?.[0];se&&Ye(se)},className:"hidden",id:"thumbnail-upload-add"}),s.jsx("label",{htmlFor:"thumbnail-upload-add",className:"inline-block px-4 py-2 bg-gray-800 text-gray-300 rounded hover:bg-gray-700 cursor-pointer",children:"Choose File"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Platform"}),s.jsxs("select",{value:Y.source,onChange:R=>$({...Y,source:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Website",children:"Website"}),s.jsx("option",{value:"Twitter",children:"Twitter"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Instagram",children:"Instagram"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),s.jsxs("select",{value:Y.category,onChange:R=>$({...Y,category:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Full Stack Development",children:"Full Stack Development"}),s.jsx("option",{value:"AI Build",children:"AI Build"}),s.jsx("option",{value:"Business & Entrepreneurship",children:"Business & Entrepreneurship"}),s.jsx("option",{value:"Finance & Investing",children:"Finance & Investing"}),s.jsx("option",{value:"Marketing & Sales",children:"Marketing & Sales"}),s.jsx("option",{value:"Personal Development",children:"Personal Development"}),s.jsx("option",{value:"Health & Fitness",children:"Health & Fitness"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Productivity",children:"Productivity"}),s.jsx("option",{value:"Design",children:"Design"}),s.jsx("option",{value:"Leadership",children:"Leadership"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),s.jsxs("select",{value:Y.status,onChange:R=>$({...Y,status:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"To Watch",children:"To Watch"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Implementing",children:"Implementing"}),s.jsx("option",{value:"Archived",children:"Archived"}),s.jsx("option",{value:"Vault",children:"Vault"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),s.jsxs("select",{value:Y.priority,onChange:R=>$({...Y,priority:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Time (minutes)"}),s.jsx("input",{type:"number",value:Y.time_to_consume||"",onChange:R=>$({...Y,time_to_consume:R.target.value?parseInt(R.target.value):null}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"30"})]}),s.jsx(fT,{value:Y.value_rating||null,onChange:R=>$({...Y,value_rating:R})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"TG Rating (1-10)"}),s.jsx("input",{type:"number",min:"1",max:"10",value:Y.tg_rating||"",onChange:R=>$({...Y,tg_rating:R.target.value?parseInt(R.target.value):null}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1-10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Google LLM"}),s.jsxs("select",{value:Y.google_llm?"yes":"no",onChange:R=>$({...Y,google_llm:R.target.value==="yes"}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"no",children:"No"}),s.jsx("option",{value:"yes",children:"Yes"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Creator"}),s.jsx("input",{type:"text",value:Y.creator||"",onChange:R=>$({...Y,creator:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Author, YouTuber, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Agent"}),s.jsx(hT,{selectedAgent:Y.agent,onChange:R=>$({...Y,agent:R})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags (comma separated)"}),s.jsx("input",{type:"text",value:Y.tags?.join(", ")||"",onChange:R=>$({...Y,tags:Wd(R.target.value)}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"react, typescript, tutorial"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Folder"}),s.jsx("input",{type:"text",value:Y.folder||"",onChange:R=>$({...Y,folder:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional folder name"})]}),s.jsx(dT,{selectedAreas:Y.dashboard_areas||[],onChange:R=>$({...Y,dashboard_areas:R})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"AI Summary"}),s.jsx("textarea",{value:Y.ai_summary||"",onChange:R=>$({...Y,ai_summary:R.target.value}),rows:3,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 italic",placeholder:"AI-generated summary will appear here, or add your own..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled by AI or manually entered"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),s.jsx("textarea",{value:Y.notes,onChange:R=>$({...Y,notes:R.target.value}),rows:4,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add notes about this content..."})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:Y.is_favorite,onChange:R=>$({...Y,is_favorite:R.target.checked}),className:"rounded border-gray-600"}),s.jsx(io,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Mark as favorite"})]})})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-6 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>{y(!1),fr()},className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ne,disabled:!Y.title||!Y.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Content"})]})]})})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Content"}),s.jsx("button",{onClick:()=>{b(!1),fr()},className:"text-gray-400 hover:text-gray-300",children:s.jsx(Ht,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title *"}),s.jsx("input",{type:"text",value:Y.title,onChange:R=>$({...Y,title:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter content title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",value:Y.url,onChange:R=>$({...Y,url:R.target.value}),className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."}),s.jsx("button",{type:"button",onClick:Q,disabled:!Y.url||z,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors whitespace-nowrap",children:z?s.jsxs(s.Fragment,{children:[s.jsx(gw,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Hn,{className:"w-4 h-4"}),"Analyze with AI"]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Thumbnail Image"}),s.jsx("div",{onPaste:at,onDrop:Jt,onDragOver:cr,className:"w-full px-3 py-4 bg-gray-900 border-2 border-dashed border-gray-700 rounded-lg text-gray-400 hover:border-gray-600 transition-colors cursor-pointer",children:W?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:W,alt:"Thumbnail preview",className:"w-full h-40 object-cover rounded"}),s.jsx("button",{onClick:()=>{J(null),U(""),$({...Y,thumbnail_url:void 0})},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:s.jsx(Ht,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"mb-2",children:"Drag & drop image, paste, or click to upload"}),s.jsx("input",{type:"file",accept:"image/*",onChange:R=>{const se=R.target.files?.[0];se&&Ye(se)},className:"hidden",id:"thumbnail-upload-edit"}),s.jsx("label",{htmlFor:"thumbnail-upload-edit",className:"inline-block px-4 py-2 bg-gray-800 text-gray-300 rounded hover:bg-gray-700 cursor-pointer",children:"Choose File"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Platform"}),s.jsxs("select",{value:Y.source,onChange:R=>$({...Y,source:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Website",children:"Website"}),s.jsx("option",{value:"Twitter",children:"Twitter"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Instagram",children:"Instagram"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),s.jsxs("select",{value:Y.category,onChange:R=>$({...Y,category:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Full Stack Development",children:"Full Stack Development"}),s.jsx("option",{value:"AI Build",children:"AI Build"}),s.jsx("option",{value:"Business & Entrepreneurship",children:"Business & Entrepreneurship"}),s.jsx("option",{value:"Finance & Investing",children:"Finance & Investing"}),s.jsx("option",{value:"Marketing & Sales",children:"Marketing & Sales"}),s.jsx("option",{value:"Personal Development",children:"Personal Development"}),s.jsx("option",{value:"Health & Fitness",children:"Health & Fitness"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Productivity",children:"Productivity"}),s.jsx("option",{value:"Design",children:"Design"}),s.jsx("option",{value:"Leadership",children:"Leadership"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),s.jsxs("select",{value:Y.status,onChange:R=>$({...Y,status:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"To Watch",children:"To Watch"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Implementing",children:"Implementing"}),s.jsx("option",{value:"Archived",children:"Archived"}),s.jsx("option",{value:"Vault",children:"Vault"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),s.jsxs("select",{value:Y.priority,onChange:R=>$({...Y,priority:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Time (minutes)"}),s.jsx("input",{type:"number",value:Y.time_to_consume||"",onChange:R=>$({...Y,time_to_consume:R.target.value?parseInt(R.target.value):null}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"30"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Creator"}),s.jsx("input",{type:"text",value:Y.creator||"",onChange:R=>$({...Y,creator:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Author, YouTuber, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Agent"}),s.jsx(hT,{selectedAgent:Y.agent,onChange:R=>$({...Y,agent:R})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags (comma separated)"}),s.jsx("input",{type:"text",value:Y.tags?.join(", ")||"",onChange:R=>$({...Y,tags:Wd(R.target.value)}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"react, typescript, tutorial"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Folder"}),s.jsx("input",{type:"text",value:Y.folder||"",onChange:R=>$({...Y,folder:R.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional folder name"})]}),s.jsx(dT,{selectedAreas:Y.dashboard_areas||[],onChange:R=>$({...Y,dashboard_areas:R})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"AI Summary"}),s.jsx("textarea",{value:Y.ai_summary||"",onChange:R=>$({...Y,ai_summary:R.target.value}),rows:3,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 italic",placeholder:"AI-generated summary will appear here, or add your own..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled by AI or manually entered"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),s.jsx("textarea",{value:Y.notes,onChange:R=>$({...Y,notes:R.target.value}),rows:4,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add notes about this content..."})]}),s.jsx(fT,{value:Y.value_rating||null,onChange:R=>$({...Y,value_rating:R})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"TG Rating (1-10)"}),s.jsx("input",{type:"number",min:"1",max:"10",value:Y.tg_rating||"",onChange:R=>$({...Y,tg_rating:R.target.value?parseInt(R.target.value):null}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1-10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Google LLM"}),s.jsxs("select",{value:Y.google_llm?"yes":"no",onChange:R=>$({...Y,google_llm:R.target.value==="yes"}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"no",children:"No"}),s.jsx("option",{value:"yes",children:"Yes"})]})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:Y.is_favorite,onChange:R=>$({...Y,is_favorite:R.target.checked}),className:"rounded border-gray-600"}),s.jsx(io,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Mark as favorite"})]})})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-6 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>{b(!1),fr()},className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ge,disabled:!Y.title||!Y.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})]})]})})}),s.jsx(fU,{isOpen:E,onClose:()=>M(!1),content:C,businesses:d,onEdit:()=>{M(!1),b(!0)},onDelete:async R=>{try{const{error:se}=await Z.from("content_library").delete().eq("id",R);if(se)throw se;P(),M(!1)}catch(se){console.error("Error deleting content:",se),alert("Failed to delete content")}},onUpdate:async(R,se)=>{try{const{error:xe}=await Z.from("content_library").update(se).eq("id",R);if(xe)throw xe;P(),C?.id===R&&A({...C,...se})}catch(xe){console.error("Error updating content:",xe),alert("Failed to update content")}}}),s.jsx(xU,{isOpen:w,onClose:()=>b(!1),content:C,businesses:d,onSave:async(R,se)=>{try{const{error:xe}=await Z.from("content_library").update(se).eq("id",R);if(xe)throw xe;P(),C?.id===R&&A({...C,...se})}catch(xe){console.error("Error updating content:",xe),alert("Failed to update content")}}}),s.jsx(uU,{isOpen:v,onClose:()=>_(!1),onSave:async R=>{const{data:{session:se}}=await Z.auth.getSession();if(!se)return;const xe={...R,user_id:se.user.id,saved_at:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log(" Saving content:",xe);const{data:Te,error:et}=await Z.from("content_library").insert([xe]).select();if(et)throw console.error(" Error adding content:",et),console.error("Error details:",et.message,et.details,et.hint),et;console.log(" Content saved successfully:",Te),t([...e,Te[0]])}})]})},ou=()=>Ie({queryKey:["tasks"],queryFn:async()=>{const{data:e,error:t}=await Z.from("tasks").select(`
          *,
          businesses(id, name, color, slug),
          projects(id, name, description),
          phases(id, name, description),
          life_areas(id, name, color, category)
        `).order("created_at",{ascending:!1});if(t)throw t;return e},staleTime:300*1e3}),N4=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("You must be logged in to create a task");const n={...t,user_id:r.id},{data:a,error:i}=await Z.from("tasks").insert(n).select(`
          *,
          businesses(id, name, color, slug),
          projects(id, name, description),
          phases(id, name, description),
          life_areas(id, name, color, category)
        `).single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]})}})},lu=()=>{const e=ut();return jt({mutationFn:async({id:t,updates:r,skipConflictCheck:n})=>{const{data:a,error:i}=await Z.from("tasks").update(r).eq("id",t).select().single();if(i)throw i;return a},onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["tasks"]});const n=e.getQueryData(["tasks"]);return e.setQueriesData({queryKey:["tasks"]},a=>a?.map(i=>i.id===t?{...i,...r}:i)),{previousTasks:n}},onError:(t,r,n)=>{n?.previousTasks&&e.setQueryData(["tasks"],n.previousTasks)},onSettled:()=>{e.invalidateQueries({queryKey:["tasks"]})}})},k4=()=>{const e=ut();return jt({mutationFn:async t=>{const{error:r}=await Z.from("tasks").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]})}})},C4=6048e5,bU=864e5,mf=6e4,cp=36e5,wU=1e3,fm=43200,pT=1440,yT=Symbol.for("constructDateFrom");function Et(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&yT in e?e[yT](t):e instanceof Date?new e.constructor(t):new Date(t)}function Qe(e,t){return Et(t||e,e)}function As(e,t,r){const n=Qe(e,r?.in);return isNaN(t)?Et(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function T4(e,t,r){const n=Qe(e,r?.in);if(isNaN(t))return Et(e,NaN);if(!t)return n;const a=n.getDate(),i=Et(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const l=i.getDate();return a>=l?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function jU(e,t,r){return Et(e,+Qe(e)+t)}function xT(e,t,r){return jU(e,t*cp)}let _U={};function vo(){return _U}function Sr(e,t){const r=vo(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Qe(e,t?.in),i=a.getDay(),l=(i<n?7:0)+i-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function xl(e,t){return Sr(e,{...t,weekStartsOn:1})}function A4(e,t){const r=Qe(e,t?.in),n=r.getFullYear(),a=Et(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=xl(a),l=Et(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=xl(l);return r.getTime()>=i.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Wc(e){const t=Qe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function vi(e,...t){const r=Et.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function kn(e,t){const r=Qe(e,t?.in);return r.setHours(0,0,0,0),r}function V1(e,t,r){const[n,a]=vi(r?.in,e,t),i=kn(n),l=kn(a),u=+i-Wc(i),d=+l-Wc(l);return Math.round((u-d)/bU)}function SU(e,t){const r=A4(e,t),n=Et(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),xl(n)}function up(e,t,r){const n=Qe(e,r?.in);return n.setTime(n.getTime()+t*mf),n}function Q1(e,t,r){return As(e,t*7,r)}function NU(e,t,r){return T4(e,t*12,r)}function kU(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Et.bind(null,a));const i=Qe(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Et(n,r||NaN)}function CU(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Et.bind(null,a));const i=Qe(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Et(n,r||NaN)}function Um(e,t){const r=+Qe(e)-+Qe(t);return r<0?-1:r>0?1:r}function TU(e){return Et(e,Date.now())}function E4(e,t,r){const[n,a]=vi(r?.in,e,t);return+kn(n)==+kn(a)}function O4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function AU(e){return!(!O4(e)&&typeof e!="number"||isNaN(+Qe(e)))}function D4(e,t,r){const[n,a]=vi(r?.in,e,t),i=n.getFullYear()-a.getFullYear(),l=n.getMonth()-a.getMonth();return i*12+l}function EU(e,t,r){const[n,a]=vi(r?.in,e,t),i=vT(n,a),l=Math.abs(V1(n,a));n.setDate(n.getDate()-i*l);const u=+(vT(n,a)===-i),d=i*(l-u);return d===0?0:d}function vT(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function M4(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function P4(e,t){return+Qe(e)-+Qe(t)}function dp(e,t,r){const n=P4(e,t)/mf;return M4(r?.roundingMethod)(n)}function fp(e,t){const r=Qe(e,t?.in);return r.setHours(23,59,59,999),r}function X1(e,t){const r=Qe(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function OU(e,t){const r=Qe(e,t?.in);return+fp(r,t)==+X1(r,t)}function DU(e,t,r){const[n,a,i]=vi(r?.in,e,e,t),l=Um(a,i),u=Math.abs(D4(a,i));if(u<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*u);let d=Um(a,i)===-l;OU(n)&&u===1&&Um(n,i)===1&&(d=!1);const m=l*(u-+d);return m===0?0:m}function MU(e,t,r){const n=P4(e,t)/1e3;return M4(r?.roundingMethod)(n)}function R4(e,t){const[r,n]=vi(e,t.start,t.end);return{start:r,end:n}}function PU(e,t){const{start:r,end:n}=R4(t?.in,e);let a=+r>+n;const i=a?+r:+n,l=a?n:r;l.setHours(0,0,0,0),l.setDate(1);let u=1;const d=[];for(;+l<=i;)d.push(Et(r,l)),l.setMonth(l.getMonth()+u);return a?d.reverse():d}function I4(e,t){const r=Qe(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function RU(e,t){const r=Qe(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function L4(e,t){const r=Qe(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function IU(e,t){const{start:r,end:n}=R4(t?.in,e);let a=+r>+n;const i=a?+r:+n,l=a?n:r;l.setHours(0,0,0,0),l.setMonth(0,1);let u=1;const d=[];for(;+l<=i;)d.push(Et(r,l)),l.setFullYear(l.getFullYear()+u);return a?d.reverse():d}function oo(e,t){const r=vo(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Qe(e,t?.in),i=a.getDay(),l=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function LU(e,t){return oo(e,{...t,weekStartsOn:1})}const $U={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BU=(e,t,r)=>{let n;const a=$U[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Qx(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UU={date:Qx({formats:zU,defaultWidth:"full"}),time:Qx({formats:FU,defaultWidth:"full"}),dateTime:Qx({formats:qU,defaultWidth:"full"})},HU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WU=(e,t,r,n)=>HU[e];function yd(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):l;a=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const YU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},GU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},JU={ordinalNumber:ZU,era:yd({values:YU,defaultWidth:"wide"}),quarter:yd({values:KU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yd({values:GU,defaultWidth:"wide"}),day:yd({values:VU,defaultWidth:"wide"}),dayPeriod:yd({values:QU,defaultWidth:"wide",formattingValues:XU,defaultFormattingWidth:"wide"})};function xd(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const l=i[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?tH(u,g=>g.test(l)):eH(u,g=>g.test(l));let m;m=e.valueCallback?e.valueCallback(d):d,m=r.valueCallback?r.valueCallback(m):m;const h=t.slice(l.length);return{value:m,rest:h}}}function eH(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function tH(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function rH(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(a.length);return{value:l,rest:u}}}const nH=/^(\d+)(th|st|nd|rd)?/i,aH=/\d+/i,sH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iH={any:[/^b/i,/^(a|c)/i]},oH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lH={any:[/1/i,/2/i,/3/i,/4/i]},cH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gH={ordinalNumber:rH({matchPattern:nH,parsePattern:aH,valueCallback:e=>parseInt(e,10)}),era:xd({matchPatterns:sH,defaultMatchWidth:"wide",parsePatterns:iH,defaultParseWidth:"any"}),quarter:xd({matchPatterns:oH,defaultMatchWidth:"wide",parsePatterns:lH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xd({matchPatterns:cH,defaultMatchWidth:"wide",parsePatterns:uH,defaultParseWidth:"any"}),day:xd({matchPatterns:dH,defaultMatchWidth:"wide",parsePatterns:fH,defaultParseWidth:"any"}),dayPeriod:xd({matchPatterns:hH,defaultMatchWidth:"any",parsePatterns:mH,defaultParseWidth:"any"})},gf={code:"en-US",formatDistance:BU,formatLong:UU,formatRelative:WU,localize:JU,match:gH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pH(e,t){const r=Qe(e,t?.in);return V1(r,L4(r))+1}function Z1(e,t){const r=Qe(e,t?.in),n=+xl(r)-+SU(r);return Math.round(n/C4)+1}function J1(e,t){const r=Qe(e,t?.in),n=r.getFullYear(),a=vo(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Et(t?.in||e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const u=Sr(l,t),d=Et(t?.in||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const m=Sr(d,t);return+r>=+u?n+1:+r>=+m?n:n-1}function yH(e,t){const r=vo(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=J1(e,t),i=Et(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Sr(i,t)}function ej(e,t){const r=Qe(e,t?.in),n=+Sr(r,t)-+yH(r,t);return Math.round(n/C4)+1}function qt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Qi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return qt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):qt(r+1,2)},d(e,t){return qt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return qt(e.getHours()%12||12,t.length)},H(e,t){return qt(e.getHours(),t.length)},m(e,t){return qt(e.getMinutes(),t.length)},s(e,t){return qt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return qt(a,t.length)}},Ac={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bT={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Qi.y(e,t)},Y:function(e,t,r,n){const a=J1(e,n),i=a>0?a:1-a;if(t==="YY"){const l=i%100;return qt(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):qt(i,t.length)},R:function(e,t){const r=A4(e);return qt(r,t.length)},u:function(e,t){const r=e.getFullYear();return qt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Qi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=ej(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):qt(a,t.length)},I:function(e,t,r){const n=Z1(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):qt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Qi.d(e,t)},D:function(e,t,r){const n=pH(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):qt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return qt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return qt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return qt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ac.noon:n===0?a=Ac.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ac.evening:n>=12?a=Ac.afternoon:n>=4?a=Ac.morning:a=Ac.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Qi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Qi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Qi.s(e,t)},S:function(e,t){return Qi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return jT(n);case"XXXX":case"XX":return Zo(n);case"XXXXX":case"XXX":default:return Zo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return jT(n);case"xxxx":case"xx":return Zo(n);case"xxxxx":case"xxx":default:return Zo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wT(n,":");case"OOOO":default:return"GMT"+Zo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wT(n,":");case"zzzz":default:return"GMT"+Zo(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return qt(n,t.length)},T:function(e,t,r){return qt(+e,t.length)}};function wT(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+qt(i,2)}function jT(e,t){return e%60===0?(e>0?"-":"+")+qt(Math.abs(e)/60,2):Zo(e,t)}function Zo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=qt(Math.trunc(n/60),2),i=qt(n%60,2);return r+a+t+i}const _T=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xH=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return _T(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",_T(n,t)).replace("{{time}}",$4(a,t))},pw={p:$4,P:xH},vH=/^D+$/,bH=/^Y+$/,wH=["D","DD","YY","YYYY"];function B4(e){return vH.test(e)}function z4(e){return bH.test(e)}function yw(e,t,r){const n=jH(e,t,r);if(console.warn(n),wH.includes(e))throw new RangeError(n)}function jH(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _H=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NH=/^'([^]*?)'?$/,kH=/''/g,CH=/[a-zA-Z]/;function Ne(e,t,r){const n=vo(),a=r?.locale??n.locale??gf,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Qe(e,r?.in);if(!AU(u))throw new RangeError("Invalid time value");let d=t.match(SH).map(h=>{const g=h[0];if(g==="p"||g==="P"){const y=pw[g];return y(h,a.formatLong)}return h}).join("").match(_H).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:TH(h)};if(bT[g])return{isToken:!0,value:h};if(g.match(CH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const m={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return d.map(h=>{if(!h.isToken)return h.value;const g=h.value;(!r?.useAdditionalWeekYearTokens&&z4(g)||!r?.useAdditionalDayOfYearTokens&&B4(g))&&yw(g,t,String(e));const y=bT[g[0]];return y(u,g,a.localize,m)}).join("")}function TH(e){const t=e.match(NH);return t?t[1].replace(kH,"'"):e}function AH(e,t,r){const n=vo(),a=r?.locale??n.locale??gf,i=2520,l=Um(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:l}),[d,m]=vi(r?.in,...l>0?[t,e]:[e,t]),h=MU(m,d),g=(Wc(m)-Wc(d))/1e3,y=Math.round((h-g)/60);let v;if(y<2)return r?.includeSeconds?h<5?a.formatDistance("lessThanXSeconds",5,u):h<10?a.formatDistance("lessThanXSeconds",10,u):h<20?a.formatDistance("lessThanXSeconds",20,u):h<40?a.formatDistance("halfAMinute",0,u):h<60?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",1,u):y===0?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",y,u);if(y<45)return a.formatDistance("xMinutes",y,u);if(y<90)return a.formatDistance("aboutXHours",1,u);if(y<pT){const _=Math.round(y/60);return a.formatDistance("aboutXHours",_,u)}else{if(y<i)return a.formatDistance("xDays",1,u);if(y<fm){const _=Math.round(y/pT);return a.formatDistance("xDays",_,u)}else if(y<fm*2)return v=Math.round(y/fm),a.formatDistance("aboutXMonths",v,u)}if(v=DU(m,d),v<12){const _=Math.round(y/fm);return a.formatDistance("xMonths",_,u)}else{const _=v%12,w=Math.trunc(v/12);return _<3?a.formatDistance("aboutXYears",w,u):_<9?a.formatDistance("overXYears",w,u):a.formatDistance("almostXYears",w+1,u)}}function tj(e,t){return AH(e,TU(e),t)}function EH(e,t){const r=Qe(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=Et(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function OH(){return Object.assign({},vo())}function DH(e,t){const r=Qe(e,t?.in).getDay();return r===0?7:r}function MH(e,t){return Qe(e,t?.in).getMonth()}function PH(e,t){return Qe(e,t?.in).getFullYear()}function RH(e,t){return+Qe(e)>+Qe(t)}function IH(e,t){return+Qe(e)<+Qe(t)}function LH(e,t){const r=$H(t)?new t(0):Et(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function $H(e){return typeof e=="function"&&e.prototype?.constructor===e}const BH=10;class F4{subPriority=0;validate(t,r){return!0}}class zH extends F4{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class FH extends F4{priority=BH;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>Et(r,n))}set(t,r){return r.timestampIsSet?t:Et(t,LH(t,this.context))}}class It{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new zH(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class qH extends It{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const jr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ws={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function _r(e,t){return e&&{value:t(e.value),rest:e.rest}}function dr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function js(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,l=r[5]?parseInt(r[5],10):0;return{value:n*(a*cp+i*mf+l*wU),rest:t.slice(r[0].length)}}function q4(e){return dr(jr.anyDigitsSigned,e)}function pr(e,t){switch(e){case 1:return dr(jr.singleDigit,t);case 2:return dr(jr.twoDigits,t);case 3:return dr(jr.threeDigits,t);case 4:return dr(jr.fourDigits,t);default:return dr(new RegExp("^\\d{1,"+e+"}"),t)}}function eg(e,t){switch(e){case 1:return dr(jr.singleDigitSigned,t);case 2:return dr(jr.twoDigitsSigned,t);case 3:return dr(jr.threeDigitsSigned,t);case 4:return dr(jr.fourDigitsSigned,t);default:return dr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function rj(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function U4(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,l=Math.trunc(i/100)*100,u=e>=i%100;a=e+l-(u?100:0)}return r?a:1-a}function H4(e){return e%400===0||e%4===0&&e%100!==0}class UH extends It{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const a=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return _r(pr(4,t),a);case"yo":return _r(n.ordinalNumber(t,{unit:"year"}),a);default:return _r(pr(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const a=t.getFullYear();if(n.isTwoDigitYear){const l=U4(n.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const i=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class HH extends It{priority=130;parse(t,r,n){const a=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return _r(pr(4,t),a);case"Yo":return _r(n.ordinalNumber(t,{unit:"year"}),a);default:return _r(pr(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,a){const i=J1(t,a);if(n.isTwoDigitYear){const u=U4(n.year,i);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Sr(t,a)}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Sr(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class WH extends It{priority=130;parse(t,r){return eg(r==="R"?4:r.length,t)}set(t,r,n){const a=Et(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),xl(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class YH extends It{priority=130;parse(t,r){return eg(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class KH extends It{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return pr(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class GH extends It{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return pr(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class VH extends It{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const a=i=>i-1;switch(r){case"M":return _r(dr(jr.month,t),a);case"MM":return _r(pr(2,t),a);case"Mo":return _r(n.ordinalNumber(t,{unit:"month"}),a);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class QH extends It{priority=110;parse(t,r,n){const a=i=>i-1;switch(r){case"L":return _r(dr(jr.month,t),a);case"LL":return _r(pr(2,t),a);case"Lo":return _r(n.ordinalNumber(t,{unit:"month"}),a);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function XH(e,t,r){const n=Qe(e,r?.in),a=ej(n,r)-t;return n.setDate(n.getDate()-a*7),Qe(n,r?.in)}class ZH extends It{priority=100;parse(t,r,n){switch(r){case"w":return dr(jr.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return pr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,a){return Sr(XH(t,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function JH(e,t,r){const n=Qe(e,r?.in),a=Z1(n,r)-t;return n.setDate(n.getDate()-a*7),n}class eW extends It{priority=100;parse(t,r,n){switch(r){case"I":return dr(jr.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return pr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return xl(JH(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const tW=[31,28,31,30,31,30,31,31,30,31,30,31],rW=[31,29,31,30,31,30,31,31,30,31,30,31];class nW extends It{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return dr(jr.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return pr(r.length,t)}}validate(t,r){const n=t.getFullYear(),a=H4(n),i=t.getMonth();return a?r>=1&&r<=rW[i]:r>=1&&r<=tW[i]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class aW extends It{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return dr(jr.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return pr(r.length,t)}}validate(t,r){const n=t.getFullYear();return H4(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function nj(e,t,r){const n=vo(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Qe(e,r?.in),l=i.getDay(),d=(t%7+7)%7,m=7-a,h=t<0||t>6?t-(l+m)%7:(d+m)%7-(l+m)%7;return As(i,h,r)}class sW extends It{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=nj(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class iW extends It{priority=90;parse(t,r,n,a){const i=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return _r(pr(r.length,t),i);case"eo":return _r(n.ordinalNumber(t,{unit:"day"}),i);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=nj(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class oW extends It{priority=90;parse(t,r,n,a){const i=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return _r(pr(r.length,t),i);case"co":return _r(n.ordinalNumber(t,{unit:"day"}),i);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=nj(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function lW(e,t,r){const n=Qe(e,r?.in),a=DH(n,r),i=t-a;return As(n,i,r)}class cW extends It{priority=90;parse(t,r,n){const a=i=>i===0?7:i;switch(r){case"i":case"ii":return pr(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return _r(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return _r(n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return _r(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return _r(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=lW(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class uW extends It{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(rj(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class dW extends It{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(rj(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class fW extends It{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(rj(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class hW extends It{priority=70;parse(t,r,n){switch(r){case"h":return dr(jr.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return pr(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const a=t.getHours()>=12;return a&&n<12?t.setHours(n+12,0,0,0):!a&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class mW extends It{priority=70;parse(t,r,n){switch(r){case"H":return dr(jr.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return pr(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class gW extends It{priority=70;parse(t,r,n){switch(r){case"K":return dr(jr.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return pr(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class pW extends It{priority=70;parse(t,r,n){switch(r){case"k":return dr(jr.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return pr(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const a=n<=24?n%24:n;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class yW extends It{priority=60;parse(t,r,n){switch(r){case"m":return dr(jr.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return pr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class xW extends It{priority=50;parse(t,r,n){switch(r){case"s":return dr(jr.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return pr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class vW extends It{priority=30;parse(t,r){const n=a=>Math.trunc(a*Math.pow(10,-r.length+3));return _r(pr(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class bW extends It{priority=10;parse(t,r){switch(r){case"X":return js(ws.basicOptionalMinutes,t);case"XX":return js(ws.basic,t);case"XXXX":return js(ws.basicOptionalSeconds,t);case"XXXXX":return js(ws.extendedOptionalSeconds,t);case"XXX":default:return js(ws.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Et(t,t.getTime()-Wc(t)-n)}incompatibleTokens=["t","T","x"]}class wW extends It{priority=10;parse(t,r){switch(r){case"x":return js(ws.basicOptionalMinutes,t);case"xx":return js(ws.basic,t);case"xxxx":return js(ws.basicOptionalSeconds,t);case"xxxxx":return js(ws.extendedOptionalSeconds,t);case"xxx":default:return js(ws.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Et(t,t.getTime()-Wc(t)-n)}incompatibleTokens=["t","T","X"]}class jW extends It{priority=40;parse(t){return q4(t)}set(t,r,n){return[Et(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class _W extends It{priority=20;parse(t){return q4(t)}set(t,r,n){return[Et(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const SW={G:new qH,y:new UH,Y:new HH,R:new WH,u:new YH,Q:new KH,q:new GH,M:new VH,L:new QH,w:new ZH,I:new eW,d:new nW,D:new aW,E:new sW,e:new iW,c:new oW,i:new cW,a:new uW,b:new dW,B:new fW,h:new hW,H:new mW,K:new gW,k:new pW,m:new yW,s:new xW,S:new vW,X:new bW,x:new wW,t:new jW,T:new _W},NW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CW=/^'([^]*?)'?$/,TW=/''/g,AW=/\S/,EW=/[a-zA-Z]/;function ST(e,t,r,n){const a=()=>Et(r,NaN),i=OH(),l=i.locale??gf,u=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,m={firstWeekContainsDate:u,weekStartsOn:d,locale:l},h=[new FH(n?.in,r)],g=t.match(kW).map(b=>{const S=b[0];if(S in pw){const k=pw[S];return k(b,l.formatLong)}return b}).join("").match(NW),y=[];for(let b of g){z4(b)&&yw(b,t,e),B4(b)&&yw(b,t,e);const S=b[0],k=SW[S];if(k){const{incompatibleTokens:C}=k;if(Array.isArray(C)){const E=y.find(M=>C.includes(M.token)||M.token===S);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${b}\` at the same time`)}else if(k.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);y.push({token:S,fullToken:b});const A=k.run(e,b,l.match,m);if(!A)return a();h.push(A.setter),e=A.rest}else{if(S.match(EW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(b==="''"?b="'":S==="'"&&(b=OW(b)),e.indexOf(b)===0)e=e.slice(b.length);else return a()}}if(e.length>0&&AW.test(e))return a();const v=h.map(b=>b.priority).sort((b,S)=>S-b).filter((b,S,k)=>k.indexOf(b)===S).map(b=>h.filter(S=>S.priority===b).sort((S,k)=>k.subPriority-S.subPriority)).map(b=>b[0]);let _=Qe(r,n?.in);if(isNaN(+_))return a();const w={};for(const b of v){if(!b.validate(_,m))return a();const S=b.set(_,w,m);Array.isArray(S)?(_=S[0],Object.assign(w,S[1])):_=S}return _}function OW(e){return e.match(CW)[1].replace(TW,"'")}function DW(e,t,r){const[n,a]=vi(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function MW(e,t,r){const[n,a]=vi(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function hm(e,t,r){const n=+Qe(e,r?.in),[a,i]=[+Qe(t.start,r?.in),+Qe(t.end,r?.in)].sort((l,u)=>l-u);return n>=a&&n<=i}function tg(e,t,r){return As(e,-t,r)}function kt(e,t){const r=()=>Et(t?.in,NaN),a=LW(e);let i;if(a.date){const m=$W(a.date,2);i=BW(m.restDateString,m.year)}if(!i||isNaN(+i))return r();const l=+i;let u=0,d;if(a.time&&(u=zW(a.time),isNaN(u)))return r();if(a.timezone){if(d=FW(a.timezone),isNaN(d))return r()}else{const m=new Date(l+u),h=Qe(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return Qe(l+u+d,t?.in)}const mm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},PW=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,RW=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IW=/^([+-])(\d{2})(?::?(\d{2}))?$/;function LW(e){const t={},r=e.split(mm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],mm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=mm.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function $W(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function BW(e,t){if(t===null)return new Date(NaN);const r=e.match(PW);if(!r)return new Date(NaN);const n=!!r[4],a=vd(r[1]),i=vd(r[2])-1,l=vd(r[3]),u=vd(r[4]),d=vd(r[5])-1;if(n)return YW(t,u,d)?qW(t,u,d):new Date(NaN);{const m=new Date(0);return!HW(t,i,l)||!WW(t,a)?new Date(NaN):(m.setUTCFullYear(t,i,Math.max(a,l)),m)}}function vd(e){return e?parseInt(e):1}function zW(e){const t=e.match(RW);if(!t)return NaN;const r=Xx(t[1]),n=Xx(t[2]),a=Xx(t[3]);return KW(r,n,a)?r*cp+n*mf+a*1e3:NaN}function Xx(e){return e&&parseFloat(e.replace(",","."))||0}function FW(e){if(e==="Z")return 0;const t=e.match(IW);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return GW(n,a)?r*(n*cp+a*mf):NaN}function qW(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const UW=[31,null,31,30,31,30,31,31,30,31,30,31];function W4(e){return e%400===0||e%4===0&&e%100!==0}function HW(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(UW[t]||(W4(e)?29:28))}function WW(e,t){return t>=1&&t<=(W4(e)?366:365)}function YW(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function KW(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function GW(e,t){return t>=0&&t<=59}function VW(e,t,r){const n=Qe(e,r?.in),a=n.getFullYear(),i=n.getDate(),l=Et(e,0);l.setFullYear(a,t,15),l.setHours(0,0,0,0);const u=EH(l);return n.setMonth(t,Math.min(i,u)),n}function QW(e,t,r){const n=Qe(e,r?.in);return isNaN(+n)?Et(e,NaN):(n.setFullYear(t),n)}function XW(e,t,r){return Q1(e,-1,r)}const ZW=(e,t)=>Ie({queryKey:["calendar-view",Ne(e,"yyyy-MM-dd"),Ne(t,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.rpc("get_calendar_view",{p_user_id:r.id,p_start_date:Ne(e,"yyyy-MM-dd"),p_end_date:Ne(t,"yyyy-MM-dd")});if(a)throw a;return n||[]},staleTime:120*1e3,refetchInterval:120*1e3}),Y4=e=>Ie({queryKey:["daily-schedule",Ne(e,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("get_daily_schedule",{p_user_id:t.id,p_date:Ne(e,"yyyy-MM-dd")});if(n)throw n;return r||[]},staleTime:60*1e3,refetchInterval:60*1e3}),JW=e=>Ie({queryKey:["weekly-calendar-summary",Ne(e,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("get_weekly_calendar_summary",{p_user_id:t.id,p_week_start:Ne(e,"yyyy-MM-dd")});if(n)throw n;return r||[]},staleTime:120*1e3,refetchInterval:120*1e3}),eY=e=>Ie({queryKey:["unscheduled-tasks",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");console.log("[useUnscheduledTasks] Fetching for user:",t.id,"area:",e);const{data:r,error:n}=await Z.rpc("get_unscheduled_tasks",{p_user_id:t.id,p_area:e||null});if(n)throw console.error("[useUnscheduledTasks] Error:",n),n;return console.log("[useUnscheduledTasks] Received data:",r),r||[]},staleTime:60*1e3,refetchInterval:60*1e3}),tY=(e,t,r,n)=>Ie({queryKey:["time-block-conflicts",Ne(e,"yyyy-MM-dd"),t,r,n],queryFn:async()=>{const{data:{user:a}}=await Z.auth.getUser();if(!a)throw new Error("Not authenticated");const{data:i,error:l}=await Z.rpc("check_time_block_conflicts",{p_user_id:a.id,p_scheduled_date:Ne(e,"yyyy-MM-dd"),p_start_time:t,p_end_time:r,p_exclude_block_id:null});if(l)throw l;return i||[]},enabled:!!t&&!!r}),rY=(e,t)=>Ie({queryKey:["task-scheduling-analytics",Ne(e,"yyyy-MM-dd"),Ne(t,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.rpc("get_task_scheduling_analytics",{p_user_id:r.id,p_start_date:Ne(e,"yyyy-MM-dd"),p_end_date:Ne(t,"yyyy-MM-dd")});if(a)throw a;return n||[]},staleTime:300*1e3}),aj=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.from("task_time_blocks").insert({user_id:r.id,task_id:t.taskId,scheduled_date:Ne(t.scheduledDate,"yyyy-MM-dd"),start_time:t.startTime,end_time:t.endTime,planned_duration_minutes:t.plannedDurationMinutes,notes:t.notes||null,status:"scheduled"}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["weekly-calendar-summary"]}),e.invalidateQueries({queryKey:["unscheduled-tasks"]}),e.invalidateQueries({queryKey:["task-time-blocks"]}),e.invalidateQueries({queryKey:["task-has-time-blocks"]})}})},sj=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:r,error:n}=await Z.from("task_time_blocks").update(t.updates).eq("id",t.blockId).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["weekly-calendar-summary"]}),e.invalidateQueries({queryKey:["task-scheduling-analytics"]}),e.invalidateQueries({queryKey:["task-time-blocks"]}),e.invalidateQueries({queryKey:["task-has-time-blocks"]})}})},K4=()=>{const e=ut();return jt({mutationFn:async t=>{const{error:r}=await Z.from("task_time_blocks").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["weekly-calendar-summary"]}),e.invalidateQueries({queryKey:["unscheduled-tasks"]}),e.invalidateQueries({queryKey:["task-time-blocks"]}),e.invalidateQueries({queryKey:["task-has-time-blocks"]})}})},nY=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:r,error:n}=await Z.from("task_time_blocks").update({status:"completed",actual_duration_minutes:t.actualDurationMinutes}).eq("id",t.blockId).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["task-scheduling-analytics"]})}})},aY=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:r,error:n}=await Z.from("task_time_blocks").update({status:"in_progress"}).eq("id",t).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]})}})},sY=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:r,error:n}=await Z.from("task_time_blocks").update({status:"cancelled"}).eq("id",t).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["unscheduled-tasks"]})}})};class iY{logs=[];maxLogs=100;log(t){const r={...t,timestamp:new Date().toISOString()};this.logs.unshift(r),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(0,this.maxLogs))}logSuccess(t,r,n){this.log({taskId:r,operation:t,success:!0,details:n})}logError(t,r,n,a){this.log({taskId:r,operation:t,success:!1,error:n,details:a})}getLogs(){return[...this.logs]}getRecentErrors(t=10){return this.logs.filter(r=>!r.success).slice(0,t)}clearLogs(){this.logs=[]}}const Oa=new iY,G4=e=>{const t=ut();x.useEffect(()=>{if(!e)return;const r=Z.channel("tasks-changes").on("postgres_changes",{event:"*",schema:"public",table:"tasks",filter:`user_id=eq.${e}`},i=>{console.log("[Real-time] Tasks change detected:",i);try{const l=i.new,u=i.old,d=l?.id||u?.id||null,m=i.eventType;Oa.logSuccess(m,d,{table:i.table,eventType:i.eventType}),t.invalidateQueries({queryKey:["tasks"]}),(i.eventType==="UPDATE"||i.eventType==="DELETE")&&d&&t.invalidateQueries({queryKey:["tasks",d]})}catch(l){const u=i.new,d=i.old;Oa.logError("SYNC_ERROR",u?.id||d?.id||null,l?.message||"Unknown sync error",{payload:i,error:l}),console.error("[Real-time] Sync error:",l)}}).subscribe(i=>{console.log("[Real-time] Tasks subscription status:",i),i==="SUBSCRIBED"?Oa.logSuccess("INSERT","system",{message:"Tasks real-time subscription active"}):(i==="CHANNEL_ERROR"||i==="TIMED_OUT"||i==="CLOSED")&&Oa.logError("SYNC_ERROR",null,`Tasks subscription status: ${i}`,{status:i})}),n=Z.channel("deep-work-sessions-changes").on("postgres_changes",{event:"*",schema:"public",table:"deep_work_sessions",filter:`user_id=eq.${e}`},i=>{console.log("[Real-time] Deep Work Sessions change detected:",i);try{const l=i.new,u=i.old,d=l?.id||u?.id||null,m=i.eventType;if(Oa.logSuccess(m,d,{table:i.table,eventType:i.eventType}),t.invalidateQueries({queryKey:["deep-work-sessions"]}),t.invalidateQueries({queryKey:["time-allocation"]}),m==="UPDATE"&&l?.status==="completed"){const h=new Date(l.start_time);t.invalidateQueries({queryKey:["time-allocation","daily"]}),t.invalidateQueries({queryKey:["time-allocation","weekly"]}),t.invalidateQueries({queryKey:["time-allocation","monthly"]})}}catch(l){const u=i.new,d=i.old;Oa.logError("SYNC_ERROR",u?.id||d?.id||null,l?.message||"Unknown sync error",{payload:i,error:l}),console.error("[Real-time] Deep Work sync error:",l)}}).subscribe(i=>{console.log("[Real-time] Deep Work subscription status:",i),i==="SUBSCRIBED"?Oa.logSuccess("INSERT","system",{message:"Deep Work Sessions real-time subscription active"}):(i==="CHANNEL_ERROR"||i==="TIMED_OUT"||i==="CLOSED")&&Oa.logError("SYNC_ERROR",null,`Deep Work subscription status: ${i}`,{status:i})}),a=Z.channel("task-time-blocks-changes").on("postgres_changes",{event:"*",schema:"public",table:"task_time_blocks",filter:`user_id=eq.${e}`},i=>{console.log("[Real-time] Task Time Blocks change detected:",i);try{const l=i.new,u=i.old,d=l?.id||u?.id||null,m=i.eventType;Oa.logSuccess(m,d,{table:i.table,eventType:i.eventType}),t.invalidateQueries({queryKey:["calendar-view"]}),t.invalidateQueries({queryKey:["weekly-calendar-summary"]}),t.invalidateQueries({queryKey:["daily-schedule"]}),(i.eventType==="UPDATE"||i.eventType==="DELETE")&&d&&t.invalidateQueries({queryKey:["time-block",d]});const h=l?.task_id||u?.task_id;h&&t.invalidateQueries({queryKey:["tasks",h]})}catch(l){const u=i.new,d=i.old;Oa.logError("SYNC_ERROR",u?.id||d?.id||null,l?.message||"Unknown sync error",{payload:i,error:l}),console.error("[Real-time] Task Time Blocks sync error:",l)}}).subscribe(i=>{console.log("[Real-time] Task Time Blocks subscription status:",i),i==="SUBSCRIBED"?Oa.logSuccess("INSERT","system",{message:"Task Time Blocks real-time subscription active"}):(i==="CHANNEL_ERROR"||i==="TIMED_OUT"||i==="CLOSED")&&Oa.logError("SYNC_ERROR",null,`Task Time Blocks subscription status: ${i}`,{status:i})});return()=>{console.log("[Real-time] Unsubscribing from all channels"),Z.removeChannel(r),Z.removeChannel(n),Z.removeChannel(a)}},[e,t])};function NT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function V4(...e){return t=>{let r=!1;const n=e.map(a=>{const i=NT(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():NT(e[a],null)}}}}function Wt(...e){return x.useCallback(V4(...e),e)}function vl(e){const t=lY(e),r=x.forwardRef((n,a)=>{const{children:i,...l}=n,u=x.Children.toArray(i),d=u.find(uY);if(d){const m=d.props.children,h=u.map(g=>g===d?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:g);return s.jsx(t,{...l,ref:a,children:x.isValidElement(m)?x.cloneElement(m,void 0,h):null})}return s.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var oY=vl("Slot");function lY(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const l=fY(a),u=dY(i,a.props);return a.type!==x.Fragment&&(u.ref=n?V4(n,l):l),x.cloneElement(a,u)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cY=Symbol("radix.slottable");function uY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cY}function dY(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const d=i(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function fY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Q4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Q4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Rt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Q4(e))&&(n&&(n+=" "),n+=t);return n}const kT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,CT=Rt,X4=(e,t)=>r=>{var n;if(t?.variants==null)return CT(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,l=Object.keys(a).map(m=>{const h=r?.[m],g=i?.[m];if(h===null)return null;const y=kT(h)||kT(g);return a[m][y]}),u=r&&Object.entries(r).reduce((m,h)=>{let[g,y]=h;return y===void 0||(m[g]=y),m},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((m,h)=>{let{class:g,className:y,...v}=h;return Object.entries(v).every(_=>{let[w,b]=_;return Array.isArray(b)?b.includes({...i,...u}[w]):{...i,...u}[w]===b})?[...m,g,y]:m},[]);return CT(e,l,d,r?.class,r?.className)},ij="-",hY=e=>{const t=gY(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const u=l.split(ij);return u[0]===""&&u.length!==1&&u.shift(),Z4(u,t)||mY(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},Z4=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Z4(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(ij);return t.validators.find(({validator:l})=>l(i))?.classGroupId},TT=/^\[(.+)\]$/,mY=e=>{if(TT.test(e)){const t=TT.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},gY=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)xw(r[a],n,a,t);return n},xw=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:AT(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(pY(a)){xw(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,l])=>{xw(l,AT(t,i),r,n)})})},AT=(e,t)=>{let r=e;return t.split(ij).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},pY=e=>e.isThemeGetter,yY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set(i,l){r.has(i)?r.set(i,l):a(i,l)}}},vw="!",bw=":",xY=bw.length,vY=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let l=0,u=0,d=0,m;for(let _=0;_<a.length;_++){let w=a[_];if(l===0&&u===0){if(w===bw){i.push(a.slice(d,_)),d=_+xY;continue}if(w==="/"){m=_;continue}}w==="["?l++:w==="]"?l--:w==="("?u++:w===")"&&u--}const h=i.length===0?a:a.substring(d),g=bY(h),y=g!==h,v=m&&m>d?m-d:void 0;return{modifiers:i,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:v}};if(t){const a=t+bw,i=n;n=l=>l.startsWith(a)?i(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},bY=e=>e.endsWith(vw)?e.substring(0,e.length-1):e.startsWith(vw)?e.substring(1):e,wY=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(l=>{l[0]==="["||t[l]?(a.push(...i.sort(),l),i=[]):i.push(l)}),a.push(...i.sort()),a}},jY=e=>({cache:yY(e.cacheSize),parseClassName:vY(e),sortModifiers:wY(e),...hY(e)}),_Y=/\s+/,SY=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,l=[],u=e.trim().split(_Y);let d="";for(let m=u.length-1;m>=0;m-=1){const h=u[m],{isExternal:g,modifiers:y,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:w}=r(h);if(g){d=h+(d.length>0?" "+d:d);continue}let b=!!w,S=n(b?_.substring(0,w):_);if(!S){if(!b){d=h+(d.length>0?" "+d:d);continue}if(S=n(_),!S){d=h+(d.length>0?" "+d:d);continue}b=!1}const k=i(y).join(":"),C=v?k+vw:k,A=C+S;if(l.includes(A))continue;l.push(A);const E=a(S,b);for(let M=0;M<E.length;++M){const T=E[M];l.push(C+T)}d=h+(d.length>0?" "+d:d)}return d};function NY(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=J4(t))&&(n&&(n+=" "),n+=r);return n}const J4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=J4(e[n]))&&(r&&(r+=" "),r+=t);return r};function kY(e,...t){let r,n,a,i=l;function l(d){const m=t.reduce((h,g)=>g(h),e());return r=jY(m),n=r.cache.get,a=r.cache.set,i=u,u(d)}function u(d){const m=n(d);if(m)return m;const h=SY(d,r);return a(d,h),h}return function(){return i(NY.apply(null,arguments))}}const zr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},e3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,t3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CY=/^\d+\/\d+$/,TY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,OY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ec=e=>CY.test(e),lt=e=>!!e&&!Number.isNaN(Number(e)),Xi=e=>!!e&&Number.isInteger(Number(e)),Zx=e=>e.endsWith("%")&&lt(e.slice(0,-1)),ri=e=>TY.test(e),MY=()=>!0,PY=e=>AY.test(e)&&!EY.test(e),r3=()=>!1,RY=e=>OY.test(e),IY=e=>DY.test(e),LY=e=>!De(e)&&!Me(e),$Y=e=>cu(e,s3,r3),De=e=>e3.test(e),Go=e=>cu(e,i3,PY),Jx=e=>cu(e,UY,lt),ET=e=>cu(e,n3,r3),BY=e=>cu(e,a3,IY),gm=e=>cu(e,o3,RY),Me=e=>t3.test(e),bd=e=>uu(e,i3),zY=e=>uu(e,HY),OT=e=>uu(e,n3),FY=e=>uu(e,s3),qY=e=>uu(e,a3),pm=e=>uu(e,o3,!0),cu=(e,t,r)=>{const n=e3.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},uu=(e,t,r=!1)=>{const n=t3.exec(e);return n?n[1]?t(n[1]):r:!1},n3=e=>e==="position"||e==="percentage",a3=e=>e==="image"||e==="url",s3=e=>e==="length"||e==="size"||e==="bg-size",i3=e=>e==="length",UY=e=>e==="number",HY=e=>e==="family-name",o3=e=>e==="shadow",WY=()=>{const e=zr("color"),t=zr("font"),r=zr("text"),n=zr("font-weight"),a=zr("tracking"),i=zr("leading"),l=zr("breakpoint"),u=zr("container"),d=zr("spacing"),m=zr("radius"),h=zr("shadow"),g=zr("inset-shadow"),y=zr("text-shadow"),v=zr("drop-shadow"),_=zr("blur"),w=zr("perspective"),b=zr("aspect"),S=zr("ease"),k=zr("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...A(),Me,De],M=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],D=()=>[Me,De,d],L=()=>[Ec,"full","auto",...D()],B=()=>[Xi,"none","subgrid",Me,De],z=()=>["auto",{span:["full",Xi,Me,De]},Xi,Me,De],F=()=>[Xi,"auto",Me,De],G=()=>["auto","min","max","fr",Me,De],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...D()],ee=()=>[Ec,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],J=()=>[e,Me,De],W=()=>[...A(),OT,ET,{position:[Me,De]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",FY,$Y,{size:[Me,De]}],H=()=>[Zx,bd,Go],Q=()=>["","none","full",m,Me,De],ne=()=>["",lt,bd,Go],ge=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[lt,Zx,OT,ET],Se=()=>["","none",_,Me,De],ce=()=>["none",lt,Me,De],pe=()=>["none",lt,Me,De],ke=()=>[lt,Me,De],de=()=>[Ec,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ri],breakpoint:[ri],color:[MY],container:[ri],"drop-shadow":[ri],ease:["in","out","in-out"],font:[LY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ri],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ri],shadow:[ri],spacing:["px",lt],text:[ri],"text-shadow":[ri],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ec,De,Me,b]}],container:["container"],columns:[{columns:[lt,De,Me,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Xi,"auto",Me,De]}],basis:[{basis:[Ec,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[lt,Ec,"auto","initial","none",De]}],grow:[{grow:["",lt,Me,De]}],shrink:[{shrink:["",lt,Me,De]}],order:[{order:[Xi,"first","last","none",Me,De]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[u,"screen",...ee()]}],"min-w":[{"min-w":[u,"screen","none",...ee()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",r,bd,Go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Me,Jx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zx,De]}],"font-family":[{font:[zY,De,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Me,De]}],"line-clamp":[{"line-clamp":[lt,"none",Me,Jx]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",Me,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[lt,"from-font","auto",Me,Go]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[lt,"auto",Me,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xi,Me,De],radial:["",Me,De],conic:[Xi,Me,De]},qY,BY]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[lt,Me,De]}],"outline-w":[{outline:["",lt,bd,Go]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",h,pm,gm]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",g,pm,gm]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[lt,Go]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",y,pm,gm]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[lt,Me,De]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[Me,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,De]}],filter:[{filter:["","none",Me,De]}],blur:[{blur:Se()}],brightness:[{brightness:[lt,Me,De]}],contrast:[{contrast:[lt,Me,De]}],"drop-shadow":[{"drop-shadow":["","none",v,pm,gm]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",lt,Me,De]}],"hue-rotate":[{"hue-rotate":[lt,Me,De]}],invert:[{invert:["",lt,Me,De]}],saturate:[{saturate:[lt,Me,De]}],sepia:[{sepia:["",lt,Me,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,De]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[lt,Me,De]}],"backdrop-contrast":[{"backdrop-contrast":[lt,Me,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",lt,Me,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[lt,Me,De]}],"backdrop-invert":[{"backdrop-invert":["",lt,Me,De]}],"backdrop-opacity":[{"backdrop-opacity":[lt,Me,De]}],"backdrop-saturate":[{"backdrop-saturate":[lt,Me,De]}],"backdrop-sepia":[{"backdrop-sepia":["",lt,Me,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[lt,"initial",Me,De]}],ease:[{ease:["linear","initial",S,Me,De]}],delay:[{delay:[lt,Me,De]}],animate:[{animate:["none",k,Me,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Me,De]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[Me,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,De]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[lt,bd,Go,Jx]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},YY=kY(WY);function Pe(...e){return YY(Rt(e))}const ww=X4("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Fe=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const l=n?oY:"button";return s.jsx(l,{className:Pe(ww({variant:t,size:r,className:e})),ref:i,...a})});Fe.displayName="Button";const Tn=x.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Pe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Tn.displayName="Input";var da=BM();const KY=Wa(da);function jw(e,[t,r]){return Math.min(r,Math.max(t,e))}function xt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function GY(e,t){const r=x.createContext(t),n=i=>{const{children:l,...u}=i,d=x.useMemo(()=>u,Object.values(u));return s.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function a(i){const l=x.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Dl(e,t=[]){let r=[];function n(i,l){const u=x.createContext(l),d=r.length;r=[...r,l];const m=g=>{const{scope:y,children:v,..._}=g,w=y?.[e]?.[d]||u,b=x.useMemo(()=>_,Object.values(_));return s.jsx(w.Provider,{value:b,children:v})};m.displayName=i+"Provider";function h(g,y){const v=y?.[e]?.[d]||u,_=x.useContext(v);if(_)return _;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[m,h]}const a=()=>{const i=r.map(l=>x.createContext(l));return function(u){const d=u?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return a.scopeName=e,[n,VY(a,...t)]}function VY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((u,{useScope:d,scopeName:m})=>{const g=d(i)[`__scope${m}`];return{...u,...g}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function QY(e){const t=e+"CollectionProvider",[r,n]=Dl(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:b,children:S}=w,k=je.useRef(null),C=je.useRef(new Map).current;return s.jsx(a,{scope:b,itemMap:C,collectionRef:k,children:S})};l.displayName=t;const u=e+"CollectionSlot",d=vl(u),m=je.forwardRef((w,b)=>{const{scope:S,children:k}=w,C=i(u,S),A=Wt(b,C.collectionRef);return s.jsx(d,{ref:A,children:k})});m.displayName=u;const h=e+"CollectionItemSlot",g="data-radix-collection-item",y=vl(h),v=je.forwardRef((w,b)=>{const{scope:S,children:k,...C}=w,A=je.useRef(null),E=Wt(b,A),M=i(h,S);return je.useEffect(()=>(M.itemMap.set(A,{ref:A,...C}),()=>void M.itemMap.delete(A))),s.jsx(y,{[g]:"",ref:E,children:k})});v.displayName=h;function _(w){const b=i(e+"CollectionConsumer",w);return je.useCallback(()=>{const k=b.collectionRef.current;if(!k)return[];const C=Array.from(k.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((M,T)=>C.indexOf(M.ref.current)-C.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:m,ItemSlot:v},_,n]}var XY=x.createContext(void 0);function l3(e){const t=x.useContext(XY);return e||t||"ltr"}var ZY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],St=ZY.reduce((e,t)=>{const r=vl(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:l,...u}=a,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function JY(e,t){e&&da.flushSync(()=>e.dispatchEvent(t))}function Bn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function eK(e,t=globalThis?.document){const r=Bn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var tK="DismissableLayer",_w="dismissableLayer.update",rK="dismissableLayer.pointerDownOutside",nK="dismissableLayer.focusOutside",DT,c3=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hp=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...d}=e,m=x.useContext(c3),[h,g]=x.useState(null),y=h?.ownerDocument??globalThis?.document,[,v]=x.useState({}),_=Wt(t,T=>g(T)),w=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(b),k=h?w.indexOf(h):-1,C=m.layersWithOutsidePointerEventsDisabled.size>0,A=k>=S,E=iK(T=>{const D=T.target,L=[...m.branches].some(B=>B.contains(D));!A||L||(a?.(T),l?.(T),T.defaultPrevented||u?.())},y),M=oK(T=>{const D=T.target;[...m.branches].some(B=>B.contains(D))||(i?.(T),l?.(T),T.defaultPrevented||u?.())},y);return eK(T=>{k===m.layers.size-1&&(n?.(T),!T.defaultPrevented&&u&&(T.preventDefault(),u()))},y),x.useEffect(()=>{if(h)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(DT=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),MT(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=DT)}},[h,y,r,m]),x.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),MT())},[h,m]),x.useEffect(()=>{const T=()=>v({});return document.addEventListener(_w,T),()=>document.removeEventListener(_w,T)},[]),s.jsx(St.div,{...d,ref:_,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:xt(e.onFocusCapture,M.onFocusCapture),onBlurCapture:xt(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:xt(e.onPointerDownCapture,E.onPointerDownCapture)})});hp.displayName=tK;var aK="DismissableLayerBranch",sK=x.forwardRef((e,t)=>{const r=x.useContext(c3),n=x.useRef(null),a=Wt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(St.div,{...e,ref:a})});sK.displayName=aK;function iK(e,t=globalThis?.document){const r=Bn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=u=>{if(u.target&&!n.current){let d=function(){u3(rK,r,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function oK(e,t=globalThis?.document){const r=Bn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!n.current&&u3(nK,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function MT(){const e=new CustomEvent(_w);document.dispatchEvent(e)}function u3(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?JY(a,i):a.dispatchEvent(i)}var ev=0;function oj(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PT()),document.body.insertAdjacentElement("beforeend",e[1]??PT()),ev++,()=>{ev===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ev--}},[])}function PT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tv="focusScope.autoFocusOnMount",rv="focusScope.autoFocusOnUnmount",RT={bubbles:!1,cancelable:!0},lK="FocusScope",mp=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[u,d]=x.useState(null),m=Bn(a),h=Bn(i),g=x.useRef(null),y=Wt(t,w=>d(w)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let w=function(C){if(v.paused||!u)return;const A=C.target;u.contains(A)?g.current=A:Ji(g.current,{select:!0})},b=function(C){if(v.paused||!u)return;const A=C.relatedTarget;A!==null&&(u.contains(A)||Ji(g.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const E of C)E.removedNodes.length>0&&Ji(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const k=new MutationObserver(S);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),k.disconnect()}}},[n,u,v.paused]),x.useEffect(()=>{if(u){LT.add(v);const w=document.activeElement;if(!u.contains(w)){const S=new CustomEvent(tv,RT);u.addEventListener(tv,m),u.dispatchEvent(S),S.defaultPrevented||(cK(mK(d3(u)),{select:!0}),document.activeElement===w&&Ji(u))}return()=>{u.removeEventListener(tv,m),setTimeout(()=>{const S=new CustomEvent(rv,RT);u.addEventListener(rv,h),u.dispatchEvent(S),S.defaultPrevented||Ji(w??document.body,{select:!0}),u.removeEventListener(rv,h),LT.remove(v)},0)}}},[u,m,h,v]);const _=x.useCallback(w=>{if(!r&&!n||v.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,S=document.activeElement;if(b&&S){const k=w.currentTarget,[C,A]=uK(k);C&&A?!w.shiftKey&&S===A?(w.preventDefault(),r&&Ji(C,{select:!0})):w.shiftKey&&S===C&&(w.preventDefault(),r&&Ji(A,{select:!0})):S===k&&w.preventDefault()}},[r,n,v.paused]);return s.jsx(St.div,{tabIndex:-1,...l,ref:y,onKeyDown:_})});mp.displayName=lK;function cK(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ji(n,{select:t}),document.activeElement!==r)return}function uK(e){const t=d3(e),r=IT(t,e),n=IT(t.reverse(),e);return[r,n]}function d3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function IT(e,t){for(const r of e)if(!dK(r,{upTo:t}))return r}function dK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fK(e){return e instanceof HTMLInputElement&&"select"in e}function Ji(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&fK(e)&&t&&e.select()}}var LT=hK();function hK(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=$T(e,t),e.unshift(t)},remove(t){e=$T(e,t),e[0]?.resume()}}}function $T(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function mK(e){return e.filter(t=>t.tagName!=="A")}var mn=globalThis?.document?x.useLayoutEffect:()=>{},gK=O1[" useId ".trim().toString()]||(()=>{}),pK=0;function cl(e){const[t,r]=x.useState(gK());return mn(()=>{r(n=>n??String(pK++))},[e]),t?`radix-${t}`:""}const yK=["top","right","bottom","left"],co=Math.min,ia=Math.max,rg=Math.round,ym=Math.floor,Cs=e=>({x:e,y:e}),xK={left:"right",right:"left",bottom:"top",top:"bottom"},vK={start:"end",end:"start"};function Sw(e,t,r){return ia(e,co(t,r))}function hi(e,t){return typeof e=="function"?e(t):e}function mi(e){return e.split("-")[0]}function du(e){return e.split("-")[1]}function lj(e){return e==="x"?"y":"x"}function cj(e){return e==="y"?"height":"width"}const bK=new Set(["top","bottom"]);function Ss(e){return bK.has(mi(e))?"y":"x"}function uj(e){return lj(Ss(e))}function wK(e,t,r){r===void 0&&(r=!1);const n=du(e),a=uj(e),i=cj(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=ng(l)),[l,ng(l)]}function jK(e){const t=ng(e);return[Nw(e),t,Nw(t)]}function Nw(e){return e.replace(/start|end/g,t=>vK[t])}const BT=["left","right"],zT=["right","left"],_K=["top","bottom"],SK=["bottom","top"];function NK(e,t,r){switch(e){case"top":case"bottom":return r?t?zT:BT:t?BT:zT;case"left":case"right":return t?_K:SK;default:return[]}}function kK(e,t,r,n){const a=du(e);let i=NK(mi(e),r==="start",n);return a&&(i=i.map(l=>l+"-"+a),t&&(i=i.concat(i.map(Nw)))),i}function ng(e){return e.replace(/left|right|bottom|top/g,t=>xK[t])}function CK(e){return{top:0,right:0,bottom:0,left:0,...e}}function f3(e){return typeof e!="number"?CK(e):{top:e,right:e,bottom:e,left:e}}function ag(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function FT(e,t,r){let{reference:n,floating:a}=e;const i=Ss(t),l=uj(t),u=cj(l),d=mi(t),m=i==="y",h=n.x+n.width/2-a.width/2,g=n.y+n.height/2-a.height/2,y=n[u]/2-a[u]/2;let v;switch(d){case"top":v={x:h,y:n.y-a.height};break;case"bottom":v={x:h,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:g};break;case"left":v={x:n.x-a.width,y:g};break;default:v={x:n.x,y:n.y}}switch(du(t)){case"start":v[l]-=y*(r&&m?-1:1);break;case"end":v[l]+=y*(r&&m?-1:1);break}return v}const TK=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:l}=r,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let m=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:g}=FT(m,n,d),y=n,v={},_=0;for(let w=0;w<u.length;w++){const{name:b,fn:S}=u[w],{x:k,y:C,data:A,reset:E}=await S({x:h,y:g,initialPlacement:n,placement:y,strategy:a,middlewareData:v,rects:m,platform:l,elements:{reference:e,floating:t}});h=k??h,g=C??g,v={...v,[b]:{...v[b],...A}},E&&_<=50&&(_++,typeof E=="object"&&(E.placement&&(y=E.placement),E.rects&&(m=E.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:h,y:g}=FT(m,y,d)),w=-1)}return{x:h,y:g,placement:y,strategy:a,middlewareData:v}};async function Yd(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:y=!1,padding:v=0}=hi(t,e),_=f3(v),b=u[y?g==="floating"?"reference":"floating":g],S=ag(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:d})),k=g==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),A=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},E=ag(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:C,strategy:d}):k);return{top:(S.top-E.top+_.top)/A.y,bottom:(E.bottom-S.bottom+_.bottom)/A.y,left:(S.left-E.left+_.left)/A.x,right:(E.right-S.right+_.right)/A.x}}const AK=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:m,padding:h=0}=hi(e,t)||{};if(m==null)return{};const g=f3(h),y={x:r,y:n},v=uj(a),_=cj(v),w=await l.getDimensions(m),b=v==="y",S=b?"top":"left",k=b?"bottom":"right",C=b?"clientHeight":"clientWidth",A=i.reference[_]+i.reference[v]-y[v]-i.floating[_],E=y[v]-i.reference[v],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let T=M?M[C]:0;(!T||!await(l.isElement==null?void 0:l.isElement(M)))&&(T=u.floating[C]||i.floating[_]);const D=A/2-E/2,L=T/2-w[_]/2-1,B=co(g[S],L),z=co(g[k],L),F=B,G=T-w[_]-z,V=T/2-w[_]/2+D,Y=Sw(F,V,G),$=!d.arrow&&du(a)!=null&&V!==Y&&i.reference[_]/2-(V<F?B:z)-w[_]/2<0,ee=$?V<F?V-F:V-G:0;return{[v]:y[v]+ee,data:{[v]:Y,centerOffset:V-Y-ee,...$&&{alignmentOffset:ee}},reset:$}}}),EK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:m}=t,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...b}=hi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const S=mi(a),k=Ss(u),C=mi(u)===u,A=await(d.isRTL==null?void 0:d.isRTL(m.floating)),E=y||(C||!w?[ng(u)]:jK(u)),M=_!=="none";!y&&M&&E.push(...kK(u,w,_,A));const T=[u,...E],D=await Yd(t,b),L=[];let B=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&L.push(D[S]),g){const V=wK(a,l,A);L.push(D[V[0]],D[V[1]])}if(B=[...B,{placement:a,overflows:L}],!L.every(V=>V<=0)){var z,F;const V=(((z=i.flip)==null?void 0:z.index)||0)+1,Y=T[V];if(Y&&(!(g==="alignment"?k!==Ss(Y):!1)||B.every(J=>Ss(J.placement)===k?J.overflows[0]>0:!0)))return{data:{index:V,overflows:B},reset:{placement:Y}};let $=(F=B.filter(ee=>ee.overflows[0]<=0).sort((ee,J)=>ee.overflows[1]-J.overflows[1])[0])==null?void 0:F.placement;if(!$)switch(v){case"bestFit":{var G;const ee=(G=B.filter(J=>{if(M){const W=Ss(J.placement);return W===k||W==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(W=>W>0).reduce((W,U)=>W+U,0)]).sort((J,W)=>J[1]-W[1])[0])==null?void 0:G[0];ee&&($=ee);break}case"initialPlacement":$=u;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function qT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function UT(e){return yK.some(t=>e[t]>=0)}const OK=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=hi(e,t);switch(n){case"referenceHidden":{const i=await Yd(t,{...a,elementContext:"reference"}),l=qT(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:UT(l)}}}case"escaped":{const i=await Yd(t,{...a,altBoundary:!0}),l=qT(i,r.floating);return{data:{escapedOffsets:l,escaped:UT(l)}}}default:return{}}}}},h3=new Set(["left","top"]);async function DK(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=mi(r),u=du(r),d=Ss(r)==="y",m=h3.has(l)?-1:1,h=i&&d?-1:1,g=hi(t,e);let{mainAxis:y,crossAxis:v,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof _=="number"&&(v=u==="end"?_*-1:_),d?{x:v*h,y:y*m}:{x:y*m,y:v*h}}const MK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:l,middlewareData:u}=t,d=await DK(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:l}}}}},PK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:b=>{let{x:S,y:k}=b;return{x:S,y:k}}},...d}=hi(e,t),m={x:r,y:n},h=await Yd(t,d),g=Ss(mi(a)),y=lj(g);let v=m[y],_=m[g];if(i){const b=y==="y"?"top":"left",S=y==="y"?"bottom":"right",k=v+h[b],C=v-h[S];v=Sw(k,v,C)}if(l){const b=g==="y"?"top":"left",S=g==="y"?"bottom":"right",k=_+h[b],C=_-h[S];_=Sw(k,_,C)}const w=u.fn({...t,[y]:v,[g]:_});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[y]:i,[g]:l}}}}}},RK=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:m=!0}=hi(e,t),h={x:r,y:n},g=Ss(a),y=lj(g);let v=h[y],_=h[g];const w=hi(u,t),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const C=y==="y"?"height":"width",A=i.reference[y]-i.floating[C]+b.mainAxis,E=i.reference[y]+i.reference[C]-b.mainAxis;v<A?v=A:v>E&&(v=E)}if(m){var S,k;const C=y==="y"?"width":"height",A=h3.has(mi(a)),E=i.reference[g]-i.floating[C]+(A&&((S=l.offset)==null?void 0:S[g])||0)+(A?0:b.crossAxis),M=i.reference[g]+i.reference[C]+(A?0:((k=l.offset)==null?void 0:k[g])||0)-(A?b.crossAxis:0);_<E?_=E:_>M&&(_=M)}return{[y]:v,[g]:_}}}},IK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...m}=hi(e,t),h=await Yd(t,m),g=mi(a),y=du(a),v=Ss(a)==="y",{width:_,height:w}=i.floating;let b,S;g==="top"||g==="bottom"?(b=g,S=y===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(S=g,b=y==="end"?"top":"bottom");const k=w-h.top-h.bottom,C=_-h.left-h.right,A=co(w-h[b],k),E=co(_-h[S],C),M=!t.middlewareData.shift;let T=A,D=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=k),M&&!y){const B=ia(h.left,0),z=ia(h.right,0),F=ia(h.top,0),G=ia(h.bottom,0);v?D=_-2*(B!==0||z!==0?B+z:ia(h.left,h.right)):T=w-2*(F!==0||G!==0?F+G:ia(h.top,h.bottom))}await d({...t,availableWidth:D,availableHeight:T});const L=await l.getDimensions(u.floating);return _!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function gp(){return typeof window<"u"}function fu(e){return m3(e)?(e.nodeName||"").toLowerCase():"#document"}function fa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ps(e){var t;return(t=(m3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m3(e){return gp()?e instanceof Node||e instanceof fa(e).Node:!1}function ns(e){return gp()?e instanceof Element||e instanceof fa(e).Element:!1}function Es(e){return gp()?e instanceof HTMLElement||e instanceof fa(e).HTMLElement:!1}function HT(e){return!gp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fa(e).ShadowRoot}const LK=new Set(["inline","contents"]);function pf(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=as(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!LK.has(a)}const $K=new Set(["table","td","th"]);function BK(e){return $K.has(fu(e))}const zK=[":popover-open",":modal"];function pp(e){return zK.some(t=>{try{return e.matches(t)}catch{return!1}})}const FK=["transform","translate","scale","rotate","perspective"],qK=["transform","translate","scale","rotate","perspective","filter"],UK=["paint","layout","strict","content"];function dj(e){const t=fj(),r=ns(e)?as(e):e;return FK.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||qK.some(n=>(r.willChange||"").includes(n))||UK.some(n=>(r.contain||"").includes(n))}function HK(e){let t=uo(e);for(;Es(t)&&!Yc(t);){if(dj(t))return t;if(pp(t))return null;t=uo(t)}return null}function fj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WK=new Set(["html","body","#document"]);function Yc(e){return WK.has(fu(e))}function as(e){return fa(e).getComputedStyle(e)}function yp(e){return ns(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function uo(e){if(fu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||HT(e)&&e.host||Ps(e);return HT(t)?t.host:t}function g3(e){const t=uo(e);return Yc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Es(t)&&pf(t)?t:g3(t)}function Kd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=g3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),l=fa(a);if(i){const u=kw(l);return t.concat(l,l.visualViewport||[],pf(a)?a:[],u&&r?Kd(u):[])}return t.concat(a,Kd(a,[],r))}function kw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function p3(e){const t=as(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Es(e),i=a?e.offsetWidth:r,l=a?e.offsetHeight:n,u=rg(r)!==i||rg(n)!==l;return u&&(r=i,n=l),{width:r,height:n,$:u}}function hj(e){return ns(e)?e:e.contextElement}function Bc(e){const t=hj(e);if(!Es(t))return Cs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=p3(t);let l=(i?rg(r.width):r.width)/n,u=(i?rg(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const YK=Cs(0);function y3(e){const t=fa(e);return!fj()||!t.visualViewport?YK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KK(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fa(e)?!1:t}function bl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=hj(e);let l=Cs(1);t&&(n?ns(n)&&(l=Bc(n)):l=Bc(e));const u=KK(i,r,n)?y3(i):Cs(0);let d=(a.left+u.x)/l.x,m=(a.top+u.y)/l.y,h=a.width/l.x,g=a.height/l.y;if(i){const y=fa(i),v=n&&ns(n)?fa(n):n;let _=y,w=kw(_);for(;w&&n&&v!==_;){const b=Bc(w),S=w.getBoundingClientRect(),k=as(w),C=S.left+(w.clientLeft+parseFloat(k.paddingLeft))*b.x,A=S.top+(w.clientTop+parseFloat(k.paddingTop))*b.y;d*=b.x,m*=b.y,h*=b.x,g*=b.y,d+=C,m+=A,_=fa(w),w=kw(_)}}return ag({width:h,height:g,x:d,y:m})}function xp(e,t){const r=yp(e).scrollLeft;return t?t.left+r:bl(Ps(e)).left+r}function x3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-xp(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function GK(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",l=Ps(n),u=t?pp(t.floating):!1;if(n===l||u&&i)return r;let d={scrollLeft:0,scrollTop:0},m=Cs(1);const h=Cs(0),g=Es(n);if((g||!g&&!i)&&((fu(n)!=="body"||pf(l))&&(d=yp(n)),Es(n))){const v=bl(n);m=Bc(n),h.x=v.x+n.clientLeft,h.y=v.y+n.clientTop}const y=l&&!g&&!i?x3(l,d):Cs(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-d.scrollLeft*m.x+h.x+y.x,y:r.y*m.y-d.scrollTop*m.y+h.y+y.y}}function VK(e){return Array.from(e.getClientRects())}function QK(e){const t=Ps(e),r=yp(e),n=e.ownerDocument.body,a=ia(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ia(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+xp(e);const u=-r.scrollTop;return as(n).direction==="rtl"&&(l+=ia(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:l,y:u}}const WT=25;function XK(e,t){const r=fa(e),n=Ps(e),a=r.visualViewport;let i=n.clientWidth,l=n.clientHeight,u=0,d=0;if(a){i=a.width,l=a.height;const h=fj();(!h||h&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}const m=xp(n);if(m<=0){const h=n.ownerDocument,g=h.body,y=getComputedStyle(g),v=h.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,_=Math.abs(n.clientWidth-g.clientWidth-v);_<=WT&&(i-=_)}else m<=WT&&(i+=m);return{width:i,height:l,x:u,y:d}}const ZK=new Set(["absolute","fixed"]);function JK(e,t){const r=bl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Es(e)?Bc(e):Cs(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=a*i.x,m=n*i.y;return{width:l,height:u,x:d,y:m}}function YT(e,t,r){let n;if(t==="viewport")n=XK(e,r);else if(t==="document")n=QK(Ps(e));else if(ns(t))n=JK(t,r);else{const a=y3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ag(n)}function v3(e,t){const r=uo(e);return r===t||!ns(r)||Yc(r)?!1:as(r).position==="fixed"||v3(r,t)}function eG(e,t){const r=t.get(e);if(r)return r;let n=Kd(e,[],!1).filter(u=>ns(u)&&fu(u)!=="body"),a=null;const i=as(e).position==="fixed";let l=i?uo(e):e;for(;ns(l)&&!Yc(l);){const u=as(l),d=dj(l);!d&&u.position==="fixed"&&(a=null),(i?!d&&!a:!d&&u.position==="static"&&!!a&&ZK.has(a.position)||pf(l)&&!d&&v3(e,l))?n=n.filter(h=>h!==l):a=u,l=uo(l)}return t.set(e,n),n}function tG(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const l=[...r==="clippingAncestors"?pp(t)?[]:eG(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((m,h)=>{const g=YT(t,h,a);return m.top=ia(g.top,m.top),m.right=co(g.right,m.right),m.bottom=co(g.bottom,m.bottom),m.left=ia(g.left,m.left),m},YT(t,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function rG(e){const{width:t,height:r}=p3(e);return{width:t,height:r}}function nG(e,t,r){const n=Es(t),a=Ps(t),i=r==="fixed",l=bl(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=Cs(0);function m(){d.x=xp(a)}if(n||!n&&!i)if((fu(t)!=="body"||pf(a))&&(u=yp(t)),n){const v=bl(t,!0,i,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else a&&m();i&&!n&&a&&m();const h=a&&!n&&!i?x3(a,u):Cs(0),g=l.left+u.scrollLeft-d.x-h.x,y=l.top+u.scrollTop-d.y-h.y;return{x:g,y,width:l.width,height:l.height}}function nv(e){return as(e).position==="static"}function KT(e,t){if(!Es(e)||as(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ps(e)===r&&(r=r.ownerDocument.body),r}function b3(e,t){const r=fa(e);if(pp(e))return r;if(!Es(e)){let a=uo(e);for(;a&&!Yc(a);){if(ns(a)&&!nv(a))return a;a=uo(a)}return r}let n=KT(e,t);for(;n&&BK(n)&&nv(n);)n=KT(n,t);return n&&Yc(n)&&nv(n)&&!dj(n)?r:n||HK(e)||r}const aG=async function(e){const t=this.getOffsetParent||b3,r=this.getDimensions,n=await r(e.floating);return{reference:nG(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function sG(e){return as(e).direction==="rtl"}const iG={convertOffsetParentRelativeRectToViewportRelativeRect:GK,getDocumentElement:Ps,getClippingRect:tG,getOffsetParent:b3,getElementRects:aG,getClientRects:VK,getDimensions:rG,getScale:Bc,isElement:ns,isRTL:sG};function w3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function oG(e,t){let r=null,n;const a=Ps(e);function i(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const m=e.getBoundingClientRect(),{left:h,top:g,width:y,height:v}=m;if(u||t(),!y||!v)return;const _=ym(g),w=ym(a.clientWidth-(h+y)),b=ym(a.clientHeight-(g+v)),S=ym(h),C={rootMargin:-_+"px "+-w+"px "+-b+"px "+-S+"px",threshold:ia(0,co(1,d))||1};let A=!0;function E(M){const T=M[0].intersectionRatio;if(T!==d){if(!A)return l();T?l(!1,T):n=setTimeout(()=>{l(!1,1e-7)},1e3)}T===1&&!w3(m,e.getBoundingClientRect())&&l(),A=!1}try{r=new IntersectionObserver(E,{...C,root:a.ownerDocument})}catch{r=new IntersectionObserver(E,C)}r.observe(e)}return l(!0),i}function lG(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,m=hj(e),h=a||i?[...m?Kd(m):[],...Kd(t)]:[];h.forEach(S=>{a&&S.addEventListener("scroll",r,{passive:!0}),i&&S.addEventListener("resize",r)});const g=m&&u?oG(m,r):null;let y=-1,v=null;l&&(v=new ResizeObserver(S=>{let[k]=S;k&&k.target===m&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),r()}),m&&!d&&v.observe(m),v.observe(t));let _,w=d?bl(e):null;d&&b();function b(){const S=bl(e);w&&!w3(w,S)&&r(),w=S,_=requestAnimationFrame(b)}return r(),()=>{var S;h.forEach(k=>{a&&k.removeEventListener("scroll",r),i&&k.removeEventListener("resize",r)}),g?.(),(S=v)==null||S.disconnect(),v=null,d&&cancelAnimationFrame(_)}}const cG=MK,uG=PK,dG=EK,fG=IK,hG=OK,GT=AK,mG=RK,gG=(e,t,r)=>{const n=new Map,a={platform:iG,...r},i={...a.platform,_c:n};return TK(e,t,{...a,platform:i})};var pG=typeof document<"u",yG=function(){},Hm=pG?x.useLayoutEffect:yG;function sg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!sg(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!sg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function j3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function VT(e,t){const r=j3(e);return Math.round(t*r)/r}function av(e){const t=x.useRef(e);return Hm(()=>{t.current=e}),t}function xG(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:m}=e,[h,g]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,v]=x.useState(n);sg(y,n)||v(n);const[_,w]=x.useState(null),[b,S]=x.useState(null),k=x.useCallback(J=>{J!==M.current&&(M.current=J,w(J))},[]),C=x.useCallback(J=>{J!==T.current&&(T.current=J,S(J))},[]),A=i||_,E=l||b,M=x.useRef(null),T=x.useRef(null),D=x.useRef(h),L=d!=null,B=av(d),z=av(a),F=av(m),G=x.useCallback(()=>{if(!M.current||!T.current)return;const J={placement:t,strategy:r,middleware:y};z.current&&(J.platform=z.current),gG(M.current,T.current,J).then(W=>{const U={...W,isPositioned:F.current!==!1};V.current&&!sg(D.current,U)&&(D.current=U,da.flushSync(()=>{g(U)}))})},[y,t,r,z,F]);Hm(()=>{m===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,g(J=>({...J,isPositioned:!1})))},[m]);const V=x.useRef(!1);Hm(()=>(V.current=!0,()=>{V.current=!1}),[]),Hm(()=>{if(A&&(M.current=A),E&&(T.current=E),A&&E){if(B.current)return B.current(A,E,G);G()}},[A,E,G,B,L]);const Y=x.useMemo(()=>({reference:M,floating:T,setReference:k,setFloating:C}),[k,C]),$=x.useMemo(()=>({reference:A,floating:E}),[A,E]),ee=x.useMemo(()=>{const J={position:r,left:0,top:0};if(!$.floating)return J;const W=VT($.floating,h.x),U=VT($.floating,h.y);return u?{...J,transform:"translate("+W+"px, "+U+"px)",...j3($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:U}},[r,u,$.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:G,refs:Y,elements:$,floatingStyles:ee}),[h,G,Y,$,ee])}const vG=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?GT({element:n.current,padding:a}).fn(r):{}:n?GT({element:n,padding:a}).fn(r):{}}}},bG=(e,t)=>({...cG(e),options:[e,t]}),wG=(e,t)=>({...uG(e),options:[e,t]}),jG=(e,t)=>({...mG(e),options:[e,t]}),_G=(e,t)=>({...dG(e),options:[e,t]}),SG=(e,t)=>({...fG(e),options:[e,t]}),NG=(e,t)=>({...hG(e),options:[e,t]}),kG=(e,t)=>({...vG(e),options:[e,t]});var CG="Arrow",_3=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(St.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});_3.displayName=CG;var TG=_3;function AG(e){const[t,r]=x.useState(void 0);return mn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,u;if("borderBoxSize"in i){const d=i.borderBoxSize,m=Array.isArray(d)?d[0]:d;l=m.inlineSize,u=m.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var mj="Popper",[S3,vp]=Dl(mj),[EG,N3]=S3(mj),k3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return s.jsx(EG,{scope:t,anchor:n,onAnchorChange:a,children:r})};k3.displayName=mj;var C3="PopperAnchor",T3=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=N3(C3,r),l=x.useRef(null),u=Wt(t,l),d=x.useRef(null);return x.useEffect(()=>{const m=d.current;d.current=n?.current||l.current,m!==d.current&&i.onAnchorChange(d.current)}),n?null:s.jsx(St.div,{...a,ref:u})});T3.displayName=C3;var gj="PopperContent",[OG,DG]=S3(gj),A3=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:_,...w}=e,b=N3(gj,r),[S,k]=x.useState(null),C=Wt(t,te=>k(te)),[A,E]=x.useState(null),M=AG(A),T=M?.width??0,D=M?.height??0,L=n+(i!=="center"?"-"+i:""),B=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},z=Array.isArray(m)?m:[m],F=z.length>0,G={padding:B,boundary:z.filter(PG),altBoundary:F},{refs:V,floatingStyles:Y,placement:$,isPositioned:ee,middlewareData:J}=xG({strategy:"fixed",placement:L,whileElementsMounted:(...te)=>lG(...te,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[bG({mainAxis:a+D,alignmentAxis:l}),d&&wG({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?jG():void 0,...G}),d&&_G({...G}),SG({...G,apply:({elements:te,rects:Se,availableWidth:ce,availableHeight:pe})=>{const{width:ke,height:de}=Se.reference,qe=te.floating.style;qe.setProperty("--radix-popper-available-width",`${ce}px`),qe.setProperty("--radix-popper-available-height",`${pe}px`),qe.setProperty("--radix-popper-anchor-width",`${ke}px`),qe.setProperty("--radix-popper-anchor-height",`${de}px`)}}),A&&kG({element:A,padding:u}),RG({arrowWidth:T,arrowHeight:D}),y&&NG({strategy:"referenceHidden",...G})]}),[W,U]=D3($),P=Bn(_);mn(()=>{ee&&P?.()},[ee,P]);const H=J.arrow?.x,Q=J.arrow?.y,ne=J.arrow?.centerOffset!==0,[ge,be]=x.useState();return mn(()=>{S&&be(window.getComputedStyle(S).zIndex)},[S]),s.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ee?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(OG,{scope:r,placedSide:W,onArrowChange:E,arrowX:H,arrowY:Q,shouldHideArrow:ne,children:s.jsx(St.div,{"data-side":W,"data-align":U,...w,ref:C,style:{...w.style,animation:ee?void 0:"none"}})})})});A3.displayName=gj;var E3="PopperArrow",MG={top:"bottom",right:"left",bottom:"top",left:"right"},O3=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=DG(E3,n),l=MG[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(TG,{...a,ref:r,style:{...a.style,display:"block"}})})});O3.displayName=E3;function PG(e){return e!==null}var RG=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,l=a.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[m,h]=D3(r),g={start:"0%",center:"50%",end:"100%"}[h],y=(a.arrow?.x??0)+u/2,v=(a.arrow?.y??0)+d/2;let _="",w="";return m==="bottom"?(_=l?g:`${y}px`,w=`${-d}px`):m==="top"?(_=l?g:`${y}px`,w=`${n.floating.height+d}px`):m==="right"?(_=`${-d}px`,w=l?g:`${v}px`):m==="left"&&(_=`${n.floating.width+d}px`,w=l?g:`${v}px`),{data:{x:_,y:w}}}});function D3(e){const[t,r="center"]=e.split("-");return[t,r]}var M3=k3,pj=T3,P3=A3,R3=O3,IG="Portal",bp=x.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=x.useState(!1);mn(()=>i(!0),[]);const l=r||a&&globalThis?.document?.body;return l?KY.createPortal(s.jsx(St.div,{...n,ref:t}),l):null});bp.displayName=IG;var LG=O1[" useInsertionEffect ".trim().toString()]||mn;function ig({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,l]=$G({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:a;{const h=x.useRef(e!==void 0);x.useEffect(()=>{const g=h.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=u},[u,n])}const m=x.useCallback(h=>{if(u){const g=BG(h)?h(e):h;g!==e&&l.current?.(g)}else i(h)},[u,e,i,l]);return[d,m]}function $G({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),i=x.useRef(t);return LG(()=>{i.current=t},[t]),x.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function BG(e){return typeof e=="function"}function zG(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var I3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FG="VisuallyHidden",qG=x.forwardRef((e,t)=>s.jsx(St.span,{...e,ref:t,style:{...I3,...e.style}}));qG.displayName=FG;var UG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oc=new WeakMap,xm=new WeakMap,vm={},sv=0,L3=function(e){return e&&(e.host||L3(e.parentNode))},HG=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=L3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},WG=function(e,t,r,n){var a=HG(t,Array.isArray(e)?e:[e]);vm[r]||(vm[r]=new WeakMap);var i=vm[r],l=[],u=new Set,d=new Set(a),m=function(g){!g||u.has(g)||(u.add(g),m(g.parentNode))};a.forEach(m);var h=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(y){if(u.has(y))h(y);else try{var v=y.getAttribute(n),_=v!==null&&v!=="false",w=(Oc.get(y)||0)+1,b=(i.get(y)||0)+1;Oc.set(y,w),i.set(y,b),l.push(y),w===1&&_&&xm.set(y,!0),b===1&&y.setAttribute(r,"true"),_||y.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",y,S)}})};return h(t),u.clear(),sv++,function(){l.forEach(function(g){var y=Oc.get(g)-1,v=i.get(g)-1;Oc.set(g,y),i.set(g,v),y||(xm.has(g)||g.removeAttribute(n),xm.delete(g)),v||g.removeAttribute(r)}),sv--,sv||(Oc=new WeakMap,Oc=new WeakMap,xm=new WeakMap,vm={})}},yj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=UG(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),WG(n,a,r,"aria-hidden")):function(){return null}},_s=function(){return _s=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_s.apply(this,arguments)};function $3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function YG(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Wm="right-scroll-bar-position",Ym="width-before-scroll-bar",KG="with-scroll-bars-hidden",GG="--removed-body-scroll-bar-size";function iv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function VG(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var QG=typeof window<"u"?x.useLayoutEffect:x.useEffect,QT=new WeakMap;function XG(e,t){var r=VG(null,function(n){return e.forEach(function(a){return iv(a,n)})});return QG(function(){var n=QT.get(r);if(n){var a=new Set(n),i=new Set(e),l=r.current;a.forEach(function(u){i.has(u)||iv(u,null)}),i.forEach(function(u){a.has(u)||iv(u,l)})}QT.set(r,e)},[e]),r}function ZG(e){return e}function JG(e,t){t===void 0&&(t=ZG);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(i),l=r}var d=function(){var h=l;l=[],h.forEach(i)},m=function(){return Promise.resolve().then(d)};m(),r={push:function(h){l.push(h),m()},filter:function(h){return l=l.filter(h),r}}}};return a}function eV(e){e===void 0&&(e={});var t=JG(null);return t.options=_s({async:!0,ssr:!1},e),t}var B3=function(e){var t=e.sideCar,r=$3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,_s({},r))};B3.isSideCarExport=!0;function tV(e,t){return e.useMedium(t),B3}var z3=eV(),ov=function(){},wp=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:ov,onWheelCapture:ov,onTouchMoveCapture:ov}),a=n[0],i=n[1],l=e.forwardProps,u=e.children,d=e.className,m=e.removeScrollBar,h=e.enabled,g=e.shards,y=e.sideCar,v=e.noRelative,_=e.noIsolation,w=e.inert,b=e.allowPinchZoom,S=e.as,k=S===void 0?"div":S,C=e.gapMode,A=$3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=y,M=XG([r,t]),T=_s(_s({},A),a);return x.createElement(x.Fragment,null,h&&x.createElement(E,{sideCar:z3,removeScrollBar:m,shards:g,noRelative:v,noIsolation:_,inert:w,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:C}),l?x.cloneElement(x.Children.only(u),_s(_s({},T),{ref:M})):x.createElement(k,_s({},T,{className:d,ref:M}),u))});wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wp.classNames={fullWidth:Ym,zeroRight:Wm};var rV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rV();return t&&e.setAttribute("nonce",t),e}function aV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iV=function(){var e=0,t=null;return{add:function(r){e==0&&(t=nV())&&(aV(t,r),sV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oV=function(){var e=iV();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},F3=function(){var e=oV(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},lV={left:0,top:0,right:0,gap:0},lv=function(e){return parseInt(e||"",10)||0},cV=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[lv(r),lv(n),lv(a)]},uV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lV;var t=cV(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},dV=F3(),zc="data-scroll-locked",fV=function(e,t,r,n){var a=e.left,i=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(KG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(zc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wm,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Ym,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Wm," .").concat(Wm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ym," .").concat(Ym,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zc,`] {
    `).concat(GG,": ").concat(u,`px;
  }
`)},XT=function(){var e=parseInt(document.body.getAttribute(zc)||"0",10);return isFinite(e)?e:0},hV=function(){x.useEffect(function(){return document.body.setAttribute(zc,(XT()+1).toString()),function(){var e=XT()-1;e<=0?document.body.removeAttribute(zc):document.body.setAttribute(zc,e.toString())}},[])},mV=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;hV();var i=x.useMemo(function(){return uV(a)},[a]);return x.createElement(dV,{styles:fV(i,!t,a,r?"":"!important")})},Cw=!1;if(typeof window<"u")try{var bm=Object.defineProperty({},"passive",{get:function(){return Cw=!0,!0}});window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,bm)}catch{Cw=!1}var Dc=Cw?{passive:!1}:!1,gV=function(e){return e.tagName==="TEXTAREA"},q3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!gV(e)&&r[t]==="visible")},pV=function(e){return q3(e,"overflowY")},yV=function(e){return q3(e,"overflowX")},ZT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=U3(e,n);if(a){var i=H3(e,n),l=i[1],u=i[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},xV=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},vV=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},U3=function(e,t){return e==="v"?pV(t):yV(t)},H3=function(e,t){return e==="v"?xV(t):vV(t)},bV=function(e,t){return e==="h"&&t==="rtl"?-1:1},wV=function(e,t,r,n,a){var i=bV(e,window.getComputedStyle(t).direction),l=i*n,u=r.target,d=t.contains(u),m=!1,h=l>0,g=0,y=0;do{if(!u)break;var v=H3(e,u),_=v[0],w=v[1],b=v[2],S=w-b-i*_;(_||S)&&U3(e,u)&&(g+=S,y+=_);var k=u.parentNode;u=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(h&&Math.abs(g)<1||!h&&Math.abs(y)<1)&&(m=!0),m},wm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},JT=function(e){return[e.deltaX,e.deltaY]},eA=function(e){return e&&"current"in e?e.current:e},jV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_V=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},SV=0,Mc=[];function NV(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(SV++)[0],i=x.useState(F3)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=YG([e.lockRef.current],(e.shards||[]).map(eA),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=x.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var S=wm(w),k=r.current,C="deltaX"in w?w.deltaX:k[0]-S[0],A="deltaY"in w?w.deltaY:k[1]-S[1],E,M=w.target,T=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in w&&T==="h"&&M.type==="range")return!1;var D=ZT(T,M);if(!D)return!0;if(D?E=T:(E=T==="v"?"h":"v",D=ZT(T,M)),!D)return!1;if(!n.current&&"changedTouches"in w&&(C||A)&&(n.current=E),!E)return!0;var L=n.current||E;return wV(L,b,w,L==="h"?C:A)},[]),d=x.useCallback(function(w){var b=w;if(!(!Mc.length||Mc[Mc.length-1]!==i)){var S="deltaY"in b?JT(b):wm(b),k=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&jV(E.delta,S)})[0];if(k&&k.should){b.cancelable&&b.preventDefault();return}if(!k){var C=(l.current.shards||[]).map(eA).filter(Boolean).filter(function(E){return E.contains(b.target)}),A=C.length>0?u(b,C[0]):!l.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),m=x.useCallback(function(w,b,S,k){var C={name:w,delta:b,target:S,should:k,shadowParent:kV(S)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(A){return A!==C})},1)},[]),h=x.useCallback(function(w){r.current=wm(w),n.current=void 0},[]),g=x.useCallback(function(w){m(w.type,JT(w),w.target,u(w,e.lockRef.current))},[]),y=x.useCallback(function(w){m(w.type,wm(w),w.target,u(w,e.lockRef.current))},[]);x.useEffect(function(){return Mc.push(i),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",d,Dc),document.addEventListener("touchmove",d,Dc),document.addEventListener("touchstart",h,Dc),function(){Mc=Mc.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,Dc),document.removeEventListener("touchmove",d,Dc),document.removeEventListener("touchstart",h,Dc)}},[]);var v=e.removeScrollBar,_=e.inert;return x.createElement(x.Fragment,null,_?x.createElement(i,{styles:_V(a)}):null,v?x.createElement(mV,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function kV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const CV=tV(z3,NV);var jp=x.forwardRef(function(e,t){return x.createElement(wp,_s({},e,{ref:t,sideCar:CV}))});jp.classNames=wp.classNames;var TV=[" ","Enter","ArrowUp","ArrowDown"],AV=[" ","Enter"],wl="Select",[_p,Sp,EV]=QY(wl),[hu]=Dl(wl,[EV,vp]),Np=vp(),[OV,bo]=hu(wl),[DV,MV]=hu(wl),W3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:u,onValueChange:d,dir:m,name:h,autoComplete:g,disabled:y,required:v,form:_}=e,w=Np(t),[b,S]=x.useState(null),[k,C]=x.useState(null),[A,E]=x.useState(!1),M=l3(m),[T,D]=ig({prop:n,defaultProp:a??!1,onChange:i,caller:wl}),[L,B]=ig({prop:l,defaultProp:u,onChange:d,caller:wl}),z=x.useRef(null),F=b?_||!!b.closest("form"):!0,[G,V]=x.useState(new Set),Y=Array.from(G).map($=>$.props.value).join(";");return s.jsx(M3,{...w,children:s.jsxs(OV,{required:v,scope:t,trigger:b,onTriggerChange:S,valueNode:k,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:E,contentId:cl(),value:L,onValueChange:B,open:T,onOpenChange:D,dir:M,triggerPointerDownPosRef:z,disabled:y,children:[s.jsx(_p.Provider,{scope:t,children:s.jsx(DV,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback($=>{V(ee=>new Set(ee).add($))},[]),onNativeOptionRemove:x.useCallback($=>{V(ee=>{const J=new Set(ee);return J.delete($),J})},[]),children:r})}),F?s.jsxs(gP,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:g,value:L,onChange:$=>B($.target.value),disabled:y,form:_,children:[L===void 0?s.jsx("option",{value:""}):null,Array.from(G)]},Y):null]})})};W3.displayName=wl;var Y3="SelectTrigger",K3=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Np(r),l=bo(Y3,r),u=l.disabled||n,d=Wt(t,l.onTriggerChange),m=Sp(r),h=x.useRef("touch"),[g,y,v]=yP(w=>{const b=m().filter(C=>!C.disabled),S=b.find(C=>C.value===l.value),k=xP(b,w,S);k!==void 0&&l.onValueChange(k.value)}),_=w=>{u||(l.onOpenChange(!0),v()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(pj,{asChild:!0,...i,children:s.jsx(St.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":pP(l.value)?"":void 0,...a,ref:d,onClick:xt(a.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&_(w)}),onPointerDown:xt(a.onPointerDown,w=>{h.current=w.pointerType;const b=w.target;b.hasPointerCapture(w.pointerId)&&b.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(_(w),w.preventDefault())}),onKeyDown:xt(a.onKeyDown,w=>{const b=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(b&&w.key===" ")&&TV.includes(w.key)&&(_(),w.preventDefault())})})})});K3.displayName=Y3;var G3="SelectValue",V3=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:l="",...u}=e,d=bo(G3,r),{onValueNodeHasChildrenChange:m}=d,h=i!==void 0,g=Wt(t,d.onValueNodeChange);return mn(()=>{m(h)},[m,h]),s.jsx(St.span,{...u,ref:g,style:{pointerEvents:"none"},children:pP(d.value)?s.jsx(s.Fragment,{children:l}):i})});V3.displayName=G3;var PV="SelectIcon",Q3=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(St.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Q3.displayName=PV;var RV="SelectPortal",X3=e=>s.jsx(bp,{asChild:!0,...e});X3.displayName=RV;var jl="SelectContent",Z3=x.forwardRef((e,t)=>{const r=bo(jl,e.__scopeSelect),[n,a]=x.useState();if(mn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?da.createPortal(s.jsx(J3,{scope:e.__scopeSelect,children:s.jsx(_p.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(eP,{...e,ref:t})});Z3.displayName=jl;var Za=10,[J3,wo]=hu(jl),IV="SelectContentImpl",LV=vl("SelectContent.RemoveScroll"),eP=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:u,sideOffset:d,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:y,collisionPadding:v,sticky:_,hideWhenDetached:w,avoidCollisions:b,...S}=e,k=bo(jl,r),[C,A]=x.useState(null),[E,M]=x.useState(null),T=Wt(t,te=>A(te)),[D,L]=x.useState(null),[B,z]=x.useState(null),F=Sp(r),[G,V]=x.useState(!1),Y=x.useRef(!1);x.useEffect(()=>{if(C)return yj(C)},[C]),oj();const $=x.useCallback(te=>{const[Se,...ce]=F().map(de=>de.ref.current),[pe]=ce.slice(-1),ke=document.activeElement;for(const de of te)if(de===ke||(de?.scrollIntoView({block:"nearest"}),de===Se&&E&&(E.scrollTop=0),de===pe&&E&&(E.scrollTop=E.scrollHeight),de?.focus(),document.activeElement!==ke))return},[F,E]),ee=x.useCallback(()=>$([D,C]),[$,D,C]);x.useEffect(()=>{G&&ee()},[G,ee]);const{onOpenChange:J,triggerPointerDownPosRef:W}=k;x.useEffect(()=>{if(C){let te={x:0,y:0};const Se=pe=>{te={x:Math.abs(Math.round(pe.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(W.current?.y??0))}},ce=pe=>{te.x<=10&&te.y<=10?pe.preventDefault():C.contains(pe.target)||J(!1),document.removeEventListener("pointermove",Se),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",ce,{capture:!0})}}},[C,J,W]),x.useEffect(()=>{const te=()=>J(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[J]);const[U,P]=yP(te=>{const Se=F().filter(ke=>!ke.disabled),ce=Se.find(ke=>ke.ref.current===document.activeElement),pe=xP(Se,te,ce);pe&&setTimeout(()=>pe.ref.current.focus())}),H=x.useCallback((te,Se,ce)=>{const pe=!Y.current&&!ce;(k.value!==void 0&&k.value===Se||pe)&&(L(te),pe&&(Y.current=!0))},[k.value]),Q=x.useCallback(()=>C?.focus(),[C]),ne=x.useCallback((te,Se,ce)=>{const pe=!Y.current&&!ce;(k.value!==void 0&&k.value===Se||pe)&&z(te)},[k.value]),ge=n==="popper"?Tw:tP,be=ge===Tw?{side:u,sideOffset:d,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:y,collisionPadding:v,sticky:_,hideWhenDetached:w,avoidCollisions:b}:{};return s.jsx(J3,{scope:r,content:C,viewport:E,onViewportChange:M,itemRefCallback:H,selectedItem:D,onItemLeave:Q,itemTextRefCallback:ne,focusSelectedItem:ee,selectedItemText:B,position:n,isPositioned:G,searchRef:U,children:s.jsx(jp,{as:LV,allowPinchZoom:!0,children:s.jsx(mp,{asChild:!0,trapped:k.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:xt(a,te=>{k.trigger?.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(hp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:s.jsx(ge,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:te=>te.preventDefault(),...S,...be,onPlaced:()=>V(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:xt(S.onKeyDown,te=>{const Se=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Se&&te.key.length===1&&P(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let pe=F().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(te.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ke=te.target,de=pe.indexOf(ke);pe=pe.slice(de+1)}setTimeout(()=>$(pe)),te.preventDefault()}})})})})})})});eP.displayName=IV;var $V="SelectItemAlignedPosition",tP=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=bo(jl,r),l=wo(jl,r),[u,d]=x.useState(null),[m,h]=x.useState(null),g=Wt(t,T=>h(T)),y=Sp(r),v=x.useRef(!1),_=x.useRef(!0),{viewport:w,selectedItem:b,selectedItemText:S,focusSelectedItem:k}=l,C=x.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&m&&w&&b&&S){const T=i.trigger.getBoundingClientRect(),D=m.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),B=S.getBoundingClientRect();if(i.dir!=="rtl"){const ke=B.left-D.left,de=L.left-ke,qe=T.left-de,Ae=T.width+qe,Ye=Math.max(Ae,D.width),at=window.innerWidth-Za,Jt=jw(de,[Za,Math.max(Za,at-Ye)]);u.style.minWidth=Ae+"px",u.style.left=Jt+"px"}else{const ke=D.right-B.right,de=window.innerWidth-L.right-ke,qe=window.innerWidth-T.right-de,Ae=T.width+qe,Ye=Math.max(Ae,D.width),at=window.innerWidth-Za,Jt=jw(de,[Za,Math.max(Za,at-Ye)]);u.style.minWidth=Ae+"px",u.style.right=Jt+"px"}const z=y(),F=window.innerHeight-Za*2,G=w.scrollHeight,V=window.getComputedStyle(m),Y=parseInt(V.borderTopWidth,10),$=parseInt(V.paddingTop,10),ee=parseInt(V.borderBottomWidth,10),J=parseInt(V.paddingBottom,10),W=Y+$+G+J+ee,U=Math.min(b.offsetHeight*5,W),P=window.getComputedStyle(w),H=parseInt(P.paddingTop,10),Q=parseInt(P.paddingBottom,10),ne=T.top+T.height/2-Za,ge=F-ne,be=b.offsetHeight/2,te=b.offsetTop+be,Se=Y+$+te,ce=W-Se;if(Se<=ne){const ke=z.length>0&&b===z[z.length-1].ref.current;u.style.bottom="0px";const de=m.clientHeight-w.offsetTop-w.offsetHeight,qe=Math.max(ge,be+(ke?Q:0)+de+ee),Ae=Se+qe;u.style.height=Ae+"px"}else{const ke=z.length>0&&b===z[0].ref.current;u.style.top="0px";const qe=Math.max(ne,Y+w.offsetTop+(ke?H:0)+be)+ce;u.style.height=qe+"px",w.scrollTop=Se-ne+w.offsetTop}u.style.margin=`${Za}px 0`,u.style.minHeight=U+"px",u.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[y,i.trigger,i.valueNode,u,m,w,b,S,i.dir,n]);mn(()=>C(),[C]);const[A,E]=x.useState();mn(()=>{m&&E(window.getComputedStyle(m).zIndex)},[m]);const M=x.useCallback(T=>{T&&_.current===!0&&(C(),k?.(),_.current=!1)},[C,k]);return s.jsx(zV,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:M,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:s.jsx(St.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});tP.displayName=$V;var BV="SelectPopperPosition",Tw=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Za,...i}=e,l=Np(r);return s.jsx(P3,{...l,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tw.displayName=BV;var[zV,xj]=hu(jl,{}),Aw="SelectViewport",rP=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=wo(Aw,r),l=xj(Aw,r),u=Wt(t,i.onViewportChange),d=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(_p.Slot,{scope:r,children:s.jsx(St.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:xt(a.onScroll,m=>{const h=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=l;if(y?.current&&g){const v=Math.abs(d.current-h.scrollTop);if(v>0){const _=window.innerHeight-Za*2,w=parseFloat(g.style.minHeight),b=parseFloat(g.style.height),S=Math.max(w,b);if(S<_){const k=S+v,C=Math.min(_,k),A=k-C;g.style.height=C+"px",g.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,g.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});rP.displayName=Aw;var nP="SelectGroup",[FV,qV]=hu(nP),UV=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=cl();return s.jsx(FV,{scope:r,id:a,children:s.jsx(St.div,{role:"group","aria-labelledby":a,...n,ref:t})})});UV.displayName=nP;var aP="SelectLabel",sP=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=qV(aP,r);return s.jsx(St.div,{id:a.id,...n,ref:t})});sP.displayName=aP;var og="SelectItem",[HV,iP]=hu(og),oP=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...l}=e,u=bo(og,r),d=wo(og,r),m=u.value===n,[h,g]=x.useState(i??""),[y,v]=x.useState(!1),_=Wt(t,k=>d.itemRefCallback?.(k,n,a)),w=cl(),b=x.useRef("touch"),S=()=>{a||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(HV,{scope:r,value:n,disabled:a,textId:w,isSelected:m,onItemTextChange:x.useCallback(k=>{g(C=>C||(k?.textContent??"").trim())},[]),children:s.jsx(_p.ItemSlot,{scope:r,value:n,disabled:a,textValue:h,children:s.jsx(St.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":m&&y,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:_,onFocus:xt(l.onFocus,()=>v(!0)),onBlur:xt(l.onBlur,()=>v(!1)),onClick:xt(l.onClick,()=>{b.current!=="mouse"&&S()}),onPointerUp:xt(l.onPointerUp,()=>{b.current==="mouse"&&S()}),onPointerDown:xt(l.onPointerDown,k=>{b.current=k.pointerType}),onPointerMove:xt(l.onPointerMove,k=>{b.current=k.pointerType,a?d.onItemLeave?.():b.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xt(l.onPointerLeave,k=>{k.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:xt(l.onKeyDown,k=>{d.searchRef?.current!==""&&k.key===" "||(AV.includes(k.key)&&S(),k.key===" "&&k.preventDefault())})})})})});oP.displayName=og;var Ed="SelectItemText",lP=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,l=bo(Ed,r),u=wo(Ed,r),d=iP(Ed,r),m=MV(Ed,r),[h,g]=x.useState(null),y=Wt(t,S=>g(S),d.onItemTextChange,S=>u.itemTextRefCallback?.(S,d.value,d.disabled)),v=h?.textContent,_=x.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:b}=m;return mn(()=>(w(_),()=>b(_)),[w,b,_]),s.jsxs(s.Fragment,{children:[s.jsx(St.span,{id:d.textId,...i,ref:y}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?da.createPortal(i.children,l.valueNode):null]})});lP.displayName=Ed;var cP="SelectItemIndicator",uP=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return iP(cP,r).isSelected?s.jsx(St.span,{"aria-hidden":!0,...n,ref:t}):null});uP.displayName=cP;var Ew="SelectScrollUpButton",dP=x.forwardRef((e,t)=>{const r=wo(Ew,e.__scopeSelect),n=xj(Ew,e.__scopeSelect),[a,i]=x.useState(!1),l=Wt(t,n.onScrollButtonChange);return mn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=d.scrollTop>0;i(m)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?s.jsx(hP,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});dP.displayName=Ew;var Ow="SelectScrollDownButton",fP=x.forwardRef((e,t)=>{const r=wo(Ow,e.__scopeSelect),n=xj(Ow,e.__scopeSelect),[a,i]=x.useState(!1),l=Wt(t,n.onScrollButtonChange);return mn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<m;i(h)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?s.jsx(hP,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});fP.displayName=Ow;var hP=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=wo("SelectScrollButton",r),l=x.useRef(null),u=Sp(r),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),mn(()=>{u().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),s.jsx(St.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:xt(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:xt(a.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:xt(a.onPointerLeave,()=>{d()})})}),WV="SelectSeparator",mP=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(St.div,{"aria-hidden":!0,...n,ref:t})});mP.displayName=WV;var Dw="SelectArrow",YV=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Np(r),i=bo(Dw,r),l=wo(Dw,r);return i.open&&l.position==="popper"?s.jsx(R3,{...a,...n,ref:t}):null});YV.displayName=Dw;var KV="SelectBubbleInput",gP=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),i=Wt(n,a),l=zG(t);return x.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&h){const g=new Event("change",{bubbles:!0});h.call(u,t),u.dispatchEvent(g)}},[l,t]),s.jsx(St.select,{...r,style:{...I3,...r.style},ref:i,defaultValue:t})});gP.displayName=KV;function pP(e){return e===""||e===void 0}function yP(e){const t=Bn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(l=>{const u=r.current+l;t(u),(function d(m){r.current=m,window.clearTimeout(n.current),m!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function xP(e,t,r){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=GV(e,Math.max(i,0));a.length===1&&(l=l.filter(m=>m!==r));const d=l.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function GV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var VV=W3,vP=K3,QV=V3,XV=Q3,ZV=X3,bP=Z3,JV=rP,wP=sP,jP=oP,eQ=lP,tQ=uP,_P=dP,SP=fP,NP=mP;const la=VV,ca=QV,zn=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(vP,{ref:n,className:Pe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(XV,{asChild:!0,children:s.jsx(xo,{className:"h-4 w-4 opacity-50"})})]}));zn.displayName=vP.displayName;const kP=x.forwardRef(({className:e,...t},r)=>s.jsx(_P,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(q1,{className:"h-4 w-4"})}));kP.displayName=_P.displayName;const CP=x.forwardRef(({className:e,...t},r)=>s.jsx(SP,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(xo,{className:"h-4 w-4"})}));CP.displayName=SP.displayName;const Fn=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(ZV,{children:s.jsxs(bP,{ref:a,className:Pe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(kP,{}),s.jsx(JV,{className:Pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(CP,{})]})}));Fn.displayName=bP.displayName;const rQ=x.forwardRef(({className:e,...t},r)=>s.jsx(wP,{ref:r,className:Pe("px-2 py-1.5 text-sm font-semibold",e),...t}));rQ.displayName=wP.displayName;const ct=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jP,{ref:n,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(tQ,{children:s.jsx(sp,{className:"h-4 w-4"})})}),s.jsx(eQ,{children:t})]}));ct.displayName=jP.displayName;const nQ=x.forwardRef(({className:e,...t},r)=>s.jsx(NP,{ref:r,className:Pe("-mx-1 my-1 h-px bg-muted",e),...t}));nQ.displayName=NP.displayName;function aQ(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Rs=e=>{const{present:t,children:r}=e,n=sQ(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=Wt(n.ref,iQ(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:i}):null};Rs.displayName="Presence";function sQ(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),l=e?"mounted":"unmounted",[u,d]=aQ(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=jm(n.current);i.current=u==="mounted"?m:"none"},[u]),mn(()=>{const m=n.current,h=a.current;if(h!==e){const y=i.current,v=jm(m);e?d("MOUNT"):v==="none"||m?.display==="none"?d("UNMOUNT"):d(h&&y!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),mn(()=>{if(t){let m;const h=t.ownerDocument.defaultView??window,g=v=>{const w=jm(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&w&&(d("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",m=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},y=v=>{v.target===t&&(i.current=jm(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{h.clearTimeout(m),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(m=>{n.current=m?getComputedStyle(m):null,r(m)},[])}}function jm(e){return e?.animationName||"none"}function iQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kp="Popover",[TP]=Dl(kp,[vp]),yf=vp(),[oQ,jo]=TP(kp),AP=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!1}=e,u=yf(t),d=x.useRef(null),[m,h]=x.useState(!1),[g,y]=ig({prop:n,defaultProp:a??!1,onChange:i,caller:kp});return s.jsx(M3,{...u,children:s.jsx(oQ,{scope:t,contentId:cl(),triggerRef:d,open:g,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(v=>!v),[y]),hasCustomAnchor:m,onCustomAnchorAdd:x.useCallback(()=>h(!0),[]),onCustomAnchorRemove:x.useCallback(()=>h(!1),[]),modal:l,children:r})})};AP.displayName=kp;var EP="PopoverAnchor",lQ=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jo(EP,r),i=yf(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=a;return x.useEffect(()=>(l(),()=>u()),[l,u]),s.jsx(pj,{...i,...n,ref:t})});lQ.displayName=EP;var OP="PopoverTrigger",DP=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jo(OP,r),i=yf(r),l=Wt(t,a.triggerRef),u=s.jsx(St.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":LP(a.open),...n,ref:l,onClick:xt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?u:s.jsx(pj,{asChild:!0,...i,children:u})});DP.displayName=OP;var vj="PopoverPortal",[cQ,uQ]=TP(vj,{forceMount:void 0}),MP=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=jo(vj,t);return s.jsx(cQ,{scope:t,forceMount:r,children:s.jsx(Rs,{present:r||i.open,children:s.jsx(bp,{asChild:!0,container:a,children:n})})})};MP.displayName=vj;var Kc="PopoverContent",PP=x.forwardRef((e,t)=>{const r=uQ(Kc,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=jo(Kc,e.__scopePopover);return s.jsx(Rs,{present:n||i.open,children:i.modal?s.jsx(fQ,{...a,ref:t}):s.jsx(hQ,{...a,ref:t})})});PP.displayName=Kc;var dQ=vl("PopoverContent.RemoveScroll"),fQ=x.forwardRef((e,t)=>{const r=jo(Kc,e.__scopePopover),n=x.useRef(null),a=Wt(t,n),i=x.useRef(!1);return x.useEffect(()=>{const l=n.current;if(l)return yj(l)},[]),s.jsx(jp,{as:dQ,allowPinchZoom:!0,children:s.jsx(RP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xt(e.onCloseAutoFocus,l=>{l.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:xt(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,m=u.button===2||d;i.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:xt(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),hQ=x.forwardRef((e,t)=>{const r=jo(Kc,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(RP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),RP=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:h,...g}=e,y=jo(Kc,r),v=yf(r);return oj(),s.jsx(mp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(hp,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:h,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onDismiss:()=>y.onOpenChange(!1),children:s.jsx(P3,{"data-state":LP(y.open),role:"dialog",id:y.contentId,...v,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),IP="PopoverClose",mQ=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jo(IP,r);return s.jsx(St.button,{type:"button",...n,ref:t,onClick:xt(e.onClick,()=>a.onOpenChange(!1))})});mQ.displayName=IP;var gQ="PopoverArrow",pQ=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=yf(r);return s.jsx(R3,{...a,...n,ref:t})});pQ.displayName=gQ;function LP(e){return e?"open":"closed"}var yQ=AP,xQ=DP,vQ=MP,$P=PP;const bQ=yQ,wQ=xQ,BP=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(vQ,{children:s.jsx($P,{ref:a,align:t,sideOffset:r,className:Pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));BP.displayName=$P.displayName;function jQ(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const _Q={},Od={};function al(e,t){try{const n=(_Q[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in Od?Od[n]:tA(n,n.split(":"))}catch{if(e in Od)return Od[e];const r=e?.match(SQ);return r?tA(e,r.slice(1)):NaN}}const SQ=/([+-]\d\d):?(\d\d)?/;function tA(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return Od[e]=r*60+n>0?r*60+n+a:r*60-n-a}class Ns extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(al(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),zP(this),Mw(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Ns(...r,t):new Ns(Date.now(),t)}withTimeZone(t){return new Ns(+this,t)}getTimezoneOffset(){const t=-al(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Mw(this),+this}[Symbol.for("constructDateFrom")](t){return new Ns(+new Date(t),this.timeZone)}}const rA=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!rA.test(e))return;const t=e.replace(rA,"$1UTC");Ns.prototype[t]&&(e.startsWith("get")?Ns.prototype[e]=function(){return this.internal[t]()}:(Ns.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),NQ(this),+this},Ns.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Mw(this),+this}))});function Mw(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-al(e.timeZone,e)*60))}function NQ(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),zP(e)}function zP(e){const t=al(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),l=a-i,u=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&u&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const d=a-r;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const m=new Date(+e);m.setUTCSeconds(0);const h=a>0?m.getSeconds():(m.getSeconds()-60)%60,g=Math.round(-(al(e.timeZone,e)*60))%60;(g||h)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+g+h));const y=al(e.timeZone,e),v=y>0?Math.floor(y):Math.ceil(y),w=-new Date(+e).getTimezoneOffset()-v,b=v!==r,S=w-d;if(b&&S){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+S);const k=al(e.timeZone,e),C=k>0?Math.floor(k):Math.ceil(k),A=v-C;A&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+A),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+A))}}class xn extends Ns{static tz(t,...r){return r.length?new xn(...r,t):new xn(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${jQ(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new xn(+this,t)}[Symbol.for("constructDateFrom")](t){return new xn(+new Date(t),this.timeZone)}}const nA=5,kQ=4;function CQ(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,nA*7-1);return t.getMonth(e)===t.getMonth(i)?nA:kQ}function FP(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-6):t.addDays(r,-1*(n-1))}function TQ(e,t){const r=FP(e,t),n=CQ(e,t);return t.addDays(r,n*7-1)}class ga{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?xn.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,i)=>this.overrides?.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new xn(n,a,i,this.options.timeZone):new Date(n,a,i),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):As(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):T4(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):Q1(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):NU(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):V1(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):D4(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):PU(n),this.eachYearOfInterval=n=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):IU(n),i=new Set(a.map(u=>this.getYear(u)));if(i.size===a.length)return a;const l=[];return i.forEach(u=>{l.push(new Date(u,0,1))}),l},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):TQ(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):LU(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):X1(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):oo(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):RU(n),this.format=(n,a,i)=>{const l=this.overrides?.format?this.overrides.format(n,a,this.options):Ne(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):Z1(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):MH(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):PH(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):ej(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):RH(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):IH(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):O4(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):E4(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):DW(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):MW(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):kU(n),this.min=n=>this.overrides?.min?this.overrides.min(n):CU(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):VW(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):QW(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):FP(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):kn(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):xl(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):I4(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Sr(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):L4(n),this.options={locale:gf,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&ga.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,i=r?.code;if(i&&ga.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const l=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,l)}}ga.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Is=new ga;class qP{constructor(t,r,n=Is){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class AQ{constructor(t,r){this.date=t,this.weeks=r}}class EQ{constructor(t,r){this.days=r,this.weekNumber=t}}function OQ(e){return je.createElement("button",{...e})}function DQ(e){return je.createElement("span",{...e})}function MQ(e){const{size:t=24,orientation:r="left",className:n}=e;return je.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&je.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&je.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&je.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&je.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function PQ(e){const{day:t,modifiers:r,...n}=e;return je.createElement("td",{...n})}function RQ(e){const{day:t,modifiers:r,...n}=e,a=je.useRef(null);return je.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),je.createElement("button",{ref:a,...n})}var He;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(He||(He={}));var ur;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(ur||(ur={}));var rs;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(rs||(rs={}));var aa;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(aa||(aa={}));function IQ(e){const{options:t,className:r,components:n,classNames:a,...i}=e,l=[a[He.Dropdown],r].join(" "),u=t?.find(({value:d})=>d===i.value);return je.createElement("span",{"data-disabled":i.disabled,className:a[He.DropdownRoot]},je.createElement(n.Select,{className:l,...i},t?.map(({value:d,label:m,disabled:h})=>je.createElement(n.Option,{key:d,value:d,disabled:h},m))),je.createElement("span",{className:a[He.CaptionLabel],"aria-hidden":!0},u?.label,je.createElement(n.Chevron,{orientation:"down",size:18,className:a[He.Chevron]})))}function LQ(e){return je.createElement("div",{...e})}function $Q(e){return je.createElement("div",{...e})}function BQ(e){const{calendarMonth:t,displayIndex:r,...n}=e;return je.createElement("div",{...n},e.children)}function zQ(e){const{calendarMonth:t,displayIndex:r,...n}=e;return je.createElement("div",{...n})}function FQ(e){return je.createElement("table",{...e})}function qQ(e){return je.createElement("div",{...e})}const UP=x.createContext(void 0);function xf(){const e=x.useContext(UP);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function UQ(e){const{components:t}=xf();return je.createElement(t.Dropdown,{...e})}function HQ(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:l,classNames:u,labels:{labelPrevious:d,labelNext:m}}=xf(),h=x.useCallback(y=>{a&&r?.(y)},[a,r]),g=x.useCallback(y=>{n&&t?.(y)},[n,t]);return je.createElement("nav",{...i},je.createElement(l.PreviousMonthButton,{type:"button",className:u[He.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":d(n),onClick:g},je.createElement(l.Chevron,{disabled:n?void 0:!0,className:u[He.Chevron],orientation:"left"})),je.createElement(l.NextMonthButton,{type:"button",className:u[He.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":m(a),onClick:h},je.createElement(l.Chevron,{disabled:a?void 0:!0,orientation:"right",className:u[He.Chevron]})))}function WQ(e){const{components:t}=xf();return je.createElement(t.Button,{...e})}function YQ(e){return je.createElement("option",{...e})}function KQ(e){const{components:t}=xf();return je.createElement(t.Button,{...e})}function GQ(e){const{rootRef:t,...r}=e;return je.createElement("div",{...r,ref:t})}function VQ(e){return je.createElement("select",{...e})}function QQ(e){const{week:t,...r}=e;return je.createElement("tr",{...r})}function XQ(e){return je.createElement("th",{...e})}function ZQ(e){return je.createElement("thead",{"aria-hidden":!0},je.createElement("tr",{...e}))}function JQ(e){const{week:t,...r}=e;return je.createElement("th",{...r})}function eX(e){return je.createElement("th",{...e})}function tX(e){return je.createElement("tbody",{...e})}function rX(e){const{components:t}=xf();return je.createElement(t.Dropdown,{...e})}const nX=Object.freeze(Object.defineProperty({__proto__:null,Button:OQ,CaptionLabel:DQ,Chevron:MQ,Day:PQ,DayButton:RQ,Dropdown:IQ,DropdownNav:LQ,Footer:$Q,Month:BQ,MonthCaption:zQ,MonthGrid:FQ,Months:qQ,MonthsDropdown:UQ,Nav:HQ,NextMonthButton:WQ,Option:YQ,PreviousMonthButton:KQ,Root:GQ,Select:VQ,Week:QQ,WeekNumber:JQ,WeekNumberHeader:eX,Weekday:XQ,Weekdays:ZQ,Weeks:tX,YearsDropdown:rX},Symbol.toStringTag,{value:"Module"}));function oi(e,t,r=!1,n=Is){let{from:a,to:i}=e;const{differenceInCalendarDays:l,isSameDay:u}=n;return a&&i?(l(i,a)<0&&([a,i]=[i,a]),l(t,a)>=(r?1:0)&&l(i,t)>=(r?1:0)):!r&&i?u(i,t):!r&&a?u(a,t):!1}function HP(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function bj(e){return!!(e&&typeof e=="object"&&"from"in e)}function WP(e){return!!(e&&typeof e=="object"&&"after"in e)}function YP(e){return!!(e&&typeof e=="object"&&"before"in e)}function KP(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function GP(e,t){return Array.isArray(e)&&e.every(t.isDate)}function li(e,t,r=Is){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:l}=r;return n.some(u=>{if(typeof u=="boolean")return u;if(r.isDate(u))return a(e,u);if(GP(u,r))return u.includes(e);if(bj(u))return oi(u,e,!1,r);if(KP(u))return Array.isArray(u.dayOfWeek)?u.dayOfWeek.includes(e.getDay()):u.dayOfWeek===e.getDay();if(HP(u)){const d=i(u.before,e),m=i(u.after,e),h=d>0,g=m<0;return l(u.before,u.after)?g&&h:h||g}return WP(u)?i(e,u.after)>0:YP(u)?i(u.before,e)>0:typeof u=="function"?u(e):!1})}function aX(e,t,r,n,a){const{disabled:i,hidden:l,modifiers:u,showOutsideDays:d,broadcastCalendar:m,today:h}=t,{isSameDay:g,isSameMonth:y,startOfMonth:v,isBefore:_,endOfMonth:w,isAfter:b}=a,S=r&&v(r),k=n&&w(n),C={[ur.focused]:[],[ur.outside]:[],[ur.disabled]:[],[ur.hidden]:[],[ur.today]:[]},A={};for(const E of e){const{date:M,displayMonth:T}=E,D=!!(T&&!y(M,T)),L=!!(S&&_(M,S)),B=!!(k&&b(M,k)),z=!!(i&&li(M,i,a)),F=!!(l&&li(M,l,a))||L||B||!m&&!d&&D||m&&d===!1&&D,G=g(M,h??a.today());D&&C.outside.push(E),z&&C.disabled.push(E),F&&C.hidden.push(E),G&&C.today.push(E),u&&Object.keys(u).forEach(V=>{const Y=u?.[V];Y&&li(M,Y,a)&&(A[V]?A[V].push(E):A[V]=[E])})}return E=>{const M={[ur.focused]:!1,[ur.disabled]:!1,[ur.hidden]:!1,[ur.outside]:!1,[ur.today]:!1},T={};for(const D in C){const L=C[D];M[D]=L.some(B=>B===E)}for(const D in A)T[D]=A[D].some(L=>L===E);return{...M,...T}}}function sX(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[ur[i]]?a.push(t[ur[i]]):t[rs[i]]&&a.push(t[rs[i]]),a),[t[He.Day]])}function iX(e){return{...nX,...e}}function oX(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function wj(){const e={};for(const t in He)e[He[t]]=`rdp-${He[t]}`;for(const t in ur)e[ur[t]]=`rdp-${ur[t]}`;for(const t in rs)e[rs[t]]=`rdp-${rs[t]}`;for(const t in aa)e[aa[t]]=`rdp-${aa[t]}`;return e}function VP(e,t,r){return(r??new ga(t)).formatMonthYear(e)}const lX=VP;function cX(e,t,r){return(r??new ga(t)).format(e,"d")}function uX(e,t=Is){return t.format(e,"LLLL")}function dX(e,t,r){return(r??new ga(t)).format(e,"cccccc")}function fX(e,t=Is){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function hX(){return""}function QP(e,t=Is){return t.format(e,"yyyy")}const mX=QP,gX=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:VP,formatDay:cX,formatMonthCaption:lX,formatMonthDropdown:uX,formatWeekNumber:fX,formatWeekNumberHeader:hX,formatWeekdayName:dX,formatYearCaption:mX,formatYearDropdown:QP},Symbol.toStringTag,{value:"Module"}));function pX(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...gX,...e}}function yX(e,t,r,n,a){const{startOfMonth:i,startOfYear:l,endOfYear:u,eachMonthOfInterval:d,getMonth:m}=a;return d({start:l(e),end:u(e)}).map(y=>{const v=n.formatMonthDropdown(y,a),_=m(y),w=t&&y<i(t)||r&&y>i(r)||!1;return{value:_,label:v,disabled:w}})}function xX(e,t={},r={}){let n={...t?.[He.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function vX(e,t,r){const n=e.today(),a=t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let l=0;l<7;l++){const u=e.addDays(a,l);i.push(u)}return i}function bX(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:l,eachYearOfInterval:u,getYear:d}=n,m=i(e),h=l(t),g=u({start:m,end:h});return a&&g.reverse(),g.map(y=>{const v=r.formatYearDropdown(y,n);return{value:d(y),label:v,disabled:!1}})}function XP(e,t,r,n){let a=(n??new ga(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const wX=XP;function ZP(e,t,r){return(r??new ga(t)).formatMonthYear(e)}const jX=ZP;function _X(e,t,r,n){let a=(n??new ga(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function SX(e){return"Choose the Month"}function NX(){return""}function kX(e){return"Go to the Next Month"}function CX(e){return"Go to the Previous Month"}function TX(e,t,r){return(r??new ga(t)).format(e,"cccc")}function AX(e,t){return`Week ${e}`}function EX(e){return"Week Number"}function OX(e){return"Choose the Year"}const DX=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:jX,labelDay:wX,labelDayButton:XP,labelGrid:ZP,labelGridcell:_X,labelMonthDropdown:SX,labelNav:NX,labelNext:kX,labelPrevious:CX,labelWeekNumber:AX,labelWeekNumberHeader:EX,labelWeekday:TX,labelYearDropdown:OX},Symbol.toStringTag,{value:"Module"})),vf=e=>e instanceof HTMLElement?e:null,cv=e=>[...e.querySelectorAll("[data-animated-month]")??[]],MX=e=>vf(e.querySelector("[data-animated-month]")),uv=e=>vf(e.querySelector("[data-animated-caption]")),dv=e=>vf(e.querySelector("[data-animated-weeks]")),PX=e=>vf(e.querySelector("[data-animated-nav]")),RX=e=>vf(e.querySelector("[data-animated-weekdays]"));function IX(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const l=x.useRef(null),u=x.useRef(n),d=x.useRef(!1);x.useLayoutEffect(()=>{const m=u.current;if(u.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||m.length===0||n.length!==m.length)return;const h=i.isSameMonth(n[0].date,m[0].date),g=i.isAfter(n[0].date,m[0].date),y=g?r[aa.caption_after_enter]:r[aa.caption_before_enter],v=g?r[aa.weeks_after_enter]:r[aa.weeks_before_enter],_=l.current,w=e.current.cloneNode(!0);if(w instanceof HTMLElement?(cv(w).forEach(C=>{if(!(C instanceof HTMLElement))return;const A=MX(C);A&&C.contains(A)&&C.removeChild(A);const E=uv(C);E&&E.classList.remove(y);const M=dv(C);M&&M.classList.remove(v)}),l.current=w):l.current=null,d.current||h||a)return;const b=_ instanceof HTMLElement?cv(_):[],S=cv(e.current);if(S?.every(k=>k instanceof HTMLElement)&&b&&b.every(k=>k instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const k=PX(e.current);k&&(k.style.zIndex="1"),S.forEach((C,A)=>{const E=b[A];if(!E)return;C.style.position="relative",C.style.overflow="hidden";const M=uv(C);M&&M.classList.add(y);const T=dv(C);T&&T.classList.add(v);const D=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),k&&(k.style.zIndex=""),M&&M.classList.remove(y),T&&T.classList.remove(v),C.style.position="",C.style.overflow="",C.contains(E)&&C.removeChild(E)};E.style.pointerEvents="none",E.style.position="absolute",E.style.overflow="hidden",E.setAttribute("aria-hidden","true");const L=RX(E);L&&(L.style.opacity="0");const B=uv(E);B&&(B.classList.add(g?r[aa.caption_before_exit]:r[aa.caption_after_exit]),B.addEventListener("animationend",D));const z=dv(E);z&&z.classList.add(g?r[aa.weeks_before_exit]:r[aa.weeks_after_exit]),C.insertBefore(E,C.firstChild)})}})}function LX(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:l,fixedWeeks:u,broadcastCalendar:d}=r??{},{addDays:m,differenceInCalendarDays:h,differenceInCalendarMonths:g,endOfBroadcastWeek:y,endOfISOWeek:v,endOfMonth:_,endOfWeek:w,isAfter:b,startOfBroadcastWeek:S,startOfISOWeek:k,startOfWeek:C}=n,A=d?S(a,n):l?k(a):C(a),E=d?y(i):l?v(_(i)):w(_(i)),M=h(E,A),T=g(i,a)+1,D=[];for(let z=0;z<=M;z++){const F=m(A,z);if(t&&b(F,t))break;D.push(F)}const B=(d?35:42)*T;if(u&&D.length<B){const z=B-D.length;for(let F=0;F<z;F++){const G=m(D[D.length-1],1);D.push(G)}}return D}function $X(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,l)=>i.concat(l.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function BX(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let l=0;l<a;l++){const u=n.addMonths(e,l);if(t&&u>t)break;i.push(u)}return i}function aA(e,t,r,n){const{month:a,defaultMonth:i,today:l=n.today(),numberOfMonths:u=1}=e;let d=a||i||l;const{differenceInCalendarMonths:m,addMonths:h,startOfMonth:g}=n;if(r&&m(r,d)<u-1){const y=-1*(u-1);d=h(r,y)}return t&&m(d,t)<0&&(d=t),g(d)}function zX(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:l,endOfMonth:u,endOfWeek:d,getISOWeek:m,getWeek:h,startOfBroadcastWeek:g,startOfISOWeek:y,startOfWeek:v}=n,_=e.reduce((w,b)=>{const S=r.broadcastCalendar?g(b,n):r.ISOWeek?y(b):v(b),k=r.broadcastCalendar?i(b):r.ISOWeek?l(u(b)):d(u(b)),C=t.filter(T=>T>=S&&T<=k),A=r.broadcastCalendar?35:42;if(r.fixedWeeks&&C.length<A){const T=t.filter(D=>{const L=A-C.length;return D>k&&D<=a(k,L)});C.push(...T)}const E=C.reduce((T,D)=>{const L=r.ISOWeek?m(D):h(D),B=T.find(F=>F.weekNumber===L),z=new qP(D,b,n);return B?B.days.push(z):T.push(new EQ(L,[z])),T},[]),M=new AQ(b,E);return w.push(M),w},[]);return r.reverseMonths?_.reverse():_}function FX(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:l,endOfMonth:u,addYears:d,endOfYear:m,newDate:h,today:g}=t,{fromYear:y,toYear:v,fromMonth:_,toMonth:w}=e;!r&&_&&(r=_),!r&&y&&(r=t.newDate(y,0,1)),!n&&w&&(n=w),!n&&v&&(n=h(v,11,31));const b=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=l(r):y?r=h(y,0,1):!r&&b&&(r=a(d(e.today??g(),-100))),n?n=u(n):v?n=h(v,11,31):!n&&b&&(n=m(e.today??g())),[r&&i(r),n&&i(n)]}function qX(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:d}=n,m=a?i:1,h=l(e);if(!t)return u(h,m);if(!(d(t,e)<i))return u(h,m)}function UX(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:d}=n,m=a?i??1:1,h=l(e);if(!t)return u(h,-m);if(!(d(h,t)<=0))return u(h,-m)}function HX(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function Cp(e,t){const[r,n]=x.useState(e);return[t===void 0?r:t,n]}function WX(e,t){const[r,n]=FX(e,t),{startOfMonth:a,endOfMonth:i}=t,l=aA(e,r,n,t),[u,d]=Cp(l,e.month?l:void 0);x.useEffect(()=>{const M=aA(e,r,n,t);d(M)},[e.timeZone]);const m=BX(u,n,e,t),h=LX(m,e.endMonth?i(e.endMonth):void 0,e,t),g=zX(m,h,e,t),y=HX(g),v=$X(g),_=UX(u,r,e,t),w=qX(u,n,e,t),{disableNavigation:b,onMonthChange:S}=e,k=M=>y.some(T=>T.days.some(D=>D.isEqualTo(M))),C=M=>{if(b)return;let T=a(M);r&&T<a(r)&&(T=a(r)),n&&T>a(n)&&(T=a(n)),d(T),S?.(T)};return{months:g,weeks:y,days:v,navStart:r,navEnd:n,previousMonth:_,nextMonth:w,goToMonth:C,goToDay:M=>{k(M)||C(M.date)}}}var bs;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(bs||(bs={}));function sA(e){return!e[ur.disabled]&&!e[ur.hidden]&&!e[ur.outside]}function YX(e,t,r,n){let a,i=-1;for(const l of e){const u=t(l);sA(u)&&(u[ur.focused]&&i<bs.FocusedModifier?(a=l,i=bs.FocusedModifier):n?.isEqualTo(l)&&i<bs.LastFocused?(a=l,i=bs.LastFocused):r(l.date)&&i<bs.Selected?(a=l,i=bs.Selected):u[ur.today]&&i<bs.Today&&(a=l,i=bs.Today))}return a||(a=e.find(l=>sA(t(l)))),a}function KX(e,t,r,n,a,i,l){const{ISOWeek:u,broadcastCalendar:d}=i,{addDays:m,addMonths:h,addWeeks:g,addYears:y,endOfBroadcastWeek:v,endOfISOWeek:_,endOfWeek:w,max:b,min:S,startOfBroadcastWeek:k,startOfISOWeek:C,startOfWeek:A}=l;let M={day:m,week:g,month:h,year:y,startOfWeek:T=>d?k(T,l):u?C(T):A(T),endOfWeek:T=>d?v(T):u?_(T):w(T)}[e](r,t==="after"?1:-1);return t==="before"&&n?M=b([n,M]):t==="after"&&a&&(M=S([a,M])),M}function JP(e,t,r,n,a,i,l,u=0){if(u>365)return;const d=KX(e,t,r.date,n,a,i,l),m=!!(i.disabled&&li(d,i.disabled,l)),h=!!(i.hidden&&li(d,i.hidden,l)),g=d,y=new qP(d,g,l);return!m&&!h?y:JP(e,t,y,n,a,i,l,u+1)}function GX(e,t,r,n,a){const{autoFocus:i}=e,[l,u]=x.useState(),d=YX(t.days,r,n||(()=>!1),l),[m,h]=x.useState(i?d:void 0);return{isFocusTarget:w=>!!d?.isEqualTo(w),setFocused:h,focused:m,blur:()=>{u(m),h(void 0)},moveFocus:(w,b)=>{if(!m)return;const S=JP(w,b,m,t.navStart,t.navEnd,e,a);S&&(e.disableNavigation&&!t.days.some(C=>C.isEqualTo(S))||(t.goToDay(S),h(S)))}}}function VX(e,t){const{selected:r,required:n,onSelect:a}=e,[i,l]=Cp(r,a?r:void 0),u=a?r:i,{isSameDay:d}=t,m=v=>u?.some(_=>d(_,v))??!1,{min:h,max:g}=e;return{selected:u,select:(v,_,w)=>{let b=[...u??[]];if(m(v)){if(u?.length===h||n&&u?.length===1)return;b=u?.filter(S=>!d(S,v))}else u?.length===g?b=[v]:b=[...b,v];return a||l(b),a?.(b,v,_,w),b},isSelected:m}}function QX(e,t,r=0,n=0,a=!1,i=Is){const{from:l,to:u}=t||{},{isSameDay:d,isAfter:m,isBefore:h}=i;let g;if(!l&&!u)g={from:e,to:r>0?void 0:e};else if(l&&!u)d(l,e)?r===0?g={from:l,to:e}:a?g={from:l,to:void 0}:g=void 0:h(e,l)?g={from:e,to:l}:g={from:l,to:e};else if(l&&u)if(d(l,e)&&d(u,e))a?g={from:l,to:u}:g=void 0;else if(d(l,e))g={from:l,to:r>0?void 0:e};else if(d(u,e))g={from:e,to:r>0?void 0:e};else if(h(e,l))g={from:e,to:u};else if(m(e,l))g={from:l,to:e};else if(m(e,u))g={from:l,to:e};else throw new Error("Invalid range");if(g?.from&&g?.to){const y=i.differenceInCalendarDays(g.to,g.from);n>0&&y>n?g={from:e,to:void 0}:r>1&&y<r&&(g={from:e,to:void 0})}return g}function XX(e,t,r=Is){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),l=Math.min(i,6);for(let u=0;u<=l;u++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function iA(e,t,r=Is){return oi(e,t.from,!1,r)||oi(e,t.to,!1,r)||oi(t,e.from,!1,r)||oi(t,e.to,!1,r)}function ZX(e,t,r=Is){const n=Array.isArray(t)?t:[t];if(n.filter(u=>typeof u!="function").some(u=>typeof u=="boolean"?u:r.isDate(u)?oi(e,u,!1,r):GP(u,r)?u.some(d=>oi(e,d,!1,r)):bj(u)?u.from&&u.to?iA(e,{from:u.from,to:u.to},r):!1:KP(u)?XX(e,u.dayOfWeek,r):HP(u)?r.isAfter(u.before,u.after)?iA(e,{from:r.addDays(u.after,1),to:r.addDays(u.before,-1)},r):li(e.from,u,r)||li(e.to,u,r):WP(u)||YP(u)?li(e.from,u,r)||li(e.to,u,r):!1))return!0;const l=n.filter(u=>typeof u=="function");if(l.length){let u=e.from;const d=r.differenceInCalendarDays(e.to,e.from);for(let m=0;m<=d;m++){if(l.some(h=>h(u)))return!0;u=r.addDays(u,1)}}return!1}function JX(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:l}=e,[u,d]=Cp(a,l?a:void 0),m=l?a:u;return{selected:m,select:(y,v,_)=>{const{min:w,max:b}=e,S=y?QX(y,m,w,b,i,t):void 0;return n&&r&&S?.from&&S.to&&ZX({from:S.from,to:S.to},r,t)&&(S.from=y,S.to=void 0),l||d(S),l?.(S,y,v,_),S},isSelected:y=>m&&oi(m,y,!1,t)}}function eZ(e,t){const{selected:r,required:n,onSelect:a}=e,[i,l]=Cp(r,a?r:void 0),u=a?r:i,{isSameDay:d}=t;return{selected:u,select:(g,y,v)=>{let _=g;return!n&&u&&u&&d(g,u)&&(_=void 0),a||l(_),a?.(_,g,y,v),_},isSelected:g=>u?d(u,g):!1}}function tZ(e,t){const r=eZ(e,t),n=VX(e,t),a=JX(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function rZ(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new xn(t.today,t.timeZone)),t.month&&(t.month=new xn(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new xn(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new xn(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new xn(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new xn(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Be=>new xn(Be,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new xn(t.selected.from,t.timeZone):void 0,to:t.selected.to?new xn(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:a,dateLib:i,locale:l,classNames:u}=x.useMemo(()=>{const Be={...gf,...t.locale};return{dateLib:new ga({locale:Be,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:iX(t.components),formatters:pX(t.formatters),labels:{...DX,...t.labels},locale:Be,classNames:{...wj(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:m,navLayout:h,numberOfMonths:g=1,onDayBlur:y,onDayClick:v,onDayFocus:_,onDayKeyDown:w,onDayMouseEnter:b,onDayMouseLeave:S,onNextClick:k,onPrevClick:C,showWeekNumber:A,styles:E}=t,{formatCaption:M,formatDay:T,formatMonthDropdown:D,formatWeekNumber:L,formatWeekNumberHeader:B,formatWeekdayName:z,formatYearDropdown:F}=n,G=WX(t,i),{days:V,months:Y,navStart:$,navEnd:ee,previousMonth:J,nextMonth:W,goToMonth:U}=G,P=aX(V,t,$,ee,i),{isSelected:H,select:Q,selected:ne}=tZ(t,i)??{},{blur:ge,focused:be,isFocusTarget:te,moveFocus:Se,setFocused:ce}=GX(t,G,P,H??(()=>!1),i),{labelDayButton:pe,labelGridcell:ke,labelGrid:de,labelMonthDropdown:qe,labelNav:Ae,labelPrevious:Ye,labelNext:at,labelWeekday:Jt,labelWeekNumber:cr,labelWeekNumberHeader:fr,labelYearDropdown:$t}=a,kr=x.useMemo(()=>vX(i,t.ISOWeek),[i,t.ISOWeek]),sn=m!==void 0||v!==void 0,K=x.useCallback(()=>{J&&(U(J),C?.(J))},[J,U,C]),ie=x.useCallback(()=>{W&&(U(W),k?.(W))},[U,W,k]),R=x.useCallback((Be,$e)=>_e=>{_e.preventDefault(),_e.stopPropagation(),ce(Be),Q?.(Be.date,$e,_e),v?.(Be.date,$e,_e)},[Q,v,ce]),se=x.useCallback((Be,$e)=>_e=>{ce(Be),_?.(Be.date,$e,_e)},[_,ce]),xe=x.useCallback((Be,$e)=>_e=>{ge(),y?.(Be.date,$e,_e)},[ge,y]),Te=x.useCallback((Be,$e)=>_e=>{const Ue={ArrowLeft:[_e.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[_e.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[_e.shiftKey?"year":"week","after"],ArrowUp:[_e.shiftKey?"year":"week","before"],PageUp:[_e.shiftKey?"year":"month","before"],PageDown:[_e.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ue[_e.key]){_e.preventDefault(),_e.stopPropagation();const[Ze,Ce]=Ue[_e.key];Se(Ze,Ce)}w?.(Be.date,$e,_e)},[Se,w,t.dir]),et=x.useCallback((Be,$e)=>_e=>{b?.(Be.date,$e,_e)},[b]),Dt=x.useCallback((Be,$e)=>_e=>{S?.(Be.date,$e,_e)},[S]),Nt=x.useCallback(Be=>$e=>{const _e=Number($e.target.value),Ue=i.setMonth(i.startOfMonth(Be),_e);U(Ue)},[i,U]),Cr=x.useCallback(Be=>$e=>{const _e=Number($e.target.value),Ue=i.setYear(i.startOfMonth(Be),_e);U(Ue)},[i,U]),{className:Bt,style:Yt}=x.useMemo(()=>({className:[u[He.Root],t.className].filter(Boolean).join(" "),style:{...E?.[He.Root],...t.style}}),[u,t.className,t.style,E]),dt=oX(t),Xe=x.useRef(null);IX(Xe,!!t.animate,{classNames:u,months:Y,focused:be,dateLib:i});const ft={dayPickerProps:t,selected:ne,select:Q,isSelected:H,months:Y,nextMonth:W,previousMonth:J,goToMonth:U,getModifiers:P,components:r,classNames:u,styles:E,labels:a,formatters:n};return je.createElement(UP.Provider,{value:ft},je.createElement(r.Root,{rootRef:t.animate?Xe:void 0,className:Bt,style:Yt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...dt},je.createElement(r.Months,{className:u[He.Months],style:E?.[He.Months]},!t.hideNavigation&&!h&&je.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:u[He.Nav],style:E?.[He.Nav],"aria-label":Ae(),onPreviousClick:K,onNextClick:ie,previousMonth:J,nextMonth:W}),Y.map((Be,$e)=>je.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:u[He.Month],style:E?.[He.Month],key:$e,displayIndex:$e,calendarMonth:Be},h==="around"&&!t.hideNavigation&&$e===0&&je.createElement(r.PreviousMonthButton,{type:"button",className:u[He.PreviousMonthButton],tabIndex:J?void 0:-1,"aria-disabled":J?void 0:!0,"aria-label":Ye(J),onClick:K,"data-animated-button":t.animate?"true":void 0},je.createElement(r.Chevron,{disabled:J?void 0:!0,className:u[He.Chevron],orientation:t.dir==="rtl"?"right":"left"})),je.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:u[He.MonthCaption],style:E?.[He.MonthCaption],calendarMonth:Be,displayIndex:$e},d?.startsWith("dropdown")?je.createElement(r.DropdownNav,{className:u[He.Dropdowns],style:E?.[He.Dropdowns]},(()=>{const _e=d==="dropdown"||d==="dropdown-months"?je.createElement(r.MonthsDropdown,{key:"month",className:u[He.MonthsDropdown],"aria-label":qe(),classNames:u,components:r,disabled:!!t.disableNavigation,onChange:Nt(Be.date),options:yX(Be.date,$,ee,n,i),style:E?.[He.Dropdown],value:i.getMonth(Be.date)}):je.createElement("span",{key:"month"},D(Be.date,i)),Ue=d==="dropdown"||d==="dropdown-years"?je.createElement(r.YearsDropdown,{key:"year",className:u[He.YearsDropdown],"aria-label":$t(i.options),classNames:u,components:r,disabled:!!t.disableNavigation,onChange:Cr(Be.date),options:bX($,ee,n,i,!!t.reverseYears),style:E?.[He.Dropdown],value:i.getYear(Be.date)}):je.createElement("span",{key:"year"},F(Be.date,i));return i.getMonthYearOrder()==="year-first"?[Ue,_e]:[_e,Ue]})(),je.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},M(Be.date,i.options,i))):je.createElement(r.CaptionLabel,{className:u[He.CaptionLabel],role:"status","aria-live":"polite"},M(Be.date,i.options,i))),h==="around"&&!t.hideNavigation&&$e===g-1&&je.createElement(r.NextMonthButton,{type:"button",className:u[He.NextMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":at(W),onClick:ie,"data-animated-button":t.animate?"true":void 0},je.createElement(r.Chevron,{disabled:W?void 0:!0,className:u[He.Chevron],orientation:t.dir==="rtl"?"left":"right"})),$e===g-1&&h==="after"&&!t.hideNavigation&&je.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:u[He.Nav],style:E?.[He.Nav],"aria-label":Ae(),onPreviousClick:K,onNextClick:ie,previousMonth:J,nextMonth:W}),je.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":m==="multiple"||m==="range","aria-label":de(Be.date,i.options,i)||void 0,className:u[He.MonthGrid],style:E?.[He.MonthGrid]},!t.hideWeekdays&&je.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:u[He.Weekdays],style:E?.[He.Weekdays]},A&&je.createElement(r.WeekNumberHeader,{"aria-label":fr(i.options),className:u[He.WeekNumberHeader],style:E?.[He.WeekNumberHeader],scope:"col"},B()),kr.map(_e=>je.createElement(r.Weekday,{"aria-label":Jt(_e,i.options,i),className:u[He.Weekday],key:String(_e),style:E?.[He.Weekday],scope:"col"},z(_e,i.options,i)))),je.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:u[He.Weeks],style:E?.[He.Weeks]},Be.weeks.map(_e=>je.createElement(r.Week,{className:u[He.Week],key:_e.weekNumber,style:E?.[He.Week],week:_e},A&&je.createElement(r.WeekNumber,{week:_e,style:E?.[He.WeekNumber],"aria-label":cr(_e.weekNumber,{locale:l}),className:u[He.WeekNumber],scope:"row",role:"rowheader"},L(_e.weekNumber,i)),_e.days.map(Ue=>{const{date:Ze}=Ue,Ce=P(Ue);if(Ce[ur.focused]=!Ce.hidden&&!!be?.isEqualTo(Ue),Ce[rs.selected]=H?.(Ze)||Ce.selected,bj(ne)){const{from:it,to:Ar}=ne;Ce[rs.range_start]=!!(it&&Ar&&i.isSameDay(Ze,it)),Ce[rs.range_end]=!!(it&&Ar&&i.isSameDay(Ze,Ar)),Ce[rs.range_middle]=oi(ne,Ze,!0,i)}const vt=xX(Ce,E,t.modifiersStyles),Tr=sX(Ce,u,t.modifiersClassNames),ht=!sn&&!Ce.hidden?ke(Ze,Ce,i.options,i):void 0;return je.createElement(r.Day,{key:`${i.format(Ze,"yyyy-MM-dd")}_${i.format(Ue.displayMonth,"yyyy-MM")}`,day:Ue,modifiers:Ce,className:Tr.join(" "),style:vt,role:"gridcell","aria-selected":Ce.selected||void 0,"aria-label":ht,"data-day":i.format(Ze,"yyyy-MM-dd"),"data-month":Ue.outside?i.format(Ze,"yyyy-MM"):void 0,"data-selected":Ce.selected||void 0,"data-disabled":Ce.disabled||void 0,"data-hidden":Ce.hidden||void 0,"data-outside":Ue.outside||void 0,"data-focused":Ce.focused||void 0,"data-today":Ce.today||void 0},!Ce.hidden&&sn?je.createElement(r.DayButton,{className:u[He.DayButton],style:E?.[He.DayButton],type:"button",day:Ue,modifiers:Ce,disabled:Ce.disabled||void 0,tabIndex:te(Ue)?0:-1,"aria-label":pe(Ze,Ce,i.options,i),onClick:R(Ue,Ce),onBlur:xe(Ue,Ce),onFocus:se(Ue,Ce),onKeyDown:Te(Ue,Ce),onMouseEnter:et(Ue,Ce),onMouseLeave:Dt(Ue,Ce)},T(Ze,i.options,i)):!Ce.hidden&&T(Ue.date,i.options,i))})))))))),t.footer&&je.createElement(r.Footer,{className:u[He.Footer],style:E?.[He.Footer],role:"status","aria-live":"polite"},t.footer)))}function e5({className:e,classNames:t,showOutsideDays:r=!0,captionLayout:n="label",buttonVariant:a="ghost",formatters:i,components:l,...u}){const d=wj();return s.jsx(rZ,{showOutsideDays:r,className:Pe("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:n,formatters:{formatMonthDropdown:m=>m.toLocaleString("default",{month:"short"}),...i},classNames:{root:Pe("w-fit",d.root),months:Pe("relative flex flex-col gap-4 md:flex-row",d.months),month:Pe("flex w-full flex-col gap-4",d.month),nav:Pe("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",d.nav),button_previous:Pe(ww({variant:a}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_previous),button_next:Pe(ww({variant:a}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_next),month_caption:Pe("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",d.month_caption),dropdowns:Pe("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",d.dropdowns),dropdown_root:Pe("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",d.dropdown_root),dropdown:Pe("bg-popover absolute inset-0 opacity-0",d.dropdown),caption_label:Pe("select-none font-medium",n==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",d.caption_label),table:"w-full border-collapse",weekdays:Pe("flex",d.weekdays),weekday:Pe("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",d.weekday),week:Pe("mt-2 flex w-full",d.week),week_number_header:Pe("w-[--cell-size] select-none",d.week_number_header),week_number:Pe("text-muted-foreground select-none text-[0.8rem]",d.week_number),day:Pe("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",d.day),range_start:Pe("bg-accent rounded-l-md",d.range_start),range_middle:Pe("rounded-none",d.range_middle),range_end:Pe("bg-accent rounded-r-md",d.range_end),today:Pe("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",d.today),outside:Pe("text-muted-foreground aria-selected:text-muted-foreground",d.outside),disabled:Pe("text-muted-foreground opacity-50",d.disabled),hidden:Pe("invisible",d.hidden),...t},components:{Root:({className:m,rootRef:h,...g})=>s.jsx("div",{"data-slot":"calendar",ref:h,className:Pe(m),...g}),Chevron:({className:m,orientation:h,...g})=>h==="left"?s.jsx(ip,{className:Pe("size-4",m),...g}):h==="right"?s.jsx(Ms,{className:Pe("size-4",m),...g}):s.jsx(xo,{className:Pe("size-4",m),...g}),DayButton:nZ,WeekNumber:({children:m,...h})=>s.jsx("td",{...h,children:s.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:m})}),...l},...u})}function nZ({className:e,day:t,modifiers:r,...n}){const a=wj(),i=x.useRef(null);return x.useEffect(()=>{r.focused&&i.current?.focus()},[r.focused]),s.jsx(Fe,{ref:i,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":r.selected&&!r.range_start&&!r.range_end&&!r.range_middle,"data-range-start":r.range_start,"data-range-end":r.range_end,"data-range-middle":r.range_middle,className:Pe("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",a.day,e),...n})}const aZ=e=>Ie({queryKey:["task-time-logs",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Z.from("task_time_logs").select("*").eq("task_id",e).order("log_date",{ascending:!1});if(r)throw console.error("Error fetching task time logs:",r),r;return t||[]},enabled:!!e,staleTime:3e4}),sZ=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.from("task_time_logs").insert({user_id:r.id,task_id:t.taskId,log_date:t.logDate,hours_worked:t.hoursWorked,start_time:t.startTime||null,end_time:t.endTime||null,notes:t.notes||null}).select().single();if(a)throw a;return n},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["task-time-logs",r.taskId]}),e.invalidateQueries({queryKey:["tasks"]})}})},iZ=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:r,error:n}=await Z.from("task_time_logs").update(t.updates).eq("id",t.id).select().single();if(n)throw n;return r},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["task-time-logs",r.taskId]}),e.invalidateQueries({queryKey:["tasks"]})}})},oZ=()=>{const e=ut();return jt({mutationFn:async t=>{const{error:r}=await Z.from("task_time_logs").delete().eq("id",t.id);if(r)throw r},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["task-time-logs",r.taskId]}),e.invalidateQueries({queryKey:["tasks"]})}})},ot=e=>{if(!e)return null;if(e.includes("T"))return new Date(e);const[t,r,n]=e.split("-").map(Number);return!t||!r||!n?null:new Date(t,r-1,n,12,0,0,0)},wr=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},bf=()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)},Lc=()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0,0)},Dd=e=>{if(!e)return!1;const t=ot(e);if(!t)return!1;const r=bf();return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime()===r.getTime()},Pw=e=>{if(!e)return!1;const t=ot(e);if(!t)return!1;const r=bf();return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime()<r.getTime()},oA=e=>{if(!e)return!1;const t=ot(e);if(!t)return!1;const r=bf();return r.setDate(r.getDate()+1),new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime()===r.getTime()},lZ=e=>{if(!e)return null;if(e.includes("T")){const a=new Date(e);return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)}const[t,r,n]=e.split("-").map(Number);return!t||!r||!n?null:new Date(t,r-1,n,0,0,0,0)},_m=e=>{if(!e)return"";const[t,r]=e.split(":"),n=parseInt(t,10),a=r;return n===0?`12:${a} AM`:n<12?`${n}:${a} AM`:n===12?`12:${a} PM`:`${n-12}:${a} PM`},cZ=()=>{const e=[];for(let t=8;t<24;t++)for(let r=0;r<60;r+=15){const n=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`;e.push(n)}for(let t=0;t<8;t++)for(let r=0;r<60;r+=15){const n=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`;e.push(n)}return e},lA=cZ(),uZ=({taskId:e,hoursProjected:t=0,hoursWorked:r=0})=>{const{data:n=[]}=aZ(e),a=sZ(),i=iZ();oZ();const l=lu(),[u,d]=x.useState([{date:wr(Lc()),startTime:"",endTime:"",notes:""},{date:wr(Lc()),startTime:"",endTime:"",notes:""},{date:wr(Lc()),startTime:"",endTime:"",notes:""},{date:wr(Lc()),startTime:"",endTime:"",notes:""}]),m=(b,S)=>{if(!b||!S)return 0;try{const k=D=>{const L=D.split(":");return`${L[0]}:${L[1]}`},C=k(b),A=k(S),E=ST(C,"HH:mm",new Date),M=ST(A,"HH:mm",new Date),T=dp(M,E);return T>0?T/60:0}catch(k){return console.error("Error calculating hours:",{startTime:b,endTime:S,error:k}),0}},h=u.reduce((b,S)=>b+m(S.startTime,S.endTime),0),g=n.reduce((b,S)=>b+S.hours_worked,0),y=(b,S,k)=>{const C=[...u];C[b]={...C[b],[S]:k},d(C)},v=async()=>{try{const b=[];for(const k of u){if(!k.startTime||!k.endTime){b.push(k);continue}const C=m(k.startTime,k.endTime);if(C<=0){b.push(k);continue}if(k.id){const A=await i.mutateAsync({id:k.id,taskId:e,updates:{log_date:k.date,hours_worked:C,start_time:k.startTime,end_time:k.endTime,notes:k.notes.trim()||null}});b.push({id:A.id,date:A.log_date,startTime:A.start_time||"",endTime:A.end_time||"",notes:A.notes||""})}else{const A=await a.mutateAsync({taskId:e,logDate:k.date,hoursWorked:C,startTime:k.startTime,endTime:k.endTime,notes:k.notes.trim()||void 0});b.push({id:A.id,date:A.log_date,startTime:A.start_time||"",endTime:A.end_time||"",notes:A.notes||""})}}d(b);const S=b.reduce((k,C)=>k+m(C.startTime,C.endTime),0);await l.mutateAsync({id:e,updates:{hours_worked:S}})}catch(b){console.error("Failed to save time logs:",b),alert("Failed to save time logs")}},_=()=>{const k=[...n].sort((C,A)=>{const E=new Date(C.log_date).getTime(),M=new Date(A.log_date).getTime();return E-M}).slice(0,4).map(C=>({id:C.id,date:C.log_date,startTime:C.start_time||"",endTime:C.end_time||"",notes:C.notes||""}));for(;k.length<4;)k.push({date:wr(Lc()),startTime:"",endTime:"",notes:""});d(k)};x.useEffect(()=>{n.length>0&&_()},[n.length]);const w=u.some(b=>{if((b.startTime||b.endTime||b.notes.trim())&&!b.id)return!0;if(b.id){const S=n.find(k=>k.id===b.id);if(S)return b.date!==S.log_date||b.startTime!==(S.start_time||"")||b.endTime!==(S.end_time||"")||b.notes!==(S.notes||"")}return!1});return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide",children:"Time Tracking Log"})}),s.jsxs("div",{className:"grid grid-cols-[95px_90px_90px_65px] gap-2 mb-2 text-xs font-semibold text-gray-300 uppercase tracking-wide",children:[s.jsx("div",{children:"Date"}),s.jsx("div",{children:"Start"}),s.jsx("div",{children:"End"}),s.jsx("div",{className:"text-center",children:"Hours"})]}),s.jsx("div",{className:"space-y-2 mb-4",children:u.map((b,S)=>{const k=m(b.startTime,b.endTime),C=ot(b.date);return b.startTime&&b.endTime&&console.log(`Row ${S}:`,{startTime:b.startTime,endTime:b.endTime,calculatedHours:k}),s.jsxs("div",{className:"grid grid-cols-[95px_90px_90px_65px] gap-2 items-center",children:[s.jsxs(bQ,{children:[s.jsx(wQ,{asChild:!0,children:s.jsxs(Fe,{variant:"outline",size:"sm",className:"h-8 px-1 sm:px-2 justify-start text-[10px] sm:text-xs text-white bg-gray-800/50 border-gray-700/50 hover:bg-gray-700/50 overflow-hidden",children:[s.jsx(tn,{className:"w-3 h-3 mr-0.5 sm:mr-1 text-white flex-shrink-0"}),s.jsx("span",{className:"truncate",children:C?Ne(C,"M/d/yy"):"Date"})]})}),s.jsx(BP,{className:"w-auto p-0",align:"start",children:s.jsx(e5,{mode:"single",selected:C??void 0,onSelect:A=>{if(A){const E=new Date(A.getFullYear(),A.getMonth(),A.getDate(),0,0,0,0),M=wr(E);y(S,"date",M)}},initialFocus:!0})})]}),s.jsxs(la,{value:b.startTime,onValueChange:A=>y(S,"startTime",A),children:[s.jsx(zn,{className:"h-8 text-[10px] sm:text-xs text-white bg-gray-800/50 border-gray-700/50 px-1 sm:px-2",children:s.jsx(ca,{placeholder:"Start",children:b.startTime?_m(b.startTime):"Start"})}),s.jsx(Fn,{className:"max-h-[200px]",children:lA.map(A=>s.jsx(ct,{value:A,className:"text-xs",children:_m(A)},A))})]}),s.jsxs(la,{value:b.endTime,onValueChange:A=>y(S,"endTime",A),children:[s.jsx(zn,{className:"h-8 text-[10px] sm:text-xs text-white bg-gray-800/50 border-gray-700/50 px-1 sm:px-2",children:s.jsx(ca,{placeholder:"End",children:b.endTime?_m(b.endTime):"End"})}),s.jsx(Fn,{className:"max-h-[200px]",children:lA.map(A=>s.jsx(ct,{value:A,className:"text-xs",children:_m(A)},A))})]}),s.jsx("div",{className:"h-8 flex items-center justify-center text-xs sm:text-sm font-semibold text-green-400",children:k>0?k.toFixed(2):""})]},b.id||`row-${S}`)})}),s.jsx("div",{className:"mb-4",children:s.jsx(Fe,{onClick:v,disabled:h===0,className:`w-full h-9 text-sm text-white font-medium transition-colors ${w?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:"Save Time Logs"})}),s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-800/50 px-4 py-4 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Worked"}),s.jsxs("div",{className:"text-xl font-bold text-green-400",children:[g.toFixed(2),"h"]})]}),s.jsxs("div",{className:"bg-gray-800/50 px-4 py-4 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Projected"}),s.jsxs("div",{className:"text-xl font-bold text-purple-400",children:[t.toFixed(2),"h"]})]}),s.jsxs("div",{className:"bg-gray-800/50 px-4 py-4 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Remaining"}),s.jsxs("div",{className:`text-xl font-bold ${t-g>0?"text-orange-400":"text-green-400"}`,children:[(t-g).toFixed(2),"h"]})]})]})})]})},Jr=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Jr.displayName="Card";const jj=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("flex flex-col space-y-1.5 p-6",e),...t}));jj.displayName="CardHeader";const dZ=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("font-semibold leading-none tracking-tight",e),...t}));dZ.displayName="CardTitle";const fZ=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));fZ.displayName="CardDescription";const fo=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("p-6 pt-0",e),...t}));fo.displayName="CardContent";const hZ=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("flex items-center p-6 pt-0",e),...t}));hZ.displayName="CardFooter";const mZ=X4("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gr({className:e,variant:t,...r}){return s.jsx("div",{className:Pe(mZ({variant:t}),e),...r})}const wf=x.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Pe("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));wf.displayName="Textarea";const gZ=(e=3e4)=>{const[t,r]=x.useState({previousValue:null,timeoutId:null}),n=x.useRef(null),a=x.useCallback(()=>{t.timeoutId&&clearTimeout(t.timeoutId),r({previousValue:null,timeoutId:null}),n.current=null},[t.timeoutId]),i=x.useCallback((u,d)=>{t.timeoutId&&clearTimeout(t.timeoutId);const m=setTimeout(()=>{r({previousValue:null,timeoutId:null}),n.current=null},e);r({previousValue:u,timeoutId:m}),n.current=d},[e,t.timeoutId]),l=x.useCallback(()=>{n.current&&(n.current(),a())},[a]);return x.useEffect(()=>()=>{t.timeoutId&&clearTimeout(t.timeoutId)},[t.timeoutId]),{canUndo:t.previousValue!==null,previousValue:t.previousValue,setupUndo:i,executeUndo:l,clearUndo:a}},Tp=e=>Ie({queryKey:e?["projects","business",e]:["projects"],queryFn:async()=>{let t=Z.from("projects").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("business_id",e));const{data:r,error:n}=await t;if(n)throw n;return r},staleTime:300*1e3}),pZ=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r},error:n}=await Z.auth.getUser();if(n||!r)throw new Error("User not authenticated");const{data:a,error:i}=await Z.from("projects").insert([{...t,user_id:r.id,status:t.status||"active"}]).select().single();if(i)throw i;return a},onSuccess:t=>{e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["projects","business",t.business_id]})}})},yZ=()=>{const e=ut();return jt({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await Z.from("projects").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["projects",t.id]}),e.invalidateQueries({queryKey:["projects","business",t.business_id]})}})},xZ=()=>{const e=ut();return jt({mutationFn:async t=>{const{error:r}=await Z.from("projects").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})},mu=e=>Ie({queryKey:e?["phases","project",e]:["phases"],queryFn:async()=>{let t=Z.from("phases").select("*").order("sequence_order",{ascending:!0});e&&(t=t.eq("project_id",e));const{data:r,error:n}=await t;if(n)throw n;return r},staleTime:300*1e3}),vZ=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r},error:n}=await Z.auth.getUser();if(n||!r)throw new Error("User not authenticated");const{data:a,error:i}=await Z.from("phases").insert([{...t,user_id:r.id,status:t.status||"active",sequence_order:t.sequence_order||0}]).select().single();if(i)throw i;return a},onSuccess:t=>{e.invalidateQueries({queryKey:["phases"]}),e.invalidateQueries({queryKey:["phases","project",t.project_id]})}})},bZ=()=>{const e=ut();return jt({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await Z.from("phases").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["phases"]}),e.invalidateQueries({queryKey:["phases",t.id]}),e.invalidateQueries({queryKey:["phases","project",t.project_id]})}})},t5=e=>Ie({queryKey:["task-time-blocks",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Z.from("task_time_blocks").select("*").eq("task_id",e).order("scheduled_date",{ascending:!0}).order("start_time",{ascending:!0});return r?(console.error("Error fetching task time blocks:",r),[]):t||[]},enabled:!!e,staleTime:3e4}),wZ=({progress:e,onChange:t,onClose:r,className:n="",onTimeTrack:a,hoursWorked:i})=>{const[l,u]=x.useState(e),[d,m]=x.useState(""),h=w=>{const b=parseInt(w.target.value,10);u(b)},g=()=>{l!==e&&t(l)},y=w=>{u(w),t(w),w===100&&r&&r()},v=w=>{a&&a(w)},_=()=>{const w=parseFloat(d);!isNaN(w)&&w>0&&a&&(a(w),m(""))};return s.jsxs("div",{className:`bg-gray-700 border border-gray-600 rounded-lg p-3 shadow-lg min-w-[280px] relative ${n}`,onMouseDown:w=>w.stopPropagation(),onClick:w=>w.stopPropagation(),children:[r&&s.jsx("button",{onClick:r,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-200 transition-colors",children:s.jsx(Ht,{className:"w-4 h-4"})}),a&&s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"text-xs text-gray-400 font-medium block mb-2",children:"Time Spent"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>v(.25),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${i===.25?"bg-green-600 text-white hover:bg-green-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"15m"}),s.jsx("button",{onClick:()=>v(.5),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${i===.5?"bg-green-600 text-white hover:bg-green-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"30m"}),s.jsx("button",{onClick:()=>v(1),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${i===1?"bg-green-600 text-white hover:bg-green-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"1h"}),s.jsx("button",{onClick:()=>v(2),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${i===2?"bg-green-600 text-white hover:bg-green-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"2h"}),s.jsx("input",{type:"text",inputMode:"decimal",value:d,onChange:w=>m(w.target.value),onBlur:_,onKeyDown:w=>{w.key==="Enter"&&_()},placeholder:"hrs",className:"w-14 px-2 py-1 text-xs bg-gray-800 text-gray-200 rounded border border-gray-600 focus:border-orange-500 focus:outline-none text-center [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"text-xs text-gray-400 font-medium block mb-2",children:"% Complete"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>y(0),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===0?"bg-red-600 text-white hover:bg-red-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"0%"}),s.jsx("button",{onClick:()=>y(25),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===25?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"25%"}),s.jsx("button",{onClick:()=>y(50),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===50?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"50%"}),s.jsx("button",{onClick:()=>y(75),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===75?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"75%"}),s.jsx("button",{onClick:()=>y(100),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===100?"bg-green-600 text-white hover:bg-green-700 border border-green-400":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"100%"})]})]}),s.jsx("div",{children:s.jsx("input",{type:"range",min:"0",max:"100",value:l,onChange:h,onMouseUp:g,onTouchEnd:g,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500",style:{background:`linear-gradient(to right,
              ${l<33?"#ef4444":l<67?"#eab308":"#22c55e"} 0%,
              ${l<33?"#ef4444":l<67?"#eab308":"#22c55e"} ${l}%,
              #4b5563 ${l}%,
              #4b5563 100%)`}})})]})},jZ="_calendarContainer_1clji_1",_Z="_calendarWrapper_1clji_19",cA={calendarContainer:jZ,calendarWrapper:_Z},_j=({scheduledDate:e,onSchedule:t,onClose:r,anchorEl:n})=>{const[a,i]=x.useState({top:"50%",left:"50%",transform:"translate(-50%, -50%)"});x.useEffect(()=>{if(n){const h=n.getBoundingClientRect();i({top:`${h.bottom+8}px`,left:`${h.left}px`,transform:"none"})}},[n]);const l=lZ(e)||void 0;l&&console.log(" DateTimePicker init:",{input:e,created:l,check:l.toLocaleDateString()});const[u,d]=x.useState(l),m=h=>{if(!h)return;const g=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0),y=wr(g);console.log(" DateTimePicker selected:",{originalDate:h,localDate:g,formattedDate:y,dateComponents:{year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate()},isoString:g.toISOString(),localString:g.toLocaleDateString()}),d(g),t(y,null),r()};return s.jsx("div",{className:"fixed inset-0 z-50",onClick:r,children:s.jsx("div",{className:cA.calendarContainer,onClick:h=>h.stopPropagation(),style:a,children:s.jsx("div",{className:cA.calendarWrapper,children:s.jsx(e5,{mode:"single",selected:u,onSelect:m})})})})},SZ=[{label:"15 min",hours:.25},{label:"30 min",hours:.5},{label:"1 hour",hours:1},{label:"2 hours",hours:2}],NZ=({taskName:e,onSave:t,onClose:r})=>{const[n,a]=x.useState(""),[i,l]=x.useState(null),u=h=>{l(h),a("")},d=()=>{const h=i!==null?i:parseFloat(n);h&&h>0?t(h):alert("Please select or enter a valid time")},m=()=>{t(0)};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Task Completed! "}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"How long did this take?"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1 italic",children:e})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-300 transition-colors",children:s.jsx(Ht,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Quick Select"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:SZ.map(h=>s.jsx("button",{onClick:()=>u(h.hours),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${i===h.hours?"bg-orange-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:h.label},h.hours))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Or Enter Custom Hours"}),s.jsx("input",{type:"number",value:n,onChange:h=>{a(h.target.value),l(null)},placeholder:"Enter hours (e.g., 0.5, 1.5, 3)",step:"0.25",min:"0",className:"w-full px-3 py-2 bg-gray-700 text-gray-100 rounded border border-gray-600 focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-gray-300 transition-colors",children:"Skip"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors",children:"Save Time"})]})]})]})})},kZ=e=>{if(e.businesses){const t=e.businesses.slug;if(t==="full-stack"||t==="fullstack")return"var(--color-business-fullstack)";if(t==="huge-capital")return"var(--color-business-hugecapital)";if(t==="s4")return"var(--color-business-s4)";if(t==="808")return"var(--color-business-808)";if(t==="personal")return"var(--color-area-personal)";if(t==="health")return"var(--color-area-health)";if(t==="golf")return"var(--color-area-golf)"}if(e.life_areas){const t=e.life_areas.category.toLowerCase();if(t==="personal")return"var(--color-area-personal)";if(t==="health")return"var(--color-area-health)";if(t==="golf")return"var(--color-area-golf)"}if(e.area){if(e.area==="Full Stack")return"var(--color-business-fullstack)";if(e.area==="Huge Capital")return"var(--color-business-hugecapital)";if(e.area==="S4")return"var(--color-business-s4)";if(e.area==="808")return"var(--color-business-808)";if(e.area==="Personal")return"var(--color-area-personal)";if(e.area==="Health")return"var(--color-area-health)";if(e.area==="Golf")return"var(--color-area-golf)"}return"#6b7280"},CZ=e=>e.projects?e.projects.name:e.businesses?e.businesses.name:e.life_areas?e.life_areas.name:e.area?e.area:"Unknown",TZ=e=>!e.due_date||e.progress_percentage===100?!1:Pw(e.due_date),AZ=e=>e.due_date?Dd(e.due_date):!1,EZ=e=>e?e==="$$$ Printer $$$"?"text-green-500":e==="$ Makes Money $"?"text-green-400":e==="-$ Save Dat $-"?"text-orange-400":e===":( No Money ):"?"text-red-400":e==="8) Vibing (8"?"text-purple-500":"text-gray-100":"text-gray-100",OZ=({task:e,className:t="",scheduleDate:r})=>{const[n,a]=x.useState(!1),[i,l]=x.useState(!1),[u,d]=x.useState(!1),[m,h]=x.useState(e.task_name),[g,y]=x.useState(e.description||""),[v,_]=x.useState(""),[w,b]=x.useState(!1),[S,k]=x.useState(!1),[C,A]=x.useState(null),[E,M]=x.useState(!1),[T,D]=x.useState(!1),[L,B]=x.useState("idle"),[z,F]=x.useState(0),[G,V]=x.useState(null),Y=x.useRef(null),$=lu(),ee=k4(),{setupUndo:J}=gZ(3e4),{data:W}=Tp(e.business_id||void 0),{data:U}=mu(e.project_id||void 0),{data:P=[]}=t5(e.id),Q=Ne(r||new Date,"yyyy-MM-dd"),ne=P.filter(ie=>ie.scheduled_date===Q),ge=ne.length>0,be=ne.length>0?ne[0]:null,te=kZ(e),Se=CZ(e),ce=TZ(e),pe=AZ(e),ke=!e.due_date&&!e.recurring_parent_id,qe=(()=>{if(!e.hours_projected||e.hours_projected===0)return 0;const R=(e.hours_worked||0)/e.hours_projected*100;return Math.min(Math.round(R),100)})(),Ae=e.progress_percentage===100;x.useEffect(()=>{if(!w)return;const ie=R=>{const se=R.target;Y.current&&!Y.current.contains(se)&&b(!1)};return document.addEventListener("mousedown",ie,!0),()=>document.removeEventListener("mousedown",ie,!0)},[w]);const Ye=async ie=>{B("syncing");const R={...e};J(R,()=>{$.mutate({id:e.id,updates:R})});try{await $.mutateAsync({id:e.id,updates:ie}),B("success"),setTimeout(()=>B("idle"),2e3)}catch(se){B("error"),console.error("Task update failed:",se),setTimeout(()=>B("idle"),3e3)}},at=()=>{m.trim()&&m!==e.task_name&&Ye({task_name:m.trim()}),l(!1)},Jt=ie=>{ie.key==="Enter"?at():ie.key==="Escape"&&(h(e.task_name),l(!1))},cr=()=>{g!==(e.description||"")&&Ye({description:g.trim()||null}),d(!1)},fr=ie=>{Ye({hours_worked:ie}),M(!1)},$t=(ie,R)=>{if(!ie){Ye({due_date:void 0});return}const[se,xe,Te]=ie.split("-").map(Number),et=new Date(se,xe-1,Te,12,0,0,0);Ye({due_date:et.toISOString()})},kr=()=>{G&&clearTimeout(G);const ie=z+1;if(F(ie),ie===2)ee.mutate(e.id),F(0),V(null);else{const R=setTimeout(()=>{F(0),V(null)},2e3);V(R)}},sn=()=>{if(e.businesses)switch(e.businesses.slug){case"full-stack":case"fullstack":return"rgb(25, 95, 75)";case"huge-capital":return"rgb(85, 45, 120)";case"s4":return"rgb(35, 70, 130)";case"808":return"rgb(120, 95, 35)";case"health":return"rgb(25, 90, 85)";case"personal":return"rgb(120, 45, 85)";case"golf":return"rgb(130, 65, 25)";default:return"rgb(31, 41, 55)"}if(e.life_areas)switch(e.life_areas.category.toLowerCase()){case"health":return"rgb(25, 90, 85)";case"personal":return"rgb(120, 45, 85)";case"golf":return"rgb(130, 65, 25)";default:return"rgb(31, 41, 55)"}if(e.area)switch(e.area){case"Full Stack":return"rgb(25, 95, 75)";case"Huge Capital":return"rgb(85, 45, 120)";case"S4":return"rgb(35, 70, 130)";case"808":return"rgb(120, 95, 35)";case"Health":return"rgb(25, 90, 85)";case"Personal":return"rgb(120, 45, 85)";case"Golf":return"rgb(130, 65, 25)";default:return"rgb(31, 41, 55)"}return"rgb(31, 41, 55)"},K=()=>{if(e.businesses)switch(e.businesses.slug){case"full-stack":case"fullstack":return"rgb(60, 130, 105)";case"huge-capital":return"rgb(130, 85, 165)";case"s4":return"rgb(75, 115, 170)";case"808":return"rgb(165, 135, 70)";case"health":return"rgb(60, 130, 120)";case"personal":return"rgb(165, 85, 125)";case"golf":return"rgb(175, 105, 60)";default:return"rgb(31, 41, 55)"}if(e.life_areas)switch(e.life_areas.category.toLowerCase()){case"health":return"rgb(60, 130, 120)";case"personal":return"rgb(165, 85, 125)";case"golf":return"rgb(175, 105, 60)";default:return"rgb(31, 41, 55)"}if(e.area)switch(e.area){case"Full Stack":return"rgb(60, 130, 105)";case"Huge Capital":return"rgb(130, 85, 165)";case"S4":return"rgb(75, 115, 170)";case"808":return"rgb(165, 135, 70)";case"Health":return"rgb(60, 130, 120)";case"Personal":return"rgb(165, 85, 125)";case"Golf":return"rgb(175, 105, 60)";default:return"rgb(31, 41, 55)"}return"rgb(31, 41, 55)"};return s.jsxs(Jr,{className:`border-gray-700 group hover:border-gray-600 transition-all duration-200 max-w-full overflow-hidden ${Ae?"opacity-60":""} ${t}`,style:{backgroundColor:sn()},children:[s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>{if(Ae)Ye({progress_percentage:0,status:"Not started",completed_at:null});else{const ie=[];if((!e.hours_worked||e.hours_worked===0)&&ie.push("Time Tracking Log entries"),e.effort_level||ie.push("Money Maker"),e.automation||ie.push("Automation"),(!e.hours_projected||e.hours_projected===0)&&ie.push("Hours Projected"),ie.length>0){alert(`Please fill out the following fields before marking this task as complete:

${ie.join(`
`)}`);return}Ye({progress_percentage:100,status:"Done",completed_at:new Date().toISOString()})}},className:"w-8 h-8 p-0 relative shrink-0",children:Ae?s.jsx(ff,{className:"w-5 h-5 text-green-400"}):s.jsx(H1,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"flex-1 min-w-0 max-w-[200px] sm:max-w-[600px]",children:i?s.jsx(Tn,{type:"text",value:m,onChange:ie=>h(ie.target.value),onBlur:at,onKeyDown:Jt,autoFocus:!0,className:"h-9 text-xl text-gray-100 font-medium bg-transparent border-gray-600 focus:border-blue-400"}):s.jsxs("div",{children:[s.jsx("h3",{onClick:()=>l(!0),className:`text-xl font-medium cursor-pointer hover:text-blue-400 transition-colors truncate ${Ae?"line-through text-gray-500":"text-gray-100"}`,children:e.task_name}),e.description&&s.jsx("p",{className:"text-xs text-white mt-1 truncate",children:e.description})]})}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0 flex-wrap xl:flex-nowrap ml-auto",children:[s.jsx("div",{className:"hidden sm:flex items-center gap-1",children:e.projects?s.jsx(gr,{className:"text-white border-0 text-xs px-2 sm:px-3 py-0.5 sm:py-1 font-medium whitespace-nowrap",style:{backgroundColor:te},children:Se}):s.jsxs(la,{value:e.project_id||"no-project",onValueChange:ie=>Ye({project_id:ie==="no-project"?null:ie}),children:[s.jsx(zn,{className:"h-8 sm:h-9 text-sm sm:text-base px-2 sm:px-4 py-0 border-0 gap-1 whitespace-nowrap",style:{backgroundColor:te,color:"white",minWidth:"120px",width:"120px"},children:s.jsx(ca,{placeholder:"+ Project"})}),s.jsxs(Fn,{children:[s.jsx(ct,{value:"no-project",children:"Unorganized"}),W?.map(ie=>s.jsx(ct,{value:ie.id,children:ie.name},ie.id))||null]})]})}),e.project_id&&e.phase_id&&e.phases&&s.jsx(gr,{className:"hidden sm:inline text-white border-0 text-xs px-2 sm:px-3 py-0.5 sm:py-1 font-medium whitespace-nowrap",style:{backgroundColor:te},children:e.phases.name}),e.due_date?s.jsxs(Fe,{variant:"ghost",size:"sm",onClick:ie=>{A(ie.currentTarget),k(!0)},className:`h-7 sm:h-8 px-1 sm:px-2 text-xs sm:text-xs gap-0.5 w-auto justify-center ${ce?"text-red-400 hover:bg-red-500/10":pe?"text-yellow-400 hover:bg-yellow-500/10":"text-gray-400 hover:bg-gray-700"}`,children:[ce&&s.jsx(pl,{className:"w-3 sm:w-3 h-3 sm:h-3"}),s.jsx(tn,{className:"w-3 sm:w-3 h-3 sm:h-3"}),s.jsx("span",{className:"text-xs sm:text-xs",children:pe?"Today":ce?"Overdue":Ne(ot(e.due_date)||new Date,"MMM d")})]}):s.jsxs(Fe,{variant:"ghost",size:"sm",onClick:ie=>{A(ie.currentTarget),k(!0)},className:"h-7 sm:h-8 px-1 sm:px-2 text-xs sm:text-xs gap-0.5 w-auto justify-center text-gray-500 hover:bg-gray-700 hover:text-gray-300",children:[s.jsx(tn,{className:"w-3 sm:w-3 h-3 sm:h-3"}),s.jsx("span",{className:"hidden sm:inline text-xs",children:"Set Date"})]}),s.jsx("div",{className:`h-7 sm:h-8 px-1 sm:px-2 text-xs sm:text-xs font-medium rounded-md w-auto flex items-center justify-center text-white ${Ae?"bg-green-600":ge?"bg-yellow-500":"bg-blue-600"}`,title:be?`Scheduled for ${be.scheduled_date}`:void 0,children:s.jsx("span",{className:"text-xs sm:text-xs",children:Ae?"Completed":ge&&be?Ne(new Date(`2000-01-01T${be.start_time}`),"h:mm a"):"Schedule"})}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>a(!n),className:"w-6 h-6 p-0 text-white hover:text-white",children:s.jsx(t9,{className:"w-4 h-4"})})]})]}),qe>0&&qe<100&&s.jsx("div",{className:"mt-3",children:s.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full transition-all duration-300 rounded-full bg-green-500",style:{width:`${qe}%`}})})})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t border-gray-700/30"}),s.jsx("div",{className:"p-3 sm:p-4 lg:p-6 max-w-full overflow-x-auto",style:{backgroundColor:K()},children:s.jsxs("div",{className:"grid grid-cols-1 2xl:grid-cols-[1fr_1.5fr_280px] gap-4 sm:gap-6 min-w-0",children:[!ke&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Notes"}),u?s.jsx(wf,{value:g,onChange:ie=>y(ie.target.value),onBlur:cr,autoFocus:!0,rows:16,placeholder:"Add notes, thoughts, or details...",className:"text-sm resize-none bg-gray-800/30 border-gray-700/30 focus:bg-gray-800/50 transition-colors flex-1 leading-relaxed text-gray-100 placeholder:text-gray-500"}):s.jsx("div",{onClick:()=>d(!0),className:`text-sm cursor-pointer hover:bg-gray-800/30 transition-all px-4 py-3 rounded-lg border border-gray-700/30 flex-1 leading-relaxed ${e.description?"text-gray-100":"text-white"}`,children:e.description||"Add Notes..."})]}),s.jsx("div",{children:s.jsx(uZ,{taskId:e.id,hoursProjected:e.hours_projected||0,hoursWorked:e.hours_worked||0})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Created"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-800/30 rounded-lg text-sm text-gray-100 border border-gray-700/30",children:e.created_at?Ne(new Date(e.created_at),"MMM d, yyyy"):"Unknown"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Automation"}),s.jsxs(la,{value:e.automation||"none",onValueChange:ie=>Ye({automation:ie==="none"?null:ie}),children:[s.jsx(zn,{className:"h-10 text-sm bg-gray-800/50 border-gray-700/50 hover:bg-gray-800/70 transition-colors text-gray-100",children:s.jsx(ca,{placeholder:"Select type"})}),s.jsxs(Fn,{children:[s.jsx(ct,{value:"none",children:"None"}),s.jsx(ct,{value:"Automate",children:" Automate"}),s.jsx(ct,{value:"Delegate",children:" Delegate"}),s.jsx(ct,{value:"Manual",children:" Manual"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Days Since Creation"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-800/30 rounded-lg text-sm text-gray-100 border border-gray-700/30",children:e.created_at?Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/(1e3*60*60*24)):""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Money Maker"}),s.jsxs(la,{value:e.effort_level||"none",onValueChange:ie=>Ye({effort_level:ie==="none"?null:ie}),children:[s.jsx(zn,{className:`h-10 text-sm bg-gray-800/50 border-gray-700/50 hover:bg-gray-800/70 transition-colors font-semibold ${EZ(e.effort_level)}`,children:s.jsx(ca,{placeholder:"Select level"})}),s.jsxs(Fn,{children:[s.jsx(ct,{value:"none",children:"None"}),s.jsx(ct,{value:"$$$ Printer $$$",className:"text-green-500 font-semibold",children:"$$$ Printer $$$"}),s.jsx(ct,{value:"$ Makes Money $",className:"text-green-400 font-semibold",children:"$ Makes Money $"}),s.jsx(ct,{value:"-$ Save Dat $-",className:"text-orange-400 font-semibold",children:"-$ Save Dat $-"}),s.jsx(ct,{value:":( No Money ):",className:"text-red-400 font-semibold",children:":( No Money ):"}),s.jsx(ct,{value:"8) Vibing (8",className:"text-purple-500 font-semibold",children:"8) Vibing (8"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Hours Worked"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-800/30 rounded-lg text-sm text-green-400 border border-gray-700/30 font-semibold",children:e.hours_worked?.toFixed(2)||"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Hours Projected"}),s.jsx(Tn,{type:"text",value:v||(e.hours_projected!==null&&e.hours_projected!==void 0?e.hours_projected.toFixed(2):""),onFocus:()=>{_(e.hours_projected?e.hours_projected.toString():"")},onChange:ie=>{const R=ie.target.value.replace(/[^0-9.]/g,"");_(R)},onBlur:()=>{const ie=v.trim();if(ie==="")Ye({hours_projected:null}),_("");else{const R=parseFloat(ie);isNaN(R)||Ye({hours_projected:R}),_("")}},placeholder:"",className:"h-10 text-sm bg-gray-800/50 border-gray-700/50 hover:bg-gray-800/70 transition-colors text-purple-400 font-semibold [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Fe,{onClick:()=>{if(Ae)Ye({progress_percentage:0,status:"Not started",completed_at:null});else{const ie=[];if((!e.hours_worked||e.hours_worked===0)&&ie.push("Time Tracking Log entries"),e.effort_level||ie.push("Money Maker"),e.automation||ie.push("Automation"),(!e.hours_projected||e.hours_projected===0)&&ie.push("Hours Projected"),ie.length>0){alert(`Please fill out the following fields before marking this task as complete:

${ie.join(`
`)}`);return}Ye({progress_percentage:100,status:"Done",completed_at:new Date().toISOString()})}},className:`w-full h-12 text-base font-semibold ${Ae?"bg-gray-600 hover:bg-gray-500 text-white":"bg-green-600 hover:bg-green-500 text-white"}`,children:Ae?"Uncomplete Task":"Mark Task Complete"}),s.jsxs("div",{className:"grid grid-cols-[1fr_40px] gap-2",children:[s.jsx("div",{className:"px-4 py-2.5 bg-gray-800/30 rounded-lg text-sm text-gray-100 border border-gray-700/30",children:e.completed_at&&e.completed_at!=="null"?`Completed: ${Ne(new Date(e.completed_at),"MMM d, yyyy  h:mm a")}`:"Completed: "}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>kr(),className:"h-10 w-10 p-0 text-red-500 hover:text-red-400 bg-white hover:bg-gray-100 rounded-lg",title:"Delete task",children:s.jsx(Fa,{className:"w-5 h-5"})})]})]})]})]})})]}),S&&s.jsx(_j,{scheduledDate:e.due_date,scheduledTime:null,onSchedule:$t,onClose:()=>k(!1),anchorEl:C}),E&&s.jsx(NZ,{taskName:e.task_name,onSave:fr,onClose:()=>M(!1)})]})},DZ=[{id:"full-stack",label:"Full Stack",gradient:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},{id:"huge-capital",label:"Huge Capital",gradient:"linear-gradient(135deg, #a855f7 0%, #7e22ce 100%)"},{id:"s4",label:"S4",gradient:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"},{id:"808",label:"808",gradient:"linear-gradient(135deg, #eab308 0%, #ca8a04 100%)"}],MZ=[{id:"personal",label:"Personal",gradient:"linear-gradient(135deg, #ec4899 0%, #be185d 100%)"},{id:"health",label:"Health",gradient:"linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)"},{id:"golf",label:"Golf",gradient:"linear-gradient(135deg, #f97316 0%, #c2410c 100%)"}],PZ=[{id:"due-today",label:"Due Today"},{id:"completed-today",label:"Done Today"},{id:"due-tomorrow",label:"Due Tomorrow"},{id:"overdue",label:"Overdue"},{id:"active",label:"Active"},{id:"completed",label:"Completed"},{id:"recurring",label:"Recurring"}],RZ=({selectedBusiness:e,selectedStatus:t,onBusinessChange:r,onStatusChange:n,tasks:a})=>{const i=m=>{switch(m){case"due-today":return"#eab308";case"completed-today":return"#22c55e";case"due-tomorrow":return"#f97316";case"overdue":return"#ef4444";case"active":return"#3b82f6";case"completed":return"#22c55e";case"recurring":return"#a855f7";default:return"#374151"}},l=m=>!m.due_date&&!m.recurring_parent_id,u=m=>a.filter(h=>{if(m!==null){const g=h.businesses?.slug===m,y=h.life_areas?.category.toLowerCase()===m,v=h.area?.toLowerCase().replace(/\s+/g,"-")===m;if(!g&&!y&&!v)return!1}if(t)switch(t){case"due-today":{if(!Dd(h.due_date)||h.status==="Done")return!1;break}case"completed-today":{if(!Dd(h.completed_at))return!1;break}case"due-tomorrow":{if(!oA(h.due_date)||h.status==="Done")return!1;break}case"overdue":{if(!Pw(h.due_date)||h.status==="Done")return!1;break}case"active":if(h.status==="Done")return!1;break;case"completed":if(h.status!=="Done")return!1;break;case"recurring":if(!l(h))return!1;break}return!0}).length,d=m=>a.filter(h=>{if(e){const g=h.businesses?.slug===e,y=h.life_areas?.category.toLowerCase()===e,v=h.area?.toLowerCase().replace(/\s+/g,"-")===e;if(!g&&!y&&!v)return!1}switch(m){case"due-today":return Dd(h.due_date)&&h.status!=="Done";case"completed-today":return Dd(h.completed_at);case"due-tomorrow":return oA(h.due_date)&&h.status!=="Done";case"overdue":return Pw(h.due_date)&&h.status!=="Done";case"active":return h.status!=="Done"&&!h.completed_at;case"completed":return h.status==="Done";case"recurring":return l(h);default:return!1}}).length;return s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx(Jr,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-700/30 shadow-lg",children:s.jsx(fo,{className:"pt-3 pb-3 px-2 sm:pt-4 sm:pb-4",children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-8 gap-2",children:[s.jsxs(gr,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${e===null?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{backgroundColor:"#4b5563"},onClick:()=>r(null),children:[s.jsx("span",{children:"All Areas"}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:u(null)})]}),DZ.map(m=>s.jsxs(gr,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${e===m.id?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:m.gradient},onClick:()=>r(m.id),children:[s.jsx("span",{children:m.label}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:u(m.id)})]},m.id)),MZ.map(m=>s.jsxs(gr,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${e===m.id?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:m.gradient},onClick:()=>r(m.id),children:[s.jsx("span",{children:m.label}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:u(m.id)})]},m.id))]})})}),s.jsx(Jr,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-700/30 shadow-lg",children:s.jsx(fo,{className:"pt-3 pb-3 px-2 sm:pt-4 sm:pb-4",children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-8 gap-2",children:[s.jsxs(gr,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${t===null?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{backgroundColor:"#4b5563"},onClick:()=>n(null),children:[s.jsx("span",{children:"All Tasks"}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:a.length})]}),PZ.map(m=>s.jsxs(gr,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${t===m.id?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{backgroundColor:i(m.id)},onClick:()=>n(m.id),children:[s.jsx("span",{children:m.label}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:d(m.id)})]},m.id))]})})})]})},IZ=[...Array.from({length:18},(e,t)=>t+6),...Array.from({length:6},(e,t)=>t)],LZ=e=>e==="Full Stack"?"var(--color-business-fullstack)":e==="Huge Capital"?"var(--color-business-hugecapital)":e==="S4"?"var(--color-business-s4)":e==="808"?"var(--color-business-808)":e==="Personal"?"var(--color-area-personal)":e==="Health"?"var(--color-area-health)":e==="Golf"?"var(--color-area-golf)":"#6b7280",$Z=e=>{const[t,r]=e.start_time.split(":").map(Number),[n,a]=e.end_time.split(":").map(Number),i=((t-6)*60+r)/60,l=((n-t)*60+(a-r))/60;return{top:`${i*4}rem`,height:`${l*4}rem`}},BZ=(e,t)=>{const r=kt(`2000-01-01T${e}`),n=kt(`2000-01-01T${t}`),a=dp(n,r);if(a<60)return`${a}m`;const i=a/60;return i===1?"1h":`${i.toFixed(1)}h`},zZ=e=>{const t=new Map,r=[...e].sort((n,a)=>n.start_time.localeCompare(a.start_time));return r.forEach((n,a)=>{t.set(n.block_id,r.length-a+10)}),t},FZ=({block:e,onRemove:t,onMove:r,stackZIndex:n=10})=>{const[a,i]=x.useState(!1),[l,u]=x.useState(0),[d,m]=x.useState(!1),[h,g]=x.useState(!1),y=$Z(e),v=LZ(e.area),_=e.status==="completed"||e.task_status==="Done",w=C=>{i(!0),C.dataTransfer.effectAllowed="move";const A=C.currentTarget.getBoundingClientRect();u(C.clientY-A.top)},b=C=>{i(!1);const A=C.currentTarget.closest(".relative");if(!A)return;const E=A.getBoundingClientRect(),T=(C.clientY-E.top-l)/64,D=Math.round(T*4)*15,L=6+Math.floor(D/60),B=D%60,z=dp(kt(`2000-01-01T${e.end_time}`),kt(`2000-01-01T${e.start_time}`)),F=`${String(L).padStart(2,"0")}:${String(B).padStart(2,"0")}:00`,G=up(kt(`2000-01-01T${F}`),z),V=Ne(G,"HH:mm:ss");F!==e.start_time&&r(e.block_id,F,V)},S=C=>{C.preventDefault(),C.stopPropagation(),m(!0);const A=document.querySelector(".discrete-scrollbar");if(!A)return;const E=T=>{const D=A.getBoundingClientRect(),L=A.scrollTop,z=(T.clientY-D.top+L)/64,F=Math.round(z*4)*15,G=6+Math.floor(F/60),V=F%60,Y=`${String(G).padStart(2,"0")}:${String(V).padStart(2,"0")}:00`;Y<e.end_time&&r(e.block_id,Y,e.end_time)},M=()=>{m(!1),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",E),document.addEventListener("mouseup",M)},k=C=>{C.preventDefault(),C.stopPropagation(),g(!0);const A=document.querySelector(".discrete-scrollbar");if(!A)return;const E=T=>{const D=A.getBoundingClientRect(),L=A.scrollTop,z=(T.clientY-D.top+L)/64,F=Math.round(z*4)*15,G=6+Math.floor(F/60),V=F%60,Y=`${String(G).padStart(2,"0")}:${String(V).padStart(2,"0")}:00`;Y>e.start_time&&r(e.block_id,e.start_time,Y)},M=()=>{g(!1),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",E),document.addEventListener("mouseup",M)};return s.jsxs("div",{draggable:!0,onDragStart:w,onDragEnd:b,className:`absolute cursor-move hover:opacity-90 transition-opacity group/block border-2 border-gray-900 ${a||d||h?"opacity-50":""}`,style:{...y,left:"5.5rem",right:"0.5rem",backgroundColor:v,padding:"0.5rem",borderRadius:"0.25rem",zIndex:a||d||h?50:n,opacity:_?.5:1},children:[s.jsx("div",{onMouseDown:S,className:"absolute top-0 left-0 right-0 h-2 cursor-ns-resize hover:bg-white/20 transition-colors",style:{marginTop:"-4px"},title:"Drag to adjust start time"}),s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`text-lg text-white font-semibold truncate ${_?"line-through":""}`,children:e.task_name}),s.jsxs("div",{className:"text-sm text-white/80 whitespace-nowrap",children:[Ne(kt(`2000-01-01T${e.start_time}`),"h:mm a")," - ",Ne(kt(`2000-01-01T${e.end_time}`),"h:mm a")," (",BZ(e.start_time,e.end_time),")"]})]})}),s.jsx("button",{onClick:C=>{C.stopPropagation(),confirm("Remove this time block? (Task will not be deleted)")&&t(e.block_id)},className:"opacity-0 group-hover/block:opacity-100 transition-opacity p-1 hover:bg-red-500/20 rounded text-red-400 hover:text-red-300 shrink-0",title:"Remove time block",children:s.jsx(Ht,{className:"w-5 h-5"})})]}),s.jsx("div",{onMouseDown:k,className:"absolute bottom-0 left-0 right-0 h-2 cursor-ns-resize hover:bg-white/20 transition-colors",style:{marginBottom:"-4px"},title:"Drag to adjust end time"})]})},qZ=({onTaskDrop:e,onBlockRemove:t,onDateChange:r,className:n=""})=>{const a=()=>{const S=new Date;return new Date(S.getFullYear(),S.getMonth(),S.getDate())},[i,l]=x.useState(a()),{data:u=[],isLoading:d}=Y4(i),m=zZ(u),h=sj(),g=(S,k,C)=>{h.mutate({blockId:S,updates:{start_time:k,end_time:C}})},y=()=>{l(S=>{const k=new Date(S.getFullYear(),S.getMonth(),S.getDate()-1);return r?.(k),k})},v=()=>{const S=a();l(S),r?.(S)},_=()=>{l(S=>{const k=new Date(S.getFullYear(),S.getMonth(),S.getDate()+1);return r?.(k),k})},w=(()=>{const S=new Date,k=new Date(S.getFullYear(),S.getMonth(),S.getDate()),C=new Date(i.getFullYear(),i.getMonth(),i.getDate());return k.getTime()===C.getTime()?"today":C.getTime()<k.getTime()?"past":"future"})(),b=w==="today";return s.jsxs(Jr,{className:`bg-gray-800/60 border-gray-700 flex flex-col ${n}`,children:[s.jsx(jj,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Fe,{variant:"outline",size:"default",onClick:y,className:"border-gray-600 bg-gray-800 text-gray-200 hover:bg-gray-700 hover:border-gray-500 px-4 h-14 transition-all",children:s.jsx(ip,{className:"w-7 h-7"})}),s.jsx(Fe,{variant:"default",size:"default",onClick:v,className:`w-80 text-2xl font-semibold py-3 h-14 text-white border-0 shadow-md transition-all ${w==="today"?"bg-blue-600 hover:bg-blue-700 hover:shadow-lg":w==="past"?"bg-red-600 hover:bg-red-700 hover:shadow-lg":"bg-purple-600 hover:bg-purple-700 hover:shadow-lg"}`,children:b?"Today's Schedule":`${i.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})} Schedule`}),s.jsx(Fe,{variant:"outline",size:"default",onClick:_,className:"border-gray-600 bg-gray-800 text-gray-200 hover:bg-gray-700 hover:border-gray-500 px-4 h-14 transition-all",children:s.jsx(Ms,{className:"w-7 h-7"})})]})}),s.jsx(fo,{className:"flex-1 overflow-y-auto p-0 mt-4 discrete-scrollbar",children:d?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"text-sm text-gray-400",children:"Loading schedule..."})}):s.jsxs("div",{className:"relative",children:[IZ.map(S=>{const k=new Date().getHours()===S;return s.jsx("div",{className:`flex items-start border-b border-gray-700/50 ${k?"bg-yellow-500/5 border-l-2 border-l-yellow-500":""}`,style:{height:"4rem"},onDragOver:C=>C.preventDefault(),onDrop:C=>{C.preventDefault();const A=C.dataTransfer.getData("task");if(A){const E=JSON.parse(A),M=i.getFullYear(),T=String(i.getMonth()+1).padStart(2,"0"),D=String(i.getDate()).padStart(2,"0"),L=`${M}-${T}-${D}`,B=`${String(S).padStart(2,"0")}:00`;e(E.id,L,B)}},children:s.jsx("div",{className:`w-20 text-base font-medium px-3 pt-1 shrink-0 ${k?"text-yellow-400":"text-gray-500"}`,children:Ne(new Date().setHours(S,0),"h a")})},S)}),u.map(S=>s.jsx(FZ,{block:S,onRemove:t,onMove:g,stackZIndex:m.get(S.block_id)??10},S.block_id))]})})]})},Sj=()=>Ie({queryKey:["businesses"],queryFn:async()=>{const{data:e,error:t}=await Z.from("businesses").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},staleTime:30*1e3}),UZ=e=>Ie({queryKey:["businesses",e],queryFn:async()=>{if(!e)return null;const{data:t,error:r}=await Z.from("businesses").select("*").eq("id",e).single();if(r)throw r;return t},enabled:!!e,staleTime:300*1e3}),Sm=e=>{const t=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),n=String(e.getFullYear()).slice(-2);return`${t}/${r}/${n}`},HZ=(e=new Date)=>{const t=new Date(e),r=t.getDay(),n=t.getDate()-r;return new Date(t.setDate(n))};function WZ(e){const{baseName:t,recurringType:r,startDate:n,taskTemplate:a,dayOfWeek:i=1,monthlyDayOfMonth:l=15}=e,u=[],d=new Date(n);d.setUTCHours(0,0,0,0);const{due_date:m,...h}=a,g={...h,task_name:t,recurring_type:r,recurring_interval:r==="biweekly"?2:1,is_recurring_template:!0};if(r==="weekdays")for(let y=1;y<=5;y++){const v=new Date(d);v.setDate(v.getDate()+y);const _=`${t} ${Sm(v)}`,{due_date:w,...b}=a;u.push({...b,task_name:_,due_date:v.toISOString(),recurring_type:"daily_weekdays",recurring_interval:1,is_recurring_template:!1,recurring_parent_id:void 0})}else if(r==="weekly"){const y=new Date(d);y.setDate(y.getDate()+i);const v=`${t} ${Sm(y)}`,{due_date:_,...w}=a;u.push({...w,task_name:v,due_date:y.toISOString(),recurring_type:"weekly",recurring_interval:1,is_recurring_template:!1,recurring_parent_id:void 0})}else if(r==="biweekly"){const y=new Date(d);y.setDate(y.getDate()+i);const v=`${t} ${Sm(y)}`,{due_date:_,...w}=a;u.push({...w,task_name:v,due_date:y.toISOString(),recurring_type:"weekly",recurring_interval:2,is_recurring_template:!1,recurring_parent_id:void 0})}else if(r==="monthly"){const y=new Date(d),v=y.getMonth(),_=y.getFullYear(),w=new Date(_,v,Math.min(l,new Date(_,v+1,0).getDate()));w.setUTCHours(0,0,0,0);const b=`${t} ${Sm(w)}`,{due_date:S,...k}=a;u.push({...k,task_name:b,due_date:w.toISOString(),recurring_type:"monthly",recurring_interval:1,is_recurring_template:!1,recurring_parent_id:void 0})}return{parentTask:g,childTasks:u}}const YZ=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=x.useState("single"),[i,l]=x.useState(""),[u,d]=x.useState(""),[m,h]=x.useState("8) Vibing (8"),[g,y]=x.useState("Manual"),[v,_]=x.useState(""),[w,b]=x.useState(""),[S,k]=x.useState(""),[C,A]=x.useState(""),[E,M]=x.useState(""),[T,D]=x.useState(!1),[L,B]=x.useState("weekly"),[z,F]=x.useState(1),[G,V]=x.useState(15),Y=N4(),{data:$}=Sj(),{data:ee}=Tp(w||void 0),{data:J}=mu(S||""),W=J||[];x.useEffect(()=>{k(""),A("")},[w]),x.useEffect(()=>{A("")},[S]);const U=async P=>{if(P.preventDefault(),!i.trim()){alert("Please enter a task name");return}try{const H=i.trim(),Q={task_name:H,description:u.trim()||void 0,status:"Not started",priority:"Medium",effort_level:m||void 0,automation:g||void 0,hours_projected:v?parseFloat(v):0,business_id:w||void 0,project_id:S||void 0,phase_id:C||void 0};if(n==="recurring"){const ge=HZ(new Date),{parentTask:be,childTasks:te}=WZ({baseName:H,recurringType:L,startDate:ge,taskTemplate:Q,dayOfWeek:z,monthlyDayOfMonth:L==="monthly"?G:void 0}),ce=(await Y.mutateAsync(be))?.id;if(ce)for(const pe of te)pe.recurring_parent_id=ce,await Y.mutateAsync(pe);else for(const pe of te)await Y.mutateAsync(pe)}else{let ne;if(E){const be=ot(E);be&&(ne=be.toISOString())}const ge={...Q,due_date:ne};await Y.mutateAsync(ge)}l(""),d(""),M(""),h("8) Vibing (8"),y("Manual"),_(""),b(""),k(""),A(""),a("single"),B("weekly"),F(1),V(15),r?.(),t()}catch(H){console.error("Error creating task:",H),alert("Failed to create task. Please try again.")}};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Add New Task"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300 text-2xl leading-none",children:""})]}),s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{type:"button",onClick:()=>a("single"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${n==="single"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Single Task"}),s.jsx("button",{type:"button",onClick:()=>a("recurring"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${n==="recurring"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Recurring Task"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"task_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Task Name *"}),s.jsx("input",{type:"text",id:"task_name",value:i,onChange:P=>l(P.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task name",required:!0,autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),s.jsx("textarea",{id:"description",value:u,onChange:P=>d(P.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"business",className:"block text-sm font-medium text-gray-300 mb-1",children:"Area"}),s.jsxs("select",{id:"business",value:w,onChange:P=>b(P.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"None"}),$?.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"project",className:"block text-sm font-medium text-gray-300 mb-1",children:"Project"}),s.jsxs("select",{id:"project",value:S,onChange:P=>k(P.target.value),disabled:!w,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"None"}),ee?.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phase",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phase"}),s.jsxs("select",{id:"phase",value:C,onChange:P=>A(P.target.value),disabled:!S,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"None"}),W.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"effort_level",className:"block text-sm font-medium text-gray-300 mb-1",children:"Effort Level"}),s.jsxs("select",{id:"effort_level",value:m,onChange:P=>h(P.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"None"}),s.jsx("option",{value:"$$$ Printer $$$",style:{color:"#22c55e"},children:"$$$ Printer $$$"}),s.jsx("option",{value:"$ Makes Money $",style:{color:"#84cc16"},children:"$ Makes Money $"}),s.jsx("option",{value:"-$ Save Dat $-",style:{color:"#f97316"},children:"-$ Save Dat $-"}),s.jsx("option",{value:":( No Money ):",style:{color:"#ef4444"},children:":( No Money ):"}),s.jsx("option",{value:"8) Vibing (8",style:{color:"#a855f7"},children:"8) Vibing (8"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"automation",className:"block text-sm font-medium text-gray-300 mb-1",children:"Automation"}),s.jsxs("select",{id:"automation",value:g,onChange:P=>y(P.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"None"}),s.jsx("option",{value:"Automate",style:{color:"#a855f7"},children:" Automate"}),s.jsx("option",{value:"Delegate",style:{color:"#8b5cf6"},children:" Delegate"}),s.jsx("option",{value:"Manual",style:{color:"#f59e0b"},children:" Manual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hours_projected",className:"block text-sm font-medium text-gray-300 mb-1",children:"Hours Projected"}),s.jsx("input",{type:"number",id:"hours_projected",value:v,onChange:P=>_(P.target.value),min:"0",step:"0.5",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),n==="single"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"due_date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date"}),s.jsx("button",{type:"button",onClick:()=>D(!0),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-left",children:E||"Select date..."}),T&&s.jsx(_j,{scheduledDate:E,onSchedule:(P,H)=>{M(P||""),D(!1)},onClose:()=>D(!1)})]}),n==="recurring"&&s.jsxs("div",{className:"border-t border-gray-700 pt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Frequency"}),s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsx("button",{type:"button",onClick:()=>B("weekdays"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${L==="weekdays"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Weekdays"}),s.jsx("button",{type:"button",onClick:()=>B("weekly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${L==="weekly"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Weekly"}),s.jsx("button",{type:"button",onClick:()=>B("biweekly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${L==="biweekly"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Bi-Weekly"}),s.jsx("button",{type:"button",onClick:()=>B("monthly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${L==="monthly"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Monthly"})]})]}),(L==="weekly"||L==="biweekly")&&s.jsxs("div",{className:"p-3 bg-gray-800/50 border border-gray-700 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Day of Week"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((P,H)=>s.jsx("button",{type:"button",onClick:()=>F(H),className:`px-3 py-2 rounded-lg text-xs font-medium transition-colors ${z===H?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:P},H))})]}),L==="monthly"&&s.jsxs("div",{className:"p-3 bg-gray-800/50 border border-gray-700 rounded-lg",children:[s.jsx("label",{htmlFor:"recurring_monthly_day",className:"block text-sm font-medium text-gray-300 mb-2",children:"Day of Month"}),s.jsx("input",{type:"number",id:"recurring_monthly_day",value:G,onChange:P=>V(Math.max(1,Math.min(31,parseInt(P.target.value)||1))),min:"1",max:"31",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:Y.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:Y.isPending?"Creating...":"Create Task"})]})]})]})}):null},KZ=(e,t,r)=>e.filter(n=>{if(t){const a=n.businesses?.slug===t,i=n.life_areas?.category.toLowerCase()===t,l=n.area?.toLowerCase().replace(" ","-")===t;if(!a&&!i&&!l)return!1}if(r){const a=bf(),i=new Date(a);i.setDate(i.getDate()+1);const l=new Date(a);if(l.setDate(l.getDate()+2),r==="due-today"){if(n.status==="Done")return!1;const u=n.due_date?ot(n.due_date):null;if(!u)return!1;const d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0);if(d.getTime()<a.getTime()||d.getTime()>=i.getTime())return!1}if(r==="completed-today"){const u=n.completed_at?new Date(n.completed_at):null;if(!u)return!1;const d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0);if(d.getTime()<a.getTime()||d.getTime()>=i.getTime())return!1}if(r==="due-tomorrow"){if(n.status==="Done")return!1;const u=n.due_date?ot(n.due_date):null;if(!u)return!1;const d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0);if(d.getTime()<i.getTime()||d.getTime()>=l.getTime())return!1}if(r==="overdue"){if(n.status==="Done")return!1;const u=n.due_date?ot(n.due_date):null;if(!u||new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0).getTime()>=a.getTime())return!1}if(r==="active"&&n.status==="Done"||r==="completed"&&n.status!=="Done"||r==="recurring"&&!(!n.due_date&&!n.recurring_parent_id))return!1}return!0}),GZ=()=>{const{data:e,isLoading:t,error:r}=ou(),n=aj(),a=K4(),[i,l]=x.useState(null),[u,d]=x.useState("due-today"),[m,h]=x.useState(null),[g,y]=x.useState(!1),[v,_]=x.useState(new Date);x.useEffect(()=>{Z.auth.getSession().then(({data:{session:C}})=>{h(C?.user?.id||null)})},[]),G4(m);const{data:w=[]}=Ie({queryKey:["all-time-blocks"],queryFn:async()=>{const{data:C,error:A}=await Z.from("task_time_blocks").select("task_id, scheduled_date, start_time").order("scheduled_date",{ascending:!0}).order("start_time",{ascending:!0});return A?(console.error("Error fetching time blocks:",A),[]):C||[]},staleTime:3e4}),b=x.useMemo(()=>{if(!e)return[];const C=KZ(e,i,u),A=Ne(v,"yyyy-MM-dd"),E=w.filter(T=>T.scheduled_date===A),M=new Map;return E.forEach(T=>{M.has(T.task_id)||M.set(T.task_id,{scheduled_date:T.scheduled_date,start_time:T.start_time})}),C.sort((T,D)=>{const L=M.get(T.id),B=M.get(D.id);if(L&&B){const G=L.scheduled_date.localeCompare(B.scheduled_date);return G!==0?G:L.start_time.localeCompare(B.start_time)}if(L&&!B)return-1;if(!L&&B)return 1;if(!T.due_date&&!D.due_date)return 0;if(!T.due_date)return 1;if(!D.due_date)return-1;const z=ot(T.due_date),F=ot(D.due_date);return!z||!F?0:z.getTime()-F.getTime()})},[e,i,u,w,v]),S=async(C,A,E)=>{try{const M=`${E}:00`,T=Ne(up(kt(`${A}T${E}`),60),"HH:mm:ss");await n.mutateAsync({taskId:C,scheduledDate:kt(A),startTime:M,endTime:T,plannedDurationMinutes:60}),console.log(" Task scheduled to time block:",{taskId:C,date:A,time:E})}catch(M){console.error(" Failed to schedule task:",M),alert("Failed to schedule task. Please try again.")}},k=async C=>{try{await a.mutateAsync(C),console.log(" Time block removed:",C)}catch(A){console.error(" Failed to remove time block:",A),alert("Failed to remove time block. Please try again.")}};return t?s.jsxs("div",{className:"py-6 px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6",children:"Tasks Hub"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(C=>s.jsx("div",{className:"animate-pulse bg-gray-800 h-24 rounded-lg"},C))})]}):r?s.jsxs("div",{className:"py-6 px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6",children:"Tasks Hub"}),s.jsx("div",{className:"bg-red-900/20 border border-red-500 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-400",children:["Failed to load tasks: ",r.message]})})]}):s.jsxs("div",{className:"py-4 sm:py-6 px-4 sm:px-8 max-w-full mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-100",children:"Tasks"}),s.jsxs("button",{onClick:()=>y(!0),className:"px-4 sm:px-4 py-2.5 sm:py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base touch-action-none",children:[s.jsx("span",{className:"text-xl leading-none",children:"+"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Task"}),s.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),s.jsx(RZ,{selectedBusiness:i,selectedStatus:u,onBusinessChange:l,onStatusChange:d,tasks:e||[]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[1fr,500px] 2xl:grid-cols-[1fr,550px] gap-3 sm:gap-4 mt-4 sm:mt-6",children:[s.jsx("div",{className:"min-w-0",children:b.length===0?s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 sm:p-8 text-center",children:s.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:e&&e.length>0?"No tasks match the selected filters.":"No tasks found. Create your first task to get started!"})}):s.jsx("div",{className:"space-y-2 sm:space-y-3",children:b.map(C=>s.jsx(VZ,{task:C,scheduleDate:v},C.id))})}),s.jsx("div",{className:"space-y-4 sm:space-y-6 min-w-0",children:s.jsx(qZ,{onTaskDrop:S,onBlockRemove:k,onDateChange:_,className:"h-[calc(100vh-200px)] sm:h-[calc(100vh-120px)] xl:h-[calc(100vh-80px)]"})})]}),s.jsx(YZ,{isOpen:g,onClose:()=>y(!1),onSuccess:()=>{console.log(" Task created successfully")}})]})},VZ=({task:e,scheduleDate:t})=>s.jsx("div",{draggable:!0,onDragStart:r=>{r.dataTransfer.setData("task",JSON.stringify(e)),r.currentTarget.style.opacity="0.5"},onDragEnd:r=>{r.currentTarget.style.opacity="1"},style:{cursor:"grab"},children:s.jsx(OZ,{task:e,scheduleDate:t})});function QZ(e={}){return Ie({queryKey:["deep-work-sessions",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");let r=Z.from("deep_work_log").select(`
          *,
          tasks:task_id(id, task_name)
        `).eq("user_id",t.id).order("start_time",{ascending:!1});e.dateRange&&(r=r.gte("start_time",e.dateRange.start.toISOString()).lte("start_time",e.dateRange.end.toISOString())),e.area&&(r=r.eq("area",e.area)),e.taskType&&(r=r.eq("task_type",e.taskType)),e.taskId&&(r=r.eq("task_id",e.taskId)),e.status&&(r=r.eq("status",e.status)),e.labels&&e.labels.length>0&&(r=r.overlaps("labels",e.labels));const{data:n,error:a}=await r;if(a)throw a;return n},staleTime:300*1e3})}function XZ(){const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.from("deep_work_log").insert({user_id:r.id,...t,status:"active"}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["deep-work-sessions"]}),e.invalidateQueries({queryKey:["time-allocation"]})}})}function ZZ(){const e=ut();return jt({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await Z.from("deep_work_log").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["deep-work-sessions"]}),e.invalidateQueries({queryKey:["time-allocation"]})}})}var Ap="Dialog",[r5]=Dl(Ap),[JZ,cs]=r5(Ap),n5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,u=x.useRef(null),d=x.useRef(null),[m,h]=ig({prop:n,defaultProp:a??!1,onChange:i,caller:Ap});return s.jsx(JZ,{scope:t,triggerRef:u,contentRef:d,contentId:cl(),titleId:cl(),descriptionId:cl(),open:m,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(g=>!g),[h]),modal:l,children:r})};n5.displayName=Ap;var a5="DialogTrigger",eJ=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cs(a5,r),i=Wt(t,a.triggerRef);return s.jsx(St.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Cj(a.open),...n,ref:i,onClick:xt(e.onClick,a.onOpenToggle)})});eJ.displayName=a5;var Nj="DialogPortal",[tJ,s5]=r5(Nj,{forceMount:void 0}),i5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=cs(Nj,t);return s.jsx(tJ,{scope:t,forceMount:r,children:x.Children.map(n,l=>s.jsx(Rs,{present:r||i.open,children:s.jsx(bp,{asChild:!0,container:a,children:l})}))})};i5.displayName=Nj;var lg="DialogOverlay",o5=x.forwardRef((e,t)=>{const r=s5(lg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=cs(lg,e.__scopeDialog);return i.modal?s.jsx(Rs,{present:n||i.open,children:s.jsx(nJ,{...a,ref:t})}):null});o5.displayName=lg;var rJ=vl("DialogOverlay.RemoveScroll"),nJ=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cs(lg,r);return s.jsx(jp,{as:rJ,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(St.div,{"data-state":Cj(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),_l="DialogContent",l5=x.forwardRef((e,t)=>{const r=s5(_l,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=cs(_l,e.__scopeDialog);return s.jsx(Rs,{present:n||i.open,children:i.modal?s.jsx(aJ,{...a,ref:t}):s.jsx(sJ,{...a,ref:t})})});l5.displayName=_l;var aJ=x.forwardRef((e,t)=>{const r=cs(_l,e.__scopeDialog),n=x.useRef(null),a=Wt(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return yj(i)},[]),s.jsx(c5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xt(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:xt(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:xt(e.onFocusOutside,i=>i.preventDefault())})}),sJ=x.forwardRef((e,t)=>{const r=cs(_l,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(c5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),c5=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,u=cs(_l,r),d=x.useRef(null),m=Wt(t,d);return oj(),s.jsxs(s.Fragment,{children:[s.jsx(mp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(hp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Cj(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(iJ,{titleId:u.titleId}),s.jsx(lJ,{contentRef:d,descriptionId:u.descriptionId})]})]})}),kj="DialogTitle",u5=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cs(kj,r);return s.jsx(St.h2,{id:a.titleId,...n,ref:t})});u5.displayName=kj;var d5="DialogDescription",f5=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cs(d5,r);return s.jsx(St.p,{id:a.descriptionId,...n,ref:t})});f5.displayName=d5;var h5="DialogClose",m5=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cs(h5,r);return s.jsx(St.button,{type:"button",...n,ref:t,onClick:xt(e.onClick,()=>a.onOpenChange(!1))})});m5.displayName=h5;function Cj(e){return e?"open":"closed"}var g5="DialogTitleWarning",[Obe,p5]=GY(g5,{contentName:_l,titleName:kj,docsSlug:"dialog"}),iJ=({titleId:e})=>{const t=p5(g5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},oJ="DialogDescriptionWarning",lJ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${p5(oJ).contentName}}.`;return x.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},cJ=n5,uJ=i5,y5=o5,x5=l5,v5=u5,b5=f5,dJ=m5;const Ep=cJ,fJ=uJ,w5=x.forwardRef(({className:e,...t},r)=>s.jsx(y5,{ref:r,className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));w5.displayName=y5.displayName;const jf=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fJ,{children:[s.jsx(w5,{}),s.jsxs(x5,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(dJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ht,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jf.displayName=x5.displayName;const _f=({className:e,...t})=>s.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_f.displayName="DialogHeader";const Sf=x.forwardRef(({className:e,...t},r)=>s.jsx(v5,{ref:r,className:Pe("text-lg font-semibold leading-none tracking-tight",e),...t}));Sf.displayName=v5.displayName;const hJ=x.forwardRef(({className:e,...t},r)=>s.jsx(b5,{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));hJ.displayName=b5.displayName;const ai=x.forwardRef(({className:e,...t},r)=>s.jsx("label",{ref:r,className:Pe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));ai.displayName="Label";const mJ=["Personal","Full Stack","Huge Capital","808","S4","Golf","Health"],gJ=({isOpen:e,onClose:t})=>{const[r,n]=x.useState("Personal"),[a,i]=x.useState("no-task"),[l,u]=x.useState(""),[d,m]=x.useState(new Date().toISOString().slice(0,16)),[h,g]=x.useState(new Date(Date.now()+3600*1e3).toISOString().slice(0,16)),y=XZ(),v=ZZ(),{data:_=[]}=ou(),w=async S=>{if(S.preventDefault(),!r){alert("Area is required");return}try{const k=new Date(d).toISOString(),C=new Date(h).toISOString(),A=await y.mutateAsync({area:r,task_id:a==="no-task"?null:a,task_type:l||null,start_time:k});await v.mutateAsync({id:A.id,updates:{end_time:C,status:"completed"}}),n("Personal"),i("no-task"),u(""),m(new Date().toISOString().slice(0,16)),g(new Date(Date.now()+3600*1e3).toISOString().slice(0,16)),t()}catch(k){console.error("Failed to create deep work session:",k),alert("Failed to create session. Please try again.")}},b=_.filter(S=>S.area===r||S.businesses?.slug===r||S.life_areas?.name===r);return s.jsx(Ep,{open:e,onOpenChange:t,children:s.jsxs(jf,{className:"bg-gray-800 border-gray-700 text-white max-w-lg",children:[s.jsx(_f,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Sf,{className:"text-xl font-bold",children:"Add Deep Work Session"}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:s.jsx(Ht,{className:"w-4 h-4"})})]})}),s.jsxs("form",{onSubmit:w,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ai,{htmlFor:"area",className:"text-sm font-medium text-gray-200",children:"Area *"}),s.jsxs(la,{value:r,onValueChange:S=>n(S),children:[s.jsx(zn,{id:"area",className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500",children:s.jsx(ca,{placeholder:"Select area"})}),s.jsx(Fn,{className:"bg-gray-900 border-gray-700",children:mJ.map(S=>s.jsx(ct,{value:S,className:"text-white hover:bg-gray-800",children:S},S))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ai,{htmlFor:"task",className:"text-sm font-medium text-gray-200",children:"Task (Optional)"}),s.jsxs(la,{value:a,onValueChange:i,children:[s.jsx(zn,{id:"task",className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500",children:s.jsx(ca,{placeholder:"Select task (optional)"})}),s.jsxs(Fn,{className:"bg-gray-900 border-gray-700 max-h-60",children:[s.jsx(ct,{value:"no-task",className:"text-white hover:bg-gray-800",children:"No Task"}),b.map(S=>s.jsx(ct,{value:S.id,className:"text-white hover:bg-gray-800",children:S.task_name},S.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ai,{htmlFor:"taskType",className:"text-sm font-medium text-gray-200",children:"Task Type (Optional)"}),s.jsx(Tn,{id:"taskType",type:"text",value:l,onChange:S=>u(S.target.value),placeholder:"e.g., Planning, Development, Research",className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ai,{htmlFor:"startDate",className:"text-sm font-medium text-gray-200",children:"Start Date & Time *"}),s.jsx(Tn,{id:"startDate",type:"datetime-local",value:d,onChange:S=>m(S.target.value),className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ai,{htmlFor:"endDate",className:"text-sm font-medium text-gray-200",children:"End Date & Time *"}),s.jsx(Tn,{id:"endDate",type:"datetime-local",value:h,onChange:S=>g(S.target.value),className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500",required:!0})]}),s.jsxs("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Duration Preview:"}),s.jsxs("div",{className:"text-lg font-bold text-orange-400",children:[Math.round((new Date(h).getTime()-new Date(d).getTime())/6e4)," minutes"]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Fe,{type:"button",variant:"outline",onClick:t,className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),s.jsx(Fe,{type:"submit",disabled:y.isPending,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white",children:y.isPending?"Adding...":"Add Session"})]})]})]})})},fv={"All Areas":"bg-blue-500",Personal:"bg-pink-500","Full Stack":"bg-green-500","Huge Capital":"bg-purple-500",808:"bg-yellow-500",S4:"bg-blue-600",Golf:"bg-orange-500",Health:"bg-teal-500"},pJ={"All Areas":"text-blue-400",Personal:"text-pink-400","Full Stack":"text-green-400","Huge Capital":"text-purple-400",808:"text-yellow-400",S4:"text-blue-400",Golf:"text-orange-400",Health:"text-teal-400"},yJ={"All Levels":"bg-blue-500","$$$ Printer $$$":"bg-green-500","$ Makes Money $":"bg-green-700","-$ Save Dat $-":"bg-orange-500",":( No Money ):":"bg-red-500","8) Vibing (8":"bg-purple-500"},uA=()=>{const[e,t]=x.useState("All Time"),[r,n]=x.useState("All Areas"),[a,i]=x.useState("All Levels"),[l,u]=x.useState(!1),{data:d=[],isLoading:m,error:h}=QZ();console.log(" DeepWorkSessions rendering with sessions:",d),console.log(" Sessions length:",d.length),console.log(" Loading:",m,"Error:",h);const g=x.useMemo(()=>{const S=new Date,k=new Date(S.getFullYear(),S.getMonth(),S.getDate()),C=new Date(S);C.setDate(S.getDate()-S.getDay()),C.setHours(0,0,0,0);const A=new Date(S.getFullYear(),S.getMonth(),1);return d.filter(E=>{const M=new Date(E.start_time);switch(e){case"Today":return M>=k;case"This Week":return M>=C;case"This Month":return M>=A;case"All Time":default:return!0}})},[d,e]),y=x.useMemo(()=>{const S=g.length,k=g.reduce((A,E)=>A+(E.duration_minutes||0),0),C=S>0?Math.round(k/S):0;return{totalSessions:S,totalTime:`${Math.floor(k/60)}h ${k%60}m`,avgSession:`${C}m`,percentOfTotal:"100%"}},[g]),v=x.useMemo(()=>{const S={"All Areas":g.length};return g.forEach(k=>{const C=k.area||"Unallocated";S[C]=(S[C]||0)+1}),S},[g]),_=x.useMemo(()=>({"All Levels":g.length}),[g]),w=x.useMemo(()=>{const S=new Map;g.forEach(C=>{const A=C.tasks?.task_name||"Unknown",E=C.area||"Unallocated",M=S.get(A);M?(M.minutes+=C.duration_minutes||0,M.sessions+=1):S.set(A,{area:E,minutes:C.duration_minutes||0,sessions:1,taskName:A})});const k=g.reduce((C,A)=>C+(A.duration_minutes||0),0);return Array.from(S.values()).map(C=>({...C,percent:k>0?Math.round(C.minutes/k*100):0})).sort((C,A)=>A.minutes-C.minutes).slice(0,5)},[g]),b=S=>{const k=Math.floor(S/60),C=S%60;return k>0?`${k}h ${C}m`:`${C}m`};return m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-400 text-lg",children:"Loading sessions..."})}):h?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-red-400 text-lg",children:["Error loading sessions: ",h.message]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-100 mb-2",children:"Deep Work Sessions"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Track your focused work sessions and productivity"})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:["All Time","Today","This Week","This Month"].map(S=>s.jsx(Fe,{onClick:()=>t(S),variant:e===S?"default":"outline",className:`h-14 text-base font-semibold transition-all ${e===S?"bg-blue-600 hover:bg-blue-700 border-blue-500 shadow-lg shadow-blue-500/30":"bg-gray-800 hover:bg-gray-750 border-gray-700 text-gray-300"}`,children:S},S))}),s.jsxs("div",{className:"grid grid-cols-4 gap-5",children:[s.jsxs(Jr,{className:"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700 p-6 hover:shadow-xl hover:shadow-blue-500/10 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:s.jsx(U9,{className:"w-5 h-5 text-purple-400"})}),s.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Total Sessions"})]}),s.jsx("div",{className:"text-4xl font-bold text-white",children:y.totalSessions})]}),s.jsxs(Jr,{className:"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700 p-6 hover:shadow-xl hover:shadow-pink-500/10 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 bg-pink-500/20 rounded-lg",children:s.jsx(Wn,{className:"w-5 h-5 text-pink-400"})}),s.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Total Time"})]}),s.jsx("div",{className:"text-4xl font-bold text-white",children:y.totalTime})]}),s.jsxs(Jr,{className:"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700 p-6 hover:shadow-xl hover:shadow-green-500/10 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:s.jsx(y4,{className:"w-5 h-5 text-green-400"})}),s.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Avg Session"})]}),s.jsx("div",{className:"text-4xl font-bold text-white",children:y.avgSession})]}),s.jsxs(Jr,{className:"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700 p-6 hover:shadow-xl hover:shadow-yellow-500/10 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 bg-yellow-500/20 rounded-lg",children:s.jsx(Hn,{className:"w-5 h-5 text-yellow-400"})}),s.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"% Of Total Hours"})]}),s.jsx("div",{className:"text-4xl font-bold text-white",children:y.percentOfTotal})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:Object.entries(v).map(([S,k])=>s.jsx(Fe,{onClick:()=>n(S),variant:"outline",className:`h-auto py-3 px-4 text-sm font-medium transition-all ${r===S?`${fv[S]} border-transparent text-white shadow-lg`:`bg-gray-800 hover:bg-gray-750 border-gray-700 ${pJ[S]}`}`,children:s.jsxs("span",{className:"truncate",children:[S," (",k,")"]})},S))}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:Object.entries(_).map(([S,k])=>s.jsx(Fe,{onClick:()=>i(S),variant:"outline",className:`h-auto py-3 px-4 text-sm font-medium transition-all ${a===S?`${yJ[S]} border-transparent text-white shadow-lg`:"bg-gray-800 hover:bg-gray-750 border-gray-700 text-gray-300"}`,children:s.jsxs("span",{className:"truncate",children:[S," (",k,")"]})},S))}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:w.map((S,k)=>s.jsxs(Jr,{className:`${fv[S.area]} border-none p-4 text-white shadow-xl hover:scale-105 transition-transform`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs(gr,{variant:"secondary",className:"bg-black/30 text-white border-none",children:["#",k+1]}),s.jsx(gr,{variant:"secondary",className:"bg-black/30 text-white text-xs border-none",children:S.area})]}),s.jsx("div",{className:"text-2xl font-bold mb-1",children:b(S.minutes)}),s.jsxs("div",{className:"text-sm opacity-90 mb-1",children:[S.percent,"%"]}),s.jsxs("div",{className:"text-sm opacity-90 mb-2",children:[S.sessions," sessions"]}),s.jsx("div",{className:"text-xs opacity-80 truncate",title:S.taskName,children:S.taskName})]},k))}),s.jsxs(Jr,{className:"bg-gray-800 border-gray-700 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Deep Work Session Log"}),s.jsxs(Fe,{onClick:()=>u(!0),className:"bg-orange-600 hover:bg-orange-700",children:[s.jsx(ma,{className:"w-4 h-4 mr-2"}),"Add Session"]})]}),s.jsx("div",{className:"space-y-2",children:g.length===0?s.jsx("div",{className:"text-center text-gray-400 py-12",children:"No sessions found for the selected filters"}):g.map(S=>{const k=new Date(S.start_time),C=S.end_time?new Date(S.end_time):null,A=k.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),E=C?`${k.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})} - ${C.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:k.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),M=S.area||"Unallocated",T=fv[M]||"bg-gray-600";return s.jsxs("div",{className:`${T} rounded-lg p-4 flex items-center gap-4 cursor-pointer hover:opacity-90 transition-opacity`,children:[s.jsxs("div",{className:"flex-none w-28 text-white text-sm",children:[" ",A]}),s.jsxs("div",{className:"flex-none w-36 text-white text-sm",children:[" ",E]}),s.jsxs("div",{className:"flex-none w-20 text-white text-sm font-bold",children:[" ",b(S.duration_minutes||0)]}),s.jsx(gr,{className:`${T} border-white/20`,children:M}),s.jsx(gr,{className:"bg-amber-500 border-none",children:S.labels&&S.labels.length>0?S.labels[0]:"N/A"}),s.jsx(gr,{className:"bg-white text-gray-900 border-none",children:S.tasks?.task_name||"Unknown Task"})]},S.id)})})]}),s.jsx(gJ,{isOpen:l,onClose:()=>u(!1)})]})};var Tj="Progress",Aj=100,[xJ]=Dl(Tj),[vJ,bJ]=xJ(Tj),j5=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=wJ,...l}=e;(a||a===0)&&!dA(a)&&console.error(jJ(`${a}`,"Progress"));const u=dA(a)?a:Aj;n!==null&&!fA(n,u)&&console.error(_J(`${n}`,"Progress"));const d=fA(n,u)?n:null,m=cg(d)?i(d,u):void 0;return s.jsx(vJ,{scope:r,value:d,max:u,children:s.jsx(St.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":cg(d)?d:void 0,"aria-valuetext":m,role:"progressbar","data-state":N5(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});j5.displayName=Tj;var _5="ProgressIndicator",S5=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=bJ(_5,r);return s.jsx(St.div,{"data-state":N5(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});S5.displayName=_5;function wJ(e,t){return`${Math.round(e/t*100)}%`}function N5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function cg(e){return typeof e=="number"}function dA(e){return cg(e)&&!isNaN(e)&&e>0}function fA(e,t){return cg(e)&&!isNaN(e)&&e<=t&&e>=0}function jJ(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Aj}\`.`}function _J(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Aj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var k5=j5,SJ=S5;const NJ=x.forwardRef(({className:e,value:t,...r},n)=>s.jsx(k5,{ref:n,className:Pe("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:s.jsx(SJ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));NJ.displayName=k5.displayName;const kJ=(e,t,r)=>x.useMemo(()=>{if(!e||e.length===0)return{overallCompletion:0,totalProjects:0,activeTasks:0,completedTasks:0,totalTasks:0,lastActivityDate:null,isStalled:!1,daysSinceActivity:1/0};const a=e.map(g=>{const y=t.filter(_=>_.project_id===g.id),v=r.filter(_=>_.project_id===g.id);return y.length>0?y.map(w=>{const b=v.filter(k=>k.phase_id===w.id);return b.length===0?0:b.reduce((k,C)=>k+(C.progress_percentage??0),0)/b.length}).reduce((w,b)=>w+b,0)/y.length:v.length>0?v.reduce((w,b)=>w+(b.progress_percentage??0),0)/v.length:0}).reduce((g,y)=>g+y,0)/e.length,i=r.filter(g=>(g.progress_percentage??0)===100).length,l=r.filter(g=>(g.progress_percentage??0)>0&&(g.progress_percentage??0)<100).length,u=r.length,d=r.length>0?r.reduce((g,y)=>{const v=y.updated_at||y.created_at;return!g||v>g?v:g},null):null,m=d?Math.floor((new Date().getTime()-new Date(d).getTime())/(1440*60*1e3)):1/0,h=m>14;return{overallCompletion:Math.round(a*10)/10,totalProjects:e.length,activeTasks:l,completedTasks:i,totalTasks:u,lastActivityDate:d,isStalled:h,daysSinceActivity:m}},[e,t,r]),CJ=(e,t)=>x.useMemo(()=>{if(e&&e.length>0){const r=e.map(u=>{const d=t.filter(h=>h.phase_id===u.id);return d.length===0?0:d.reduce((h,g)=>h+(g.progress_percentage??0),0)/d.length}),n=r.reduce((u,d)=>u+d,0)/e.length,a=r.filter(u=>u===100).length,i=t.length>0?t.reduce((u,d)=>{const m=d.updated_at||d.created_at;return!u||m>u?m:u},null):null,l=i?new Date().getTime()-new Date(i).getTime()>10080*60*1e3:!1;return{progress:Math.round(n*10)/10,completedPhases:a,totalPhases:e.length,lastActivityDate:i,isStalled:l}}if(t&&t.length>0){const n=t.reduce((u,d)=>u+(d.progress_percentage??0),0)/t.length,a=t.filter(u=>(u.progress_percentage??0)===100).length,i=t.reduce((u,d)=>{const m=d.updated_at||d.created_at;return!u||m>u?m:u},null),l=i?new Date().getTime()-new Date(i).getTime()>10080*60*1e3:!1;return{progress:Math.round(n*10)/10,completedPhases:a,totalPhases:t.length,lastActivityDate:i,isStalled:l}}return{progress:0,completedPhases:0,totalPhases:0,lastActivityDate:null,isStalled:!1}},[e,t]),TJ=e=>x.useMemo(()=>{if(!e||e.length===0)return{progress:0,completedCount:0,totalCount:0};const r=e.reduce((a,i)=>{const l=i.progress_percentage??0;return a+l},0)/e.length,n=e.filter(a=>(a.progress_percentage??0)===100).length;return{progress:Math.round(r*10)/10,completedCount:n,totalCount:e.length}},[e]),AJ=e=>({"full-stack":"Full Stack","huge-capital":"Huge Capital",s4:"S4",808:"808",personal:"Personal",health:"Health",golf:"Golf"})[e]||"Personal",EJ=({businessId:e,projectId:t,phaseId:r,phaseName:n,onSuccess:a,onCancel:i})=>{const[l,u]=x.useState(""),[d,m]=x.useState(""),[h,g]=x.useState(""),[y,v]=x.useState("Not started"),_=N4(),{data:w}=UZ(e),b=async S=>{if(S.preventDefault(),!l.trim()){alert("Please enter a task name");return}let k;if(h){const A=ot(h);A&&(k=A.toISOString())}const C={task_name:l.trim(),description:d.trim()||void 0,business_id:e,project_id:t,...r&&{phase_id:r},status:y,due_date:k,area:w?AJ(w.slug):void 0,task_type:n||"General",automation:"Manual",effort_level:"8) JusVibin",hours_projected:0};try{await _.mutateAsync(C),u(""),m(""),g(""),v("Not started"),a?.()}catch(A){console.error("Error creating task:",A),A?.code==="23505"||A?.message?.includes("duplicate key")||A?.message?.includes("unique constraint")?alert(`A task named "${l.trim()}" already exists in this phase. Please choose a different name.`):alert("Failed to create task. Please try again.")}};return s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"task_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Task Name *"}),s.jsx("input",{type:"text",id:"task_name",value:l,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),s.jsx("textarea",{id:"description",value:d,onChange:S=>m(S.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),s.jsxs("select",{id:"status",value:y,onChange:S=>v(S.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Not started",children:"Not started"}),s.jsx("option",{value:"In progress",children:"In progress"}),s.jsx("option",{value:"Done",children:"Done"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"due_date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date"}),s.jsx("input",{type:"date",id:"due_date",value:h,onChange:S=>g(S.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[i&&s.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm font-medium",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:_.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:_.isPending?"Creating...":"Create Task"})]})]})},OJ=({task:e,isOpen:t,onClose:r,businessId:n})=>{const[a,i]=x.useState(e.task_name),[l,u]=x.useState(e.description||""),[d,m]=x.useState(e.priority),[h,g]=x.useState(e.effort_level),[y,v]=x.useState(e.automation),[_,w]=x.useState(e.hours_worked),[b,S]=x.useState(e.hours_projected),[k,C]=x.useState(e.progress_percentage??0),[A,E]=x.useState(e.project_id||"no-project"),[M,T]=x.useState(e.phase_id||"no-phase"),[D,L]=x.useState(e.due_date),[B,z]=x.useState(!1),[F,G]=x.useState(!1),V=lu(),{data:Y}=Tp(n),{data:$}=mu(A||void 0);x.useEffect(()=>{i(e.task_name),u(e.description||""),m(e.priority),g(e.effort_level),v(e.automation),w(e.hours_worked),S(e.hours_projected),C(e.progress_percentage??0),E(e.project_id||"no-project"),T(e.phase_id||"no-phase"),L(e.due_date)},[e]);const ee=async()=>{try{let U=e.status;k===0?U="Not started":k===100?U="Done":k>0&&k<100&&(U="In progress"),await V.mutateAsync({id:e.id,updates:{task_name:a.trim(),description:l.trim()||null,priority:d,effort_level:h,automation:y,hours_worked:_,hours_projected:b,progress_percentage:k,status:U,project_id:A==="no-project"?null:A,phase_id:M==="no-phase"?null:M,due_date:D,completed_at:k===100&&e.progress_percentage!==100?new Date().toISOString():void 0}}),r()}catch(U){console.error("Failed to update task:",U)}},J=U=>{C(U),z(!1)},W=(U,P)=>{if(!U){L(null),G(!1);return}const[H,Q,ne]=U.split("-").map(Number),ge=new Date(H,Q-1,ne,12,0,0,0);L(ge.toISOString()),G(!1)};return s.jsx(Ep,{open:t,onOpenChange:r,children:s.jsxs(jf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-gray-900 border-gray-700",children:[s.jsx(_f,{children:s.jsxs(Sf,{className:"text-xl font-bold text-gray-100 flex items-center justify-between",children:["Edit Task",s.jsx(Fe,{variant:"ghost",size:"sm",onClick:r,className:"w-8 h-8 p-0",children:s.jsx(Ht,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Task Name"}),s.jsx(Tn,{type:"text",value:a,onChange:U=>i(U.target.value),className:"bg-gray-800 border-gray-700 text-gray-100"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Project"}),s.jsxs(la,{value:A,onValueChange:U=>{E(U),T("no-phase")},children:[s.jsx(zn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ca,{placeholder:"No Project Identified"})}),s.jsxs(Fn,{children:[s.jsx(ct,{value:"no-project",children:"No Project Identified"}),Y?.map(U=>s.jsx(ct,{value:U.id,children:U.name},U.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Phase"}),s.jsxs(la,{value:M||"no-phase",onValueChange:T,disabled:!A||A==="no-project",children:[s.jsx(zn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ca,{placeholder:"No Phase Identified"})}),s.jsxs(Fn,{children:[s.jsx(ct,{value:"no-phase",children:"No Phase Identified"}),$?.map(U=>s.jsx(ct,{value:U.id,children:U.name},U.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Priority"}),s.jsxs(la,{value:d,onValueChange:U=>m(U),children:[s.jsx(zn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ca,{})}),s.jsxs(Fn,{children:[s.jsx(ct,{value:"Low",children:"Low"}),s.jsx(ct,{value:"Medium",children:"Medium"}),s.jsx(ct,{value:"High",children:"High"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Money Maker"}),s.jsxs(la,{value:h||"none",onValueChange:U=>g(U==="none"?null:U),children:[s.jsx(zn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ca,{placeholder:"Select level"})}),s.jsxs(Fn,{children:[s.jsx(ct,{value:"none",children:"None"}),s.jsx(ct,{value:"$$$ Printer $$$",children:"$$$ Printer $$$"}),s.jsx(ct,{value:"$ Makes Money $",children:"$ Makes Money $"}),s.jsx(ct,{value:"-$ Save Dat $-",children:"-$ Save Dat $-"}),s.jsx(ct,{value:":( No Money ):",children:":( No Money ):"}),s.jsx(ct,{value:"8) Vibing (8",children:"8) Vibing (8"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Automation"}),s.jsxs(la,{value:y||"none",onValueChange:U=>v(U==="none"?null:U),children:[s.jsx(zn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ca,{placeholder:"Select type"})}),s.jsxs(Fn,{children:[s.jsx(ct,{value:"none",children:"None"}),s.jsx(ct,{value:"Automate",children:" Automate"}),s.jsx(ct,{value:"Delegate",children:" Delegate"}),s.jsx(ct,{value:"Manual",children:" Manual"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Due Date"}),s.jsx(Fe,{variant:"outline",onClick:()=>G(!0),className:"w-full justify-start bg-gray-800 border-gray-700 text-gray-100 hover:bg-gray-700",children:D?Ne(ot(D)||new Date,"MMM d, yyyy"):"Set due date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Hours Worked"}),s.jsx(Tn,{type:"number",value:_||"",onChange:U=>w(U.target.value?parseFloat(U.target.value):null),placeholder:"0.00",step:"0.25",className:"bg-gray-800 border-gray-700 text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Hours Projected"}),s.jsx(Tn,{type:"number",value:b||"",onChange:U=>S(U.target.value?parseFloat(U.target.value):null),placeholder:"0.00",step:"0.25",className:"bg-gray-800 border-gray-700 text-gray-100"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:["Progress: ",k,"%"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Fe,{variant:"outline",onClick:()=>z(!B),className:"w-full bg-gray-800 border-gray-700 text-gray-100 hover:bg-gray-700",children:"Update Progress"}),B&&s.jsx("div",{className:"absolute top-full left-0 mt-2 z-20",children:s.jsx(wZ,{progress:k,onChange:J,onClose:()=>z(!1),onTimeTrack:U=>w(U),hoursWorked:_})})]}),s.jsx("div",{className:"mt-2 h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full transition-all duration-300 rounded-full bg-green-500",style:{width:`${k}%`}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Description / Notes"}),s.jsx(wf,{value:l,onChange:U=>u(U.target.value),rows:6,placeholder:"Add notes, thoughts, or details...",className:"bg-gray-800 border-gray-700 text-gray-100 resize-none"})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4 space-y-2",children:[s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsx("span",{className:"font-semibold",children:"Created:"})," ",e.created_at?Ne(new Date(e.created_at),"MMM d, yyyy  h:mm a"):"Unknown"]}),e.completed_at&&s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsx("span",{className:"font-semibold",children:"Completed:"})," ",Ne(new Date(e.completed_at),"MMM d, yyyy  h:mm a")]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-700 pt-4",children:[s.jsx(Fe,{variant:"outline",onClick:r,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),s.jsx(Fe,{onClick:ee,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Save Changes"})]}),F&&s.jsx(_j,{scheduledDate:D,scheduledTime:null,onSchedule:W,onClose:()=>G(!1)})]})})},DJ=({progress:e,size:t="md",showLabel:r=!1,className:n=""})=>{const a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},i=t==="sm"?16:t==="md"?20:24;return e===0?s.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[s.jsx(H1,{className:`${a[t]} text-gray-500`}),r&&s.jsx("span",{className:"text-xs text-gray-500",children:"0%"})]}):e===100?s.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[s.jsx("div",{className:`${a[t]} rounded-full bg-green-500 flex items-center justify-center`,children:s.jsx(sp,{className:"text-white",size:i-4,strokeWidth:3})}),r&&s.jsx("span",{className:"text-xs text-green-500 font-medium",children:"100%"})]}):s.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[s.jsx("div",{className:`${a[t]} relative`,children:s.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-gray-700"}),s.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${e} ${100-e}`,strokeLinecap:"round",className:`${e<33?"text-red-500":e<67?"text-yellow-500":"text-green-500"} transition-all duration-300`})]})}),r&&s.jsxs("span",{className:`text-xs font-medium ${e<33?"text-red-400":e<67?"text-yellow-400":"text-green-400"}`,children:[e,"%"]})]})},MJ=({tasks:e,phaseName:t,isOpen:r,onClose:n})=>{if(!r)return null;const a=[...e].sort((i,l)=>{const u=i.progress_percentage??0,d=l.progress_percentage??0;return u===100&&d!==100?1:u!==100&&d===100?-1:u-d});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:n}),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl border border-gray-700 max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-700",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:t}),s.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[e.length," ",e.length===1?"task":"tasks"]})]}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-200 transition-colors",children:s.jsx(Ht,{size:24})})]}),s.jsx("div",{className:"overflow-y-auto flex-1 px-6 py-4",children:e.length===0?s.jsx("div",{className:"text-center py-12 text-gray-400",children:s.jsx("p",{children:"No tasks in this phase"})}):s.jsx("div",{className:"space-y-3",children:a.map(i=>{let l=!1;if(i.due_date&&(i.progress_percentage??0)<100){const u=ot(i.due_date);if(u){const d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0),m=new Date;m.setHours(0,0,0,0),l=d.getTime()<m.getTime()}}return s.jsx("div",{className:`bg-gray-800 rounded-lg p-4 border ${l?"border-red-500/50":"border-gray-700"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"pt-1",children:s.jsx(DJ,{progress:i.progress_percentage??0,size:"md"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-medium ${(i.progress_percentage??0)===100?"line-through text-gray-500":"text-gray-100"}`,children:i.task_name}),i.description&&s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i.description})]}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:`text-sm font-semibold ${(i.progress_percentage??0)<33?"text-red-400":(i.progress_percentage??0)<67?"text-yellow-400":"text-green-400"}`,children:[i.progress_percentage??0,"%"]})})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-400",children:[s.jsx("span",{className:`px-2 py-1 rounded ${i.status==="Done"?"bg-green-600/20 text-green-400":i.status==="In progress"?"bg-yellow-600/20 text-yellow-400":"bg-gray-700 text-gray-400"}`,children:i.status}),i.due_date&&(()=>{const u=ot(i.due_date);return u?s.jsxs("span",{className:l?"text-red-400 font-medium":"",children:["Due: ",Ne(u,"MMM d, yyyy"),l&&" (Overdue)"]}):null})(),i.area&&s.jsx("span",{className:"text-gray-500",children:i.area})]})]})]})},i.id)})})}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-700 flex justify-end",children:s.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-100 rounded-lg transition-colors",children:"Close"})})]})})]})},hA=({phase:e,projectId:t,businessId:r})=>{const[n,a]=x.useState(!0),[i,l]=x.useState(!1),[u,d]=x.useState(null),[m,h]=x.useState(null),[g,y]=x.useState(null),[v,_]=x.useState(""),[w,b]=x.useState(!1),[S,k]=x.useState(""),[C,A]=x.useState(!1),{data:E}=ou(),M=lu(),T=k4(),D=bZ(),L=E?.filter(W=>e.id==="no-phase"?W.project_id===t&&!W.phase_id:W.phase_id===e.id&&W.project_id===t)||[],{progress:B,completedCount:z,totalCount:F}=TJ(L),G=async(W,U)=>{try{await M.mutateAsync({id:W,updates:{progress_percentage:U===100?0:100,status:U===100?"Not started":"Done"}})}catch(P){console.error("Failed to update task:",P)}},V=async(W,U)=>{try{let P=null;if(U){const H=ot(U);H&&(P=H.toISOString())}await M.mutateAsync({id:W,updates:{due_date:P}})}catch(P){console.error("Failed to update due date:",P)}},Y=async(W,U)=>{try{const P=U==="Done"?100:U==="In progress"?50:0;await M.mutateAsync({id:W,updates:{status:U,progress_percentage:P}})}catch(P){console.error("Failed to update status:",P)}},$=async(W,U,P)=>{try{await M.mutateAsync({id:W,updates:{[U]:P}}),y(null),_("")}catch(H){console.error("Failed to update task:",H)}},ee=async W=>{if(window.confirm("Are you sure you want to delete this task?"))try{await T.mutateAsync(W)}catch(U){console.error("Failed to delete task:",U)}},J=async W=>{if(e.id==="no-phase"){b(!1);return}try{await D.mutateAsync({id:e.id,updates:{name:W}}),b(!1),k("")}catch(U){console.error("Failed to update phase name:",U),b(!1)}};return s.jsxs("div",{className:"border-t border-gray-700/50",children:[s.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-gray-800/30 transition-colors flex items-center justify-between",onClick:()=>a(!n),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fe,{variant:"ghost",size:"sm",className:"w-5 h-5 p-0",children:n?s.jsx(xo,{className:"w-4 h-4 text-gray-400"}):s.jsx(Ms,{className:"w-4 h-4 text-gray-400"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[w&&e.id!=="no-phase"?s.jsx("input",{type:"text",value:S,onChange:W=>k(W.target.value),onBlur:()=>J(S),onKeyDown:W=>{W.key==="Enter"?J(S):W.key==="Escape"&&(b(!1),k(""))},className:"text-base font-semibold bg-gray-800 text-gray-100 px-2 py-0.5 rounded border border-blue-500 focus:outline-none",autoFocus:!0,onClick:W=>W.stopPropagation()}):s.jsx("span",{className:`text-base font-semibold text-gray-100 ${e.id!=="no-phase"?"cursor-pointer hover:text-blue-400":""}`,onClick:W=>{e.id!=="no-phase"&&(W.stopPropagation(),b(!0),k(e.name))},children:e.id==="no-phase"?e.name:`Phase ${e.sequence_order}: ${e.name}`}),B===100&&s.jsx(gr,{className:"bg-green-600 text-white text-xs px-2 py-0.5",children:"Completed"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right cursor-pointer hover:text-blue-400 transition-colors",onClick:W=>{W.stopPropagation(),A(!0)},title:"Click to view task details",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Progress: "}),s.jsxs("span",{className:"text-sm font-bold text-gray-100",children:[B.toFixed(0),"%"]}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",z,"/",F,")"]})]}),F>0&&s.jsx(Fe,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-gray-100",onClick:W=>{W.stopPropagation()},children:s.jsx(Fa,{className:"w-4 h-4"})})]})]}),n&&s.jsx("div",{className:"bg-gray-900/20 px-4 pb-4",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-xs text-gray-400 border-b border-gray-700/50",children:[s.jsx("th",{className:"text-left font-normal py-2 pl-2 w-12",children:"Done"}),s.jsx("th",{className:"text-left font-normal py-2 w-32",children:"Due Date"}),s.jsx("th",{className:"text-left font-normal py-2 w-32",children:"Status"}),s.jsx("th",{className:"text-left font-normal py-2",children:"Task Name"}),s.jsx("th",{className:"text-left font-normal py-2",children:"Description"}),s.jsx("th",{className:"text-right font-normal py-2 pr-2 w-10"})]})}),s.jsxs("tbody",{children:[L.map(W=>{const U=W.progress_percentage===100;return s.jsxs("tr",{className:"border-b border-gray-700/30 hover:bg-gray-800/20",children:[s.jsx("td",{className:"py-3 pl-2",children:s.jsx("input",{type:"checkbox",checked:U,onChange:()=>G(W.id,W.progress_percentage??0),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-blue-600 focus:ring-blue-500"})}),s.jsx("td",{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(tn,{className:"w-3 h-3 text-gray-500"}),s.jsx("input",{type:"date",value:W.due_date?wr(ot(W.due_date)||new Date):"",onChange:P=>V(W.id,P.target.value),className:"bg-transparent text-sm text-gray-300 border-none focus:outline-none focus:ring-1 focus:ring-blue-500 rounded px-1"})]})}),s.jsx("td",{className:"py-3",children:s.jsxs("select",{value:W.status,onChange:P=>Y(W.id,P.target.value),className:`text-sm px-2 py-1 rounded border ${W.status==="Done"?"bg-green-600/20 border-green-600 text-green-400":W.status==="In progress"?"bg-yellow-600/20 border-yellow-600 text-yellow-400":"bg-gray-700/50 border-gray-600 text-gray-400"} focus:outline-none focus:ring-1 focus:ring-blue-500`,children:[s.jsx("option",{value:"Not started",children:"Not started"}),s.jsx("option",{value:"In progress",children:"In progress"}),s.jsx("option",{value:"Done",children:"Completed"})]})}),s.jsx("td",{className:"py-3",children:g?.taskId===W.id&&g.field==="task_name"?s.jsx("input",{type:"text",value:v,onChange:P=>_(P.target.value),onBlur:()=>$(W.id,"task_name",v),onKeyDown:P=>{P.key==="Enter"?$(W.id,"task_name",v):P.key==="Escape"&&(y(null),_(""))},className:"w-full bg-gray-800 text-gray-100 px-2 py-1 rounded border border-blue-500 focus:outline-none",autoFocus:!0}):s.jsx("span",{onClick:()=>{y({taskId:W.id,field:"task_name"}),_(W.task_name)},className:`cursor-pointer hover:text-blue-400 ${U?"line-through text-gray-500":"text-gray-100"}`,children:W.task_name})}),s.jsx("td",{className:"py-3",children:g?.taskId===W.id&&g.field==="description"?s.jsx("input",{type:"text",value:v,onChange:P=>_(P.target.value),onBlur:()=>$(W.id,"description",v),onKeyDown:P=>{P.key==="Enter"?$(W.id,"description",v):P.key==="Escape"&&(y(null),_(""))},className:"w-full bg-gray-800 text-gray-400 px-2 py-1 rounded border border-blue-500 focus:outline-none",autoFocus:!0}):s.jsx("span",{onClick:()=>{y({taskId:W.id,field:"description"}),_(W.description||"")},className:"text-gray-400 text-sm cursor-pointer hover:text-gray-300",children:W.description||"Description..."})}),s.jsx("td",{className:"py-3 pr-2",children:s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>ee(W.id),className:"w-6 h-6 p-0 text-gray-500 hover:text-red-400",children:s.jsx(Fa,{className:"w-3 h-3"})})})]},W.id)}),i?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-4",children:s.jsx(EJ,{businessId:r,projectId:t,phaseId:e.id==="no-phase"?void 0:e.id,phaseName:e.name,onSuccess:()=>l(!1),onCancel:()=>l(!1)})})}):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-3",children:s.jsxs("button",{onClick:()=>l(!0),className:"w-full py-2 border-2 border-dashed border-gray-700 rounded hover:border-gray-600 hover:bg-gray-800/30 transition-colors flex items-center justify-center gap-2 text-gray-400 hover:text-gray-300",children:[s.jsx(ma,{className:"w-4 h-4"}),"Add Task"]})})})]})]})}),u&&s.jsx(OJ,{task:L.find(W=>W.id===u),isOpen:!!u,onClose:()=>d(null),businessId:r}),s.jsx(MJ,{tasks:L,phaseName:e.name,isOpen:C,onClose:()=>A(!1)})]})},PJ=({isOpen:e,onClose:t,projectId:r,projectName:n})=>{const[a,i]=x.useState(""),[l,u]=x.useState(""),[d,m]=x.useState("active"),[h,g]=x.useState(1),y=vZ(),{data:v}=mu(r);x.useEffect(()=>{if(e&&v){const w=v.length>0?Math.max(...v.map(b=>b.sequence_order)):0;g(w+1)}},[e,v]);const _=async w=>{if(w.preventDefault(),!a.trim()){alert("Phase name is required");return}try{await y.mutateAsync({project_id:r,name:a.trim(),description:l.trim()||void 0,status:d,sequence_order:h}),i(""),u(""),m("active"),g(1),t()}catch(b){console.error("Failed to create phase:",b),alert("Failed to create phase. Please try again.")}};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-md w-full border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Add Phase"}),s.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["to ",n]})]}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:t,className:"w-8 h-8 p-0 hover:bg-gray-700",children:s.jsx(Ht,{className:"w-4 h-4"})})]}),s.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phase Name *"}),s.jsx(Tn,{type:"text",value:a,onChange:w=>i(w.target.value),placeholder:"e.g., Planning, Development, Testing",className:"bg-gray-900 border-gray-700 text-white",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (optional)"}),s.jsx(wf,{value:l,onChange:w=>u(w.target.value),placeholder:"Describe this phase...",rows:3,className:"bg-gray-900 border-gray-700 text-white resize-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),s.jsxs(la,{value:d,onValueChange:w=>m(w),children:[s.jsx(zn,{className:"bg-gray-900 border-gray-700 text-white",children:s.jsx(ca,{})}),s.jsxs(Fn,{children:[s.jsx(ct,{value:"active",children:"Active"}),s.jsx(ct,{value:"paused",children:"Paused"}),s.jsx(ct,{value:"completed",children:"Completed"}),s.jsx(ct,{value:"archived",children:"Archived"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Order"}),s.jsx(Tn,{type:"number",value:h,onChange:w=>g(parseInt(w.target.value)||1),min:"1",className:"bg-gray-900 border-gray-700 text-white"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Fe,{type:"button",variant:"outline",onClick:t,className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-700",children:"Cancel"}),s.jsx(Fe,{type:"submit",disabled:y.isPending||!a.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:y.isPending?"Creating...":"Create Phase"})]})]})]})}):null},RJ=e=>e<33?"red":e<67?"yellow":"green",IJ=e=>`bg-${RJ(e)}-500`,Gd=({progress:e,size:t="md",showLabel:r=!1,onClick:n,className:a=""})=>{const i={sm:"h-1.5",md:"h-2",lg:"h-3"},l=IJ(e),u=!!n;return s.jsxs("div",{className:`w-full ${a}`,children:[s.jsx("div",{className:`w-full bg-gray-700 rounded-full overflow-hidden ${i[t]} ${u?"cursor-pointer hover:bg-gray-600 transition-colors":""}`,onClick:n,children:s.jsx("div",{className:`${l} ${i[t]} rounded-full transition-all duration-300 ease-out`,style:{width:`${Math.min(100,Math.max(0,e))}%`}})}),r&&s.jsx("div",{className:"flex items-center justify-between mt-1 text-xs",children:s.jsxs("span",{className:`font-medium ${e<33?"text-red-400":e<67?"text-yellow-400":"text-green-400"}`,children:[e.toFixed(1),"%"]})})]})},LJ=e=>{const t=new Date(Date.now()-2592e6),r=new Date,n=e.filter(d=>(d.progress_percentage??0)!==100||!d.updated_at?!1:new Date(d.updated_at)>t),a=n.length/30,i=e.filter(d=>(d.progress_percentage??0)<100).length;let l=null,u=null;return a>0&&i>0&&(l=Math.ceil(i/a),u=new Date(r.getTime()+l*24*60*60*1e3)),{velocity:a,completedLast30Days:n.length,estimatedDaysRemaining:l,estimatedCompletionDate:u}},$J=e=>{if(!e||e.length===0)return{isStalled:!0,daysSinceActivity:1/0,lastActivityDate:null,message:"No tasks in project"};const t=e.reduce((a,i)=>{const l=i.updated_at?new Date(i.updated_at):i.created_at?new Date(i.created_at):null;return l&&(!a||l>a)?l:a},null);if(!t)return{isStalled:!0,daysSinceActivity:1/0,lastActivityDate:null,message:"No activity recorded"};const r=EU(new Date,t),n=r>7;return{isStalled:n,daysSinceActivity:r,lastActivityDate:t,message:n?`Last activity ${r} days ago`:"Active"}},BJ=({project:e,businessId:t,businessColor:r})=>{const[n,a]=x.useState(!1),{data:i,isLoading:l}=mu(e.id),{data:u}=ou(),d=u?.filter(v=>v.project_id===e.id)||[],m=d.filter(v=>!v.phase_id),{progress:h,totalPhases:g,isStalled:y}=CJ(i||[],d);return LJ(d),$J(d),s.jsxs("div",{className:"rounded-lg overflow-hidden border",style:{backgroundColor:r?`${r}15`:"rgb(17 24 39 / 0.5)",borderColor:r?`${r}40`:"rgb(55 65 81)"},children:[s.jsx("div",{children:l?s.jsx("div",{className:"px-4 py-8 text-gray-400 text-sm text-center",children:"Loading phases..."}):s.jsxs("div",{children:[i&&i.length>0&&i.map(v=>s.jsx(hA,{phase:v,projectId:e.id,businessId:t||e.business_id},v.id)),m.length>0&&s.jsx(hA,{phase:{id:"no-phase",project_id:e.id,name:"No Phase Identified",description:null,status:"active",sequence_order:9999,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),user_id:""},projectId:e.id,businessId:t||e.business_id},"no-phase"),(!i||i.length===0)&&m.length===0&&s.jsx("div",{className:"px-4 py-8 text-center text-gray-400",children:s.jsx("p",{className:"text-sm",children:"No phases yet. Add a phase to organize tasks."})}),s.jsx("div",{className:"px-4 py-3 border-t border-gray-700/50",children:s.jsxs(Fe,{size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 text-white",onClick:v=>{v.stopPropagation(),a(!0)},children:[s.jsx(ma,{className:"w-4 h-4 mr-1"}),"Add Phase"]})})]})}),s.jsx(PJ,{isOpen:n,onClose:()=>a(!1),projectId:e.id,projectName:e.name})]})},zJ=({isOpen:e,onClose:t,defaultBusinessId:r})=>{const{data:n}=Sj(),a=pZ(),[i,l]=x.useState(""),[u,d]=x.useState(""),[m,h]=x.useState(r||""),[g,y]=x.useState(!1),v=async _=>{if(_.preventDefault(),!i.trim()||!m){alert("Please provide a project name and select an area");return}y(!0);try{await a.mutateAsync({name:i.trim(),description:u.trim()||void 0,business_id:m,status:"active"}),l(""),d(""),h(r||""),t()}catch(w){console.error("Failed to create project:",w),alert("Failed to create project. Please try again.")}finally{y(!1)}};return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative bg-gray-900 border border-gray-700 rounded-lg p-6 w-full max-w-2xl shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Create New Project"}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-gray-200",children:s.jsx(Ht,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(ai,{htmlFor:"area",className:"text-gray-300 mb-2 block",children:["Area ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"area",value:m,onChange:_=>h(_.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select an area..."}),n?.map(_=>s.jsx("option",{value:_.id,children:_.name},_.id))]})]}),s.jsxs("div",{children:[s.jsxs(ai,{htmlFor:"name",className:"text-gray-300 mb-2 block",children:["Project Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Tn,{id:"name",type:"text",value:i,onChange:_=>l(_.target.value),placeholder:"e.g., Dashboard Redesign",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-500",required:!0,autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx(ai,{htmlFor:"description",className:"text-gray-300 mb-2 block",children:"Description (optional)"}),s.jsx(wf,{id:"description",value:u,onChange:_=>d(_.target.value),placeholder:"Brief description of the project...",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-500 min-h-[100px]",rows:3})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Fe,{type:"button",variant:"outline",onClick:t,className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-800",disabled:g,children:"Cancel"}),s.jsx(Fe,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",disabled:g||!i.trim()||!m,children:g?"Creating...":"Create Project"})]})]})]})]}):null},FJ=({projectCount:e,overallProgress:t,activeTasks:r,completedTasks:n,hoursInvested:a=0,isStalled:i=!1,daysSinceActivity:l=0})=>s.jsxs("div",{className:"mb-8",children:[i&&s.jsx("div",{className:"mb-4 px-6 py-4 bg-orange-900/30 border border-orange-600 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qa,{className:"text-orange-500",size:24}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-orange-400",children:[" No activity in ",l," days - This business needs attention"]}),s.jsx("p",{className:"text-sm text-orange-300 mt-1",children:"Consider adding new tasks or reviewing project priorities"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:s.jsx(F1,{className:"text-blue-500",size:20})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Projects"})]}),s.jsx("div",{className:"text-3xl font-bold text-gray-100",children:e})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-green-600/20 rounded-lg",children:s.jsx(Hn,{className:"text-green-500",size:20})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Completion"})]}),s.jsxs("div",{className:"text-3xl font-bold text-gray-100 mb-3",children:[t.toFixed(1),"%"]}),s.jsx(Gd,{progress:t,size:"sm",showLabel:!1})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:s.jsx(U1,{className:"text-purple-500",size:20})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Tasks"})]}),s.jsxs("div",{className:"text-xl font-bold text-gray-100",children:[s.jsx("span",{className:"text-yellow-400",children:r}),s.jsx("span",{className:"text-gray-500 text-base mx-2",children:"/"}),s.jsx("span",{className:"text-green-400",children:n})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Active / Completed"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-orange-600/20 rounded-lg",children:s.jsx(Wn,{className:"text-orange-500",size:20})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Hours Invested"})]}),s.jsx("div",{className:"text-3xl font-bold text-gray-100",children:a.toFixed(1)}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Deep Work"})]})]})]}),qJ=({preselectedBusinessArea:e})=>{const{data:t,isLoading:r}=Sj(),[n,a]=x.useState(null),[i,l]=x.useState(null),[u,d]=x.useState(null),[m,h]=x.useState(!1),[g,y]=x.useState(null),[v,_]=x.useState(null),[w,b]=x.useState(""),[S,k]=x.useState(null),[C,A]=x.useState(""),[E,M]=x.useState(null),T=xZ(),D=yZ(),L=lu();x.useEffect(()=>{Z.auth.getSession().then(({data:{session:U}})=>{d(U?.user?.id||null)})},[]),G4(u);const{data:B}=Tp(),{data:z}=mu(),{data:F}=ou();x.useEffect(()=>{if(e&&t){const U=t.find(P=>P.name===e);U&&(a(U.id),l(null))}else e===null&&(a(null),l(null))},[e,t]);const G=U=>{g===U?T.mutate(U,{onSuccess:()=>{y(null)},onError:P=>{console.error("Failed to delete project:",P),alert("Failed to delete project. Please try again."),y(null)}}):(y(U),setTimeout(()=>y(null),3e3))},V=async(U,P)=>{try{await D.mutateAsync({id:U,updates:{description:P}}),_(null),b("")}catch(H){console.error("Failed to update project description:",H)}},Y=async(U,P)=>{try{await L.mutateAsync({id:U,updates:{due_date:P}}),M(null)}catch(H){console.error("Failed to update task due date:",H)}},$=x.useMemo(()=>{if(!B)return[];let U=B;return n&&(U=U.filter(P=>P.business_id===n)),i&&(U=U.filter(P=>P.id===i)),U},[B,n,i]),ee=x.useMemo(()=>F?n?F.filter(U=>U.business_id===n):F:[],[F,n]),J=x.useMemo(()=>!z||!n?[]:z.filter(U=>$.some(P=>P.id===U.project_id)),[z,n,$]),W=kJ(n?$:[],n?J:[],n?ee:[]);return r?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-gray-400",children:"Loading businesses..."})}):!t||t.length===0?s.jsx("div",{className:"p-6",children:s.jsx(Jr,{className:"bg-gray-800/60 border-gray-700",children:s.jsx(fo,{className:"py-12",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("p",{className:"text-lg mb-2",children:"No businesses yet"}),s.jsx("p",{className:"text-sm",children:"Create your first business to get started"})]})})})}):s.jsxs("div",{className:"p-6 space-y-6 bg-gray-950 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Projects"}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Fe,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>h(!0),children:[s.jsx(ma,{className:"w-4 h-4 mr-1"}),"Add Project"]})})]}),n&&B&&(()=>{const P=t?.find(H=>H.id===n)?.color||"#a855f7";return s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(Fe,{variant:"outline",className:"h-12 px-6 text-base font-semibold transition-all border-2",style:{backgroundColor:i===null?P:`${P}20`,borderColor:i===null?P:`${P}60`,color:i===null?"white":P,boxShadow:i===null?`0 4px 14px -2px ${P}40`:void 0},onClick:()=>l(null),children:"All Projects"}),B.filter(H=>H.business_id===n).map(H=>{const Q=i===H.id;return s.jsx(Fe,{variant:"outline",className:"h-12 px-6 text-base font-semibold transition-all border-2",style:{backgroundColor:Q?P:`${P}20`,borderColor:Q?P:`${P}60`,color:Q?"white":P,boxShadow:Q?`0 4px 14px -2px ${P}40`:void 0},onClick:()=>l(H.id),children:H.name},H.id)})]})})(),n&&W.totalProjects>0&&(()=>{const U=ee.reduce((P,H)=>P+(H.hours_worked||0),0);return s.jsx(FJ,{projectCount:W.totalProjects,overallProgress:W.overallCompletion,activeTasks:W.activeTasks,completedTasks:W.completedTasks,hoursInvested:U,isStalled:W.isStalled,daysSinceActivity:W.daysSinceActivity})})(),s.jsxs("div",{className:i===null?"grid grid-cols-[1fr_450px] gap-4":"",children:[s.jsx("div",{children:$.length===0?s.jsx(Jr,{className:"bg-gray-900/50 border-gray-800",children:s.jsx(fo,{className:"py-12",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("p",{className:"text-lg mb-2",children:"No projects yet"}),s.jsx("p",{className:"text-sm",children:"Create your first project to get started"})]})})}):s.jsx("div",{className:"space-y-6",children:$.map(U=>{const P=t.find(te=>te.id===U.business_id),H=z?.filter(te=>te.project_id===U.id)||[],Q=ee.filter(te=>te.project_id===U.id),ne=Q.filter(te=>te.progress_percentage===100).length,ge=Q.length;let be=0;if(H.length>0){const te=H.map(Se=>{const ce=Q.filter(pe=>pe.phase_id===Se.id);return ce.length===0?0:ce.reduce((pe,ke)=>pe+(ke.progress_percentage??0),0)/ce.length});be=te.reduce((Se,ce)=>Se+ce,0)/te.length}else ge>0&&(be=Q.reduce((te,Se)=>te+(Se.progress_percentage??0),0)/ge);return s.jsxs("div",{className:i===null?"":"grid grid-cols-[1fr_450px] gap-4",children:[s.jsxs(Jr,{className:"bg-gray-900/60 border-gray-800 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"p-5",style:{backgroundColor:`${P?.color}30`},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-100",children:U.name}),s.jsx("div",{className:"flex-1",children:v===U.id?s.jsx("input",{type:"text",value:w,onChange:te=>b(te.target.value),onBlur:()=>V(U.id,w),onKeyDown:te=>{te.key==="Enter"?V(U.id,w):te.key==="Escape"&&(_(null),b(""))},className:"w-full px-2 py-1 rounded focus:outline-none text-sm bg-white/10 text-gray-200 border border-white/30",placeholder:"Add project description...",autoFocus:!0}):s.jsx("p",{onClick:()=>{_(U.id),b(U.description||"")},className:"text-sm cursor-pointer px-2 py-1 text-gray-300 italic",children:U.description||"+"})})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-gray-400 text-xs",children:"Phases"}),s.jsx("span",{className:"font-semibold text-gray-100",children:H.length})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-gray-400 text-xs",children:"Tasks"}),s.jsxs("span",{className:"font-semibold text-gray-100",children:[ne," / ",ge]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Progress:"}),s.jsxs(gr,{className:`px-3 py-1 font-bold ${be===100?"bg-green-600 text-white":"bg-gray-700 text-gray-200"}`,children:[be.toFixed(0),"%"]})]}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:te=>{te.stopPropagation(),G(U.id)},className:`h-8 w-8 p-0 transition-colors ${g===U.id?"bg-red-600 hover:bg-red-700 text-white":"text-gray-400 hover:text-red-400"}`,title:g===U.id?"Click again to confirm deletion":"Delete project",children:s.jsx(Fa,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"bg-gray-900/30",children:s.jsx(BJ,{project:U,businessId:U.business_id,businessColor:P?.color})})]}),i!==null&&s.jsx(Jr,{className:"shadow-lg h-fit sticky top-4",style:{backgroundColor:`${P?.color}15`,borderColor:`${P?.color}60`},children:s.jsxs("div",{className:"p-5",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Upcoming Tasks"}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto overflow-x-hidden",children:(()=>{const te=Q.filter(Se=>Se.due_date&&Se.progress_percentage!==100).sort((Se,ce)=>Se.due_date?ce.due_date?new Date(Se.due_date).getTime()-new Date(ce.due_date).getTime():-1:1);return te.length===0?s.jsx("div",{className:"text-sm text-gray-400 text-center py-8",children:"No upcoming tasks scheduled"}):te.map(Se=>{const ce=Se.due_date?ot(Se.due_date):null,pe=new Date;pe.setHours(0,0,0,0);const ke=ce&&ce<pe,de=Se.due_date||"";return s.jsx("div",{className:"p-3 rounded-lg border transition-colors",style:{backgroundColor:`${P?.color}20`,borderColor:`${P?.color}50`},children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("h5",{className:"font-semibold text-gray-100 text-base flex-1 break-words",children:Se.task_name||"Untitled Task"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",id:`task-date-${Se.id}`,value:de,onChange:qe=>{Y(Se.id,qe.target.value)},className:"absolute opacity-0 pointer-events-none"}),s.jsxs("button",{onClick:()=>{const qe=document.getElementById(`task-date-${Se.id}`);qe&&qe.showPicker()},className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm font-semibold whitespace-nowrap transition-colors ${ke?"bg-red-600 text-white hover:bg-red-700":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:[s.jsx(tn,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:ce?ce.toLocaleDateString("en-US",{month:"short",day:"numeric"}):"No date"})]})]})]})},Se.id)})})()})]})})]},U.id)})})}),i===null&&n&&(()=>{const U=t?.find(H=>H.id===n),P=ee.filter(H=>H.due_date&&H.progress_percentage!==100).sort((H,Q)=>H.due_date?Q.due_date?new Date(H.due_date).getTime()-new Date(Q.due_date).getTime():-1:1);return s.jsx(Jr,{className:"shadow-lg h-fit sticky top-4",style:{backgroundColor:`${U?.color}15`,borderColor:`${U?.color}60`},children:s.jsxs("div",{className:"p-5",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Upcoming Tasks"}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto overflow-x-hidden",children:P.length===0?s.jsx("div",{className:"text-sm text-gray-400 text-center py-8",children:"No upcoming tasks scheduled"}):P.map(H=>{const Q=H.due_date?ot(H.due_date):null,ne=new Date;ne.setHours(0,0,0,0);const ge=Q&&Q<ne,be=H.due_date||"";return s.jsx("div",{className:"p-3 rounded-lg border transition-colors",style:{backgroundColor:`${U?.color}20`,borderColor:`${U?.color}50`},children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("h5",{className:"font-semibold text-gray-100 text-base flex-1 break-words",children:H.task_name||"Untitled Task"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",id:`task-date-all-${H.id}`,value:be,onChange:te=>{Y(H.id,te.target.value)},className:"absolute opacity-0 pointer-events-none"}),s.jsxs("button",{onClick:()=>{const te=document.getElementById(`task-date-all-${H.id}`);te&&te.showPicker()},className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm font-semibold whitespace-nowrap transition-colors ${ge?"bg-red-600 text-white hover:bg-red-700":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:[s.jsx(tn,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:Q?Q.toLocaleDateString("en-US",{month:"short",day:"numeric"}):"No date"})]})]})]})},H.id)})})]})})})()]}),s.jsx(zJ,{isOpen:m,onClose:()=>h(!1),defaultBusinessId:n||void 0})]})},UJ=e=>Ie({queryKey:["finance","accounts-with-balances",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const r=e||new Date().toISOString().split("T")[0],{data:n,error:a}=await Z.from("accounts").select("*").eq("user_id",t.id).eq("is_active",!0).order("display_order",{ascending:!0});if(a)throw a;return await Promise.all(n.map(async l=>{const{data:u}=await Z.from("balance_snapshots").select("balance").eq("account_id",l.id).lte("snapshot_date",r).order("snapshot_date",{ascending:!1}).limit(1);return{...l,current_balance:u?.[0]?.balance||0}}))}}),HJ=e=>Ie({queryKey:["finance","net-worth-summary",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const r=e||new Date().toISOString().split("T")[0],{data:n,error:a}=await Z.rpc("get_net_worth_summary",{p_user_id:t.id,p_date:r});if(a)throw a;return n[0]}}),WJ=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const n=t.map(l=>({...l,user_id:r.id})),{data:a,error:i}=await Z.from("balance_snapshots").upsert(n,{onConflict:"account_id,snapshot_date"}).select();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["finance"]})}})},mA=(e=30)=>Ie({queryKey:["finance","net-worth-log",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.from("net_worth_log").select("*").eq("user_id",t.id).order("snapshot_date",{ascending:!1}).limit(e);if(n)throw n;return r}}),YJ=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.from("net_worth_log").upsert({...t,user_id:r.id},{onConflict:"user_id,snapshot_date"}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["finance","net-worth-log"]})}})},KJ=()=>{const[e,t]=x.useState(wr(Lc())),[r,n]=x.useState({}),[a,i]=x.useState({}),[l,u]=x.useState(null),[d,m]=x.useState(!1),[h,g]=x.useState(new Set),[y,v]=x.useState([]);x.useEffect(()=>{const K=document.createElement("style");return K.textContent=`
      input[type=number]::-webkit-inner-spin-button,
      input[type=number]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      input[type=number] {
        -moz-appearance: textfield;
      }
    `,document.head.appendChild(K),()=>{document.head.removeChild(K)}},[]);const{data:_,isLoading:w}=UJ(e),{data:b,isLoading:S}=HJ(e),{data:k,isLoading:C}=mA(30),{data:A}=mA(365),E=WJ(),M=YJ();x.useEffect(()=>{if(_){const K={},ie={};_.forEach(xe=>{K[xe.id]=xe.current_balance||0,ie[xe.id]=D(xe.current_balance||0)}),n(K),i(ie),g(new Set);const se=_.filter(xe=>xe.subcategory==="credit_card").sort((xe,Te)=>(K[Te.id]||0)-(K[xe.id]||0)).map(xe=>xe.id);v(se)}},[_]);const T=K=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(K)),D=K=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(K)),L=(K,ie)=>{const R=k&&k.length>0?k[0]:null,se=k&&k.length>0?k[k.length-1]:null,xe=A&&A.length>0?A[A.length-1]:null;let Te=0,et=0,Dt=0;if(ie==="netWorth")Te=R?.net_worth||0,et=se?.net_worth||0,Dt=xe?.net_worth||0;else if(ie==="cash")Te=R?.cash_accounts?.reduce((ft,Be)=>ft+(Be.balance||0),0)||0,et=se?.cash_accounts?.reduce((ft,Be)=>ft+(Be.balance||0),0)||0,Dt=xe?.cash_accounts?.reduce((ft,Be)=>ft+(Be.balance||0),0)||0;else if(ie==="creditDebt"){const ft=R?.credit_card_accounts?.reduce((Ce,vt)=>Ce+(vt.balance||0),0)||0,Be=R?.loan_accounts?.filter(Ce=>Ce.name.includes("Personal")).reduce((Ce,vt)=>Ce+(vt.balance||0),0)||0;Te=ft+Be;const $e=se?.credit_card_accounts?.reduce((Ce,vt)=>Ce+(vt.balance||0),0)||0,_e=se?.loan_accounts?.filter(Ce=>Ce.name.includes("Personal")).reduce((Ce,vt)=>Ce+(vt.balance||0),0)||0;et=$e+_e;const Ue=xe?.credit_card_accounts?.reduce((Ce,vt)=>Ce+(vt.balance||0),0)||0,Ze=xe?.loan_accounts?.filter(Ce=>Ce.name.includes("Personal")).reduce((Ce,vt)=>Ce+(vt.balance||0),0)||0;Dt=Ue+Ze}else if(ie==="totalDebt"){const ft=R?.credit_card_accounts?.reduce((ht,it)=>ht+(it.balance||0),0)||0,Be=R?.loan_accounts?.reduce((ht,it)=>ht+(it.balance||0),0)||0,$e=R?.tax_accounts?.reduce((ht,it)=>ht+(it.balance||0),0)||0;Te=ft+Be+$e;const _e=se?.credit_card_accounts?.reduce((ht,it)=>ht+(it.balance||0),0)||0,Ue=se?.loan_accounts?.reduce((ht,it)=>ht+(it.balance||0),0)||0,Ze=se?.tax_accounts?.reduce((ht,it)=>ht+(it.balance||0),0)||0;et=_e+Ue+Ze;const Ce=xe?.credit_card_accounts?.reduce((ht,it)=>ht+(it.balance||0),0)||0,vt=xe?.loan_accounts?.reduce((ht,it)=>ht+(it.balance||0),0)||0,Tr=xe?.tax_accounts?.reduce((ht,it)=>ht+(it.balance||0),0)||0;Dt=Ce+vt+Tr}const Nt=K-Te,Cr=K-et,Bt=K-Dt,Yt=Te!==0?Nt/Math.abs(Te)*100:0,dt=et!==0?Cr/Math.abs(et)*100:0,Xe=Dt!==0?Bt/Math.abs(Dt)*100:0;return{changeLast:Nt,percentLast:Yt,change30Days:Cr,percent30Days:dt,change1Year:Bt,percent1Year:Xe}},B=(K,ie)=>{i(xe=>({...xe,[K]:ie}));const R=ie.replace(/,/g,""),se=parseFloat(R)||0;n(xe=>({...xe,[K]:se})),g(xe=>new Set(xe).add(K))},z=K=>{u(K),i(ie=>({...ie,[K]:""}))},F=K=>{u(null);const ie=r[K]||0;i(se=>({...se,[K]:D(ie)}));const R=ee.sort((se,xe)=>(r[xe.id]||0)-(r[se.id]||0)).map(se=>se.id);v(R)},G=K=>l===K?a[K]||"":D(r[K]||0),V=async()=>{m(!0);try{if(!e){alert("Invalid date selected"),m(!1);return}const K=Object.entries(r).map(([ie,R])=>({account_id:ie,balance:R,snapshot_date:e}));if(await E.mutateAsync(K),_&&b){const ie=_.filter(_e=>_e.subcategory==="cash"),R=_.filter(_e=>_e.subcategory==="investment"||_e.subcategory==="physical_asset"),se=_.filter(_e=>_e.subcategory==="credit_card"),xe=_.filter(_e=>_e.subcategory==="personal_loan"||_e.subcategory==="auto_loan"),Te=_.filter(_e=>_e.subcategory==="tax"),et=ie.map(_e=>({name:_e.account_name,balance:r[_e.id]||0})),Dt=R.map(_e=>({name:_e.account_name,balance:r[_e.id]||0})),Nt=se.map(_e=>({name:_e.account_name,balance:r[_e.id]||0,limit:_e.credit_limit,available:_e.credit_limit-(r[_e.id]||0)})),Cr=xe.map(_e=>({name:_e.account_name,balance:r[_e.id]||0})),Bt=Te.map(_e=>({name:_e.account_name,balance:r[_e.id]||0})),Yt=et.reduce((_e,Ue)=>_e+Ue.balance,0),dt=Dt.reduce((_e,Ue)=>_e+Ue.balance,0),Xe=Nt.reduce((_e,Ue)=>_e+Ue.balance,0),ft=Nt.reduce((_e,Ue)=>_e+(Ue.available||0),0),Be=Cr.reduce((_e,Ue)=>_e+Ue.balance,0),$e=Bt.reduce((_e,Ue)=>_e+Ue.balance,0);await M.mutateAsync({snapshot_date:e,net_worth:b.net_worth,cash_total:Yt,investments_total:dt,credit_cards_owed:Xe,credit_cards_available:ft,loans_total:Be,taxes_owed:$e,cash_accounts:et,investment_accounts:Dt,credit_card_accounts:Nt,loan_accounts:Cr,tax_accounts:Bt})}alert("Balances saved successfully!")}catch(K){console.error("Error saving balances:",K),alert("Error saving balances. Please try again.")}finally{m(!1)}};if(w||S)return s.jsx("div",{className:"text-white p-8",children:"Loading..."});const Y=_?.filter(K=>K.subcategory==="cash")||[],$=_?.filter(K=>K.subcategory==="investment"||K.subcategory==="physical_asset")||[],ee=_?.filter(K=>K.subcategory==="credit_card")||[],J=_?.filter(K=>K.subcategory==="personal_loan")||[],W=_?.filter(K=>K.subcategory==="auto_loan")||[],U=_?.filter(K=>K.subcategory==="tax")||[],P=[...J,...W,...U],H=Y.reduce((K,ie)=>K+(r[ie.id]||0),0),Q=$.reduce((K,ie)=>K+(r[ie.id]||0),0),ne=ee.reduce((K,ie)=>K+(r[ie.id]||0),0),ge=ee.reduce((K,ie)=>K+(ie.credit_limit||0),0),be=ge>0?ne/ge*100:0,te=J.reduce((K,ie)=>K+(r[ie.id]||0),0),Se=J.reduce((K,ie)=>K+(ie.credit_limit||0),0),ce=Se>0?te/Se*100:0,pe=W.reduce((K,ie)=>K+(r[ie.id]||0),0),ke=W.reduce((K,ie)=>K+(ie.credit_limit||0),0),de=U.reduce((K,ie)=>K+(r[ie.id]||0),0),qe=U.reduce((K,ie)=>K+(ie.credit_limit||0),0),Ae=qe>0?de/qe*100:0,Ye=te+pe,at=Se+ke,Jt=at>0?Ye/at*100:0,cr=P.reduce((K,ie)=>K+(r[ie.id]||0),0),fr=P.reduce((K,ie)=>K+(ie.credit_limit||0),0),$t=ne+cr,kr=ge+fr,sn=kr>0?$t/kr*100:0;return s.jsx("div",{className:"h-full overflow-y-auto p-4 pr-6 space-y-4",style:{minWidth:0},children:s.jsxs("div",{className:"w-full max-w-5xl mx-auto",style:{minWidth:0},children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Net Worth"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tn,{className:"w-5 h-5 text-yellow-500"}),s.jsx("input",{type:"date",value:e,onChange:K=>t(K.target.value),className:"px-4 py-2 bg-gray-800 text-white border border-gray-700 rounded-lg"}),s.jsxs("button",{onClick:V,disabled:d,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-semibold flex items-center gap-2 disabled:opacity-50",children:[s.jsx(lp,{className:"w-4 h-4"}),d?"Saving...":"Save Balances"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-3 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-emerald-700 rounded-xl p-4 text-white min-w-0 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(uT,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("p",{className:"text-xs opacity-90",children:"Net Worth"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-3xl xl:text-4xl font-bold",children:T(b?.net_worth||0)}),(()=>{const K=L(b?.net_worth||0,"netWorth");return s.jsxs("div",{className:"space-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"1y:"}),s.jsxs("span",{className:`${K.change1Year>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change1Year>=0?"+":"",T(K.change1Year)," (",K.percent1Year>=0?"+":"",K.percent1Year.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"30d:"}),s.jsxs("span",{className:`${K.change30Days>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change30Days>=0?"+":"",T(K.change30Days)," (",K.percent30Days>=0?"+":"",K.percent30Days.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"last:"}),s.jsxs("span",{className:`${K.changeLast>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.changeLast>=0?"+":"",T(K.changeLast)," (",K.percentLast>=0?"+":"",K.percentLast.toFixed(0),"%)"]})]})]})})()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-4 text-white min-w-0 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(W1,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("p",{className:"text-xs opacity-90",children:"Cash on Hand"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-3xl xl:text-4xl font-bold",children:T(H||0)}),(()=>{const K=L(H,"cash");return s.jsxs("div",{className:"space-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"1y:"}),s.jsxs("span",{className:`${K.change1Year>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change1Year>=0?"+":"",T(K.change1Year)," (",K.percent1Year>=0?"+":"",K.percent1Year.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"30d:"}),s.jsxs("span",{className:`${K.change30Days>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change30Days>=0?"+":"",T(K.change30Days)," (",K.percent30Days>=0?"+":"",K.percent30Days.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"last:"}),s.jsxs("span",{className:`${K.changeLast>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.changeLast>=0?"+":"",T(K.changeLast)," (",K.percentLast>=0?"+":"",K.percentLast.toFixed(0),"%)"]})]})]})})()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-pink-600 to-pink-700 rounded-xl p-4 text-white min-w-0 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(oT,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("p",{className:"text-xs opacity-90",children:"CC & Personal"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-3xl xl:text-4xl font-bold",children:T(ne+te)}),(()=>{const K=L(ne+te,"creditDebt");return s.jsxs("div",{className:"space-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"1y:"}),s.jsxs("span",{className:`${K.change1Year<=0?"text-green-200":"text-red-200"} flex-1 text-right`,children:[K.change1Year>=0?"+":"",T(K.change1Year)," (",K.percent1Year>=0?"+":"",K.percent1Year.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"30d:"}),s.jsxs("span",{className:`${K.change30Days<=0?"text-green-200":"text-red-200"} flex-1 text-right`,children:[K.change30Days>=0?"+":"",T(K.change30Days)," (",K.percent30Days>=0?"+":"",K.percent30Days.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"last:"}),s.jsxs("span",{className:`${K.changeLast<=0?"text-green-200":"text-red-200"} flex-1 text-right`,children:[K.changeLast>=0?"+":"",T(K.changeLast)," (",K.percentLast>=0?"+":"",K.percentLast.toFixed(0),"%)"]})]})]})})()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl p-4 text-white min-w-0 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Hn,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("p",{className:"text-xs opacity-90",children:"Total Debt"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-3xl xl:text-4xl font-bold",children:T($t)}),(()=>{const K=L($t,"totalDebt");return s.jsxs("div",{className:"space-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"1y:"}),s.jsxs("span",{className:`${K.change1Year<=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change1Year>=0?"+":"",T(K.change1Year)," (",K.percent1Year>=0?"+":"",K.percent1Year.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"30d:"}),s.jsxs("span",{className:`${K.change30Days<=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change30Days>=0?"+":"",T(K.change30Days)," (",K.percent30Days>=0?"+":"",K.percent30Days.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"last:"}),s.jsxs("span",{className:`${K.changeLast<=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.changeLast>=0?"+":"",T(K.changeLast)," (",K.percentLast>=0?"+":"",K.percentLast.toFixed(0),"%)"]})]})]})})()]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 3xl:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-green-500/20 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-green-500/30",children:[s.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-lg",children:s.jsx(uT,{className:"w-6 h-6 text-green-400"})}),s.jsx("h3",{className:"text-lg font-bold text-green-400",children:"Cash & Investments"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"space-y-2.5",children:Y.map(K=>{const ie=h.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate flex-1",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-0.5 w-36 justify-end",children:[s.jsx("span",{className:"text-green-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:G(K.id),onFocus:()=>z(K.id),onBlur:()=>F(K.id),onChange:R=>B(K.id,R.target.value),className:`w-28 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${ie?"text-white":"text-gray-500"}`})]})]},K.id)})}),s.jsx("div",{className:"pt-2 mt-2 border-t border-green-500/30",children:s.jsxs("div",{className:"flex items-center justify-between bg-green-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-lg font-bold text-green-300",children:"Total Cash"}),s.jsx("span",{className:"text-lg font-bold text-green-400 w-28 text-right",children:T(H)})]})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"space-y-2.5",children:$.map(K=>{const ie=h.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate flex-1",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-0.5 w-36 justify-end",children:[s.jsx("span",{className:"text-blue-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:G(K.id),onFocus:()=>z(K.id),onBlur:()=>F(K.id),onChange:R=>B(K.id,R.target.value),className:`w-28 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${ie?"text-white":"text-gray-500"}`})]})]},K.id)})}),s.jsx("div",{className:"pt-2 mt-2 border-t border-blue-500/30",children:s.jsxs("div",{className:"flex items-center justify-between bg-blue-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-blue-300",children:"Total Investments"}),s.jsx("span",{className:"text-xl font-bold text-blue-400 w-28 text-right",children:T(Q)})]})})]}),s.jsx("div",{className:"pt-2 mt-2 border-t border-green-500/40",children:s.jsxs("div",{className:"flex items-center justify-between bg-green-500/20 p-2 rounded",children:[s.jsx("span",{className:"text-lg font-bold text-green-300",children:"Total Assets"}),s.jsx("span",{className:"text-lg font-bold text-green-400 w-28 text-right",children:T(H+Q)})]})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-orange-500/20 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-orange-500/30",children:[s.jsx("div",{className:"p-1.5 bg-orange-500/10 rounded-lg",children:s.jsx(oT,{className:"w-6 h-6 text-orange-400"})}),s.jsx("h3",{className:"text-xl font-bold text-orange-400",children:"Credit Cards"})]}),s.jsx("div",{className:"space-y-2.5",children:y.length>0?y.map(K=>{const ie=ee.find(et=>et.id===K);if(!ie)return null;const R=r[ie.id]||0,se=ie.credit_limit||0,xe=se>0?R/se*100:0,Te=h.has(ie.id);return s.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[s.jsx("label",{className:"text-gray-300 text-lg font-medium truncate",style:{width:"200px"},children:ie.account_name}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("div",{className:"flex items-center gap-0.5 justify-end",style:{width:"125px"},children:[s.jsx("span",{className:"text-orange-400 text-lg font-semibold",children:"$"}),s.jsx("input",{type:"text",value:G(ie.id),onFocus:()=>z(ie.id),onBlur:()=>F(ie.id),onChange:et=>B(ie.id,et.target.value),className:`w-20 px-2 py-1 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-lg font-semibold transition-all focus:outline-none ${Te?"text-white":"text-gray-500"}`})]}),s.jsx("span",{className:"text-gray-400 text-base font-medium text-center",style:{width:"125px"},children:T(se)}),s.jsxs("span",{className:`text-base font-semibold text-right pr-4 ${xe>70?"text-orange-400":"text-gray-400"}`,style:{width:"50px"},children:[xe.toFixed(0),"%"]})]})]},ie.id)}):ee.map(K=>{const ie=r[K.id]||0,R=K.credit_limit||0,se=R>0?ie/R*100:0,xe=h.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[s.jsx("label",{className:"text-gray-300 text-lg font-medium truncate",style:{width:"200px"},children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("div",{className:"flex items-center gap-0.5 justify-end",style:{width:"125px"},children:[s.jsx("span",{className:"text-orange-400 text-lg font-semibold",children:"$"}),s.jsx("input",{type:"text",value:G(K.id),onFocus:()=>z(K.id),onBlur:()=>F(K.id),onChange:Te=>B(K.id,Te.target.value),className:`w-20 px-2 py-1 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-lg font-semibold transition-all focus:outline-none ${xe?"text-white":"text-gray-500"}`})]}),s.jsx("span",{className:"text-gray-400 text-base font-medium text-center",style:{width:"125px"},children:T(R)}),s.jsxs("span",{className:`text-base font-semibold text-right pr-4 ${se>70?"text-orange-400":"text-gray-400"}`,style:{width:"50px"},children:[se.toFixed(0),"%"]})]})]},K.id)})}),s.jsx("div",{className:"pt-2 mt-2 border-t border-orange-500/40",children:s.jsxs("div",{className:"flex items-center justify-between bg-orange-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-orange-300 whitespace-nowrap",style:{width:"200px"},children:"Total Credit Cards"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-orange-400 text-right",style:{width:"125px"},children:T(ne)}),s.jsx("span",{className:"text-xl font-bold text-orange-400 text-center",style:{width:"125px"},children:T(ge)}),s.jsxs("span",{className:`text-base font-semibold text-right pr-2 ${be>70?"text-orange-400":"text-gray-400"}`,style:{width:"50px"},children:[be.toFixed(0),"%"]})]})]})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-red-500/20 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-red-500/30",children:[s.jsx("div",{className:"p-1.5 bg-red-500/10 rounded-lg",children:s.jsx(p9,{className:"w-6 h-6 text-red-400"})}),s.jsx("h3",{className:"text-xl font-bold text-red-400",children:"Loans & Taxes"})]}),s.jsxs("div",{className:"space-y-3",children:[J.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"space-y-2.5",children:J.map(K=>{const ie=r[K.id]||0,R=K.credit_limit||0,se=R>0?ie/R*100:0,xe=h.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between px-2",style:{paddingTop:"0.225rem",paddingBottom:"0.225rem"},children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate min-w-[140px]",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"text-red-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:G(K.id),onFocus:()=>z(K.id),onBlur:()=>F(K.id),onChange:Te=>B(K.id,Te.target.value),className:`w-20 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${xe?"text-white":"text-gray-500"}`}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(R)}),s.jsxs("span",{className:"text-gray-400 text-base font-medium w-12 text-right",children:[se.toFixed(0),"%"]})]})]},K.id)})}),s.jsx("div",{className:"mt-2 pt-2 border-t border-red-500/30 space-y-1",children:s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Personal Loans"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T(te)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(Se)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[ce.toFixed(0),"%"]})]})]})})]}),W.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"space-y-2.5",children:W.map(K=>{const ie=r[K.id]||0,R=K.credit_limit||0,se=R>0?ie/R*100:0,xe=h.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between px-2",style:{paddingTop:"0.225rem",paddingBottom:"0.225rem"},children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate min-w-[140px]",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"text-red-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:G(K.id),onFocus:()=>z(K.id),onBlur:()=>F(K.id),onChange:Te=>B(K.id,Te.target.value),className:`w-20 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${xe?"text-white":"text-gray-500"}`}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(R)}),s.jsxs("span",{className:"text-gray-400 text-base font-medium w-12 text-right",children:[se.toFixed(0),"%"]})]})]},K.id)})}),s.jsx("div",{className:"mt-2 pt-2 border-t border-red-500/30 space-y-1",children:s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Auto Loans"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T(pe)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(ke)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[(ke>0?pe/ke*100:0).toFixed(0),"%"]})]})]})})]}),U.length>0&&s.jsx("div",{children:s.jsx("div",{className:"space-y-2.5",children:U.map(K=>{const ie=r[K.id]||0,R=K.credit_limit||0,se=R>0?ie/R*100:0,xe=h.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between px-2",style:{paddingTop:"0.225rem",paddingBottom:"0.225rem"},children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate min-w-[140px]",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"text-red-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:G(K.id),onFocus:()=>z(K.id),onBlur:()=>F(K.id),onChange:Te=>B(K.id,Te.target.value),className:`w-20 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${xe?"text-white":"text-gray-500"}`}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(R)}),s.jsxs("span",{className:"text-gray-400 text-base font-medium w-12 text-right",children:[se.toFixed(0),"%"]})]})]},K.id)})})})]}),s.jsxs("div",{className:"pt-2 mt-2 border-t border-red-500/40 space-y-1",children:[U.length>0&&s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Taxes"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T(de)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(qe)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[Ae.toFixed(0),"%"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Loans"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T(Ye)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(at)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[Jt.toFixed(0),"%"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Debt"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T($t)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(kr)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[sn.toFixed(0),"%"]})]})]})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[s.jsx(lT,{className:"text-blue-400",size:28}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Net Worth History"}),s.jsx("span",{className:"text-gray-400 text-sm ml-2",children:"(Last 30 entries)"})]}),C?s.jsx("div",{className:"text-gray-400 p-5 text-center",children:"Loading history..."}):!k||k.length===0?s.jsxs("div",{className:"bg-gray-900 border-2 border-dashed border-gray-700 rounded-xl p-10 text-center text-gray-400",children:[s.jsx(lT,{size:48,className:"mx-auto mb-4 text-gray-600"}),s.jsx("p",{className:"text-base mb-2",children:"No history yet"}),s.jsx("p",{className:"text-sm",children:"Save your balances to start tracking your net worth over time"})]}):s.jsx("div",{className:"bg-gray-900 border-2 border-gray-800 rounded-xl overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-black border-b-2 border-gray-800",children:[s.jsx("th",{className:"px-4 py-4 text-center text-gray-400 text-xs font-semibold uppercase tracking-wide sticky left-0 bg-black z-10",style:{minWidth:"100px"},children:"Date"}),s.jsx("th",{className:"px-3 py-4 text-center text-white text-xs font-semibold uppercase tracking-wide",style:{minWidth:"90px"},children:"Net Worth"}),s.jsx("th",{className:"px-3 py-4 text-center text-white text-xs font-semibold uppercase tracking-wide",style:{minWidth:"80px"},children:"Change"}),s.jsx("th",{className:"px-3 py-4 text-center text-green-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Total Assets"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Total Debt"}),s.jsx("th",{className:"px-3 py-4 text-center text-green-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"80px"},children:"Cash"}),s.jsx("th",{className:"px-3 py-4 text-center text-green-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Investments"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Credit Cards"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Personal Loans"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Auto Loans"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"80px"},children:"Taxes"})]})}),s.jsx("tbody",{children:k.map((K,ie)=>{const R=ie<k.length-1?k[ie+1]:null,se=R?K.net_worth-R.net_worth:0;R&&R.net_worth!==0&&se/Math.abs(R.net_worth)*100;const xe=K.cash_total+K.investments_total,Te=K.credit_cards_owed+K.loans_total+K.taxes_owed,et=K.loan_accounts.filter(dt=>dt.name.toLowerCase().includes("auto")).reduce((dt,Xe)=>dt+Xe.balance,0),Dt=K.loan_accounts.filter(dt=>!dt.name.toLowerCase().includes("auto")).reduce((dt,Xe)=>dt+Xe.balance,0),Nt=R?R.cash_total+R.investments_total:0,Cr=R?R.credit_cards_owed+R.loans_total+R.taxes_owed:0,Bt=R?R.loan_accounts.filter(dt=>dt.name.toLowerCase().includes("auto")).reduce((dt,Xe)=>dt+Xe.balance,0):0,Yt=R?R.loan_accounts.filter(dt=>!dt.name.toLowerCase().includes("auto")).reduce((dt,Xe)=>dt+Xe.balance,0):0;return s.jsxs("tr",{className:`border-b border-gray-800 ${ie===0?"bg-gray-950":""}`,children:[s.jsxs("td",{className:`px-6 py-4 text-center text-white text-sm sticky left-0 ${ie===0?"bg-gray-950 font-semibold":"bg-gray-900"} z-10`,children:[(()=>{const dt=ot(K.snapshot_date);return dt?dt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):K.snapshot_date})(),ie===0&&s.jsx("span",{className:"ml-2 text-xs px-2 py-1 bg-blue-500 text-white rounded font-semibold",children:"LATEST"})]}),s.jsx("td",{className:"px-6 py-4 text-center text-white text-base font-bold whitespace-nowrap",children:T(K.net_worth)}),s.jsx("td",{className:"px-6 py-4 text-center",children:R?s.jsxs("span",{className:`text-sm font-semibold ${se>=0?"text-green-500":"text-red-500"}`,children:[se>=0?"+":"",T(se)]}):s.jsx("span",{className:"text-gray-500 text-xs",children:"-"})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(xe)}),R&&Nt!==0&&s.jsxs("span",{className:`text-xs ${xe-Nt>=0?"text-green-500":"text-red-500"}`,children:[xe-Nt>=0?"+":"",((xe-Nt)/Math.abs(Nt)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(Te)}),R&&Cr!==0&&s.jsxs("span",{className:`text-xs ${Te-Cr>=0?"text-red-500":"text-green-500"}`,children:[Te-Cr>=0?"+":"",((Te-Cr)/Math.abs(Cr)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(K.cash_total)}),R&&R.cash_total!==0&&s.jsxs("span",{className:`text-xs ${K.cash_total-R.cash_total>=0?"text-green-500":"text-red-500"}`,children:[K.cash_total-R.cash_total>=0?"+":"",((K.cash_total-R.cash_total)/Math.abs(R.cash_total)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(K.investments_total)}),R&&R.investments_total!==0&&s.jsxs("span",{className:`text-xs ${K.investments_total-R.investments_total>=0?"text-green-500":"text-red-500"}`,children:[K.investments_total-R.investments_total>=0?"+":"",((K.investments_total-R.investments_total)/Math.abs(R.investments_total)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(K.credit_cards_owed)}),R&&R.credit_cards_owed!==0&&s.jsxs("span",{className:`text-xs ${K.credit_cards_owed-R.credit_cards_owed>=0?"text-red-500":"text-green-500"}`,children:[K.credit_cards_owed-R.credit_cards_owed>=0?"+":"",((K.credit_cards_owed-R.credit_cards_owed)/Math.abs(R.credit_cards_owed)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(Dt)}),R&&Yt!==0&&s.jsxs("span",{className:`text-xs ${Dt-Yt>=0?"text-red-500":"text-green-500"}`,children:[Dt-Yt>=0?"+":"",((Dt-Yt)/Math.abs(Yt)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(et)}),R&&Bt!==0&&s.jsxs("span",{className:`text-xs ${et-Bt>=0?"text-red-500":"text-green-500"}`,children:[et-Bt>=0?"+":"",((et-Bt)/Math.abs(Bt)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(K.taxes_owed)}),R&&R.taxes_owed!==0&&s.jsxs("span",{className:`text-xs ${K.taxes_owed-R.taxes_owed>=0?"text-red-500":"text-green-500"}`,children:[K.taxes_owed-R.taxes_owed>=0?"+":"",((K.taxes_owed-R.taxes_owed)/Math.abs(R.taxes_owed)*100).toFixed(1),"%"]})]})})]},K.id)})})]})})})]})]})})},GJ=()=>s.jsx(KJ,{}),hv=[{name:"Yellow",value:"rgba(234, 179, 8, 0.2)",solid:"#eab308",emoji:""},{name:"Pink",value:"rgba(236, 72, 153, 0.2)",solid:"#ec4899",emoji:""},{name:"Blue",value:"rgba(59, 130, 246, 0.2)",solid:"#3b82f6",emoji:""},{name:"Green",value:"rgba(34, 197, 94, 0.2)",solid:"#22c55e",emoji:""},{name:"Purple",value:"rgba(168, 85, 247, 0.2)",solid:"#a855f7",emoji:""},{name:"Orange",value:"rgba(249, 115, 22, 0.2)",solid:"#f97316",emoji:""}];function VJ(){const[e,t]=x.useState([]),[r,n]=x.useState(""),[a,i]=x.useState(null),[l,u]=x.useState(!0),[d,m]=x.useState(null),[h,g]=x.useState(null),y=x.useRef({}),v=x.useRef({});x.useEffect(()=>(_(),()=>{Object.values(y.current).forEach(D=>clearTimeout(D))}),[]),x.useEffect(()=>{e.forEach(D=>{const L=v.current[D.id];if(L&&a!==D.id){const B=L.innerHTML,z=D.content||'<span style="color: #6b7280;">Click to write...</span>';B!==z&&(L.innerHTML=z)}})},[e,a,r]);const _=async()=>{try{const{data:D,error:L}=await Z.from("notes").select("*").order("created_at",{ascending:!1});if(L)throw L;t(D||[])}catch(D){console.error("Error fetching notes:",D)}finally{u(!1)}},w=async()=>{try{const{data:{user:D}}=await Z.auth.getUser();if(!D)return;const{data:L,error:B}=await Z.from("notes").insert([{user_id:D.id,title:"New Note",content:"",color:"rgba(234, 179, 8, 0.2)"}]).select();if(B)throw B;L&&(t([L[0],...e]),i(L[0].id))}catch(D){console.error("Error creating note:",D)}},b=x.useCallback((D,L)=>{t(B=>B.map(z=>z.id===D?{...z,...L}:z)),y.current[D]&&clearTimeout(y.current[D]),y.current[D]=setTimeout(async()=>{try{const{error:B}=await Z.from("notes").update({...L,updated_at:new Date().toISOString()}).eq("id",D);if(B)throw B}catch(B){console.error("Error saving note:",B)}},500)},[]),S=async(D,L)=>{try{const{error:B}=await Z.from("notes").update(L).eq("id",D);if(B)throw B;t(e.map(z=>z.id===D?{...z,...L}:z))}catch(B){console.error("Error updating note:",B)}},k=async D=>{if(confirm("Delete this note?"))try{const{error:L}=await Z.from("notes").delete().eq("id",D);if(L)throw L;t(e.filter(B=>B.id!==D))}catch(L){console.error("Error deleting note:",L)}},C=(D,L)=>{const z=L.currentTarget.innerHTML;t(F=>F.map(G=>G.id===D?{...G,content:z}:G)),y.current[D]&&clearTimeout(y.current[D]),y.current[D]=setTimeout(async()=>{try{const{error:F}=await Z.from("notes").update({content:z,updated_at:new Date().toISOString()}).eq("id",D);if(F)throw F}catch(F){console.error("Error saving note:",F)}},500)},A=(D,L)=>{if(L.key==="Enter"){const B=window.getSelection();if(!B||!B.anchorNode)return;let z=B.anchorNode.parentElement;if(!z||z.tagName==="LI"||z.closest("li"))return}},E=(D,L)=>{L.preventDefault();const B=L.clipboardData.getData("text/plain");if(!B)return;const z=window.getSelection();if(!z||!z.rangeCount)return;const F=z.getRangeAt(0);F.deleteContents();const G=document.createTextNode(B);F.insertNode(G),F.setStartAfter(G),F.setEndAfter(G),z.removeAllRanges(),z.addRange(F);const V=L.currentTarget;C(D,{currentTarget:V})},M=(D,L)=>{const B=document.querySelector(`[data-note-id="${D}"]`);if(!B)return;if(B.focus(),L==="bold")document.execCommand("bold",!1);else if(L==="underline")document.execCommand("underline",!1);else if(L==="strikethrough")document.execCommand("strikeThrough",!1);else if(L==="bullet")document.execCommand("insertUnorderedList",!1);else if(L==="numbered")document.execCommand("insertOrderedList",!1);else if(L==="link"){const F=prompt("Enter URL:");if(F){document.execCommand("createLink",!1,F);const G=window.getSelection();if(G&&G.anchorNode){const V=G.anchorNode.parentElement;V&&V.tagName==="A"&&(V.setAttribute("target","_blank"),V.setAttribute("rel","noopener noreferrer"))}}}const z=B.innerHTML;b(D,{content:z})},T=e.filter(D=>D.title.toLowerCase().includes(r.toLowerCase())||D.content.toLowerCase().includes(r.toLowerCase()));return l?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading notes..."})]})}):s.jsxs("div",{className:"h-full flex flex-col bg-gray-950",children:[s.jsx("div",{className:"flex-none border-b border-gray-800 bg-gray-900/95 backdrop-blur-sm sticky top-0 z-10 shadow-lg",children:s.jsx("div",{className:"max-w-[1800px] mx-auto px-6 py-5",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-xl shadow-purple-500/20",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Notes"}),s.jsx(gr,{variant:"secondary",className:"ml-2 bg-gray-800 text-gray-300 border-gray-700",children:e.length})]}),s.jsxs("div",{className:"flex-1 max-w-md relative",children:[s.jsx(_4,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(Tn,{type:"text",placeholder:"Search notes...",value:r,onChange:D=>n(D.target.value),className:"pl-9 bg-gray-900 border-gray-800 text-white placeholder:text-gray-500 focus:border-purple-500/50 focus:ring-purple-500/20"})]}),s.jsxs(Fe,{onClick:w,className:"gap-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-lg shadow-purple-500/20 text-white font-semibold",children:[s.jsx(ma,{className:"h-4 w-4"}),"New Note"]})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"max-w-[1800px] mx-auto p-6",children:T.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-900 flex items-center justify-center mx-auto mb-6 shadow-xl",children:s.jsx("span",{className:"text-5xl opacity-40",children:""})}),s.jsx("p",{className:"text-gray-400 text-xl mb-2",children:r?"No notes found matching your search.":"No notes yet. Create your first note!"}),!r&&s.jsxs(Fe,{onClick:w,variant:"outline",className:"mt-8 gap-2 bg-gray-900 border-gray-800 hover:bg-gray-800 hover:border-purple-500/50 text-gray-300",children:[s.jsx(ma,{className:"h-4 w-4"}),"Create Note"]})]}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-5 animate-in fade-in duration-300",children:T.map(D=>{const L=hv.find(B=>B.value===D.color)||hv[0];return s.jsxs(Jr,{className:"group relative overflow-hidden transition-all duration-200 hover:shadow-2xl hover:-translate-y-1 border-gray-800 backdrop-blur-sm flex flex-col",style:{backgroundColor:L.value,boxShadow:`0 0 20px ${L.solid}20`,height:h===D.id?"600px":"450px"},children:[s.jsx(jj,{className:"pb-4 pt-6 px-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-3 pb-3 border-b border-gray-800/50",children:[s.jsx(Tn,{type:"text",value:D.title,onChange:B=>b(D.id,{title:B.target.value}),onFocus:()=>i(D.id),onBlur:()=>i(null),className:"flex-1 font-bold border-none shadow-none p-0 h-auto focus-visible:ring-0 bg-transparent text-white placeholder:text-gray-600",style:{fontSize:"24px"},placeholder:"Note title..."}),s.jsx(gr,{variant:"outline",className:"text-xs bg-gray-800/50 border-gray-700 text-gray-400 shrink-0",children:new Date(D.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})}),s.jsxs(fo,{className:"px-6 pb-6 flex flex-col flex-1 overflow-hidden",children:[s.jsx("div",{ref:B=>{v.current[D.id]=B,B&&!B.innerHTML&&(B.innerHTML=D.content||'<span style="color: #6b7280;">Click to write...</span>')},"data-note-id":D.id,contentEditable:a===D.id,suppressContentEditableWarning:!0,onInput:B=>C(D.id,B),onKeyDown:B=>A(D.id,B),onPaste:B=>E(D.id,B),onClick:B=>{const z=B.target;if(z.tagName==="A"){B.preventDefault();const F=z.href;F&&window.open(F,"_blank","noopener,noreferrer")}else i(D.id),g(D.id)},onBlur:B=>{setTimeout(()=>{B.currentTarget.contains(document.activeElement)||(i(null),g(null))},0)},className:"flex-1 overflow-auto cursor-text p-0 text-white leading-relaxed font-sans focus:outline-none custom-scrollbar",style:{wordBreak:"break-word",fontSize:"18px"}}),s.jsx("style",{children:`
                        /* Custom discrete scrollbar */
                        .custom-scrollbar::-webkit-scrollbar {
                          width: 6px;
                        }
                        .custom-scrollbar::-webkit-scrollbar-track {
                          background: transparent;
                        }
                        .custom-scrollbar::-webkit-scrollbar-thumb {
                          background: rgba(255, 255, 255, 0.1);
                          border-radius: 3px;
                        }
                        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                          background: rgba(255, 255, 255, 0.2);
                        }

                        [data-note-id] {
                          color: #ffffff !important;
                        }
                        [data-note-id] *,
                        [data-note-id] span,
                        [data-note-id] div,
                        [data-note-id] p {
                          color: #ffffff !important;
                        }
                        [data-note-id] b, [data-note-id] strong {
                          font-weight: 700;
                          color: #ffffff !important;
                        }
                        [data-note-id] u {
                          text-decoration: underline;
                          color: #ffffff !important;
                        }
                        [data-note-id] s,
                        [data-note-id] strike,
                        [data-note-id] del {
                          text-decoration: line-through;
                          color: #ffffff !important;
                        }
                        [data-note-id] a {
                          color: #60a5fa !important;
                          text-decoration: underline;
                          cursor: pointer;
                        }
                        [data-note-id] a:hover {
                          color: #93c5fd !important;
                        }
                        [data-note-id] ul, [data-note-id] ol {
                          margin: 0.5rem 0;
                          padding-left: 1.5rem;
                          color: #ffffff !important;
                        }
                        [data-note-id] ul li {
                          list-style-type: disc;
                          margin: 0.25rem 0;
                          color: #ffffff !important;
                        }
                        [data-note-id] ol li {
                          list-style-type: decimal;
                          margin: 0.25rem 0;
                          color: #ffffff !important;
                        }
                        [data-note-id]:empty:before {
                          content: attr(data-placeholder);
                          color: #6b7280;
                          cursor: text;
                        }
                      `}),s.jsxs("div",{className:"flex items-center justify-between gap-2 mt-4 pt-4 border-t border-gray-800/50",onMouseDown:B=>B.preventDefault(),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>M(D.id,"bold"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Bold",children:s.jsx(Pq,{className:"h-4 w-4"})}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>M(D.id,"underline"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Underline",children:s.jsx(X9,{className:"h-4 w-4"})}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>M(D.id,"strikethrough"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Strikethrough",children:s.jsx(z9,{className:"h-4 w-4"})}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>M(D.id,"bullet"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Bullet list",children:s.jsx(j9,{className:"h-4 w-4"})}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>M(D.id,"numbered"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Numbered list",children:s.jsx(v9,{className:"h-4 w-4"})}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>M(D.id,"link"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Add link",children:s.jsx(b4,{className:"h-4 w-4"})}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>m(d===D.id?null:D.id),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Change color",children:s.jsx(k9,{className:"h-4 w-4"})})]}),s.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>k(D.id),className:"h-8 w-8 p-0 text-red-400 hover:text-red-300 hover:bg-red-950/30",title:"Delete note",children:s.jsx(Fa,{className:"h-4 w-4"})})]}),d===D.id&&s.jsx("div",{className:"flex gap-1.5 pt-3 animate-in fade-in slide-in-from-top-2 duration-200",children:hv.map(B=>s.jsx("button",{onClick:()=>{S(D.id,{color:B.value}),m(null)},className:`w-8 h-8 rounded-full border-2 transition-all hover:scale-110 flex items-center justify-center shadow-lg ${D.color===B.value?"ring-2 ring-offset-2 ring-offset-gray-900 scale-110":""}`,style:{backgroundColor:B.solid,borderColor:D.color===B.value?B.solid:"#374151",boxShadow:`0 0 20px ${B.solid}40`},title:B.name,children:s.jsx("span",{className:"text-sm drop-shadow-lg",children:D.color===B.value?B.emoji:""})},B.value))})]})]},D.id)})})})})]})}var mv={},gv={},gA;function QJ(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(gv)),gv}var pv={},pA;function C5(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(pv)),pv}var yv={},yA;function Ej(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(yv)),yv}var xv={},vv={},xA;function XJ(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(vv)),vv}var vA;function Oj(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XJ(),r=Ej();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let u=0,d="",m="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),u++);u<l;){const g=a[u];m?g==="\\"&&u+1<l?(u++,d+=a[u]):g===m?m="":d+=g:h?g==='"'||g==="'"?m=g:g==="]"?(h=!1,i.push(d),d=""):d+=g:g==="["?(h=!0,d&&(i.push(d),d="")):g==="."?d&&(i.push(d),d=""):d+=g,u++}return d&&i.push(d),i}e.toPath=n})(xv)),xv}var bA;function Dj(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QJ(),r=C5(),n=Ej(),a=Oj();function i(u,d,m){if(u==null)return m;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return m;const h=u[d];return h===void 0?r.isDeepKey(d)?i(u,a.toPath(d),m):m:h}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const h=u[d];return h===void 0?m:h}default:{if(Array.isArray(d))return l(u,d,m);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return m;const h=u[d];return h===void 0?m:h}}}function l(u,d,m){if(d.length===0)return m;let h=u;for(let g=0;g<d.length;g++){if(h==null||t.isUnsafeProperty(d[g]))return m;h=h[d[g]]}return h===void 0?m:h}e.get=i})(mv)),mv}var bv,wA;function ZJ(){return wA||(wA=1,bv=Dj().get),bv}var JJ=ZJ();const Gc=Wa(JJ);var wv={exports:{}},Qt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function eee(){if(jA)return Qt;jA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function _(w){if(typeof w=="object"&&w!==null){var b=w.$$typeof;switch(b){case e:switch(w=w.type,w){case r:case a:case n:case d:case m:case y:return w;default:switch(w=w&&w.$$typeof,w){case l:case u:case g:case h:return w;case i:return w;default:return b}}case t:return b}}}return Qt.ContextConsumer=i,Qt.ContextProvider=l,Qt.Element=e,Qt.ForwardRef=u,Qt.Fragment=r,Qt.Lazy=g,Qt.Memo=h,Qt.Portal=t,Qt.Profiler=a,Qt.StrictMode=n,Qt.Suspense=d,Qt.SuspenseList=m,Qt.isContextConsumer=function(w){return _(w)===i},Qt.isContextProvider=function(w){return _(w)===l},Qt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Qt.isForwardRef=function(w){return _(w)===u},Qt.isFragment=function(w){return _(w)===r},Qt.isLazy=function(w){return _(w)===g},Qt.isMemo=function(w){return _(w)===h},Qt.isPortal=function(w){return _(w)===t},Qt.isProfiler=function(w){return _(w)===a},Qt.isStrictMode=function(w){return _(w)===n},Qt.isSuspense=function(w){return _(w)===d},Qt.isSuspenseList=function(w){return _(w)===m},Qt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===d||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===h||w.$$typeof===l||w.$$typeof===i||w.$$typeof===u||w.$$typeof===v||w.getModuleId!==void 0)},Qt.typeOf=_,Qt}var _A;function tee(){return _A||(_A=1,wv.exports=eee()),wv.exports}var ree=tee(),qn=e=>e===0?0:e>0?1:-1,pa=e=>typeof e=="number"&&e!=+e,sl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ke=e=>(typeof e=="number"||e instanceof Number)&&!pa(e),Os=e=>Ke(e)||typeof e=="string",nee=0,Vd=e=>{var t=++nee;return"".concat(e||"").concat(t)},ss=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(t)&&typeof t!="string")return n;var i;if(sl(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return pa(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},T5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Rr(e,t,r){return Ke(e)&&Ke(t)?e+r*(t-e):t}function A5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Gc(n,t))===r)}var lr=e=>e===null||typeof e>"u",Nf=e=>lr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),aee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mj(e){if(typeof e!="string")return!1;var t=aee;return t.includes(e)}var see=["viewBox","children"],SA=["points","pathLength"],jv={svg:see,polygon:SA,polyline:SA},Pj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Mj(a)&&(n[a]=(i=>r[a](r,i)))}),n},iee=(e,t,r)=>n=>(e(t,r,n),null),Op=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Mj(a)&&typeof i=="function"&&(n||(n={}),n[a]=iee(i,t,r))}),n},oee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function E5(e){if(typeof e!="string")return!1;var t=oee;return t.includes(e)}function _o(e){var t=Object.entries(e).filter(r=>{var[n]=r;return E5(n)});return Object.fromEntries(t)}var NA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",kA=null,_v=null,O5=e=>{if(e===kA&&Array.isArray(_v))return _v;var t=[];return x.Children.forEach(e,r=>{lr(r)||(ree.isFragment(r)?t=t.concat(O5(r.props.children)):t.push(r))}),_v=t,kA=e,t};function lee(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>NA(a)):n=[NA(t)],O5(e).forEach(a=>{var i=Gc(a,"type.displayName")||Gc(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var D5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,cee=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&jv?.[n])!==null&&a!==void 0?a:[],l=t.startsWith("data-"),u=typeof e!="function"&&(!!n&&i.includes(t)||E5(t)),d=!!r&&Mj(t);return l||u||d},Nr=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var l;cee((l=n)===null||l===void 0?void 0:l[i],i,t,r)&&(a[i]=n[i])}),a},uee=["children","width","height","viewBox","className","style","title","desc"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(null,arguments)}function dee(e,t){if(e==null)return{};var r,n,a=fee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rj=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:u,title:d,desc:m}=e,h=dee(e,uee),g=i||{width:n,height:a,x:0,y:0},y=Rt("recharts-surface",l);return x.createElement("svg",Rw({},Nr(h,!0,"svg"),{className:y,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,m),r)}),hee=["children","className"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(null,arguments)}function mee(e,t){if(e==null)return{};var r,n,a=gee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var is=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=mee(e,hee),i=Rt("recharts-layer",n);return x.createElement("g",Iw({className:i},Nr(a,!0),{ref:t}),r)}),M5=x.createContext(null),pee=()=>x.useContext(M5);function tr(e){return function(){return e}}const P5=Math.cos,ug=Math.sin,us=Math.sqrt,dg=Math.PI,Dp=2*dg,Lw=Math.PI,$w=2*Lw,Jo=1e-6,yee=$w-Jo;function R5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function xee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return R5;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class vee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?R5:xee(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=n-t,m=a-r,h=l-t,g=u-r,y=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Jo)if(!(Math.abs(g*d-m*h)>Jo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,_=a-u,w=d*d+m*m,b=v*v+_*_,S=Math.sqrt(w),k=Math.sqrt(y),C=i*Math.tan((Lw-Math.acos((w+y-b)/(2*S*k)))/2),A=C/k,E=C/S;Math.abs(A-1)>Jo&&this._append`L${t+A*h},${r+A*g}`,this._append`A${i},${i},0,0,${+(g*v>h*_)},${this._x1=t+E*d},${this._y1=r+E*m}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),m=t+u,h=r+d,g=1^l,y=l?a-i:i-a;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Jo||Math.abs(this._y1-h)>Jo)&&this._append`L${m},${h}`,n&&(y<0&&(y=y%$w+$w),y>yee?this._append`A${n},${n},0,1,${g},${t-u},${r-d}A${n},${n},0,1,${g},${this._x1=m},${this._y1=h}`:y>Jo&&this._append`A${n},${n},0,${+(y>=Lw)},${g},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ij(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vee(t)}function Lj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function I5(e){this._context=e}I5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mp(e){return new I5(e)}function L5(e){return e[0]}function $5(e){return e[1]}function B5(e,t){var r=tr(!0),n=null,a=Mp,i=null,l=Ij(u);e=typeof e=="function"?e:e===void 0?L5:tr(e),t=typeof t=="function"?t:t===void 0?$5:tr(t);function u(d){var m,h=(d=Lj(d)).length,g,y=!1,v;for(n==null&&(i=a(v=l())),m=0;m<=h;++m)!(m<h&&r(g=d[m],m,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+e(g,m,d),+t(g,m,d));if(v)return i=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:tr(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:tr(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:tr(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),u):n},u}function Nm(e,t,r){var n=null,a=tr(!0),i=null,l=Mp,u=null,d=Ij(m);e=typeof e=="function"?e:e===void 0?L5:tr(+e),t=typeof t=="function"?t:tr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$5:tr(+r);function m(g){var y,v,_,w=(g=Lj(g)).length,b,S=!1,k,C=new Array(w),A=new Array(w);for(i==null&&(u=l(k=d())),y=0;y<=w;++y){if(!(y<w&&a(b=g[y],y,g))===S)if(S=!S)v=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=y-1;_>=v;--_)u.point(C[_],A[_]);u.lineEnd(),u.areaEnd()}S&&(C[y]=+e(b,y,g),A[y]=+t(b,y,g),u.point(n?+n(b,y,g):C[y],r?+r(b,y,g):A[y]))}if(k)return u=null,k+""||null}function h(){return B5().defined(a).curve(l).context(i)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:tr(+g),n=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:tr(+g),m):e},m.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:tr(+g),m):n},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:tr(+g),r=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:tr(+g),m):t},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:tr(+g),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(g){return arguments.length?(a=typeof g=="function"?g:tr(!!g),m):a},m.curve=function(g){return arguments.length?(l=g,i!=null&&(u=l(i)),m):l},m.context=function(g){return arguments.length?(g==null?i=u=null:u=l(i=g),m):i},m}class z5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function bee(e){return new z5(e,!0)}function wee(e){return new z5(e,!1)}const $j={draw(e,t){const r=us(t/dg);e.moveTo(r,0),e.arc(0,0,r,0,Dp)}},jee={draw(e,t){const r=us(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},F5=us(1/3),_ee=F5*2,See={draw(e,t){const r=us(t/_ee),n=r*F5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Nee={draw(e,t){const r=us(t),n=-r/2;e.rect(n,n,r,r)}},kee=.8908130915292852,q5=ug(dg/10)/ug(7*dg/10),Cee=ug(Dp/10)*q5,Tee=-P5(Dp/10)*q5,Aee={draw(e,t){const r=us(t*kee),n=Cee*r,a=Tee*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=Dp*i/5,u=P5(l),d=ug(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*a,d*n+u*a)}e.closePath()}},Sv=us(3),Eee={draw(e,t){const r=-us(t/(Sv*3));e.moveTo(0,r*2),e.lineTo(-Sv*r,-r),e.lineTo(Sv*r,-r),e.closePath()}},Da=-.5,Ma=us(3)/2,Bw=1/us(12),Oee=(Bw/2+1)*3,Dee={draw(e,t){const r=us(t/Oee),n=r/2,a=r*Bw,i=n,l=r*Bw+r,u=-i,d=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(Da*n-Ma*a,Ma*n+Da*a),e.lineTo(Da*i-Ma*l,Ma*i+Da*l),e.lineTo(Da*u-Ma*d,Ma*u+Da*d),e.lineTo(Da*n+Ma*a,Da*a-Ma*n),e.lineTo(Da*i+Ma*l,Da*l-Ma*i),e.lineTo(Da*u+Ma*d,Da*d-Ma*u),e.closePath()}};function Mee(e,t){let r=null,n=Ij(a);e=typeof e=="function"?e:tr(e||$j),t=typeof t=="function"?t:tr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:tr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:tr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function fg(){}function hg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function U5(e){this._context=e}U5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pee(e){return new U5(e)}function H5(e){this._context=e}H5.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ree(e){return new H5(e)}function W5(e){this._context=e}W5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Iee(e){return new W5(e)}function Y5(e){this._context=e}Y5.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Lee(e){return new Y5(e)}function CA(e){return e<0?-1:1}function TA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(i*a+l*n)/(n+a);return(CA(i)+CA(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function AA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Nv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,u=(i-n)/3;e._context.bezierCurveTo(n+u,a+u*t,i-u,l-u*r,i,l)}function mg(e){this._context=e}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nv(this,this._t0,AA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Nv(this,AA(this,r=TA(this,e,t)),r);break;default:Nv(this,this._t0,r=TA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function K5(e){this._context=new G5(e)}(K5.prototype=Object.create(mg.prototype)).point=function(e,t){mg.prototype.point.call(this,t,e)};function G5(e){this._context=e}G5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function $ee(e){return new mg(e)}function Bee(e){return new K5(e)}function V5(e){this._context=e}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=EA(e),a=EA(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function EA(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function zee(e){return new V5(e)}function Pp(e,t){this._context=e,this._t=t}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fee(e){return new Pp(e,.5)}function qee(e){return new Pp(e,0)}function Uee(e){return new Pp(e,1)}function Vc(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,u=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function zw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Hee(e,t){return e[t]}function Wee(e){const t=[];return t.key=e,t}function Yee(){var e=tr([]),t=zw,r=Vc,n=Hee;function a(i){var l=Array.from(e.apply(this,arguments),Wee),u,d=l.length,m=-1,h;for(const g of i)for(u=0,++m;u<d;++u)(l[u][m]=[0,+n(g,l[u].key,m,i)]).data=g;for(u=0,h=Lj(t(l));u<d;++u)l[h[u]].index=u;return r(l,h),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:tr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:tr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?zw:typeof i=="function"?i:tr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Vc,a):r},a}function Kee(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Vc(e,t)}}function Gee(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Vc(e,t)}}function Vee(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var u=0,d=0,m=0;u<l;++u){for(var h=e[t[u]],g=h[n][1]||0,y=h[n-1][1]||0,v=(g-y)/2,_=0;_<u;++_){var w=e[t[_]],b=w[n][1]||0,S=w[n-1][1]||0;v+=b-S}d+=g,m+=v*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=m/d)}a[n-1][1]+=a[n-1][0]=r,Vc(e,t)}}var Qee=["type","size","sizeType"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fw.apply(null,arguments)}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){Xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xee(e,t,r){return(t=Zee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ete(e,t){if(e==null)return{};var r,n,a=tte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q5={symbolCircle:$j,symbolCross:jee,symbolDiamond:See,symbolSquare:Nee,symbolStar:Aee,symbolTriangle:Eee,symbolWye:Dee},rte=Math.PI/180,nte=e=>{var t="symbol".concat(Nf(e));return Q5[t]||$j},ate=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*rte;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ste=(e,t)=>{Q5["symbol".concat(Nf(e))]=t},Bj=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=ete(e,Qee),i=DA(DA({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=nte(l),v=Mee().type(y).size(ate(r,n,l));return v()},{className:d,cx:m,cy:h}=i,g=Nr(i,!0);return m===+m&&h===+h&&r===+r?x.createElement("path",Fw({},g,{className:Rt("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};Bj.registerSymbol=ste;function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(null,arguments)}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ite(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){zj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zj(e,t,r){return(t=ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ote(e){var t=lte(e,"string");return typeof t=="symbol"?t:t+""}function lte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pa=32;class Fj extends x.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Pa/2,i=Pa/6,l=Pa/3,u=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Pa,y2:a,className:"recharts-legend-icon"});if(d==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Pa,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Pa/8,"h").concat(Pa,"v").concat(Pa*3/4,"h").concat(-Pa,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var m=ite({},t);return delete m.legendIcon,x.cloneElement(t.legendIcon,m)}return x.createElement(Bj,{fill:u,cx:a,cy:a,size:Pa,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,u={x:0,y:0,width:Pa,height:Pa},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var y=h.formatter||a,v=Rt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var _=h.inactive?i:h.color,w=y?y(h.value,h,g):h.value;return x.createElement("li",qw({className:v,style:d,key:"legend-item-".concat(g)},Op(this.props,h,g)),x.createElement(Rj,{width:r,height:r,viewBox:u,style:m,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,l)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}zj(Fj,"displayName","Legend");zj(Fj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var kv={},Cv={},PA;function cte(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(Cv)),Cv}var Tv={},RA;function X5(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Tv)),Tv}var Av={},Ev={},Ov={},IA;function ute(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Ov)),Ov}var LA;function qj(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ute();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ev)),Ev}var Dv={},$A;function dte(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Dv)),Dv}var BA;function fte(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qj(),r=dte();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Av)),Av}var Mv={},Pv={},zA;function hte(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dj();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Pv)),Pv}var Rv={},Iv={},Lv={},$v={},FA;function Z5(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})($v)),$v}var Bv={},qA;function J5(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Bv)),Bv}var zv={},UA;function eR(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(zv)),zv}var HA;function mte(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uj(),r=Z5(),n=J5(),a=eR();function i(g,y,v){return typeof v!="function"?t.isMatch(g,y):l(g,y,function _(w,b,S,k,C,A){const E=v(w,b,S,k,C,A);return E!==void 0?!!E:l(w,b,_,A)},new Map)}function l(g,y,v,_){if(y===g)return!0;switch(typeof y){case"object":return u(g,y,v,_);case"function":return Object.keys(y).length>0?l(g,{...y},v,_):a.eq(g,y);default:return r.isObject(g)?typeof y=="string"?y==="":!0:a.eq(g,y)}}function u(g,y,v,_){if(y==null)return!0;if(Array.isArray(y))return m(g,y,v,_);if(y instanceof Map)return d(g,y,v,_);if(y instanceof Set)return h(g,y,v,_);const w=Object.keys(y);if(g==null)return w.length===0;if(w.length===0)return!0;if(_&&_.has(y))return _.get(y)===g;_&&_.set(y,g);try{for(let b=0;b<w.length;b++){const S=w[b];if(!n.isPrimitive(g)&&!(S in g)||y[S]===void 0&&g[S]!==void 0||y[S]===null&&g[S]!==null||!v(g[S],y[S],S,g,y,_))return!1}return!0}finally{_&&_.delete(y)}}function d(g,y,v,_){if(y.size===0)return!0;if(!(g instanceof Map))return!1;for(const[w,b]of y.entries()){const S=g.get(w);if(v(S,b,w,g,y,_)===!1)return!1}return!0}function m(g,y,v,_){if(y.length===0)return!0;if(!Array.isArray(g))return!1;const w=new Set;for(let b=0;b<y.length;b++){const S=y[b];let k=!1;for(let C=0;C<g.length;C++){if(w.has(C))continue;const A=g[C];let E=!1;if(v(A,S,b,g,y,_)&&(E=!0),E){w.add(C),k=!0;break}}if(!k)return!1}return!0}function h(g,y,v,_){return y.size===0?!0:g instanceof Set?m([...g],[...y],v,_):!1}e.isMatchWith=i,e.isSetMatch=h})(Lv)),Lv}var WA;function Uj(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mte();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Iv)),Iv}var Fv={},qv={},Uv={},YA;function gte(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Uv)),Uv}var Hv={},KA;function tR(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Hv)),Hv}var Wv={},GA;function rR(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",m="[object Set]",h="[object Array]",g="[object Function]",y="[object ArrayBuffer]",v="[object Object]",_="[object Error]",w="[object DataView]",b="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",C="[object Uint32Array]",A="[object BigUint64Array]",E="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",D="[object BigInt64Array]",L="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=y,e.arrayTag=h,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=A,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=_,e.float32ArrayTag=L,e.float64ArrayTag=B,e.functionTag=g,e.int16ArrayTag=M,e.int32ArrayTag=T,e.int8ArrayTag=E,e.mapTag=d,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=k,e.uint32ArrayTag=C,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=S})(Wv)),Wv}var Yv={},VA;function pte(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Yv)),Yv}var QA;function nR(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gte(),r=tR(),n=rR(),a=J5(),i=pte();function l(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,y,v=new Map,_=void 0){const w=_?.(h,g,y,v);if(w!==void 0)return w;if(a.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const b=new Array(h.length);v.set(h,b);for(let S=0;S<h.length;S++)b[S]=u(h[S],S,y,v,_);return Object.hasOwn(h,"index")&&(b.index=h.index),Object.hasOwn(h,"input")&&(b.input=h.input),b}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const b=new RegExp(h.source,h.flags);return b.lastIndex=h.lastIndex,b}if(h instanceof Map){const b=new Map;v.set(h,b);for(const[S,k]of h)b.set(S,u(k,S,y,v,_));return b}if(h instanceof Set){const b=new Set;v.set(h,b);for(const S of h)b.add(u(S,void 0,y,v,_));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const b=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,b);for(let S=0;S<h.length;S++)b[S]=u(h[S],S,y,v,_);return b}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const b=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,b),d(b,h,y,v,_),b}if(typeof File<"u"&&h instanceof File){const b=new File([h],h.name,{type:h.type});return v.set(h,b),d(b,h,y,v,_),b}if(typeof Blob<"u"&&h instanceof Blob){const b=new Blob([h],{type:h.type});return v.set(h,b),d(b,h,y,v,_),b}if(h instanceof Error){const b=new h.constructor;return v.set(h,b),b.message=h.message,b.name=h.name,b.stack=h.stack,b.cause=h.cause,d(b,h,y,v,_),b}if(h instanceof Boolean){const b=new Boolean(h.valueOf());return v.set(h,b),d(b,h,y,v,_),b}if(h instanceof Number){const b=new Number(h.valueOf());return v.set(h,b),d(b,h,y,v,_),b}if(h instanceof String){const b=new String(h.valueOf());return v.set(h,b),d(b,h,y,v,_),b}if(typeof h=="object"&&m(h)){const b=Object.create(Object.getPrototypeOf(h));return v.set(h,b),d(b,h,y,v,_),b}return h}function d(h,g,y=h,v,_){const w=[...Object.keys(g),...t.getSymbols(g)];for(let b=0;b<w.length;b++){const S=w[b],k=Object.getOwnPropertyDescriptor(h,S);(k==null||k.writable)&&(h[S]=u(g[S],S,y,v,_))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(qv)),qv}var XA;function yte(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nR();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Fv)),Fv}var ZA;function xte(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uj(),r=yte();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Rv)),Rv}var Kv={},Gv={},Vv={},JA;function vte(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nR(),r=rR();function n(a,i){return t.cloneDeepWith(a,(l,u,d,m)=>{const h=i?.(l,u,d,m);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(Vv)),Vv}var eE;function bte(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vte();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Gv)),Gv}var Qv={},Xv={},tE;function aR(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Xv)),Xv}var Zv={},rE;function wte(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Zv)),Zv}var nE;function jte(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C5(),r=aR(),n=wte(),a=Oj();function i(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let m=l;for(let h=0;h<d.length;h++){const g=d[h];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=i})(Qv)),Qv}var aE;function _te(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uj(),r=Ej(),n=bte(),a=Dj(),i=jte();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(m){const h=a.get(m,u);return h===void 0?i.has(m,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(Kv)),Kv}var sE;function Ste(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X5(),r=hte(),n=xte(),a=_te();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(Mv)),Mv}var iE;function Nte(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cte(),r=X5(),n=fte(),a=Ste();function i(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(u)):[]}e.uniqBy=i})(kv)),kv}var Jv,oE;function kte(){return oE||(oE=1,Jv=Nte().uniqBy),Jv}var Cte=kte();const lE=Wa(Cte);function sR(e,t,r){return t===!0?lE(e,r):typeof t=="function"?lE(e,t):e}var eb={exports:{}},tb={},rb={exports:{}},nb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Tte(){if(cE)return nb;cE=1;var e=au();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function u(g,y){var v=y(),_=n({inst:{value:v,getSnapshot:y}}),w=_[0].inst,b=_[1];return i(function(){w.value=v,w.getSnapshot=y,d(w)&&b({inst:w})},[g,v,y]),a(function(){return d(w)&&b({inst:w}),g(function(){d(w)&&b({inst:w})})},[g]),l(v),v}function d(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!r(g,v)}catch{return!0}}function m(g,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return nb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,nb}var uE;function Ate(){return uE||(uE=1,rb.exports=Tte()),rb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function Ete(){if(dE)return tb;dE=1;var e=au(),t=Ate();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return tb.useSyncExternalStoreWithSelector=function(m,h,g,y,v){var _=i(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=u(function(){function S(M){if(!k){if(k=!0,C=M,M=y(M),v!==void 0&&w.hasValue){var T=w.value;if(v(T,M))return A=T}return A=M}if(T=A,n(C,M))return T;var D=y(M);return v!==void 0&&v(T,D)?(C=M,T):(C=M,A=D)}var k=!1,C,A,E=g===void 0?null:g;return[function(){return S(h())},E===null?void 0:function(){return S(E())}]},[h,g,y,v]);var b=a(m,_[0],_[1]);return l(function(){w.hasValue=!0,w.value=b},[b]),d(b),b},tb}var fE;function Ote(){return fE||(fE=1,eb.exports=Ete()),eb.exports}var iR=Ote();const Dte=Wa(iR);var Hj=x.createContext(null),Mte=e=>e,Lr=()=>{var e=x.useContext(Hj);return e?e.store.dispatch:Mte},Km=()=>{},Pte=()=>Km,Rte=(e,t)=>e===t;function ze(e){var t=x.useContext(Hj);return iR.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Pte,t?t.store.getState:Km,t?t.store.getState:Km,t?e:Km,Rte)}function Ite(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Lte(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $te(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var hE=e=>Array.isArray(e)?e:[e];function Bte(e){const t=Array.isArray(e[0])?e[0]:e;return $te(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function zte(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Fte=class{constructor(e){this.value=e}deref(){return this.value}},qte=typeof WeakRef<"u"?WeakRef:Fte,Ute=0,mE=1;function km(){return{s:Ute,v:void 0,o:null,p:null}}function oR(e,t={}){let r=km();const{resultEqualityCheck:n}=t;let a,i=0;function l(){let u=r;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const w=_.get(v);w===void 0?(u=km(),_.set(v,u)):u=w}else{let _=u.p;_===null&&(u.p=_=new Map);const w=_.get(v);w===void 0?(u=km(),_.set(v,u)):u=w}}const m=u;let h;if(u.s===mE)h=u.v;else if(h=e.apply(null,arguments),i++,n){const g=a?.deref?.()??a;g!=null&&n(g,h)&&(h=g,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new qte(h):h}return m.s=mE,m.v=h,h}return l.clearCache=()=>{r=km(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Hte(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,u,d={},m=a.pop();typeof m=="object"&&(d=m,m=a.pop()),Ite(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...d},{memoize:g,memoizeOptions:y=[],argsMemoize:v=oR,argsMemoizeOptions:_=[]}=h,w=hE(y),b=hE(_),S=Bte(a),k=g(function(){return i++,m.apply(null,arguments)},...w),C=v(function(){l++;const E=zte(S,arguments);return u=k.apply(null,E),u},...b);return Object.assign(C,{resultFunc:m,memoizedResultFunc:k,dependencies:S,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:g,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var he=Hte(oR),Wte=Object.assign((e,t=he)=>{Lte(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>Wte}),ab={},sb={},ib={},gE;function Yte(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?u-l:l-u}return 0};e.compareValues=r})(ib)),ib}var ob={},lb={},pE;function lR(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(lb)),lb}var yE;function Kte(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lR(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(ob)),ob}var xE;function Gte(){return xE||(xE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yte(),r=Kte(),n=Oj();function a(i,l,u,d){if(i==null)return[];u=d?void 0:u,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const m=(v,_)=>{let w=v;for(let b=0;b<_.length&&w!=null;++b)w=w[_[b]];return w},h=(v,_)=>_==null||v==null?_:typeof v=="object"&&"key"in v?Object.hasOwn(_,v.key)?_[v.key]:m(_,v.path):typeof v=="function"?v(_):Array.isArray(v)?m(_,v):typeof _=="object"?_[v]:_,g=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return i.map(v=>({original:v,criteria:g.map(_=>h(_,v))})).slice().sort((v,_)=>{for(let w=0;w<g.length;w++){const b=t.compareValues(v.criteria[w],_.criteria[w],u[w]);if(b!==0)return b}return 0}).map(v=>v.original)}e.orderBy=a})(sb)),sb}var cb={},vE;function Vte(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(u,d)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&d<i?l(h,d+1):a.push(h)}};return l(r,0),a}e.flatten=t})(cb)),cb}var ub={},bE;function cR(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR(),r=qj(),n=Z5(),a=eR();function i(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}e.isIterateeCall=i})(ub)),ub}var wE;function Qte(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gte(),r=Vte(),n=cR();function a(i,...l){const u=l.length;return u>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(ab)),ab}var db,jE;function Xte(){return jE||(jE=1,db=Qte().sortBy),db}var Zte=Xte();const Rp=Wa(Zte);var uR=e=>e.legend.settings,Jte=e=>e.legend.size,ere=e=>e.legend.payload,tre=he([ere,uR],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Rp(n,r):n});function rre(){return ze(tre)}var Cm=1;function dR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>Cm||Math.abs(l.left-t.left)>Cm||Math.abs(l.top-t.top)>Cm||Math.abs(l.width-t.width)>Cm)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function dn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nre=typeof Symbol=="function"&&Symbol.observable||"@@observable",_E=nre,fb=()=>Math.random().toString(36).substring(7).split("").join("."),are={INIT:`@@redux/INIT${fb()}`,REPLACE:`@@redux/REPLACE${fb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fb()}`},gg=are;function Wj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function fR(e,t,r){if(typeof e!="function")throw new Error(dn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(dn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(dn(1));return r(fR)(e,t)}let n=e,a=t,i=new Map,l=i,u=0,d=!1;function m(){l===i&&(l=new Map,i.forEach((b,S)=>{l.set(S,b)}))}function h(){if(d)throw new Error(dn(3));return a}function g(b){if(typeof b!="function")throw new Error(dn(4));if(d)throw new Error(dn(5));let S=!0;m();const k=u++;return l.set(k,b),function(){if(S){if(d)throw new Error(dn(6));S=!1,m(),l.delete(k),i=null}}}function y(b){if(!Wj(b))throw new Error(dn(7));if(typeof b.type>"u")throw new Error(dn(8));if(typeof b.type!="string")throw new Error(dn(17));if(d)throw new Error(dn(9));try{d=!0,a=n(a,b)}finally{d=!1}return(i=l).forEach(k=>{k()}),b}function v(b){if(typeof b!="function")throw new Error(dn(10));n=b,y({type:gg.REPLACE})}function _(){const b=g;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(dn(11));function k(){const A=S;A.next&&A.next(h())}return k(),{unsubscribe:b(k)}},[_E](){return this}}}return y({type:gg.INIT}),{dispatch:y,subscribe:g,getState:h,replaceReducer:v,[_E]:_}}function sre(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:gg.INIT})>"u")throw new Error(dn(12));if(typeof r(void 0,{type:gg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dn(13))})}function hR(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{sre(r)}catch(i){a=i}return function(l={},u){if(a)throw a;let d=!1;const m={};for(let h=0;h<n.length;h++){const g=n[h],y=r[g],v=l[g],_=y(v,u);if(typeof _>"u")throw u&&u.type,new Error(dn(14));m[g]=_,d=d||_!==v}return d=d||n.length!==Object.keys(l).length,d?m:l}}function pg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function ire(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(dn(15))};const l={getState:a.getState,dispatch:(d,...m)=>i(d,...m)},u=e.map(d=>d(l));return i=pg(...u)(a.dispatch),{...a,dispatch:i}}}function mR(e){return Wj(e)&&"type"in e&&typeof e.type=="string"}var gR=Symbol.for("immer-nothing"),SE=Symbol.for("immer-draftable"),ya=Symbol.for("immer-state");function es(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qc=Object.getPrototypeOf;function Sl(e){return!!e&&!!e[ya]}function gi(e){return e?pR(e)||Array.isArray(e)||!!e[SE]||!!e.constructor?.[SE]||kf(e)||Lp(e):!1}var ore=Object.prototype.constructor.toString();function pR(e){if(!e||typeof e!="object")return!1;const t=Qc(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===ore}function yg(e,t){Ip(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Ip(e){const t=e[ya];return t?t.type_:Array.isArray(e)?1:kf(e)?2:Lp(e)?3:0}function Uw(e,t){return Ip(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yR(e,t,r){const n=Ip(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function lre(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kf(e){return e instanceof Map}function Lp(e){return e instanceof Set}function el(e){return e.copy_||e.base_}function Hw(e,t){if(kf(e))return new Map(e);if(Lp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=pR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ya];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Qc(e),n)}else{const n=Qc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Yj(e,t=!1){return $p(e)||Sl(e)||!gi(e)||(Ip(e)>1&&Object.defineProperties(e,{set:{value:Tm},add:{value:Tm},clear:{value:Tm},delete:{value:Tm}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Yj(r,!0))),e}function Tm(){es(2)}function $p(e){return Object.isFrozen(e)}var cre={};function Nl(e){const t=cre[e];return t||es(0,e),t}var Qd;function xR(){return Qd}function ure(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NE(e,t){t&&(Nl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ww(e){Yw(e),e.drafts_.forEach(dre),e.drafts_=null}function Yw(e){e===Qd&&(Qd=e.parent_)}function kE(e){return Qd=ure(Qd,e)}function dre(e){const t=e[ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ya].modified_&&(Ww(t),es(4)),gi(e)&&(e=xg(t,e),t.parent_||vg(t,e)),t.patches_&&Nl("Patches").generateReplacementPatches_(r[ya].base_,e,t.patches_,t.inversePatches_)):e=xg(t,r,[]),Ww(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gR?e:void 0}function xg(e,t,r){if($p(t))return t;const n=t[ya];if(!n)return yg(t,(a,i)=>TE(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return vg(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,l=!1;n.type_===3&&(i=new Set(a),a.clear(),l=!0),yg(i,(u,d)=>TE(e,n,a,u,d,r,l)),vg(e,a,!1),r&&e.patches_&&Nl("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function TE(e,t,r,n,a,i,l){if(Sl(a)){const u=i&&t&&t.type_!==3&&!Uw(t.assigned_,n)?i.concat(n):void 0,d=xg(e,a,u);if(yR(r,n,d),Sl(d))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(gi(a)&&!$p(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;xg(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(kf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&vg(e,a)}}function vg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Yj(t,r)}function fre(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:xR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Kj;r&&(a=[n],i=Xd);const{revoke:l,proxy:u}=Proxy.revocable(a,i);return n.draft_=u,n.revoke_=l,u}var Kj={get(e,t){if(t===ya)return e;const r=el(e);if(!Uw(r,t))return hre(e,r,t);const n=r[t];return e.finalized_||!gi(n)?n:n===hb(e.base_,t)?(mb(e),e.copy_[t]=Gw(n,e)):n},has(e,t){return t in el(e)},ownKeys(e){return Reflect.ownKeys(el(e))},set(e,t,r){const n=vR(el(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=hb(el(e),t),i=a?.[ya];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(lre(r,a)&&(r!==void 0||Uw(e.base_,t)))return!0;mb(e),Kw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mb(e),Kw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=el(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){es(11)},getPrototypeOf(e){return Qc(e.base_)},setPrototypeOf(){es(12)}},Xd={};yg(Kj,(e,t)=>{Xd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xd.deleteProperty=function(e,t){return Xd.set.call(this,e,t,void 0)};Xd.set=function(e,t,r){return Kj.set.call(this,e[0],t,r,e[0])};function hb(e,t){const r=e[ya];return(r?el(r):e)[t]}function hre(e,t,r){const n=vR(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function vR(e,t){if(!(t in e))return;let r=Qc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Qc(r)}}function Kw(e){e.modified_||(e.modified_=!0,e.parent_&&Kw(e.parent_))}function mb(e){e.copy_||(e.copy_=Hw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mre=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(d=i,...m){return l.produce(d,h=>r.call(this,h,...m))}}typeof r!="function"&&es(6),n!==void 0&&typeof n!="function"&&es(7);let a;if(gi(t)){const i=kE(this),l=Gw(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?Ww(i):Yw(i)}return NE(i,n),CE(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===gR&&(a=void 0),this.autoFreeze_&&Yj(a,!0),n){const i=[],l=[];Nl("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else es(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){gi(e)||es(8),Sl(e)&&(e=di(e));const t=kE(this),r=Gw(e,void 0);return r[ya].isManual_=!0,Yw(t),r}finishDraft(e,t){const r=e&&e[ya];(!r||!r.isManual_)&&es(9);const{scope_:n}=r;return NE(n,t),CE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Nl("Patches").applyPatches_;return Sl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Gw(e,t){const r=kf(e)?Nl("MapSet").proxyMap_(e,t):Lp(e)?Nl("MapSet").proxySet_(e,t):fre(e,t);return(t?t.scope_:xR()).drafts_.push(r),r}function di(e){return Sl(e)||es(10,e),bR(e)}function bR(e){if(!gi(e)||$p(e))return e;const t=e[ya];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Hw(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Hw(e,!0);return yg(r,(n,a)=>{yR(r,n,bR(a))}),t&&(t.finalized_=!1),r}var gre=new mre,wR=gre.produce;function jR(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var pre=jR(),yre=jR,xre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pg:pg.apply(null,arguments)};function Ua(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ha(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>mR(n)&&n.type===e,r}var _R=class Md extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Md.prototype)}static get[Symbol.species](){return Md}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Md(...t[0].concat(this)):new Md(...t.concat(this))}};function AE(e){return gi(e)?wR(e,()=>{}):e}function Am(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function vre(e){return typeof e=="boolean"}var bre=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new _R;return r&&(vre(r)?l.push(pre):l.push(yre(r.extraArgument))),l},wre="RTK_autoBatch",EE=e=>t=>{setTimeout(t,e)},jre=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:EE(10):e.type==="callback"?e.queueNotification:EE(e.timeout),m=()=>{l=!1,i&&(i=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const g=()=>a&&h(),y=n.subscribe(g);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){try{return a=!h?.meta?.[wre],i=!a,i&&(l||(l=!0,d(m))),n.dispatch(h)}finally{a=!0}}})},_re=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new _R(e);return n&&a.push(jre(typeof n=="object"?n:void 0)),a};function Sre(e){const t=bre(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Wj(r))u=hR(r);else throw new Error(ha(1));let d;typeof n=="function"?d=n(t):d=t();let m=pg;a&&(m=xre({trace:!1,...typeof a=="object"&&a}));const h=ire(...d),g=_re(h);let y=typeof l=="function"?l(g):g();const v=m(...y);return fR(u,i,v)}function SR(e){const t={},r=[];let n;const a={addCase(i,l){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(ha(28));if(u in t)throw new Error(ha(29));return t[u]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Nre(e){return typeof e=="function"}function kre(e,t){let[r,n,a]=SR(t),i;if(Nre(e))i=()=>AE(e());else{const u=AE(e);i=()=>u}function l(u=i(),d){let m=[r[d.type],...n.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[a]),m.reduce((h,g)=>{if(g)if(Sl(h)){const v=g(h,d);return v===void 0?h:v}else{if(gi(h))return wR(h,y=>g(y,d));{const y=g(h,d);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return l.getInitialState=i,l}var Cre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tre=(e=21)=>{let t="",r=e;for(;r--;)t+=Cre[Math.random()*64|0];return t},Are=Symbol.for("rtk-slice-createasyncthunk");function Ere(e,t){return`${e}/${t}`}function Ore({creators:e}={}){const t=e?.asyncThunk?.[Are];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(ha(11));const l=(typeof n.reducers=="function"?n.reducers(Mre()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(C,A){const E=typeof C=="string"?C:C.type;if(!E)throw new Error(ha(12));if(E in d.sliceCaseReducersByType)throw new Error(ha(13));return d.sliceCaseReducersByType[E]=A,m},addMatcher(C,A){return d.sliceMatchers.push({matcher:C,reducer:A}),m},exposeAction(C,A){return d.actionCreators[C]=A,m},exposeCaseReducer(C,A){return d.sliceCaseReducersByName[C]=A,m}};u.forEach(C=>{const A=l[C],E={reducerName:C,type:Ere(a,C),createNotation:typeof n.reducers=="function"};Rre(A)?Lre(E,A,m,t):Pre(E,A,m)});function h(){const[C={},A=[],E=void 0]=typeof n.extraReducers=="function"?SR(n.extraReducers):[n.extraReducers],M={...C,...d.sliceCaseReducersByType};return kre(n.initialState,T=>{for(let D in M)T.addCase(D,M[D]);for(let D of d.sliceMatchers)T.addMatcher(D.matcher,D.reducer);for(let D of A)T.addMatcher(D.matcher,D.reducer);E&&T.addDefaultCase(E)})}const g=C=>C,y=new Map,v=new WeakMap;let _;function w(C,A){return _||(_=h()),_(C,A)}function b(){return _||(_=h()),_.getInitialState()}function S(C,A=!1){function E(T){let D=T[C];return typeof D>"u"&&A&&(D=Am(v,E,b)),D}function M(T=g){const D=Am(y,A,()=>new WeakMap);return Am(D,T,()=>{const L={};for(const[B,z]of Object.entries(n.selectors??{}))L[B]=Dre(z,T,()=>Am(v,T,b),A);return L})}return{reducerPath:C,getSelectors:M,get selectors(){return M(E)},selectSlice:E}}const k={name:a,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:b,...S(i),injectInto(C,{reducerPath:A,...E}={}){const M=A??i;return C.inject({reducerPath:M,reducer:w},E),{...k,...S(M,!0)}}};return k}}function Dre(e,t,r,n){function a(i,...l){let u=t(i);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var va=Ore();function Mre(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Pre({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!Ire(n))throw new Error(ha(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Ua(e,l):Ua(e))}function Rre(e){return e._reducerDefinitionType==="asyncThunk"}function Ire(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Lre({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ha(18));const{payloadCreator:i,fulfilled:l,pending:u,rejected:d,settled:m,options:h}=r,g=a(e,i,h);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),m&&n.addMatcher(g.settled,m),n.exposeCaseReducer(t,{fulfilled:l||Em,pending:u||Em,rejected:d||Em,settled:m||Em})}function Em(){}var $re="task",NR="listener",kR="completed",Gj="cancelled",Bre=`task-${Gj}`,zre=`task-${kR}`,Vw=`${NR}-${Gj}`,Fre=`${NR}-${kR}`,Bp=class{constructor(e){this.code=e,this.message=`${$re} ${Gj} (reason: ${e})`}name="TaskAbortError";message},Vj=(e,t)=>{if(typeof e!="function")throw new TypeError(ha(32))},bg=()=>{},CR=(e,t=bg)=>(e.catch(t),e),TR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ul=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},dl=e=>{if(e.aborted){const{reason:t}=e;throw new Bp(t)}};function AR(e,t){let r=bg;return new Promise((n,a)=>{const i=()=>a(new Bp(e.reason));if(e.aborted){i();return}r=TR(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=bg})}var qre=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Bp?"cancelled":"rejected",error:r}}finally{t?.()}},wg=e=>t=>CR(AR(e,t).then(r=>(dl(e),r))),ER=e=>{const t=wg(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Fc}=Object,OE={},zp="listenerMiddleware",Ure=(e,t)=>{const r=n=>TR(e,()=>ul(n,e.reason));return(n,a)=>{Vj(n);const i=new AbortController;r(i);const l=qre(async()=>{dl(e),dl(i.signal);const u=await n({pause:wg(i.signal),delay:ER(i.signal),signal:i.signal});return dl(i.signal),u},()=>ul(i,zre));return a?.autoJoin&&t.push(l.catch(bg)),{result:wg(e)(l),cancel(){ul(i,Bre)}}}},Hre=(e,t)=>{const r=async(n,a)=>{dl(t);let i=()=>{};const u=[new Promise((d,m)=>{let h=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),d([g,y.getState(),y.getOriginalState()])}});i=()=>{h(),m()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await AR(t,Promise.race(u));return dl(t),d}finally{i()}};return(n,a)=>CR(r(n,a))},OR=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Ua(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ha(21));return Vj(i),{predicate:a,type:t,effect:i}},DR=Fc(e=>{const{type:t,predicate:r,effect:n}=OR(e);return{id:Tre(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ha(22))}}},{withTypes:()=>DR}),DE=(e,t)=>{const{type:r,effect:n,predicate:a}=OR(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Qw=e=>{e.pending.forEach(t=>{ul(t,Vw)})},Wre=e=>()=>{e.forEach(Qw),e.clear()},ME=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},MR=Fc(Ua(`${zp}/add`),{withTypes:()=>MR}),Yre=Ua(`${zp}/removeAll`),PR=Fc(Ua(`${zp}/remove`),{withTypes:()=>PR}),Kre=(...e)=>{console.error(`${zp}/error`,...e)},Cf=(e={})=>{const t=new Map,{extra:r,onError:n=Kre}=e;Vj(n);const a=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),g=>{h.unsubscribe(),g?.cancelActive&&Qw(h)}),i=h=>{const g=DE(t,h)??DR(h);return a(g)};Fc(i,{withTypes:()=>i});const l=h=>{const g=DE(t,h);return g&&(g.unsubscribe(),h.cancelActive&&Qw(g)),!!g};Fc(l,{withTypes:()=>l});const u=async(h,g,y,v)=>{const _=new AbortController,w=Hre(i,_.signal),b=[];try{h.pending.add(_),await Promise.resolve(h.effect(g,Fc({},y,{getOriginalState:v,condition:(S,k)=>w(S,k).then(Boolean),take:w,delay:ER(_.signal),pause:wg(_.signal),extra:r,signal:_.signal,fork:Ure(_.signal,b),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,k,C)=>{S!==_&&(ul(S,Vw),C.delete(S))})},cancel:()=>{ul(_,Vw),h.pending.delete(_)},throwIfCancelled:()=>{dl(_.signal)}})))}catch(S){S instanceof Bp||ME(n,S,{raisedBy:"effect"})}finally{await Promise.all(b),ul(_,Fre),h.pending.delete(_)}},d=Wre(t);return{middleware:h=>g=>y=>{if(!mR(y))return g(y);if(MR.match(y))return i(y.payload);if(Yre.match(y)){d();return}if(PR.match(y))return l(y.payload);let v=h.getState();const _=()=>{if(v===OE)throw new Error(ha(23));return v};let w;try{if(w=g(y),t.size>0){const b=h.getState(),S=Array.from(t.values());for(const k of S){let C=!1;try{C=k.predicate(y,b,v)}catch(A){C=!1,ME(n,A,{raisedBy:"predicate"})}C&&u(k,y,h,_)}}}finally{v=OE}return w},startListening:i,stopListening:l,clearListeners:d}};function ha(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Gre={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RR=va({name:"chartLayout",initialState:Gre,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Vre,setLayout:Qre,setChartSize:Xre,setScale:Zre}=RR.actions,Jre=RR.reducer;function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(n){ene(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ene(e,t,r){return(t=tne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tne(e){var t=rne(e,"string");return typeof t=="symbol"?t:t+""}function rne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jg=Math.PI/180,nne=e=>e*180/Math.PI,hn=(e,t,r,n)=>({x:e+Math.cos(-jg*n)*r,y:t+Math.sin(-jg*n)*r}),ane=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sne=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},ine=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=sne({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>i&&(d=2*Math.PI-d),{radius:l,angle:nne(d),angleInRadian:d}},one=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},lne=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},cne=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=ine({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:m}=one(t),h=i,g;if(d<=m){for(;h>m;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=m}else{for(;h>d;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=d}return g?RE(RE({},t),{},{radius:a,angle:lne(h,t)}):null};function IR(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){une(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function une(e,t,r){return(t=dne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function en(e,t,r){return lr(e)||lr(t)?r:Os(t)?Gc(e,t,r):typeof t=="function"?t(e):r}var hne=(e,t,r,n,a)=>{var i,l=-1,u=(i=t?.length)!==null&&i!==void 0?i:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var m=d>0?r[d-1].coordinate:r[u-1].coordinate,h=r[d].coordinate,g=d>=u-1?r[0].coordinate:r[d+1].coordinate,y=void 0;if(qn(h-m)!==qn(g-h)){var v=[];if(qn(g-h)===qn(a[1]-a[0])){y=g;var _=h+a[1]-a[0];v[0]=Math.min(_,(_+m)/2),v[1]=Math.max(_,(_+m)/2)}else{y=m;var w=g+a[1]-a[0];v[0]=Math.min(h,(w+h)/2),v[1]=Math.max(h,(w+h)/2)}var b=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){({index:l}=r[d]);break}}else{var S=Math.min(m,g),k=Math.max(m,g);if(e>(S+h)/2&&e<=(k+h)/2){({index:l}=r[d]);break}}}else if(t){for(var C=0;C<u;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:l}=t[C]);break}}return l},mne=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&i!=="center"&&Ke(e[i]))return Ba(Ba({},e),{},{[i]:e[i]+(n||0)});if((u==="horizontal"||u==="vertical"&&i==="center")&&l!=="middle"&&Ke(e[l]))return Ba(Ba({},e),{},{[l]:e[l]+(a||0)})}return e},So=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",LR=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,i,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(i=!0),u.coordinate));return a||l.push(t),i||l.push(r),l},$R=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:m,tickCount:h,ticks:g,niceTicks:y,axisType:v}=e;if(!l)return null;var _=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=a==="category"&&l.bandwidth?l.bandwidth()/_:0;if(w=v==="angleAxis"&&i&&i.length>=2?qn(i[0]-i[1])*2*w:w,g||y){var b=(g||y||[]).map((S,k)=>{var C=n?n.indexOf(S):S;return{coordinate:l(C)+w,value:S,offset:w,index:k}});return b.filter(S=>!pa(S.coordinate))}return d&&m?m.map((S,k)=>({coordinate:l(S)+w,value:S,index:k,offset:w})):l.ticks&&h!=null?l.ticks(h).map((S,k)=>({coordinate:l(S)+w,value:S,offset:w,index:k})):l.domain().map((S,k)=>({coordinate:l(S)+w,value:n?n[S]:S,index:k,offset:w}))},LE=1e-4,gne=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-LE,i=Math.max(n[0],n[1])+LE,l=e(t[0]),u=e(t[r-1]);(l<a||l>i||u<a||u>i)&&e.domain([t[0],t[r-1]])}},pne=(e,t)=>{if(!t||t.length!==2||!Ke(t[0])||!Ke(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ke(e[0])||e[0]<r)&&(a[0]=r),(!Ke(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},yne=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var u=pa(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+u,i=e[l][r][1])}},xne=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=pa(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},vne={sign:yne,expand:Kee,none:Vc,silhouette:Gee,wiggle:Vee,positive:xne},bne=(e,t,r)=>{var n=vne[r],a=Yee().keys(t).value((i,l)=>+en(i,l,0)).order(zw).offset(n);return a(e)};function wne(e){return e==null?void 0:String(e)}function $E(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lr(a[t.dataKey])){var u=A5(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=en(a,lr(l)?t.dataKey:l);return lr(d)?null:t.scale(d)}var BE=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var u=en(i,t.dataKey,t.scale.domain()[l]);return lr(u)?null:t.scale(u)-a/2+n},jne=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},_ne=e=>{var t=e.flat(2).filter(Ke);return[Math.min(...t),Math.max(...t)]},Sne=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Nne=(e,t,r)=>{if(e!=null)return Sne(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,u=l.reduce((d,m)=>{var h=IR(m,t,r),g=_ne(h);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},zE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Rp(t,h=>h.coordinate),i=1/0,l=1,u=a.length;l<u;l++){var d=a[l],m=a[l-1];i=Math.min((d.coordinate||0)-(m.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function qE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Ba(Ba({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Fp(e,t){if(e)return String(e);if(typeof t=="string")return t}function kne(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?cne({x:e,y:t},n):null}var Cne=(e,t,r,n)=>{var a=t.find(m=>m&&m.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return Ba(Ba(Ba({},n),hn(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var u=a.coordinate,{angle:d}=n;return Ba(Ba(Ba({},n),hn(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},Tne=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,bi=e=>e.layout.width,wi=e=>e.layout.height,Ane=e=>e.layout.scale,BR=e=>e.layout.margin,qp=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Up=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ene="data-recharts-item-index",One="data-recharts-item-data-key",Tf=60;function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){Dne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dne(e,t,r){return(t=Mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mne(e){var t=Pne(e,"string");return typeof t=="symbol"?t:t+""}function Pne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rne=e=>e.brush.height;function Ine(e){var t=Up(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Tf;return r+a}return r},0)}function Lne(e){var t=Up(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Tf;return r+a}return r},0)}function $ne(e){var t=qp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Bne(e){var t=qp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var rn=he([bi,wi,BR,Rne,Ine,Lne,$ne,Bne,uR,Jte],(e,t,r,n,a,i,l,u,d,m)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},y=Om(Om({},g),h),v=y.bottom;y.bottom+=n,y=mne(y,d,m);var _=e-y.left-y.right,w=t-y.top-y.bottom;return Om(Om({brushBottom:v},y),{},{width:Math.max(_,0),height:Math.max(w,0)})}),zne=he(rn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Qj=he(bi,wi,(e,t)=>({x:0,y:0,width:e,height:t})),Fne=x.createContext(null),Yn=()=>x.useContext(Fne)!=null,Hp=e=>e.brush,Wp=he([Hp,rn,BR],(e,t,r)=>({height:e.height,x:Ke(e.x)?e.x:t.left,y:Ke(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ke(e.width)?e.width:t.width})),Xj=()=>{var e,t=Yn(),r=ze(zne),n=ze(Wp),a=(e=ze(Hp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},qne={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zR=()=>{var e;return(e=ze(rn))!==null&&e!==void 0?e:qne},Zj=()=>ze(bi),Jj=()=>ze(wi),Une=()=>ze(e=>e.layout.margin),Lt=e=>e.layout.layoutType,Yp=()=>ze(Lt),Hne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},FR=va({name:"legend",initialState:Hne,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=di(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:HE,setLegendSettings:Wne,addLegendPayload:Yne,removeLegendPayload:Kne}=FR.actions,Gne=FR.reducer,Vne=["contextPayload"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(null,arguments)}function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(n){e_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e_(e,t,r){return(t=Qne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qne(e){var t=Xne(e,"string");return typeof t=="symbol"?t:t+""}function Xne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zne(e,t){if(e==null)return{};var r,n,a=Jne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eae(e){return e.value}function tae(e){var{contextPayload:t}=e,r=Zne(e,Vne),n=sR(t,e.payloadUniqBy,eae),a=Xc(Xc({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,a):typeof e.content=="function"?x.createElement(e.content,a):x.createElement(Fj,a)}function rae(e,t,r,n,a,i){var{layout:l,align:u,verticalAlign:d}=t,m,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?m={left:((n||0)-i.width)/2}:m=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((a||0)-i.height)/2}:h=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Xc(Xc({},m),h)}function nae(e){var t=Lr();return x.useEffect(()=>{t(Wne(e))},[t,e]),null}function aae(e){var t=Lr();return x.useEffect(()=>(t(HE(e)),()=>{t(HE({width:0,height:0}))}),[t,e]),null}function sae(e){var t=rre(),r=pee(),n=Une(),{width:a,height:i,wrapperStyle:l,portal:u}=e,[d,m]=dR([t]),h=Zj(),g=Jj();if(h==null||g==null)return null;var y=h-(n.left||0)-(n.right||0),v=Af.getWidthOrHeight(e.layout,i,a,y),_=u?l:Xc(Xc({position:"absolute",width:v?.width||a||"auto",height:v?.height||i||"auto"},rae(l,e,n,h,g,d)),l),w=u??r;if(w==null)return null;var b=x.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:m},x.createElement(nae,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(aae,{width:d.width,height:d.height}),x.createElement(tae,Xw({},e,v,{margin:n,chartWidth:h,chartHeight:g,contextPayload:t})));return da.createPortal(b,w)}class Af extends x.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Ke(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return x.createElement(sae,this.props)}}e_(Af,"displayName","Legend");e_(Af,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(null,arguments)}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){iae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iae(e,t,r){return(t=oae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oae(e){var t=lae(e,"string");return typeof t=="symbol"?t:t+""}function lae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cae(e){return Array.isArray(e)&&Os(e[0])&&Os(e[1])?e.join(" ~ "):e}var uae=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:m,label:h,labelFormatter:g,accessibilityLayer:y=!1}=e,v=()=>{if(i&&i.length){var E={padding:0,margin:0},M=(u?Rp(i,u):i).map((T,D)=>{if(T.type==="none")return null;var L=T.formatter||l||cae,{value:B,name:z}=T,F=B,G=z;if(L){var V=L(B,z,T,D,i);if(Array.isArray(V))[F,G]=V;else if(V!=null)F=V;else return null}var Y=gb({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:Y},Os(G)?x.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Os(G)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},F),x.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:E},M)}return null},_=gb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=gb({margin:0},a),b=!lr(h),S=b?h:"",k=Rt("recharts-default-tooltip",d),C=Rt("recharts-tooltip-label",m);b&&g&&i!==void 0&&i!==null&&(S=g(h,i));var A=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Zw({className:k,style:_},A),x.createElement("p",{className:C,style:w},x.isValidElement(S)?S:"".concat(S)),v())},wd="recharts-tooltip-wrapper",dae={visibility:"hidden"};function fae(e){var{coordinate:t,translateX:r,translateY:n}=e;return Rt(wd,{["".concat(wd,"-right")]:Ke(r)&&t&&Ke(t.x)&&r>=t.x,["".concat(wd,"-left")]:Ke(r)&&t&&Ke(t.x)&&r<t.x,["".concat(wd,"-bottom")]:Ke(n)&&t&&Ke(t.y)&&n>=t.y,["".concat(wd,"-top")]:Ke(n)&&t&&Ke(t.y)&&n<t.y})}function KE(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:m}=e;if(i&&Ke(i[n]))return i[n];var h=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?h:g;var y=d[n];if(y==null)return 0;if(l[n]){var v=h,_=y;return v<_?Math.max(g,y):Math.max(h,y)}if(m==null)return 0;var w=g+u,b=y+m;return w>b?Math.max(h,y):Math.max(g,y)}function hae(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mae(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,m,h,g;return l.height>0&&l.width>0&&r?(h=KE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=KE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),m=hae({translateX:h,translateY:g,useTranslate3d:u})):m=dae,{cssProperties:m,cssClasses:fae({translateX:h,translateY:g,coordinate:r})}}function GE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(r),!0).forEach(function(n){Jw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jw(e,t,r){return(t=gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gae(e){var t=pae(e,"string");return typeof t=="symbol"?t:t+""}function pae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yae extends x.PureComponent{constructor(){super(...arguments),Jw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Jw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:u,isAnimationActive:d,offset:m,position:h,reverseDirection:g,useTranslate3d:y,viewBox:v,wrapperStyle:_,lastBoundingBox:w,innerRef:b,hasPortalFromProps:S}=this.props,{cssClasses:k,cssProperties:C}=mae({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:m,position:h,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:v}),A=S?{}:Dm(Dm({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),E=Dm(Dm({},A),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},_);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:E,ref:b},i)}}var xae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ml={devToolsEnabled:!1,isSsr:xae()},qR=()=>ze(e=>e.rootProps.accessibilityLayer);function xa(e){return Number.isFinite(e)}function _g(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(null,arguments)}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vae(e,t,r){return(t=bae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bae(e){var t=wae(e,"string");return typeof t=="symbol"?t:t+""}function wae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XE={curveBasisClosed:Ree,curveBasisOpen:Iee,curveBasis:Pee,curveBumpX:bee,curveBumpY:wee,curveLinearClosed:Lee,curveLinear:Mp,curveMonotoneX:$ee,curveMonotoneY:Bee,curveNatural:zee,curveStep:Fee,curveStepAfter:Uee,curveStepBefore:qee},Mm=e=>xa(e.x)&&xa(e.y),jd=e=>e.x,_d=e=>e.y,jae=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Nf(e));return(r==="curveMonotone"||r==="curveBump")&&t?XE["".concat(r).concat(t==="vertical"?"Y":"X")]:XE[r]||Mp},_ae=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=jae(t,a),u=i?r.filter(Mm):r,d;if(Array.isArray(n)){var m=i?n.filter(g=>Mm(g)):n,h=u.map((g,y)=>QE(QE({},g),{},{base:m[y]}));return a==="vertical"?d=Nm().y(_d).x1(jd).x0(g=>g.base.x):d=Nm().x(jd).y1(_d).y0(g=>g.base.y),d.defined(Mm).curve(l),d(h)}return a==="vertical"&&Ke(n)?d=Nm().y(_d).x1(jd).x0(n):Ke(n)?d=Nm().x(jd).y1(_d).y0(n):d=B5().x(jd).y(_d),d.defined(Mm).curve(l),d(u)},UR=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?_ae(e):n;return x.createElement("path",e1({},_o(e),Pj(e),{className:Rt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Sae=["x","y","top","left","width","height","className"];function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t1.apply(null,arguments)}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kae(e,t,r){return(t=Cae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aae(e,t){if(e==null)return{};var r,n,a=Eae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Eae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oae=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Dae=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:u}=e,d=Aae(e,Sae),m=Nae({x:t,y:r,top:n,left:a,width:i,height:l},d);return!Ke(t)||!Ke(r)||!Ke(i)||!Ke(l)||!Ke(n)||!Ke(a)?null:x.createElement("path",t1({},Nr(m,!0),{className:Rt("recharts-cross",u),d:Oae(t,r,i,l,n,a)}))};function Mae(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){Rae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rae(e,t,r){return(t=Iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iae(e){var t=Lae(e,"string");return typeof t=="symbol"?t:t+""}function Lae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kn(e,t){var r=Pae({},e),n=t,a=Object.keys(t),i=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return i}function $ae(){}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){Bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bae(e,t,r){return(t=zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zae(e){var t=Fae(e,"string");return typeof t=="symbol"?t:t+""}function Fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qae=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),HR=(e,t,r)=>e.map(n=>"".concat(qae(n)," ").concat(t,"ms ").concat(r)).join(","),Uae=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Jd=(e,t)=>Object.keys(t).reduce((r,n)=>tO(tO({},r),{},{[n]:e(n,t[n])}),{});function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){Hae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hae(e,t,r){return(t=Wae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wae(e){var t=Yae(e,"string");return typeof t=="symbol"?t:t+""}function Yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sg=(e,t,r)=>e+(t-e)*r,r1=e=>{var{from:t,to:r}=e;return t!==r},WR=(e,t,r)=>{var n=Jd((a,i)=>{if(r1(i)){var[l,u]=e(i.from,i.to,i.velocity);return fn(fn({},i),{},{from:l,velocity:u})}return i},t);return r<1?Jd((a,i)=>r1(i)?fn(fn({},i),{},{velocity:Sg(i.velocity,n[a].velocity,r),from:Sg(i.from,n[a].from,r)}):i,t):WR(e,n,r-1)};function Kae(e,t,r,n,a,i){var l,u=n.reduce((y,v)=>fn(fn({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),d=()=>Jd((y,v)=>v.from,u),m=()=>!Object.values(u).filter(r1).length,h=null,g=y=>{l||(l=y);var v=y-l,_=v/r.dt;u=WR(r,u,_),a(fn(fn(fn({},e),t),d())),l=y,m()||(h=i.setTimeout(g))};return()=>(h=i.setTimeout(g),()=>{h()})}function Gae(e,t,r,n,a,i,l){var u=null,d=a.reduce((g,y)=>fn(fn({},g),{},{[y]:[e[y],t[y]]}),{}),m,h=g=>{m||(m=g);var y=(g-m)/n,v=Jd((w,b)=>Sg(...b,r(y)),d);if(i(fn(fn(fn({},e),t),v)),y<1)u=l.setTimeout(h);else{var _=Jd((w,b)=>Sg(...b,r(1)),d);i(fn(fn(fn({},e),t),_))}};return()=>(u=l.setTimeout(h),()=>{u()})}const Vae=(e,t,r,n,a,i)=>{var l=Uae(e,t);return r.isStepper===!0?Kae(e,t,r,l,a,i):Gae(e,t,r,n,l,a,i)};var Ng=1e-4,YR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],KR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),nO=(e,t)=>r=>{var n=YR(e,t);return KR(n,r)},Qae=(e,t)=>r=>{var n=YR(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return KR(a,r)},aO=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,a]=d[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else l.length===4&&([t,n,r,a]=l);var m=nO(t,r),h=nO(n,a),g=Qae(t,r),y=_=>_>1?1:_<0?0:_,v=_=>{for(var w=_>1?1:_,b=w,S=0;S<8;++S){var k=m(b)-w,C=g(b);if(Math.abs(k-w)<Ng||C<Ng)return h(b);b=y(b-k/C)}return h(b)};return v.isStepper=!1,v},Xae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,u,d)=>{var m=-(l-u)*r,h=d*n,g=d+(m-h)*a/1e3,y=d*a/1e3+l;return Math.abs(y-u)<Ng&&Math.abs(g)<Ng?[u,0]:[y,g]};return i.isStepper=!0,i.dt=a,i},Zae=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aO(e);case"spring":return Xae();default:if(e.split("(")[0]==="cubic-bezier")return aO(e)}return typeof e=="function"?e:null};function Jae(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...m]=u;if(typeof d=="number"){a=e.setTimeout(i.bind(null,m),d);return}i(d),a=e.setTimeout(i.bind(null,m));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class ese{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function tse(){return Jae(new ese)}var rse=x.createContext(tse);function nse(e,t){var r=x.useContext(rse);return x.useMemo(()=>t??r(e),[e,t,r])}var ase={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sO={t:0},pb={t:1};function Kp(e){var t=Kn(e,ase),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:u,onAnimationStart:d,children:m}=t,h=nse(t.animationId,t.animationManager),[g,y]=x.useState(r?sO:pb),v=x.useRef(null);return x.useEffect(()=>{r||y(pb)},[r]),x.useEffect(()=>{if(!r||!n)return $ae;var _=Vae(sO,pb,Zae(i),a,y,h.getTimeoutController()),w=()=>{v.current=_()};return h.start([d,l,w,a,u]),()=>{h.stop(),v.current&&v.current(),u()}},[r,n,a,i,l,d,u,h]),m(g.t)}function Gp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Vd(t)),n=x.useRef(e);return n.current!==e&&(r.current=Vd(t),n.current=e),r.current}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sse(e,t,r){return(t=ise(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ise(e){var t=ose(e,"string");return typeof t=="symbol"?t:t+""}function ose(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(null,arguments)}var lO=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,m;if(i>0&&a instanceof Array){for(var h=[0,0,0,0],g=0,y=4;g<y;g++)h[g]=a[g]>i?i:a[g];m="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+u*h[0],",").concat(t)),m+="L ".concat(e+r-u*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*h[1])),m+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-u*h[2],",").concat(t+n)),m+="L ".concat(e+u*h[3],",").concat(t+n),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*h[3])),m+="Z"}else if(i>0&&a===+a&&a>0){var v=Math.min(i,a);m="M ".concat(e,",").concat(t+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+u*v,",").concat(t,`
            L `).concat(e+r-u*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*v,`
            L `).concat(e+r,",").concat(t+n-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r-u*v,",").concat(t+n,`
            L `).concat(e+u*v,",").concat(t+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*v," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},lse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GR=e=>{var t=Kn(e,lse),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:i,y:l,width:u,height:d,radius:m,className:h}=t,{animationEasing:g,animationDuration:y,animationBegin:v,isAnimationActive:_,isUpdateAnimationActive:w}=t,b=x.useRef(u),S=x.useRef(d),k=x.useRef(i),C=x.useRef(l),A=x.useMemo(()=>({x:i,y:l,width:u,height:d,radius:m}),[i,l,u,d,m]),E=Gp(A,"rectangle-");if(i!==+i||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var M=Rt("recharts-rectangle",h);if(!w)return x.createElement("path",kg({},Nr(t,!0),{className:M,d:lO(i,l,u,d,m)}));var T=b.current,D=S.current,L=k.current,B=C.current,z="0px ".concat(n===-1?1:n,"px"),F="".concat(n,"px 0px"),G=HR(["strokeDasharray"],y,typeof g=="string"?g:void 0);return x.createElement(Kp,{animationId:E,key:E,canBegin:n>0,duration:y,easing:g,isActive:w,begin:v},V=>{var Y=Rr(T,u,V),$=Rr(D,d,V),ee=Rr(L,i,V),J=Rr(B,l,V);r.current&&(b.current=Y,S.current=$,k.current=ee,C.current=J);var W;return _?V>0?W={transition:G,strokeDasharray:F}:W={strokeDasharray:z}:W={strokeDasharray:F},x.createElement("path",kg({},Nr(t,!0),{className:M,d:lO(ee,J,Y,$,m),ref:r,style:oO(oO({},W),t.style)}))})};function VR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=hn(t,r,n,a),u=hn(t,r,n,i);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n1.apply(null,arguments)}var cse=(e,t)=>{var r=qn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Pm=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,m=u*(l?1:-1)+n,h=Math.asin(u/m)/jg,g=d?a:a+i*h,y=hn(t,r,m,g),v=hn(t,r,n,g),_=d?a-i*h:a,w=hn(t,r,m*Math.cos(h*jg),_);return{center:y,circleTangency:v,lineTangency:w,theta:h}},QR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,u=cse(i,l),d=i+u,m=hn(t,r,a,i),h=hn(t,r,a,d),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(i>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var y=hn(t,r,n,i),v=hn(t,r,n,d);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(i<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},use=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:m}=e,h=qn(m-d),{circleTangency:g,lineTangency:y,theta:v}=Pm({cx:t,cy:r,radius:a,angle:d,sign:h,cornerRadius:i,cornerIsExternal:u}),{circleTangency:_,lineTangency:w,theta:b}=Pm({cx:t,cy:r,radius:a,angle:m,sign:-h,cornerRadius:i,cornerIsExternal:u}),S=u?Math.abs(d-m):Math.abs(d-m)-v-b;if(S<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):QR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:m});var k="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:A,theta:E}=Pm({cx:t,cy:r,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),{circleTangency:M,lineTangency:T,theta:D}=Pm({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),L=u?Math.abs(d-m):Math.abs(d-m)-E-D;if(L<0&&i===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else k+="L".concat(t,",").concat(r,"Z");return k},dse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XR=e=>{var t=Kn(e,dse),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:h,className:g}=t;if(i<a||m===h)return null;var y=Rt("recharts-sector",g),v=i-a,_=ss(l,v,0,!0),w;return _>0&&Math.abs(m-h)<360?w=use({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(_,v/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:h}):w=QR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:m,endAngle:h}),x.createElement("path",n1({},Nr(t,!0),{className:y,d:w}))};function fse(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:m,outerRadius:h,angle:g}=t,y=hn(u,d,m,g),v=hn(u,d,h,g);n=y.x,a=y.y,i=v.x,l=v.y}else return VR(t);return[{x:n,y:a},{x:i,y:l}]}var yb={},xb={},vb={},cO;function hse(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lR();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(vb)),vb}var uO;function mse(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hse();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(xb)),xb}var dO;function gse(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cR(),r=mse();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((i-a)/(l||1)),0),d=new Array(u);for(let m=0;m<u;m++)d[m]=a,a+=l;return d}e.range=n})(yb)),yb}var bb,fO;function pse(){return fO||(fO=1,bb=gse().range),bb}var yse=pse();const ZR=Wa(yse);function lo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xse(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function t_(e){let t,r,n;e.length!==2?(t=lo,r=(u,d)=>lo(e(u),d),n=(u,d)=>e(u)-d):(t=e===lo||e===xse?e:vse,r=e,n=e);function a(u,d,m=0,h=u.length){if(m<h){if(t(d,d)!==0)return h;do{const g=m+h>>>1;r(u[g],d)<0?m=g+1:h=g}while(m<h)}return m}function i(u,d,m=0,h=u.length){if(m<h){if(t(d,d)!==0)return h;do{const g=m+h>>>1;r(u[g],d)<=0?m=g+1:h=g}while(m<h)}return m}function l(u,d,m=0,h=u.length){const g=a(u,d,m,h-1);return g>m&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:a,center:l,right:i}}function vse(){return 0}function JR(e){return e===null?NaN:+e}function*bse(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wse=t_(lo),Ef=wse.right;t_(JR).center;class hO extends Map{constructor(t,r=Sse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(mO(this,t))}has(t){return super.has(mO(this,t))}set(t,r){return super.set(jse(this,t),r)}delete(t){return super.delete(_se(this,t))}}function mO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jse({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _se({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Sse(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Nse(e=lo){if(e===lo)return e6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function e6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kse=Math.sqrt(50),Cse=Math.sqrt(10),Tse=Math.sqrt(2);function Cg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=kse?10:i>=Cse?5:i>=Tse?2:1;let u,d,m;return a<0?(m=Math.pow(10,-a)/l,u=Math.round(e*m),d=Math.round(t*m),u/m<e&&++u,d/m>t&&--d,m=-m):(m=Math.pow(10,a)*l,u=Math.round(e/m),d=Math.round(t/m),u*m<e&&++u,d*m>t&&--d),d<u&&.5<=r&&r<2?Cg(e,t,r*2):[u,d,m]}function a1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Cg(t,e,r):Cg(e,t,r);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(n)if(l<0)for(let m=0;m<u;++m)d[m]=(i-m)/-l;else for(let m=0;m<u;++m)d[m]=(i-m)*l;else if(l<0)for(let m=0;m<u;++m)d[m]=(a+m)/-l;else for(let m=0;m<u;++m)d[m]=(a+m)*l;return d}function s1(e,t,r){return t=+t,e=+e,r=+r,Cg(e,t,r)[2]}function i1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?s1(t,e,r):s1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function gO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function pO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function t6(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?e6:Nse(a);n>r;){if(n-r>600){const d=n-r+1,m=t-r+1,h=Math.log(d),g=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*g*(d-g)/d)*(m-d/2<0?-1:1),v=Math.max(r,Math.floor(t-m*g/d+y)),_=Math.min(n,Math.floor(t+(d-m)*g/d+y));t6(e,t,v,_,a)}const i=e[t];let l=r,u=n;for(Sd(e,r,t),a(e[n],i)>0&&Sd(e,r,n);l<u;){for(Sd(e,l,u),++l,--u;a(e[l],i)<0;)++l;for(;a(e[u],i)>0;)--u}a(e[r],i)===0?Sd(e,r,u):(++u,Sd(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Sd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ase(e,t,r){if(e=Float64Array.from(bse(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return pO(e);if(t>=1)return gO(e);var n,a=(n-1)*t,i=Math.floor(a),l=gO(t6(e,i).subarray(0,i+1)),u=pO(e.subarray(i+1));return l+(u-l)*(a-i)}}function Ese(e,t,r=JR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(a-i)}}function Ose(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ya(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const o1=Symbol("implicit");function r_(){var e=new hO,t=[],r=[],n=o1;function a(i){let l=e.get(i);if(l===void 0){if(n!==o1)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new hO;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return r_(t,r).unknown(n)},Ya.apply(a,arguments),a}function n_(){var e=r_().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,u=!1,d=0,m=0,h=.5;delete e.unknown;function g(){var y=t().length,v=a<n,_=v?a:n,w=v?n:a;i=(w-_)/Math.max(1,y-d+m*2),u&&(i=Math.floor(i)),_+=(w-_-i*(y-d))*h,l=i*(1-d),u&&(_=Math.round(_),l=Math.round(l));var b=Ose(y).map(function(S){return _+i*S});return r(v?b.reverse():b)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(y){return arguments.length?(u=!!y,g()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,m=+y),g()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),g()):d},e.paddingOuter=function(y){return arguments.length?(m=+y,g()):m},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),g()):h},e.copy=function(){return n_(t(),[n,a]).round(u).paddingInner(d).paddingOuter(m).align(h)},Ya.apply(g(),arguments)}function r6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return r6(t())},e}function Dse(){return r6(n_.apply(null,arguments).paddingInner(1))}function a_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function n6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Of(){}var ef=.7,Tg=1/ef,qc="\\s*([+-]?\\d+)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mse=/^#([0-9a-f]{3,8})$/,Pse=new RegExp(`^rgb\\(${qc},${qc},${qc}\\)$`),Rse=new RegExp(`^rgb\\(${Ts},${Ts},${Ts}\\)$`),Ise=new RegExp(`^rgba\\(${qc},${qc},${qc},${tf}\\)$`),Lse=new RegExp(`^rgba\\(${Ts},${Ts},${Ts},${tf}\\)$`),$se=new RegExp(`^hsl\\(${tf},${Ts},${Ts}\\)$`),Bse=new RegExp(`^hsla\\(${tf},${Ts},${Ts},${tf}\\)$`),yO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a_(Of,rf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xO,formatHex:xO,formatHex8:zse,formatHsl:Fse,formatRgb:vO,toString:vO});function xO(){return this.rgb().formatHex()}function zse(){return this.rgb().formatHex8()}function Fse(){return a6(this).formatHsl()}function vO(){return this.rgb().formatRgb()}function rf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Mse.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?bO(t):r===3?new Un(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Rm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Rm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Pse.exec(e))?new Un(t[1],t[2],t[3],1):(t=Rse.exec(e))?new Un(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ise.exec(e))?Rm(t[1],t[2],t[3],t[4]):(t=Lse.exec(e))?Rm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$se.exec(e))?_O(t[1],t[2]/100,t[3]/100,1):(t=Bse.exec(e))?_O(t[1],t[2]/100,t[3]/100,t[4]):yO.hasOwnProperty(e)?bO(yO[e]):e==="transparent"?new Un(NaN,NaN,NaN,0):null}function bO(e){return new Un(e>>16&255,e>>8&255,e&255,1)}function Rm(e,t,r,n){return n<=0&&(e=t=r=NaN),new Un(e,t,r,n)}function qse(e){return e instanceof Of||(e=rf(e)),e?(e=e.rgb(),new Un(e.r,e.g,e.b,e.opacity)):new Un}function l1(e,t,r,n){return arguments.length===1?qse(e):new Un(e,t,r,n??1)}function Un(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a_(Un,l1,n6(Of,{brighter(e){return e=e==null?Tg:Math.pow(Tg,e),new Un(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new Un(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Un(fl(this.r),fl(this.g),fl(this.b),Ag(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wO,formatHex:wO,formatHex8:Use,formatRgb:jO,toString:jO}));function wO(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function Use(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il((isNaN(this.opacity)?1:this.opacity)*255)}`}function jO(){const e=Ag(this.opacity);return`${e===1?"rgb(":"rgba("}${fl(this.r)}, ${fl(this.g)}, ${fl(this.b)}${e===1?")":`, ${e})`}`}function Ag(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function il(e){return e=fl(e),(e<16?"0":"")+e.toString(16)}function _O(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ts(e,t,r,n)}function a6(e){if(e instanceof ts)return new ts(e.h,e.s,e.l,e.opacity);if(e instanceof Of||(e=rf(e)),!e)return new ts;if(e instanceof ts)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,u=i-a,d=(i+a)/2;return u?(t===i?l=(r-n)/u+(r<n)*6:r===i?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+a:2-i-a,l*=60):u=d>0&&d<1?0:l,new ts(l,u,d,e.opacity)}function Hse(e,t,r,n){return arguments.length===1?a6(e):new ts(e,t,r,n??1)}function ts(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a_(ts,Hse,n6(Of,{brighter(e){return e=e==null?Tg:Math.pow(Tg,e),new ts(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new ts(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Un(wb(e>=240?e-240:e+120,a,n),wb(e,a,n),wb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ts(SO(this.h),Im(this.s),Im(this.l),Ag(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ag(this.opacity);return`${e===1?"hsl(":"hsla("}${SO(this.h)}, ${Im(this.s)*100}%, ${Im(this.l)*100}%${e===1?")":`, ${e})`}`}}));function SO(e){return e=(e||0)%360,e<0?e+360:e}function Im(e){return Math.max(0,Math.min(1,e||0))}function wb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const s_=e=>()=>e;function Wse(e,t){return function(r){return e+r*t}}function Yse(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Kse(e){return(e=+e)==1?s6:function(t,r){return r-t?Yse(t,r,e):s_(isNaN(t)?r:t)}}function s6(e,t){var r=t-e;return r?Wse(e,r):s_(isNaN(e)?t:e)}const NO=(function e(t){var r=Kse(t);function n(a,i){var l=r((a=l1(a)).r,(i=l1(i)).r),u=r(a.g,i.g),d=r(a.b,i.b),m=s6(a.opacity,i.opacity);return function(h){return a.r=l(h),a.g=u(h),a.b=d(h),a.opacity=m(h),a+""}}return n.gamma=e,n})(1);function Gse(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Vse(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qse(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=gu(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<n;++l)i[l]=a[l](u);return i}}function Xse(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Eg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Zse(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=gu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var c1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jb=new RegExp(c1.source,"g");function Jse(e){return function(){return e}}function eie(e){return function(t){return e(t)+""}}function tie(e,t){var r=c1.lastIndex=jb.lastIndex=0,n,a,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=c1.exec(e))&&(a=jb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Eg(n,a)})),r=jb.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?eie(d[0].x):Jse(t):(t=d.length,function(m){for(var h=0,g;h<t;++h)u[(g=d[h]).i]=g.x(m);return u.join("")})}function gu(e,t){var r=typeof t,n;return t==null||r==="boolean"?s_(t):(r==="number"?Eg:r==="string"?(n=rf(t))?(t=n,NO):tie:t instanceof rf?NO:t instanceof Date?Xse:Vse(t)?Gse:Array.isArray(t)?Qse:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zse:Eg)(e,t)}function i_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rie(e,t){t===void 0&&(t=e,e=gu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[u](l-u)}}function nie(e){return function(){return e}}function Og(e){return+e}var kO=[0,1];function Cn(e){return e}function u1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nie(isNaN(t)?NaN:.5)}function aie(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sie(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=u1(a,n),i=r(l,i)):(n=u1(n,a),i=r(i,l)),function(u){return i(n(u))}}function iie(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=u1(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=Ef(e,u,1,n)-1;return i[d](a[d](u))}}function Df(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vp(){var e=kO,t=kO,r=gu,n,a,i,l=Cn,u,d,m;function h(){var y=Math.min(e.length,t.length);return l!==Cn&&(l=aie(e[0],e[y-1])),u=y>2?iie:sie,d=m=null,g}function g(y){return y==null||isNaN(y=+y)?i:(d||(d=u(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(a((m||(m=u(t,e.map(n),Eg)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Og),h()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=i_,h()},g.clamp=function(y){return arguments.length?(l=y?!0:Cn,h()):l!==Cn},g.interpolate=function(y){return arguments.length?(r=y,h()):r},g.unknown=function(y){return arguments.length?(i=y,g):i},function(y,v){return n=y,a=v,h()}}function o_(){return Vp()(Cn,Cn)}function oie(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Dg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zc(e){return e=Dg(Math.abs(e)),e?e[1]:NaN}function lie(e,t){return function(r,n){for(var a=r.length,i=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function cie(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nf(e){if(!(t=uie.exec(e)))throw new Error("invalid format: "+e);var t;return new l_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nf.prototype=l_.prototype;function l_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}l_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function die(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var i6;function fie(e,t){var r=Dg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(i6=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Dg(e,Math.max(0,t+i-1))[0]}function CO(e,t){var r=Dg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const TO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oie,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>CO(e*100,t),r:CO,s:fie,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AO(e){return e}var EO=Array.prototype.map,OO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hie(e){var t=e.grouping===void 0||e.thousands===void 0?AO:lie(EO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?AO:cie(EO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function m(g){g=nf(g);var y=g.fill,v=g.align,_=g.sign,w=g.symbol,b=g.zero,S=g.width,k=g.comma,C=g.precision,A=g.trim,E=g.type;E==="n"?(k=!0,E="g"):TO[E]||(C===void 0&&(C=12),A=!0,E="g"),(b||y==="0"&&v==="=")&&(b=!0,y="0",v="=");var M=w==="$"?r:w==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=w==="$"?n:/[%p]/.test(E)?l:"",D=TO[E],L=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function B(z){var F=M,G=T,V,Y,$;if(E==="c")G=D(z)+G,z="";else{z=+z;var ee=z<0||1/z<0;if(z=isNaN(z)?d:D(Math.abs(z),C),A&&(z=die(z)),ee&&+z==0&&_!=="+"&&(ee=!1),F=(ee?_==="("?_:u:_==="-"||_==="("?"":_)+F,G=(E==="s"?OO[8+i6/3]:"")+G+(ee&&_==="("?")":""),L){for(V=-1,Y=z.length;++V<Y;)if($=z.charCodeAt(V),48>$||$>57){G=($===46?a+z.slice(V+1):z.slice(V))+G,z=z.slice(0,V);break}}}k&&!b&&(z=t(z,1/0));var J=F.length+z.length+G.length,W=J<S?new Array(S-J+1).join(y):"";switch(k&&b&&(z=t(W+z,W.length?S-G.length:1/0),W=""),v){case"<":z=F+z+G+W;break;case"=":z=F+W+z+G;break;case"^":z=W.slice(0,J=W.length>>1)+F+z+G+W.slice(J);break;default:z=W+F+z+G;break}return i(z)}return B.toString=function(){return g+""},B}function h(g,y){var v=m((g=nf(g),g.type="f",g)),_=Math.max(-8,Math.min(8,Math.floor(Zc(y)/3)))*3,w=Math.pow(10,-_),b=OO[8+_/3];return function(S){return v(w*S)+b}}return{format:m,formatPrefix:h}}var Lm,c_,o6;mie({thousands:",",grouping:[3],currency:["$",""]});function mie(e){return Lm=hie(e),c_=Lm.format,o6=Lm.formatPrefix,Lm}function gie(e){return Math.max(0,-Zc(Math.abs(e)))}function pie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zc(t)/3)))*3-Zc(Math.abs(e)))}function yie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zc(t)-Zc(e))+1}function l6(e,t,r,n){var a=i1(e,t,r),i;switch(n=nf(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=pie(a,l))&&(n.precision=i),o6(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=yie(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=gie(a))&&(n.precision=i-(n.type==="%")*2);break}}return c_(n)}function No(e){var t=e.domain;return e.ticks=function(r){var n=t();return a1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return l6(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],u=n[i],d,m,h=10;for(u<l&&(m=l,l=u,u=m,m=a,a=i,i=m);h-- >0;){if(m=s1(l,u,r),m===d)return n[a]=l,n[i]=u,t(n);if(m>0)l=Math.floor(l/m)*m,u=Math.ceil(u/m)*m;else if(m<0)l=Math.ceil(l*m)/m,u=Math.floor(u*m)/m;else break;d=m}return e},e}function c6(){var e=o_();return e.copy=function(){return Df(e,c6())},Ya.apply(e,arguments),No(e)}function u6(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Og),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return u6(e).unknown(t)},e=arguments.length?Array.from(e,Og):[0,1],No(r)}function d6(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function DO(e){return Math.log(e)}function MO(e){return Math.exp(e)}function xie(e){return-Math.log(-e)}function vie(e){return-Math.exp(-e)}function bie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wie(e){return e===10?bie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PO(e){return(t,r)=>-e(-t,r)}function u_(e){const t=e(DO,MO),r=t.domain;let n=10,a,i;function l(){return a=jie(n),i=wie(n),r()[0]<0?(a=PO(a),i=PO(i),e(xie,vie)):e(DO,MO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let m=d[0],h=d[d.length-1];const g=h<m;g&&([m,h]=[h,m]);let y=a(m),v=a(h),_,w;const b=u==null?10:+u;let S=[];if(!(n%1)&&v-y<b){if(y=Math.floor(y),v=Math.ceil(v),m>0){for(;y<=v;++y)for(_=1;_<n;++_)if(w=y<0?_/i(-y):_*i(y),!(w<m)){if(w>h)break;S.push(w)}}else for(;y<=v;++y)for(_=n-1;_>=1;--_)if(w=y>0?_/i(-y):_*i(y),!(w<m)){if(w>h)break;S.push(w)}S.length*2<b&&(S=a1(m,h,b))}else S=a1(y,v,Math.min(v-y,b)).map(i);return g?S.reverse():S},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=nf(d)).precision==null&&(d.trim=!0),d=c_(d)),u===1/0)return d;const m=Math.max(1,n*u/t.ticks().length);return h=>{let g=h/i(Math.round(a(h)));return g*n<n-.5&&(g*=n),g<=m?d(h):""}},t.nice=()=>r(d6(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),t}function f6(){const e=u_(Vp()).domain([1,10]);return e.copy=()=>Df(e,f6()).base(e.base()),Ya.apply(e,arguments),e}function RO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function IO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function d_(e){var t=1,r=e(RO(t),IO(t));return r.constant=function(n){return arguments.length?e(RO(t=+n),IO(t)):t},No(r)}function h6(){var e=d_(Vp());return e.copy=function(){return Df(e,h6()).constant(e.constant())},Ya.apply(e,arguments)}function LO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _ie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Sie(e){return e<0?-e*e:e*e}function f_(e){var t=e(Cn,Cn),r=1;function n(){return r===1?e(Cn,Cn):r===.5?e(_ie,Sie):e(LO(r),LO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},No(t)}function h_(){var e=f_(Vp());return e.copy=function(){return Df(e,h_()).exponent(e.exponent())},Ya.apply(e,arguments),e}function Nie(){return h_.apply(null,arguments).exponent(.5)}function $O(e){return Math.sign(e)*e*e}function kie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function m6(){var e=o_(),t=[0,1],r=!1,n;function a(i){var l=kie(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert($O(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Og)).map($O)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return m6(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ya.apply(a,arguments),No(a)}function g6(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=Ese(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?n:t[Ef(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(lo),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return g6().domain(e).range(t).unknown(n)},Ya.apply(i,arguments)}function p6(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[Ef(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var m=a.indexOf(d);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return p6().domain([e,t]).range(a).unknown(i)},Ya.apply(No(l),arguments)}function y6(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Ef(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return y6().domain(e).range(t).unknown(r)},Ya.apply(a,arguments)}const _b=new Date,Sb=new Date;function Wr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),u=a.ceil(i);return i-l<u-i?l:u},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let m;do d.push(m=new Date(+i)),t(i,u),e(i);while(m<i&&i<l);return d},a.filter=i=>Wr(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(_b.setTime(+i),Sb.setTime(+l),e(_b),e(Sb),Math.floor(r(_b,Sb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Mg=Wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Mg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Mg);Mg.range;const ci=1e3,za=ci*60,ui=za*60,pi=ui*24,m_=pi*7,BO=pi*30,Nb=pi*365,ol=Wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ci)},(e,t)=>(t-e)/ci,e=>e.getUTCSeconds());ol.range;const g_=Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ci)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getMinutes());g_.range;const p_=Wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCMinutes());p_.range;const y_=Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ci-e.getMinutes()*za)},(e,t)=>{e.setTime(+e+t*ui)},(e,t)=>(t-e)/ui,e=>e.getHours());y_.range;const x_=Wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ui)},(e,t)=>(t-e)/ui,e=>e.getUTCHours());x_.range;const Mf=Wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*za)/pi,e=>e.getDate()-1);Mf.range;const Qp=Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>e.getUTCDate()-1);Qp.range;const x6=Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>Math.floor(e/pi));x6.range;function Pl(e){return Wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*za)/m_)}const Xp=Pl(0),Pg=Pl(1),Cie=Pl(2),Tie=Pl(3),Jc=Pl(4),Aie=Pl(5),Eie=Pl(6);Xp.range;Pg.range;Cie.range;Tie.range;Jc.range;Aie.range;Eie.range;function Rl(e){return Wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/m_)}const Zp=Rl(0),Rg=Rl(1),Oie=Rl(2),Die=Rl(3),eu=Rl(4),Mie=Rl(5),Pie=Rl(6);Zp.range;Rg.range;Oie.range;Die.range;eu.range;Mie.range;Pie.range;const v_=Wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());v_.range;const b_=Wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());b_.range;const yi=Wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yi.range;const xi=Wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});xi.range;function v6(e,t,r,n,a,i){const l=[[ol,1,ci],[ol,5,5*ci],[ol,15,15*ci],[ol,30,30*ci],[i,1,za],[i,5,5*za],[i,15,15*za],[i,30,30*za],[a,1,ui],[a,3,3*ui],[a,6,6*ui],[a,12,12*ui],[n,1,pi],[n,2,2*pi],[r,1,m_],[t,1,BO],[t,3,3*BO],[e,1,Nb]];function u(m,h,g){const y=h<m;y&&([m,h]=[h,m]);const v=g&&typeof g.range=="function"?g:d(m,h,g),_=v?v.range(m,+h+1):[];return y?_.reverse():_}function d(m,h,g){const y=Math.abs(h-m)/g,v=t_(([,,b])=>b).right(l,y);if(v===l.length)return e.every(i1(m/Nb,h/Nb,g));if(v===0)return Mg.every(Math.max(i1(m,h,g),1));const[_,w]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return _.every(w)}return[u,d]}const[Rie,Iie]=v6(xi,b_,Zp,x6,x_,p_),[Lie,$ie]=v6(yi,v_,Xp,Mf,y_,g_);function kb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Bie(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,m=kd(a),h=Cd(a),g=kd(i),y=Cd(i),v=kd(l),_=Cd(l),w=kd(u),b=Cd(u),S=kd(d),k=Cd(d),C={a:ee,A:J,b:W,B:U,c:null,d:WO,e:WO,f:loe,g:xoe,G:boe,H:soe,I:ioe,j:ooe,L:b6,m:coe,M:uoe,p:P,q:H,Q:GO,s:VO,S:doe,u:foe,U:hoe,V:moe,w:goe,W:poe,x:null,X:null,y:yoe,Y:voe,Z:woe,"%":KO},A={a:Q,A:ne,b:ge,B:be,c:null,d:YO,e:YO,f:Noe,g:Roe,G:Loe,H:joe,I:_oe,j:Soe,L:j6,m:koe,M:Coe,p:te,q:Se,Q:GO,s:VO,S:Toe,u:Aoe,U:Eoe,V:Ooe,w:Doe,W:Moe,x:null,X:null,y:Poe,Y:Ioe,Z:$oe,"%":KO},E={a:B,A:z,b:F,B:G,c:V,d:UO,e:UO,f:toe,g:qO,G:FO,H:HO,I:HO,j:Xie,L:eoe,m:Qie,M:Zie,p:L,q:Vie,Q:noe,s:aoe,S:Jie,u:Hie,U:Wie,V:Yie,w:Uie,W:Kie,x:Y,X:$,y:qO,Y:FO,Z:Gie,"%":roe};C.x=M(r,C),C.X=M(n,C),C.c=M(t,C),A.x=M(r,A),A.X=M(n,A),A.c=M(t,A);function M(ce,pe){return function(ke){var de=[],qe=-1,Ae=0,Ye=ce.length,at,Jt,cr;for(ke instanceof Date||(ke=new Date(+ke));++qe<Ye;)ce.charCodeAt(qe)===37&&(de.push(ce.slice(Ae,qe)),(Jt=zO[at=ce.charAt(++qe)])!=null?at=ce.charAt(++qe):Jt=at==="e"?" ":"0",(cr=pe[at])&&(at=cr(ke,Jt)),de.push(at),Ae=qe+1);return de.push(ce.slice(Ae,qe)),de.join("")}}function T(ce,pe){return function(ke){var de=Nd(1900,void 0,1),qe=D(de,ce,ke+="",0),Ae,Ye;if(qe!=ke.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(pe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ae=Cb(Nd(de.y,0,1)),Ye=Ae.getUTCDay(),Ae=Ye>4||Ye===0?Rg.ceil(Ae):Rg(Ae),Ae=Qp.offset(Ae,(de.V-1)*7),de.y=Ae.getUTCFullYear(),de.m=Ae.getUTCMonth(),de.d=Ae.getUTCDate()+(de.w+6)%7):(Ae=kb(Nd(de.y,0,1)),Ye=Ae.getDay(),Ae=Ye>4||Ye===0?Pg.ceil(Ae):Pg(Ae),Ae=Mf.offset(Ae,(de.V-1)*7),de.y=Ae.getFullYear(),de.m=Ae.getMonth(),de.d=Ae.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Ye="Z"in de?Cb(Nd(de.y,0,1)).getUTCDay():kb(Nd(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Ye+5)%7:de.w+de.U*7-(Ye+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,Cb(de)):kb(de)}}function D(ce,pe,ke,de){for(var qe=0,Ae=pe.length,Ye=ke.length,at,Jt;qe<Ae;){if(de>=Ye)return-1;if(at=pe.charCodeAt(qe++),at===37){if(at=pe.charAt(qe++),Jt=E[at in zO?pe.charAt(qe++):at],!Jt||(de=Jt(ce,ke,de))<0)return-1}else if(at!=ke.charCodeAt(de++))return-1}return de}function L(ce,pe,ke){var de=m.exec(pe.slice(ke));return de?(ce.p=h.get(de[0].toLowerCase()),ke+de[0].length):-1}function B(ce,pe,ke){var de=v.exec(pe.slice(ke));return de?(ce.w=_.get(de[0].toLowerCase()),ke+de[0].length):-1}function z(ce,pe,ke){var de=g.exec(pe.slice(ke));return de?(ce.w=y.get(de[0].toLowerCase()),ke+de[0].length):-1}function F(ce,pe,ke){var de=S.exec(pe.slice(ke));return de?(ce.m=k.get(de[0].toLowerCase()),ke+de[0].length):-1}function G(ce,pe,ke){var de=w.exec(pe.slice(ke));return de?(ce.m=b.get(de[0].toLowerCase()),ke+de[0].length):-1}function V(ce,pe,ke){return D(ce,t,pe,ke)}function Y(ce,pe,ke){return D(ce,r,pe,ke)}function $(ce,pe,ke){return D(ce,n,pe,ke)}function ee(ce){return l[ce.getDay()]}function J(ce){return i[ce.getDay()]}function W(ce){return d[ce.getMonth()]}function U(ce){return u[ce.getMonth()]}function P(ce){return a[+(ce.getHours()>=12)]}function H(ce){return 1+~~(ce.getMonth()/3)}function Q(ce){return l[ce.getUTCDay()]}function ne(ce){return i[ce.getUTCDay()]}function ge(ce){return d[ce.getUTCMonth()]}function be(ce){return u[ce.getUTCMonth()]}function te(ce){return a[+(ce.getUTCHours()>=12)]}function Se(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var pe=M(ce+="",C);return pe.toString=function(){return ce},pe},parse:function(ce){var pe=T(ce+="",!1);return pe.toString=function(){return ce},pe},utcFormat:function(ce){var pe=M(ce+="",A);return pe.toString=function(){return ce},pe},utcParse:function(ce){var pe=T(ce+="",!0);return pe.toString=function(){return ce},pe}}}var zO={"-":"",_:" ",0:"0"},nn=/^\s*\d+/,zie=/^%/,Fie=/[\\^$*+?|[\]().{}]/g;function Ot(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function qie(e){return e.replace(Fie,"\\$&")}function kd(e){return new RegExp("^(?:"+e.map(qie).join("|")+")","i")}function Cd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Uie(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Hie(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Wie(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Yie(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Kie(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function FO(e,t,r){var n=nn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qO(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gie(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Vie(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Qie(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function UO(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Xie(e,t,r){var n=nn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function HO(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Zie(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Jie(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eoe(e,t,r){var n=nn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function toe(e,t,r){var n=nn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function roe(e,t,r){var n=zie.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function noe(e,t,r){var n=nn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aoe(e,t,r){var n=nn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function WO(e,t){return Ot(e.getDate(),t,2)}function soe(e,t){return Ot(e.getHours(),t,2)}function ioe(e,t){return Ot(e.getHours()%12||12,t,2)}function ooe(e,t){return Ot(1+Mf.count(yi(e),e),t,3)}function b6(e,t){return Ot(e.getMilliseconds(),t,3)}function loe(e,t){return b6(e,t)+"000"}function coe(e,t){return Ot(e.getMonth()+1,t,2)}function uoe(e,t){return Ot(e.getMinutes(),t,2)}function doe(e,t){return Ot(e.getSeconds(),t,2)}function foe(e){var t=e.getDay();return t===0?7:t}function hoe(e,t){return Ot(Xp.count(yi(e)-1,e),t,2)}function w6(e){var t=e.getDay();return t>=4||t===0?Jc(e):Jc.ceil(e)}function moe(e,t){return e=w6(e),Ot(Jc.count(yi(e),e)+(yi(e).getDay()===4),t,2)}function goe(e){return e.getDay()}function poe(e,t){return Ot(Pg.count(yi(e)-1,e),t,2)}function yoe(e,t){return Ot(e.getFullYear()%100,t,2)}function xoe(e,t){return e=w6(e),Ot(e.getFullYear()%100,t,2)}function voe(e,t){return Ot(e.getFullYear()%1e4,t,4)}function boe(e,t){var r=e.getDay();return e=r>=4||r===0?Jc(e):Jc.ceil(e),Ot(e.getFullYear()%1e4,t,4)}function woe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ot(t/60|0,"0",2)+Ot(t%60,"0",2)}function YO(e,t){return Ot(e.getUTCDate(),t,2)}function joe(e,t){return Ot(e.getUTCHours(),t,2)}function _oe(e,t){return Ot(e.getUTCHours()%12||12,t,2)}function Soe(e,t){return Ot(1+Qp.count(xi(e),e),t,3)}function j6(e,t){return Ot(e.getUTCMilliseconds(),t,3)}function Noe(e,t){return j6(e,t)+"000"}function koe(e,t){return Ot(e.getUTCMonth()+1,t,2)}function Coe(e,t){return Ot(e.getUTCMinutes(),t,2)}function Toe(e,t){return Ot(e.getUTCSeconds(),t,2)}function Aoe(e){var t=e.getUTCDay();return t===0?7:t}function Eoe(e,t){return Ot(Zp.count(xi(e)-1,e),t,2)}function _6(e){var t=e.getUTCDay();return t>=4||t===0?eu(e):eu.ceil(e)}function Ooe(e,t){return e=_6(e),Ot(eu.count(xi(e),e)+(xi(e).getUTCDay()===4),t,2)}function Doe(e){return e.getUTCDay()}function Moe(e,t){return Ot(Rg.count(xi(e)-1,e),t,2)}function Poe(e,t){return Ot(e.getUTCFullYear()%100,t,2)}function Roe(e,t){return e=_6(e),Ot(e.getUTCFullYear()%100,t,2)}function Ioe(e,t){return Ot(e.getUTCFullYear()%1e4,t,4)}function Loe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?eu(e):eu.ceil(e),Ot(e.getUTCFullYear()%1e4,t,4)}function $oe(){return"+0000"}function KO(){return"%"}function GO(e){return+e}function VO(e){return Math.floor(+e/1e3)}var Pc,S6,N6;Boe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Boe(e){return Pc=Bie(e),S6=Pc.format,Pc.parse,N6=Pc.utcFormat,Pc.utcParse,Pc}function zoe(e){return new Date(e)}function Foe(e){return e instanceof Date?+e:+new Date(+e)}function w_(e,t,r,n,a,i,l,u,d,m){var h=o_(),g=h.invert,y=h.domain,v=m(".%L"),_=m(":%S"),w=m("%I:%M"),b=m("%I %p"),S=m("%a %d"),k=m("%b %d"),C=m("%B"),A=m("%Y");function E(M){return(d(M)<M?v:u(M)<M?_:l(M)<M?w:i(M)<M?b:n(M)<M?a(M)<M?S:k:r(M)<M?C:A)(M)}return h.invert=function(M){return new Date(g(M))},h.domain=function(M){return arguments.length?y(Array.from(M,Foe)):y().map(zoe)},h.ticks=function(M){var T=y();return e(T[0],T[T.length-1],M??10)},h.tickFormat=function(M,T){return T==null?E:m(T)},h.nice=function(M){var T=y();return(!M||typeof M.range!="function")&&(M=t(T[0],T[T.length-1],M??10)),M?y(d6(T,M)):h},h.copy=function(){return Df(h,w_(e,t,r,n,a,i,l,u,d,m))},h}function qoe(){return Ya.apply(w_(Lie,$ie,yi,v_,Xp,Mf,y_,g_,ol,S6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Uoe(){return Ya.apply(w_(Rie,Iie,xi,b_,Zp,Qp,x_,p_,ol,N6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jp(){var e=0,t=1,r,n,a,i,l=Cn,u=!1,d;function m(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(i(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(g){return arguments.length?(u=!!g,m):u},m.interpolator=function(g){return arguments.length?(l=g,m):l};function h(g){return function(y){var v,_;return arguments.length?([v,_]=y,l=g(v,_),m):[l(0),l(1)]}}return m.range=h(gu),m.rangeRound=h(i_),m.unknown=function(g){return arguments.length?(d=g,m):d},function(g){return i=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),m}}function ko(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function k6(){var e=No(Jp()(Cn));return e.copy=function(){return ko(e,k6())},ji.apply(e,arguments)}function C6(){var e=u_(Jp()).domain([1,10]);return e.copy=function(){return ko(e,C6()).base(e.base())},ji.apply(e,arguments)}function T6(){var e=d_(Jp());return e.copy=function(){return ko(e,T6()).constant(e.constant())},ji.apply(e,arguments)}function j_(){var e=f_(Jp());return e.copy=function(){return ko(e,j_()).exponent(e.exponent())},ji.apply(e,arguments)}function Hoe(){return j_.apply(null,arguments).exponent(.5)}function A6(){var e=[],t=Cn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ef(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(lo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Ase(e,i/n))},r.copy=function(){return A6(t).domain(e)},ji.apply(r,arguments)}function e0(){var e=0,t=.5,r=1,n=1,a,i,l,u,d,m=Cn,h,g=!1,y;function v(w){return isNaN(w=+w)?y:(w=.5+((w=+h(w))-i)*(n*w<n*i?u:d),m(g?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,r]=w,a=h(e=+e),i=h(t=+t),l=h(r=+r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v):[e,t,r]},v.clamp=function(w){return arguments.length?(g=!!w,v):g},v.interpolator=function(w){return arguments.length?(m=w,v):m};function _(w){return function(b){var S,k,C;return arguments.length?([S,k,C]=b,m=rie(w,[S,k,C]),v):[m(0),m(.5),m(1)]}}return v.range=_(gu),v.rangeRound=_(i_),v.unknown=function(w){return arguments.length?(y=w,v):y},function(w){return h=w,a=w(e),i=w(t),l=w(r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v}}function E6(){var e=No(e0()(Cn));return e.copy=function(){return ko(e,E6())},ji.apply(e,arguments)}function O6(){var e=u_(e0()).domain([.1,1,10]);return e.copy=function(){return ko(e,O6()).base(e.base())},ji.apply(e,arguments)}function D6(){var e=d_(e0());return e.copy=function(){return ko(e,D6()).constant(e.constant())},ji.apply(e,arguments)}function __(){var e=f_(e0());return e.copy=function(){return ko(e,__()).exponent(e.exponent())},ji.apply(e,arguments)}function Woe(){return __.apply(null,arguments).exponent(.5)}const Pd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:n_,scaleDiverging:E6,scaleDivergingLog:O6,scaleDivergingPow:__,scaleDivergingSqrt:Woe,scaleDivergingSymlog:D6,scaleIdentity:u6,scaleImplicit:o1,scaleLinear:c6,scaleLog:f6,scaleOrdinal:r_,scalePoint:Dse,scalePow:h_,scaleQuantile:g6,scaleQuantize:p6,scaleRadial:m6,scaleSequential:k6,scaleSequentialLog:C6,scaleSequentialPow:j_,scaleSequentialQuantile:A6,scaleSequentialSqrt:Hoe,scaleSequentialSymlog:T6,scaleSqrt:Nie,scaleSymlog:h6,scaleThreshold:y6,scaleTime:qoe,scaleUtc:Uoe,tickFormat:l6},Symbol.toStringTag,{value:"Module"}));var Co=e=>e.chartData,Yoe=he([Co],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),t0=(e,t,r,n)=>n?Yoe(e):Co(e);function tu(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(xa(t)&&xa(r))return!0}return!1}function QO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Koe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(xa(r))a=r;else if(typeof r=="function")return;if(xa(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(tu(l))return l}}function Goe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(tu(n))return QO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Ke(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&zE.test(a)){var d=zE.exec(a);if(d==null||t==null)l=void 0;else{var m=+d[1];l=t[0]-m}}else l=t?.[0];if(i==="auto")t!=null&&(u=Math.max(...t));else if(Ke(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t?.[1]))}catch{}else if(typeof i=="string"&&FE.test(i)){var h=FE.exec(i);if(h==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t?.[1];var y=[l,u];if(tu(y))return t==null?y:QO(y,t,r)}}}var pu=1e9,Voe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},N_,or=!0,Ha="[DecimalError] ",hl=Ha+"Invalid argument: ",S_=Ha+"Exponent out of range: ",yu=Math.floor,tl=Math.pow,Qoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ua,Xr=1e7,sr=7,M6=9007199254740991,Ig=yu(M6/sr),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*sr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(e){return fi(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,r=t.constructor;return Zt(fi(t,new r(e),0,1),r.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return Ir(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ua))throw Error(Ha+"NaN");if(r.s<1)throw Error(Ha+(r.s?"NaN":"-Infinity"));return r.eq(ua)?new n(0):(or=!1,t=fi(af(r,i),af(e,i),i),or=!0,Zt(t,a))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I6(t,e):P6(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ha+"NaN");return r.s?(or=!1,t=fi(r,e,0,1).times(e),or=!0,r.minus(t)):Zt(new n(r),a)};Ee.naturalExponential=Ee.exp=function(){return R6(this)};Ee.naturalLogarithm=Ee.ln=function(){return af(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P6(t,e):I6(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hl+e);if(t=Ir(a)+1,n=a.d.length-1,r=n*sr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ee.squareRoot=Ee.sqrt=function(){var e,t,r,n,a,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Ha+"NaN")}for(e=Ir(u),or=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=ks(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=yu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(fi(u,i,l+2)).times(.5),ks(i.d).slice(0,l)===(t=ks(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Zt(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(t!="9999")break;l+=4}return or=!0,Zt(n,r)};Ee.times=Ee.mul=function(e){var t,r,n,a,i,l,u,d,m,h=this,g=h.constructor,y=h.d,v=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,r=h.e+e.e,d=y.length,m=v.length,d<m&&(i=y,y=v,v=i,l=d,d=m,m=l),i=[],l=d+m,n=l;n--;)i.push(0);for(n=m;--n>=0;){for(t=0,a=d+n;a>n;)u=i[a]+v[n]*y[a-n-1]+t,i[a--]=u%Xr|0,t=u/Xr|0;i[a]=(i[a]+t)%Xr|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,or?Zt(e,g.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ds(e,0,pu),t===void 0?t=n.rounding:Ds(t,0,8),Zt(r,e+Ir(r)+1,t))};Ee.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=kl(n,!0):(Ds(e,0,pu),t===void 0?t=a.rounding:Ds(t,0,8),n=Zt(new a(n),e+1,t),r=kl(n,!0,e+1)),r};Ee.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?kl(a):(Ds(e,0,pu),t===void 0?t=i.rounding:Ds(t,0,8),n=Zt(new i(a),e+Ir(a)+1,t),r=kl(n.abs(),!1,e+Ir(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return Zt(new t(e),Ir(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,r,n,a,i,l,u=this,d=u.constructor,m=12,h=+(e=new d(e));if(!e.s)return new d(ua);if(u=new d(u),!u.s){if(e.s<1)throw Error(Ha+"Infinity");return u}if(u.eq(ua))return u;if(n=d.precision,e.eq(ua))return Zt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=h<0?-h:h)<=M6){for(a=new d(ua),t=Math.ceil(n/sr+4),or=!1;r%2&&(a=a.times(u),ZO(a.d,t)),r=yu(r/2),r!==0;)u=u.times(u),ZO(u.d,t);return or=!0,e.s<0?new d(ua).div(a):Zt(a,n)}}else if(i<0)throw Error(Ha+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,or=!1,a=e.times(af(u,n+m)),or=!0,a=R6(a),a.s=i,a};Ee.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ir(a),n=kl(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ds(e,1,pu),t===void 0?t=i.rounding:Ds(t,0,8),a=Zt(new i(a),e,t),r=Ir(a),n=kl(a,e<=r||r<=i.toExpNeg,e)),n};Ee.toSignificantDigits=Ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ds(e,1,pu),t===void 0?t=n.rounding:Ds(t,0,8)),Zt(new n(r),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ir(e),r=e.constructor;return kl(e,t<=r.toExpNeg||t>=r.toExpPos)};function P6(e,t){var r,n,a,i,l,u,d,m,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),or?Zt(t,g):t;if(d=e.d,m=t.d,l=e.e,a=t.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,u=m.length):(n=m,a=l,u=d.length),l=Math.ceil(g/sr),u=l>u?l+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=m.length,u-i<0&&(i=u,n=m,m=d,d=n),r=0;i;)r=(d[--i]=d[i]+m[i]+r)/Xr|0,d[i]%=Xr;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,or?Zt(t,g):t}function Ds(e,t,r){if(e!==~~e||e<t||e>r)throw Error(hl+e)}function ks(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=sr-n.length,r&&(i+=eo(r)),i+=n;l=e[t],n=l+"",r=sr-n.length,r&&(i+=eo(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var fi=(function(){function e(n,a){var i,l=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+l,n[u]=i%Xr|0,l=i/Xr|0;return l&&n.unshift(l),n}function t(n,a,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Xr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var u,d,m,h,g,y,v,_,w,b,S,k,C,A,E,M,T,D,L=n.constructor,B=n.s==a.s?1:-1,z=n.d,F=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(Ha+"Division by zero");for(d=n.e-a.e,T=F.length,E=z.length,v=new L(B),_=v.d=[],m=0;F[m]==(z[m]||0);)++m;if(F[m]>(z[m]||0)&&--d,i==null?k=i=L.precision:l?k=i+(Ir(n)-Ir(a))+1:k=i,k<0)return new L(0);if(k=k/sr+2|0,m=0,T==1)for(h=0,F=F[0],k++;(m<E||h)&&k--;m++)C=h*Xr+(z[m]||0),_[m]=C/F|0,h=C%F|0;else{for(h=Xr/(F[0]+1)|0,h>1&&(F=e(F,h),z=e(z,h),T=F.length,E=z.length),A=T,w=z.slice(0,T),b=w.length;b<T;)w[b++]=0;D=F.slice(),D.unshift(0),M=F[0],F[1]>=Xr/2&&++M;do h=0,u=t(F,w,T,b),u<0?(S=w[0],T!=b&&(S=S*Xr+(w[1]||0)),h=S/M|0,h>1?(h>=Xr&&(h=Xr-1),g=e(F,h),y=g.length,b=w.length,u=t(g,w,y,b),u==1&&(h--,r(g,T<y?D:F,y))):(h==0&&(u=h=1),g=F.slice()),y=g.length,y<b&&g.unshift(0),r(w,g,b),u==-1&&(b=w.length,u=t(F,w,T,b),u<1&&(h++,r(w,T<b?D:F,b))),b=w.length):u===0&&(h++,w=[0]),_[m++]=h,u&&w[0]?w[b++]=z[A]||0:(w=[z[A]],b=1);while((A++<E||w[0]!==void 0)&&k--)}return _[0]||_.shift(),v.e=d,Zt(v,l?i+Ir(v)+1:i)}})();function R6(e,t){var r,n,a,i,l,u,d=0,m=0,h=e.constructor,g=h.precision;if(Ir(e)>16)throw Error(S_+Ir(e));if(!e.s)return new h(ua);for(or=!1,u=g,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),m+=5;for(n=Math.log(tl(2,m))/Math.LN10*2+5|0,u+=n,r=a=i=new h(ua),h.precision=u;;){if(a=Zt(a.times(e),u),r=r.times(++d),l=i.plus(fi(a,r,u)),ks(l.d).slice(0,u)===ks(i.d).slice(0,u)){for(;m--;)i=Zt(i.times(i),u);return h.precision=g,t==null?(or=!0,Zt(i,g)):i}i=l}}function Ir(e){for(var t=e.e*sr,r=e.d[0];r>=10;r/=10)t++;return t}function Tb(e,t,r){if(t>e.LN10.sd())throw or=!0,r&&(e.precision=r),Error(Ha+"LN10 precision limit exceeded");return Zt(new e(e.LN10),t)}function eo(e){for(var t="";e--;)t+="0";return t}function af(e,t){var r,n,a,i,l,u,d,m,h,g=1,y=10,v=e,_=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error(Ha+(v.s?"NaN":"-Infinity"));if(v.eq(ua))return new w(0);if(t==null?(or=!1,m=b):m=t,v.eq(10))return t==null&&(or=!0),Tb(w,m);if(m+=y,w.precision=m,r=ks(_),n=r.charAt(0),i=Ir(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=ks(v.d),n=r.charAt(0),g++;i=Ir(v),n>1?(v=new w("0."+r),i++):v=new w(n+"."+r.slice(1))}else return d=Tb(w,m+2,b).times(i+""),v=af(new w(n+"."+r.slice(1)),m-y).plus(d),w.precision=b,t==null?(or=!0,Zt(v,b)):v;for(u=l=v=fi(v.minus(ua),v.plus(ua),m),h=Zt(v.times(v),m),a=3;;){if(l=Zt(l.times(h),m),d=u.plus(fi(l,new w(a),m)),ks(d.d).slice(0,m)===ks(u.d).slice(0,m))return u=u.times(2),i!==0&&(u=u.plus(Tb(w,m+2,b).times(i+""))),u=fi(u,new w(g),m),w.precision=b,t==null?(or=!0,Zt(u,b)):u;u=d,a+=2}}function XO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=yu(r/sr),e.d=[],n=(r+1)%sr,r<0&&(n+=sr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=sr;n<a;)e.d.push(+t.slice(n,n+=sr));t=t.slice(n),n=sr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),or&&(e.e>Ig||e.e<-Ig))throw Error(S_+r)}else e.s=0,e.e=0,e.d=[0];return e}function Zt(e,t,r){var n,a,i,l,u,d,m,h,g=e.d;for(l=1,i=g[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=sr,a=t,m=g[h=0];else{if(h=Math.ceil((n+1)/sr),i=g.length,h>=i)return e;for(m=i=g[h],l=1;i>=10;i/=10)l++;n%=sr,a=n-sr+l}if(r!==void 0&&(i=tl(10,l-a-1),u=m/i%10|0,d=t<0||g[h+1]!==void 0||m%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?m/tl(10,l-a):0:g[h-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(i=Ir(e),g.length=1,t=t-i-1,g[0]=tl(10,(sr-t%sr)%sr),e.e=yu(-t/sr)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=h,i=1,h--):(g.length=h+1,i=tl(10,sr-n),g[h]=a>0?(m/tl(10,l-a)%tl(10,a)|0)*i:0),d)for(;;)if(h==0){(g[0]+=i)==Xr&&(g[0]=1,++e.e);break}else{if(g[h]+=i,g[h]!=Xr)break;g[h--]=0,i=1}for(n=g.length;g[--n]===0;)g.pop();if(or&&(e.e>Ig||e.e<-Ig))throw Error(S_+Ir(e));return e}function I6(e,t){var r,n,a,i,l,u,d,m,h,g,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),or?Zt(t,v):t;if(d=e.d,g=t.d,n=t.e,m=e.e,d=d.slice(),l=m-n,l){for(h=l<0,h?(r=d,l=-l,u=g.length):(r=g,n=m,u=d.length),a=Math.max(Math.ceil(v/sr),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=g.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){h=d[a]<g[a];break}l=0}for(h&&(r=d,d=g,g=r,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(i=a;i&&d[--i]===0;)d[i]=Xr-1;--d[i],d[a]+=Xr}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,or?Zt(t,v):t):new y(0)}function kl(e,t,r){var n,a=Ir(e),i=ks(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+eo(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+eo(-a-1)+i,r&&(n=r-l)>0&&(i+=eo(n))):a>=l?(i+=eo(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+eo(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=eo(n))),e.s<0?"-"+i:i}function ZO(e,t){if(e.length>t)return e.length=t,!0}function L6(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(hl+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return XO(l,i.toString())}else if(typeof i!="string")throw Error(hl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Qoe.test(i))XO(l,i);else throw Error(hl+i)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=L6,a.config=a.set=Xoe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Xoe(e){if(!e||typeof e!="object")throw Error(Ha+"Object expected");var t,r,n,a=["precision",1,pu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(yu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(hl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(hl+r+": "+n);return this}var N_=L6(Voe);ua=new N_(1);const Ut=N_;var Zoe=e=>e,$6={},B6=e=>e===$6,JO=e=>function t(){return arguments.length===0||arguments.length===1&&B6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},z6=(e,t)=>e===1?t:JO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==$6).length;return i>=e?t(...n):z6(e-i,JO(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var m=n.map(h=>B6(h)?u.shift():h);return t(...m,...u)}))}),r0=e=>z6(e.length,e),d1=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Joe=r0((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),ele=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Zoe;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),i(...arguments))}},f1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),F6=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=a,r=e(...a)),r}};function q6(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function U6(e,t,r){for(var n=new Ut(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}r0((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});r0((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});r0((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var H6=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},W6=(e,t,r)=>{if(e.lte(0))return new Ut(0);var n=q6(e.toNumber()),a=new Ut(10).pow(n),i=e.div(a),l=n!==1?.05:.1,u=new Ut(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?new Ut(d.toNumber()):new Ut(Math.ceil(d.toNumber()))},tle=(e,t,r)=>{var n=new Ut(1),a=new Ut(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ut(10).pow(q6(e)-1),a=new Ut(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ut(Math.floor(e)))}else e===0?a=new Ut(Math.floor((t-1)/2)):r||(a=new Ut(Math.floor(e)));var l=Math.floor((t-1)/2),u=ele(Joe(d=>a.add(new Ut(d-l).mul(n)).toNumber()),d1);return u(0,t)},Y6=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var l=W6(new Ut(r).sub(t).div(n-1),a,i),u;t<=0&&r>=0?u=new Ut(0):(u=new Ut(t).add(r).div(2),u=u.sub(new Ut(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),m=Math.ceil(new Ut(r).sub(u).div(l).toNumber()),h=d+m+1;return h>n?Y6(t,r,n,a,i+1):(h<n&&(m=r>0?m+(n-h):m,d=r>0?d:d+(n-h)),{step:l,tickMin:u.sub(new Ut(d).mul(l)),tickMax:u.add(new Ut(m).mul(l))})};function rle(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,u]=H6([t,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...d1(0,n-1).map(()=>1/0)]:[...d1(0,n-1).map(()=>-1/0),u];return t>r?f1(d):d}if(l===u)return tle(l,n,a);var{step:m,tickMin:h,tickMax:g}=Y6(l,u,i,a,0),y=U6(h,g.add(new Ut(.1).mul(m)),m);return t>r?f1(y):y}function nle(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=H6([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var u=Math.max(t,2),d=W6(new Ut(l).sub(i).div(u-1),a,0),m=[...U6(new Ut(i),new Ut(l),d),l];return a===!1&&(m=m.map(h=>Math.round(h))),r>n?f1(m):m}var ale=F6(rle),sle=F6(nle),K6=e=>e.rootProps.maxBarSize,ile=e=>e.rootProps.barGap,G6=e=>e.rootProps.barCategoryGap,ole=e=>e.rootProps.barSize,n0=e=>e.rootProps.stackOffset,k_=e=>e.options.chartName,C_=e=>e.rootProps.syncId,V6=e=>e.rootProps.syncMethod,T_=e=>e.options.eventEmitter,si={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},sa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},a0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},lle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:si.angleAxisId,includeHidden:!1,name:void 0,reversed:si.reversed,scale:si.scale,tick:si.tick,tickCount:void 0,ticks:void 0,type:si.type,unit:void 0},cle={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:sa.type,unit:void 0},ule={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:si.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:si.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:si.scale,tick:si.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dle={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:"category",unit:void 0},A_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?ule:lle,E_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?dle:cle,s0=e=>e.polarOptions,O_=he([bi,wi,rn],ane),Q6=he([s0,O_],(e,t)=>{if(e!=null)return ss(e.innerRadius,t,0)}),X6=he([s0,O_],(e,t)=>{if(e!=null)return ss(e.outerRadius,t,t*.8)}),fle=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Z6=he([s0],fle);he([A_,Z6],a0);var J6=he([O_,Q6,X6],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});he([E_,J6],a0);var e8=he([Lt,s0,Q6,X6,bi,wi],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:m}=t;return{cx:ss(l,a,a/2),cy:ss(u,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:m,clockWise:!1}}}),$r=(e,t)=>t,i0=(e,t,r)=>r;function D_(e){return e?.id}var Yr=e=>{var t=Lt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xu=e=>e.tooltip.settings.axisId,an=e=>{var t=Yr(e),r=xu(e);return Pf(e,t,r)},t8=he([an],e=>e?.dataKey);function r8(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(u=>{var d,m=(d=u.data)!==null&&d!==void 0?d:n;if(!(m==null||m.length===0)){var h=D_(u);m.forEach((g,y)=>{var v=i==null||a?y:String(en(g,i,null)),_=en(g,u.dataKey,0),w;l.has(v)?w=l.get(v):w={},Object.assign(w,{[h]:_}),l.set(v,w)})}}),Array.from(l.values())}function o0(e){return e.stackId!=null&&e.dataKey!=null}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hle(e,t,r){return(t=mle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mle(e){var t=gle(e,"string");return typeof t=="symbol"?t:t+""}function gle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h1=[0,"auto"],ra={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},n8=(e,t)=>e.cartesianAxis.xAxis[t],_i=(e,t)=>{var r=n8(e,t);return r??ra},na={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:h1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Tf},a8=(e,t)=>e.cartesianAxis.yAxis[t],Si=(e,t)=>{var r=a8(e,t);return r??na},ple={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},M_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??ple},Gn=(e,t,r)=>{switch(t){case"xAxis":return _i(e,r);case"yAxis":return Si(e,r);case"zAxis":return M_(e,r);case"angleAxis":return A_(e,r);case"radiusAxis":return E_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yle=(e,t,r)=>{switch(t){case"xAxis":return _i(e,r);case"yAxis":return Si(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Pf=(e,t,r)=>{switch(t){case"xAxis":return _i(e,r);case"yAxis":return Si(e,r);case"angleAxis":return A_(e,r);case"radiusAxis":return E_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},s8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function i8(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var l0=e=>e.graphicalItems.cartesianItems,xle=he([$r,i0],i8),o8=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Rf=he([l0,Gn,xle],o8),l8=he([Rf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(o0)),c8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),u8=he([Rf],c8),d8=e=>e.map(t=>t.data).filter(Boolean).flat(1),vle=he([Rf],d8),f8=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},P_=he([vle,t0],f8),h8=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:en(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:en(a,n)}))):e.map(n=>({value:n})),c0=he([P_,Gn,Rf],h8);function m8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Il(e){return e.filter(t=>Os(t)||t instanceof Date).map(Number).filter(t=>pa(t)===!1)}function ble(e,t,r){return!r||typeof t!="number"||pa(t)?[]:r.length?Il(r.flatMap(n=>{var a=en(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!xa(i)||!xa(l)))return[t-i,t+l]})):[]}var wle=he([l8,t0,an],r8),g8=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,u]=i,d=u.map(D_);return[l,{stackedData:bne(e,d,r),graphicalItems:u}]}))},m1=he([wle,l8,n0],g8),p8=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=Nne(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},jle=he([m1,Co,$r],p8),y8=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(l=>{var u,d,m=(u=n[l.id])===null||u===void 0?void 0:u.filter(g=>m8(a,g)),h=en(i,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:h,errorDomain:ble(i,h,m)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:en(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),u0=e=>e.errorBars,x8=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>m8(r,n));he([u8,u0,$r],x8);var _le=he([P_,Gn,u8,u0,$r],y8);function Sle(e){var{value:t}=e;if(Os(t)||t instanceof Date)return t}var tD=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Il(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nle=(e,t,r)=>{var n=e.map(Sle).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&T5(n))?ZR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},R_=e=>{var t;if(e==null||!("domain"in e))return h1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Il(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:h1},$g=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),u=Math.max(...i);return[l,u]}},v8=e=>e.referenceElements.dots,vu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),kle=he([v8,$r,i0],vu),b8=e=>e.referenceElements.areas,Cle=he([b8,$r,i0],vu),w8=e=>e.referenceElements.lines,Tle=he([w8,$r,i0],vu),j8=(e,t)=>{var r=Il(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ale=he(kle,$r,j8),_8=(e,t)=>{var r=Il(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ele=he([Cle,$r],_8),S8=(e,t)=>{var r=Il(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ole=he(Tle,$r,S8),Dle=he(Ale,Ole,Ele,(e,t,r)=>$g(e,r,t)),Mle=he([Gn],R_),N8=(e,t,r,n,a,i,l)=>{var u=Koe(t,e.allowDataOverflow);if(u!=null)return u;var d=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",m=d?$g(r,a,tD(n)):$g(a,tD(n));return Goe(t,m,e.allowDataOverflow)},Ple=he([Gn,Mle,jle,_le,Dle,Lt,$r],N8),Rle=[0,1],k8=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,m=So(t,i);return m&&u==null?ZR(0,r.length):d==="category"?Nle(n,e,m):a==="expand"?Rle:l}},I_=he([Gn,Lt,P_,c0,n0,$r,Ple],k8),C8=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var u="scale".concat(Nf(i));return u in Pd?u:"point"}}},If=he([Gn,Lt,s8,k_,$r],C8);function Ile(e){if(e!=null){if(e in Pd)return Pd[e]();var t="scale".concat(Nf(e));if(t in Pd)return Pd[t]()}}function L_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Ile(t);if(a!=null){var i=a.domain(r).range(n);return gne(i),i}}}var T8=(e,t,r)=>{var n=R_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&tu(e))return ale(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&tu(e))return sle(e,t.tickCount,t.allowDecimals)}},$_=he([I_,Pf,If],T8),A8=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&tu(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],u=r[r.length-1];return[Math.min(a,i),Math.max(l,u)]}return t},Lle=he([Gn,I_,$_,$r],A8),$le=he(c0,Gn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Il(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),E8=he($le,Lt,G6,rn,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!xa(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=ss(r,e*i),u=e*i/2;return u-l-(u-l)/i*l}return 0}),Ble=(e,t)=>{var r=_i(e,t);return r==null||typeof r.padding!="string"?0:E8(e,"xAxis",t,r.padding)},zle=(e,t)=>{var r=Si(e,t);return r==null||typeof r.padding!="string"?0:E8(e,"yAxis",t,r.padding)},Fle=he(_i,Ble,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),qle=he(Si,zle,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Ule=he([rn,Fle,Wp,Hp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Hle=he([rn,Lt,qle,Wp,Hp,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Lf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Ule(e,r,n);case"yAxis":return Hle(e,r,n);case"zAxis":return(a=M_(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Z6(e);case"radiusAxis":return J6(e,r);default:return}},O8=he([Gn,Lf],a0),bu=he([Gn,If,Lle,O8],L_);he([Rf,u0,$r],x8);function D8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var d0=(e,t)=>t,f0=(e,t,r)=>r,Wle=he(qp,d0,f0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(D8)),Yle=he(Up,d0,f0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(D8)),M8=(e,t)=>({width:e.width,height:t.height}),Kle=(e,t)=>{var r=typeof t.width=="number"?t.width:Tf;return{width:r,height:e.height}},P8=he(rn,_i,M8),Gle=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Vle=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Qle=he(wi,rn,Wle,d0,f0,(e,t,r,n,a)=>{var i={},l;return r.forEach(u=>{var d=M8(t,u);l==null&&(l=Gle(t,n,e));var m=n==="top"&&!a||n==="bottom"&&a;i[u.id]=l-Number(m)*d.height,l+=(m?-1:1)*d.height}),i}),Xle=he(bi,rn,Yle,d0,f0,(e,t,r,n,a)=>{var i={},l;return r.forEach(u=>{var d=Kle(t,u);l==null&&(l=Vle(t,n,e));var m=n==="left"&&!a||n==="right"&&a;i[u.id]=l-Number(m)*d.width,l+=(m?-1:1)*d.width}),i}),Zle=(e,t)=>{var r=_i(e,t);if(r!=null)return Qle(e,r.orientation,r.mirror)},Jle=he([rn,_i,Zle,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),ece=(e,t)=>{var r=Si(e,t);if(r!=null)return Xle(e,r.orientation,r.mirror)},tce=he([rn,Si,ece,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),R8=he(rn,Si,(e,t)=>{var r=typeof t.width=="number"?t.width:Tf;return{width:r,height:e.height}}),rD=(e,t,r)=>{switch(t){case"xAxis":return P8(e,r).width;case"yAxis":return R8(e,r).height;default:return}},I8=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,u=So(e,n),d=t.map(m=>m.value);if(l&&u&&i==="category"&&a&&T5(d))return d}},B_=he([Lt,c0,Gn,$r],I8),L8=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=So(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(u=>u.value)}},z_=he([Lt,c0,Pf,$r],L8),nD=he([Lt,yle,If,bu,B_,z_,Lf,$_,$r],(e,t,r,n,a,i,l,u,d)=>{if(t==null)return null;var m=So(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:m,niceTicks:u,range:l,realScaleType:r,scale:n}}),rce=(e,t,r,n,a,i,l,u,d)=>{if(!(t==null||n==null)){var m=So(e,d),{type:h,ticks:g,tickCount:y}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=h==="category"&&n.bandwidth?n.bandwidth()/v:0;_=d==="angleAxis"&&i!=null&&i.length>=2?qn(i[0]-i[1])*2*_:_;var w=g||a;if(w){var b=w.map((S,k)=>{var C=l?l.indexOf(S):S;return{index:k,coordinate:n(C)+_,value:S,offset:_}});return b.filter(S=>!pa(S.coordinate))}return m&&u?u.map((S,k)=>({coordinate:n(S)+_,value:S,index:k,offset:_})):n.ticks?n.ticks(y).map(S=>({coordinate:n(S)+_,value:S,offset:_})):n.domain().map((S,k)=>({coordinate:n(S)+_,value:l?l[S]:S,index:k,offset:_}))}},$8=he([Lt,Pf,If,bu,$_,Lf,B_,z_,$r],rce),nce=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=So(e,l),{tickCount:d}=t,m=0;return m=l==="angleAxis"&&n?.length>=2?qn(n[0]-n[1])*2*m:m,u&&i?i.map((h,g)=>({coordinate:r(h)+m,value:h,index:g,offset:m})):r.ticks?r.ticks(d).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,g)=>({coordinate:r(h)+m,value:a?a[h]:h,index:g,offset:m}))}},ho=he([Lt,Pf,bu,Lf,B_,z_,$r],nce),mo=he(Gn,bu,(e,t)=>{if(!(e==null||t==null))return Lg(Lg({},e),{},{scale:t})}),ace=he([Gn,If,I_,O8],L_);he((e,t,r)=>M_(e,r),ace,(e,t)=>{if(!(e==null||t==null))return Lg(Lg({},e),{},{scale:t})});var sce=he([Lt,qp,Up],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),B8=e=>e.options.defaultTooltipEventType,z8=e=>e.options.validateTooltipEventTypes;function F8(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function F_(e,t){var r=B8(e),n=z8(e);return F8(t,r,n)}function ice(e){return ze(t=>F_(t,e))}var q8=(e,t)=>{var r,n=Number(t);if(!(pa(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},oce=e=>e.tooltip.settings,ao={active:!1,index:null,dataKey:void 0,coordinate:void 0},lce={itemInteraction:{click:ao,hover:ao},axisInteraction:{click:ao,hover:ao},keyboardInteraction:ao,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},U8=va({name:"tooltip",initialState:lce,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=di(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:cce,removeTooltipEntrySettings:uce,setTooltipSettingsState:dce,setActiveMouseOverItemIndex:H8,mouseLeaveItem:fce,mouseLeaveChart:W8,setActiveClickItemIndex:hce,setMouseOverAxisIndex:Y8,setMouseClickAxisIndex:mce,setSyncInteraction:g1,setKeyboardInteraction:p1}=U8.actions,gce=U8.reducer;function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){pce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pce(e,t,r){return(t=yce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yce(e){var t=xce(e,"string");return typeof t=="symbol"?t:t+""}function xce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vce(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function bce(e){return e.index!=null}var K8=(e,t,r,n)=>{if(t==null)return ao;var a=vce(e,t,r);if(a==null)return ao;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(bce(a)){if(i)return $m($m({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return $m($m({},ao),{},{coordinate:a.coordinate})},q_=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!xa(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},G8=(e,t,r,n,a,i,l,u)=>{if(!(i==null||u==null)){var d=l[0],m=d==null?void 0:u(d.positions,i);if(m!=null)return m;var h=a?.[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},V8=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},$f=e=>e.options.tooltipPayloadSearcher,wu=e=>e.tooltip;function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){wce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wce(e,t,r){return(t=jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sce(e,t){return e??t}var Q8=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:u,computedData:d,dataStartIndex:m,dataEndIndex:h}=r,g=[];return e.reduce((y,v)=>{var _,{dataDefinedOnItem:w,settings:b}=v,S=Sce(w,u),k=Array.isArray(S)?IR(S,m,h):S,C=(_=b?.dataKey)!==null&&_!==void 0?_:n,A=b?.nameKey,E;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?E=A5(k,n,a):E=i(k,t,d,A),Array.isArray(E))E.forEach(T=>{var D=iD(iD({},b),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});y.push(qE({tooltipEntrySettings:D,dataKey:T.dataKey,payload:T.payload,value:en(T.payload,T.dataKey),name:T.name}))});else{var M;y.push(qE({tooltipEntrySettings:b,dataKey:C,payload:E,value:en(E,C),name:(M=en(E,A))!==null&&M!==void 0?M:b?.name}))}return y},g)}},U_=he([an,Lt,s8,k_,Yr],C8),Nce=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kce=he([Yr,xu],i8),Bf=he([Nce,an,kce],o8),Cce=he([Bf],e=>e.filter(o0)),Tce=he([Bf],d8),ju=he([Tce,Co],f8),Ace=he([Cce,Co,an],r8),H_=he([ju,an,Bf],h8),Ece=he([an],R_),Oce=he([Bf],e=>e.filter(o0)),Dce=he([Ace,Oce,n0],g8),Mce=he([Dce,Co,Yr],p8),Pce=he([Bf],c8),Rce=he([ju,an,Pce,u0,Yr],y8),Ice=he([v8,Yr,xu],vu),Lce=he([Ice,Yr],j8),$ce=he([b8,Yr,xu],vu),Bce=he([$ce,Yr],_8),zce=he([w8,Yr,xu],vu),Fce=he([zce,Yr],S8),qce=he([Lce,Fce,Bce],$g),Uce=he([an,Ece,Mce,Rce,qce,Lt,Yr],N8),X8=he([an,Lt,ju,H_,n0,Yr,Uce],k8),Hce=he([X8,an,U_],T8),Wce=he([an,X8,Hce,Yr],A8),Z8=e=>{var t=Yr(e),r=xu(e),n=!1;return Lf(e,t,r,n)},J8=he([an,Z8],a0),eI=he([an,U_,Wce,J8],L_),Yce=he([Lt,H_,an,Yr],I8),Kce=he([Lt,H_,an,Yr],L8),Gce=(e,t,r,n,a,i,l,u)=>{if(t){var{type:d}=t,m=So(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/h:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?qn(a[0]-a[1])*2*g:g,m&&l?l.map((y,v)=>({coordinate:n(y)+g,value:y,index:v,offset:g})):n.domain().map((y,v)=>({coordinate:n(y)+g,value:i?i[y]:y,index:v,offset:g}))}}},Ni=he([Lt,an,U_,eI,Z8,Yce,Kce,Yr],Gce),W_=he([B8,z8,oce],(e,t,r)=>F8(r.shared,e,t)),tI=e=>e.tooltip.settings.trigger,Y_=e=>e.tooltip.settings.defaultIndex,h0=he([wu,W_,tI,Y_],K8),Cl=he([h0,ju],q_),rI=he([Ni,Cl],q8),nI=he([h0],e=>{if(e)return e.dataKey}),aI=he([wu,W_,tI,Y_],V8),Vce=he([bi,wi,Lt,rn,Ni,Y_,aI,$f],G8),Qce=he([h0,Vce],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Xce=he([h0],e=>e.active),Zce=he([aI,Cl,Co,t8,rI,$f,W_],Q8),Jce=he([Zce],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){eue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eue(e,t,r){return(t=tue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tue(e){var t=rue(e,"string");return typeof t=="symbol"?t:t+""}function rue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nue=()=>ze(an),aue=()=>{var e=nue(),t=ze(Ni),r=ze(eI);return Zd(lD(lD({},e),{},{scale:r}),t)},sue=()=>ze(k_),K_=(e,t)=>t,sI=(e,t,r)=>r,G_=(e,t,r,n)=>n,iue=he(Ni,e=>Rp(e,t=>t.coordinate)),V_=he([wu,K_,sI,G_],K8),iI=he([V_,ju],q_),oue=(e,t,r)=>{if(t!=null){var n=wu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},oI=he([wu,K_,sI,G_],V8),Bg=he([bi,wi,Lt,rn,Ni,G_,oI,$f],G8),lue=he([V_,Bg],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),lI=he(Ni,iI,q8),cue=he([oI,iI,Co,t8,lI,$f,K_],Q8),uue=he([V_],e=>({isActive:e.active,activeIndex:e.index})),due=(e,t,r,n,a,i,l,u)=>{if(!(!e||!t||!n||!a||!i)){var d=kne(e.chartX,e.chartY,t,r,u);if(d){var m=Tne(d,t),h=hne(m,l,i,n,a),g=Cne(t,i,h,d);return{activeIndex:String(h),activeCoordinate:g}}}};function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y1.apply(null,arguments)}function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){fue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fue(e,t,r){return(t=hue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hue(e){var t=mue(e,"string");return typeof t=="symbol"?t:t+""}function mue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gue(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:u,tooltipEventType:d,chartName:m}=e,h=t,g=r,y=n;if(!u||!h||m!=="ScatterChart"&&d!=="axis")return null;var v,_;if(m==="ScatterChart")v=h,_=Dae;else if(m==="BarChart")v=Mae(l,h,a,i),_=GR;else if(l==="radial"){var{cx:w,cy:b,radius:S,startAngle:k,endAngle:C}=VR(h);v={cx:w,cy:b,startAngle:k,endAngle:C,innerRadius:S,outerRadius:S},_=XR}else v={points:fse(l,h,a)},_=UR;var A=typeof u=="object"&&"className"in u?u.className:void 0,E=Bm(Bm(Bm(Bm({stroke:"#ccc",pointerEvents:"none"},a),v),Nr(u,!1)),{},{payload:g,payloadIndex:y,className:Rt("recharts-tooltip-cursor",A)});return x.isValidElement(u)?x.cloneElement(u,E):x.createElement(_,E)}function pue(e){var t=aue(),r=zR(),n=Yp(),a=sue();return x.createElement(gue,y1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var cI=x.createContext(null),yue=()=>x.useContext(cI),Ab={exports:{}},uD;function xue(){return uD||(uD=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,m,h){this.fn=d,this.context=m,this.once=h||!1}function i(d,m,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new a(h,g||d,y),_=r?r+m:m;return d._events[_]?d._events[_].fn?d._events[_]=[d._events[_],v]:d._events[_].push(v):(d._events[_]=v,d._eventsCount++),d}function l(d,m){--d._eventsCount===0?d._events=new n:delete d._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,g;if(this._eventsCount===0)return m;for(g in h=this._events)t.call(h,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,_=new Array(v);y<v;y++)_[y]=g[y].fn;return _},u.prototype.listenerCount=function(m){var h=r?r+m:m,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(m,h,g,y,v,_){var w=r?r+m:m;if(!this._events[w])return!1;var b=this._events[w],S=arguments.length,k,C;if(b.fn){switch(b.once&&this.removeListener(m,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,g),!0;case 4:return b.fn.call(b.context,h,g,y),!0;case 5:return b.fn.call(b.context,h,g,y,v),!0;case 6:return b.fn.call(b.context,h,g,y,v,_),!0}for(C=1,k=new Array(S-1);C<S;C++)k[C-1]=arguments[C];b.fn.apply(b.context,k)}else{var A=b.length,E;for(C=0;C<A;C++)switch(b[C].once&&this.removeListener(m,b[C].fn,void 0,!0),S){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,h);break;case 3:b[C].fn.call(b[C].context,h,g);break;case 4:b[C].fn.call(b[C].context,h,g,y);break;default:if(!k)for(E=1,k=new Array(S-1);E<S;E++)k[E-1]=arguments[E];b[C].fn.apply(b[C].context,k)}}return!0},u.prototype.on=function(m,h,g){return i(this,m,h,g,!1)},u.prototype.once=function(m,h,g){return i(this,m,h,g,!0)},u.prototype.removeListener=function(m,h,g,y){var v=r?r+m:m;if(!this._events[v])return this;if(!h)return l(this,v),this;var _=this._events[v];if(_.fn)_.fn===h&&(!y||_.once)&&(!g||_.context===g)&&l(this,v);else{for(var w=0,b=[],S=_.length;w<S;w++)(_[w].fn!==h||y&&!_[w].once||g&&_[w].context!==g)&&b.push(_[w]);b.length?this._events[v]=b.length===1?b[0]:b:l(this,v)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Ab)),Ab.exports}var vue=xue();const bue=Wa(vue);var sf=new bue,x1="recharts.syncEvent.tooltip",dD="recharts.syncEvent.brush";function uI(e,t){if(t){var r=Number.parseInt(t,10);if(!pa(r))return e?.[r]}}var wue={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dI=va({name:"options",initialState:wue,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jue=dI.reducer,{createEventEmitter:_ue}=dI.actions;function Sue(e){return e.tooltip.syncInteraction}var Nue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fI=va({name:"chartData",initialState:Nue,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:fD,setDataStartEndIndexes:kue,setComputedData:Dbe}=fI.actions,Cue=fI.reducer,Tue=["x","y"];function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){Aue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aue(e,t,r){return(t=Eue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eue(e){var t=Oue(e,"string");return typeof t=="symbol"?t:t+""}function Oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Due(e,t){if(e==null)return{};var r,n,a=Mue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hI=()=>{};function Pue(){var e=ze(C_),t=ze(T_),r=Lr(),n=ze(V6),a=ze(Ni),i=Yp(),l=Xj(),u=ze(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return hI;var d=(m,h,g)=>{if(t!==g&&e===m){if(n==="index"){var y;if(l&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate){var v=h.payload.coordinate,{x:_,y:w}=v,b=Due(v,Tue),S=Vo(Vo(Vo({},b),typeof _=="number"&&{x:Math.max(l.x,Math.min(_,l.x+l.width))}),typeof w=="number"&&{y:Math.max(l.y,Math.min(w,l.y+l.height))}),k=Vo(Vo({},h),{},{payload:Vo(Vo({},h.payload),{},{coordinate:S})});r(k)}else r(h);return}if(a!=null){var C;if(typeof n=="function"){var A={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},E=n(a,A);C=a[E]}else n==="value"&&(C=a.find(G=>String(G.value)===h.payload.label));var{coordinate:M}=h.payload;if(C==null||h.payload.active===!1||M==null||l==null){r(g1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:T,y:D}=M,L=Math.min(T,l.x+l.width),B=Math.min(D,l.y+l.height),z={x:i==="horizontal"?C.coordinate:L,y:i==="horizontal"?B:C.coordinate},F=g1({active:h.payload.active,coordinate:z,dataKey:h.payload.dataKey,index:String(C.index),label:h.payload.label});r(F)}}};return sf.on(x1,d),()=>{sf.off(x1,d)}},[u,r,t,e,n,a,i,l])}function Rue(){var e=ze(C_),t=ze(T_),r=Lr();x.useEffect(()=>{if(e==null)return hI;var n=(a,i,l)=>{t!==l&&e===a&&r(kue(i))};return sf.on(dD,n),()=>{sf.off(dD,n)}},[r,t,e])}function Iue(){var e=Lr();x.useEffect(()=>{e(_ue())},[e]),Pue(),Rue()}function Lue(e,t,r,n,a,i){var l=ze(y=>oue(y,e,t)),u=ze(T_),d=ze(C_),m=ze(V6),h=ze(Sue),g=h?.active;x.useEffect(()=>{if(!g&&d!=null&&u!=null){var y=g1({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n});sf.emit(x1,d,y,u)}},[g,r,l,a,n,u,d,m,i])}function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){$ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ue(e,t,r){return(t=Bue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bue(e){var t=zue(e,"string");return typeof t=="symbol"?t:t+""}function zue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fue(e){return e.dataKey}function que(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(uae,t)}var pD=[],Uue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ml.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function m0(e){var t=Kn(e,Uue),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:u,isAnimationActive:d,offset:m,payloadUniqBy:h,position:g,reverseDirection:y,useTranslate3d:v,wrapperStyle:_,cursor:w,shared:b,trigger:S,defaultIndex:k,portal:C,axisId:A}=t,E=Lr(),M=typeof k=="number"?String(k):k;x.useEffect(()=>{E(dce({shared:b,trigger:S,axisId:A,active:r,defaultIndex:M}))},[E,b,S,A,r,M]);var T=Xj(),D=qR(),L=ice(b),{activeIndex:B,isActive:z}=ze(ge=>uue(ge,L,S,M)),F=ze(ge=>cue(ge,L,S,M)),G=ze(ge=>lI(ge,L,S,M)),V=ze(ge=>lue(ge,L,S,M)),Y=F,$=yue(),ee=r??z,[J,W]=dR([Y,ee]),U=L==="axis"?G:void 0;Lue(L,S,V,U,B,ee);var P=C??$;if(P==null)return null;var H=Y??pD;ee||(H=pD),u&&H.length&&(H=sR(Y.filter(ge=>ge.value!=null&&(ge.hide!==!0||t.includeHidden)),h,Fue));var Q=H.length>0,ne=x.createElement(yae,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:d,active:ee,coordinate:V,hasPayload:Q,offset:m,position:g,reverseDirection:y,useTranslate3d:v,viewBox:T,wrapperStyle:_,lastBoundingBox:J,innerRef:W,hasPortalFromProps:!!C},que(l,gD(gD({},t),{},{payload:H,label:U,active:ee,coordinate:V,accessibilityLayer:D})));return x.createElement(x.Fragment,null,da.createPortal(ne,P),ee&&x.createElement(pue,{cursor:w,tooltipEventType:L,coordinate:V,payload:Y,index:B}))}var Eb={},Ob={},Db={},yD;function Hue(){return yD||(yD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,u=null;const d=i!=null&&i.includes("leading"),m=i==null||i.includes("trailing"),h=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{m&&h(),w()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},_=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{_(),l=void 0,u=null},b=()=>{h()},S=function(...k){if(a?.aborted)return;l=this,u=k;const C=y==null;v(),d&&C&&h()};return S.schedule=v,S.cancel=w,S.flush=b,a?.addEventListener("abort",w,{once:!0}),S}e.debounce=t})(Db)),Db}var xD;function Wue(){return xD||(xD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hue();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:u=!0,maxWait:d}=i,m=Array(2);l&&(m[0]="leading"),u&&(m[1]="trailing");let h,g=null;const y=t.debounce(function(...w){h=n.apply(this,w),g=null},a,{edges:m}),v=function(...w){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(h=n.apply(this,w),g=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,w),h)},_=()=>(y.flush(),h);return v.cancel=y.cancel,v.flush=_,v}e.debounce=r})(Ob)),Ob}var vD;function Yue(){return vD||(vD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wue();function r(n,a=0,i={}){const{leading:l=!0,trailing:u=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(Eb)),Eb}var Mb,bD;function Kue(){return bD||(bD=1,Mb=Yue().throttle),Mb}var Gue=Kue();const Vue=Wa(Gue);var $d=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){Que(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Que(e,t,r){return(t=Xue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xue(e){var t=Zue(e,"string");return typeof t=="symbol"?t:t+""}function Zue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g0=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:l=0,minHeight:u,maxHeight:d,children:m,debounce:h=0,id:g,className:y,onResize:v,style:_={}}=e,w=x.useRef(null),b=x.useRef();b.current=v,x.useImperativeHandle(t,()=>w.current);var[S,k]=x.useState({containerWidth:n.width,containerHeight:n.height}),C=x.useCallback((E,M)=>{k(T=>{var D=Math.round(E),L=Math.round(M);return T.containerWidth===D&&T.containerHeight===L?T:{containerWidth:D,containerHeight:L}})},[]);x.useEffect(()=>{var E=L=>{var B,{width:z,height:F}=L[0].contentRect;C(z,F),(B=b.current)===null||B===void 0||B.call(b,z,F)};h>0&&(E=Vue(E,h,{trailing:!0,leading:!1}));var M=new ResizeObserver(E),{width:T,height:D}=w.current.getBoundingClientRect();return C(T,D),M.observe(w.current),()=>{M.disconnect()}},[C,h]);var A=x.useMemo(()=>{var{containerWidth:E,containerHeight:M}=S;if(E<0||M<0)return null;$d(sl(a)||sl(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),$d(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=sl(a)?E:a,D=sl(i)?M:i;return r&&r>0&&(T?D=T/r:D&&(T=D*r),d&&D>d&&(D=d)),$d(T>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,D,a,i,l,u,r),x.Children.map(m,L=>x.cloneElement(L,{width:T,height:D,style:Pb({width:T,height:D},L.props.style)}))},[r,m,i,d,u,l,S,a]);return x.createElement("div",{id:g?"".concat(g):void 0,className:Rt("recharts-responsive-container",y),style:Pb(Pb({},_),{},{width:a,height:i,minWidth:l,minHeight:u,maxHeight:d}),ref:w},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),p0=e=>null;p0.displayName="Cell";function Jue(e,t,r){return(t=ede(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ede(e){var t=tde(e,"string");return typeof t=="symbol"?t:t+""}function tde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rde{constructor(t){Jue(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){ade(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ade(e,t,r){return(t=sde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sde(e){var t=ide(e,"string");return typeof t=="symbol"?t:t+""}function ide(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ode={cacheSize:2e3,enableCache:!0},mI=nde({},ode),_D=new rde(mI.cacheSize),lde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SD="recharts_measurement_span";function cde(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(u)}var ND=(e,t)=>{try{var r=document.getElementById(SD);r||(r=document.createElement("span"),r.setAttribute("id",SD),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,lde,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Bd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ml.isSsr)return{width:0,height:0};if(!mI.enableCache)return ND(t,r);var n=cde(t,r),a=_D.get(n);if(a)return a;var i=ND(t,r);return _D.set(n,i),i},kD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ude=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fde=Object.keys(gI),$c="NaN";function hde(e,t){return e*gI[t]}class $n{static parse(t){var r,[,n,a]=(r=dde.exec(t))!==null&&r!==void 0?r:[];return new $n(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,pa(t)&&(this.unit=""),r!==""&&!ude.test(r)&&(this.num=NaN,this.unit=""),fde.includes(r)&&(this.num=hde(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new $n(NaN,""):new $n(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new $n(NaN,""):new $n(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $n(NaN,""):new $n(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $n(NaN,""):new $n(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pa(this.num)}}function pI(e){if(e.includes($c))return $c;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=kD.exec(t))!==null&&r!==void 0?r:[],l=$n.parse(n??""),u=$n.parse(i??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return $c;t=t.replace(kD,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,g,y]=(m=CD.exec(t))!==null&&m!==void 0?m:[],v=$n.parse(h??""),_=$n.parse(y??""),w=g==="+"?v.add(_):v.subtract(_);if(w.isNaN())return $c;t=t.replace(CD,w.toString())}return t}var TD=/\(([^()]*)\)/;function mde(e){for(var t=e,r;(r=TD.exec(t))!=null;){var[,n]=r;t=t.replace(TD,pI(n))}return t}function gde(e){var t=e.replace(/\s+/g,"");return t=mde(t),t=pI(t),t}function pde(e){try{return gde(e)}catch{return $c}}function Rb(e){var t=pde(e.slice(5,-1));return t===$c?"":t}var yde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xde=["dx","dy","angle","className","breakAll"];function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(null,arguments)}function AD(e,t){if(e==null)return{};var r,n,a=vde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yI=/[ \f\n\r\t\v\u2028\u2029]+/,xI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];lr(t)||(r?a=t.toString().split(""):a=t.toString().split(yI));var i=a.map(u=>({word:u,width:Bd(u,n).width})),l=r?0:Bd("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},bde=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:u,breakAll:d}=e,m=Ke(i),h=l,g=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((F,G)=>{var{word:V,width:Y}=G,$=F[F.length-1];if($&&(n==null||a||$.width+Y+r<Number(n)))$.words.push(V),$.width+=Y+r;else{var ee={words:[V],width:Y};F.push(ee)}return F},[])},y=g(t),v=B=>B.reduce((z,F)=>z.width>F.width?z:F);if(!m||a)return y;var _=y.length>i||v(y).width>Number(n);if(!_)return y;for(var w="",b=B=>{var z=h.slice(0,B),F=xI({breakAll:d,style:u,children:z+w}).wordsWithComputedWidth,G=g(F),V=G.length>i||v(G).width>Number(n);return[V,G]},S=0,k=h.length-1,C=0,A;S<=k&&C<=h.length-1;){var E=Math.floor((S+k)/2),M=E-1,[T,D]=b(M),[L]=b(E);if(!T&&!L&&(S=E+1),T&&L&&(k=E-1),!T&&L){A=D;break}C++}return A||y},ED=e=>{var t=lr(e)?[]:e.toString().split(yI);return[{words:t}]},wde=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!Ml.isSsr){var u,d,m=xI({breakAll:i,children:n,style:a});if(m){var{wordsWithComputedWidth:h,spaceWidth:g}=m;u=h,d=g}else return ED(n);return bde({breakAll:i,children:n,maxLines:l,style:a},u,d,t,r)}return ED(n)},OD="#808080",Q_=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:m=OD}=e,h=AD(e,yde),g=x.useMemo(()=>wde({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:y,dy:v,angle:_,className:w,breakAll:b}=h,S=AD(h,xde);if(!Os(r)||!Os(n)||g.length===0)return null;var k=r+(Ke(y)?y:0),C=n+(Ke(v)?v:0),A;switch(d){case"start":A=Rb("calc(".concat(i,")"));break;case"middle":A=Rb("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:A=Rb("calc(".concat(g.length-1," * -").concat(a,")"));break}var E=[];if(l){var M=g[0].width,{width:T}=h;E.push("scale(".concat(Ke(T)?T/M:1,")"))}return _&&E.push("rotate(".concat(_,", ").concat(k,", ").concat(C,")")),E.length&&(S.transform=E.join(" ")),x.createElement("text",v1({},Nr(S,!0),{ref:t,x:k,y:C,className:Rt("recharts-text",w),textAnchor:u,fill:m.includes("url")?OD:m}),g.map((D,L)=>{var B=D.words.join(b?"":" ");return x.createElement("tspan",{x:k,dy:L===0?A:a,key:"".concat(B,"-").concat(L)},B)}))});Q_.displayName="Text";var jde=["labelRef"];function _de(e,t){if(e==null)return{};var r,n,a=Sde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(n){Nde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nde(e,t,r){return(t=kde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kde(e){var t=Cde(e,"string");return typeof t=="symbol"?t:t+""}function Cde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}var vI=x.createContext(null),Tde=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=x.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return x.createElement(vI.Provider,{value:l},i)},bI=()=>{var e=x.useContext(vI),t=Xj();return e||t},Ade=x.createContext(null),Ede=()=>{var e=x.useContext(Ade),t=ze(e8);return e||t},Ode=e=>{var{value:t,formatter:r}=e,n=lr(e.children)?t:e.children;return typeof r=="function"?r(n):n},X_=e=>e!=null&&typeof e=="function",Dde=(e,t)=>{var r=qn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Mde=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:u,cy:d,innerRadius:m,outerRadius:h,startAngle:g,endAngle:y,clockWise:v}=a,_=(m+h)/2,w=Dde(g,y),b=w>=0?1:-1,S,k;switch(t){case"insideStart":S=g+b*i,k=v;break;case"insideEnd":S=y-b*i,k=!v;break;case"end":S=y+b*i,k=v;break;default:throw new Error("Unsupported position ".concat(t))}k=w<=0?k:!k;var C=hn(u,d,_,S),A=hn(u,d,_,S+(k?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(k?0:1,`,
    `).concat(A.x,",").concat(A.y),M=lr(e.id)?Vd("recharts-radial-line-"):e.id;return x.createElement("text",ii({},n,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:M,d:E})),x.createElement("textPath",{xlinkHref:"#".concat(M)},r))},Pde=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:u,endAngle:d}=e,m=(u+d)/2;if(r==="outside"){var{x:h,y:g}=hn(n,a,l+t,m);return{x:h,y:g,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(i+l)/2,{x:v,y:_}=hn(n,a,y,m);return{x:v,y:_,textAnchor:"middle",verticalAnchor:"middle"}},wI=e=>"cx"in e&&Ke(e.cx),Rde=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!wI(r)&&(i=r);var{x:l,y:u,width:d,height:m}=t,h=m>=0?1:-1,g=h*n,y=h>0?"end":"start",v=h>0?"start":"end",_=d>=0?1:-1,w=_*n,b=_>0?"end":"start",S=_>0?"start":"end";if(a==="top"){var k={x:l+d/2,y:u-h*n,textAnchor:"middle",verticalAnchor:y};return br(br({},k),i?{height:Math.max(u-i.y,0),width:d}:{})}if(a==="bottom"){var C={x:l+d/2,y:u+m+g,textAnchor:"middle",verticalAnchor:v};return br(br({},C),i?{height:Math.max(i.y+i.height-(u+m),0),width:d}:{})}if(a==="left"){var A={x:l-w,y:u+m/2,textAnchor:b,verticalAnchor:"middle"};return br(br({},A),i?{width:Math.max(A.x-i.x,0),height:m}:{})}if(a==="right"){var E={x:l+d+w,y:u+m/2,textAnchor:S,verticalAnchor:"middle"};return br(br({},E),i?{width:Math.max(i.x+i.width-E.x,0),height:m}:{})}var M=i?{width:d,height:m}:{};return a==="insideLeft"?br({x:l+w,y:u+m/2,textAnchor:S,verticalAnchor:"middle"},M):a==="insideRight"?br({x:l+d-w,y:u+m/2,textAnchor:b,verticalAnchor:"middle"},M):a==="insideTop"?br({x:l+d/2,y:u+g,textAnchor:"middle",verticalAnchor:v},M):a==="insideBottom"?br({x:l+d/2,y:u+m-g,textAnchor:"middle",verticalAnchor:y},M):a==="insideTopLeft"?br({x:l+w,y:u+g,textAnchor:S,verticalAnchor:v},M):a==="insideTopRight"?br({x:l+d-w,y:u+g,textAnchor:b,verticalAnchor:v},M):a==="insideBottomLeft"?br({x:l+w,y:u+m-g,textAnchor:S,verticalAnchor:y},M):a==="insideBottomRight"?br({x:l+d-w,y:u+m-g,textAnchor:b,verticalAnchor:y},M):a&&typeof a=="object"&&(Ke(a.x)||sl(a.x))&&(Ke(a.y)||sl(a.y))?br({x:l+ss(a.x,d),y:u+ss(a.y,m),textAnchor:"end",verticalAnchor:"end"},M):br({x:l+d/2,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Ide={offset:5};function to(e){var t=Kn(e,Ide),{viewBox:r,position:n,value:a,children:i,content:l,className:u="",textBreakAll:d,labelRef:m}=t,h=Ede(),g=bI(),y=n==="center"?g:h??g,v=r||y;if(!v||lr(a)&&lr(i)&&!x.isValidElement(l)&&typeof l!="function")return null;var _=br(br({},t),{},{viewBox:v});if(x.isValidElement(l)){var{labelRef:w}=_,b=_de(_,jde);return x.cloneElement(l,b)}var S;if(typeof l=="function"){if(S=x.createElement(l,_),x.isValidElement(S))return S}else S=Ode(t);var k=wI(v),C=Nr(t,!0);if(k&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Mde(t,n,S,C,v);var A=k?Pde(v,t.offset,t.position):Rde(t,v);return x.createElement(Q_,ii({ref:m,className:Rt("recharts-label",u)},C,A,{breakAll:d}),S)}to.displayName="Label";var Lde=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(to,ii({key:"label-implicit"},n)):Os(e)?x.createElement(to,ii({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===to?x.cloneElement(e,br({key:"label-implicit"},n)):x.createElement(to,ii({key:"label-implicit",content:e},n)):X_(e)?x.createElement(to,ii({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(to,ii({},e,{key:"label-implicit"},n)):null};function $de(e){var{label:t}=e,r=bI();return Lde(t,r)||null}var Ib={},Lb={},MD;function Bde(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Lb)),Lb}var $b={},PD;function zde(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})($b)),$b}var RD;function Fde(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bde(),r=zde(),n=qj();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Ib)),Ib}var Bb,ID;function qde(){return ID||(ID=1,Bb=Fde().last),Bb}var Ude=qde();const Hde=Wa(Ude);var Wde=["valueAccessor"],Yde=["dataKey","clockWise","id","textBreakAll"];function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(null,arguments)}function LD(e,t){if(e==null)return{};var r,n,a=Kde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gde=e=>Array.isArray(e.value)?Hde(e.value):e.value,jI=x.createContext(void 0),_I=jI.Provider,SI=x.createContext(void 0);SI.Provider;function Vde(){return x.useContext(jI)}function Qde(){return x.useContext(SI)}function Gm(e){var{valueAccessor:t=Gde}=e,r=LD(e,Wde),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,u=LD(r,Yde),d=Vde(),m=Qde(),h=d||m;return!h||!h.length?null:x.createElement(is,{className:"recharts-label-list"},h.map((g,y)=>{var v,_=lr(n)?t(g,y):en(g&&g.payload,n),w=lr(i)?{}:{id:"".concat(i,"-").concat(y)};return x.createElement(to,zg({},Nr(g,!0),u,w,{fill:(v=r.fill)!==null&&v!==void 0?v:g.fill,parentViewBox:g.parentViewBox,value:_,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(y),index:y}))}))}Gm.displayName="LabelList";function NI(e){var{label:t}=e;return t?t===!0?x.createElement(Gm,{key:"labelList-implicit"}):x.isValidElement(t)||X_(t)?x.createElement(Gm,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Gm,zg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1.apply(null,arguments)}var kI=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Rt("recharts-dot",a);return t===+t&&r===+r&&n===+n?x.createElement("circle",b1({},_o(e),Pj(e),{className:i,cx:t,cy:r,r:n})):null},Xde={radiusAxis:{},angleAxis:{}},CI=va({name:"polarAxis",initialState:Xde,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Mbe,removeRadiusAxis:Pbe,addAngleAxis:Rbe,removeAngleAxis:Ibe}=CI.actions,Zde=CI.reducer,zb={},$D;function Jde(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(zb)),zb}var Fb,BD;function efe(){return BD||(BD=1,Fb=Jde().isPlainObject),Fb}var tfe=efe();const rfe=Wa(tfe);function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){nfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nfe(e,t,r){return(t=afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function afe(e){var t=sfe(e,"string");return typeof t=="symbol"?t:t+""}function sfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(null,arguments)}var qD=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},ife={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ofe=e=>{var t=Kn(e,ife),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:u}=t,{animationEasing:d,animationDuration:m,animationBegin:h,isUpdateAnimationActive:g}=t,y=x.useRef(),[v,_]=x.useState(-1),w=x.useRef(a),b=x.useRef(i),S=x.useRef(l),k=x.useRef(r),C=x.useRef(n),A=Gp(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var V=y.current.getTotalLength();V&&_(V)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var E=Rt("recharts-trapezoid",u);if(!g)return x.createElement("g",null,x.createElement("path",Fg({},Nr(t,!0),{className:E,d:qD(r,n,a,i,l)})));var M=w.current,T=b.current,D=S.current,L=k.current,B=C.current,z="0px ".concat(v===-1?1:v,"px"),F="".concat(v,"px 0px"),G=HR(["strokeDasharray"],m,d);return x.createElement(Kp,{animationId:A,key:A,canBegin:v>0,duration:m,easing:d,isActive:g,begin:h},V=>{var Y=Rr(M,a,V),$=Rr(T,i,V),ee=Rr(D,l,V),J=Rr(L,r,V),W=Rr(B,n,V);y.current&&(w.current=Y,b.current=$,S.current=ee,k.current=J,C.current=W);var U=V>0?{transition:G,strokeDasharray:F}:{strokeDasharray:z};return x.createElement("path",Fg({},Nr(t,!0),{className:E,d:qD(J,W,Y,$,ee),ref:y,style:FD(FD({},U),t.style)}))})},lfe=["option","shapeType","propTransformer","activeClassName","isActive"];function cfe(e,t){if(e==null)return{};var r,n,a=ufe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ufe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){dfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dfe(e,t,r){return(t=ffe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ffe(e){var t=hfe(e,"string");return typeof t=="symbol"?t:t+""}function hfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mfe(e,t){return qg(qg({},t),e)}function gfe(e,t){return e==="symbols"}function HD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(GR,r);case"trapezoid":return x.createElement(ofe,r);case"sector":return x.createElement(XR,r);case"symbols":if(gfe(t))return x.createElement(Bj,r);break;default:return null}}function pfe(e){return x.isValidElement(e)?e.props:e}function yfe(e){var{option:t,shapeType:r,propTransformer:n=mfe,activeClassName:a="recharts-active-shape",isActive:i}=e,l=cfe(e,lfe),u;if(x.isValidElement(t))u=x.cloneElement(t,qg(qg({},l),pfe(t)));else if(typeof t=="function")u=t(l);else if(rfe(t)&&typeof t!="boolean"){var d=n(t,l);u=x.createElement(HD,{shapeType:r,elementProps:d})}else{var m=l;u=x.createElement(HD,{shapeType:r,elementProps:m})}return i?x.createElement(is,{className:a},u):u}var TI=(e,t)=>{var r=Lr();return(n,a)=>i=>{e?.(n,a,i),r(H8({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},AI=e=>{var t=Lr();return(r,n)=>a=>{e?.(r,n,a),t(fce())}},EI=(e,t)=>{var r=Lr();return(n,a)=>i=>{e?.(n,a,i),r(hce({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function OI(e){var{fn:t,args:r}=e,n=Lr(),a=Yn();return x.useEffect(()=>{if(!a){var i=t(r);return n(cce(i)),()=>{n(uce(i))}}},[t,r,n,a]),null}var xfe=()=>{};function DI(e){var{legendPayload:t}=e,r=Lr(),n=Yn();return x.useEffect(()=>n?xfe:(r(Yne(t)),()=>{r(Kne(t))}),[r,n,t]),null}var qb,vfe=()=>{var[e]=x.useState(()=>Vd("uid-"));return e},bfe=(qb=O1.useId)!==null&&qb!==void 0?qb:vfe;function wfe(e,t){var r=bfe();return t||(e?"".concat(e,"-").concat(r):r)}var jfe=x.createContext(void 0),MI=e=>{var{id:t,type:r,children:n}=e,a=wfe("recharts-".concat(r),t);return x.createElement(jfe.Provider,{value:a},n(a))},_fe={cartesianItems:[],polarItems:[]},PI=va({name:"graphicalItems",initialState:_fe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=di(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=di(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=di(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Sfe,replaceCartesianGraphicalItem:Nfe,removeCartesianGraphicalItem:kfe,addPolarGraphicalItem:Lbe,removePolarGraphicalItem:$be}=PI.actions,Cfe=PI.reducer;function RI(e){var t=Lr(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?t(Sfe(e)):r.current!==e&&t(Nfe({prev:r.current,next:e})),r.current=e},[t,e]),x.useEffect(()=>()=>{r.current&&(t(kfe(r.current)),r.current=null)},[t]),null}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){Tfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tfe(e,t,r){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Afe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ofe={xAxis:{},yAxis:{},zAxis:{}},II=va({name:"cartesianAxis",initialState:Ofe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=YD(YD({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Dfe,removeXAxis:Mfe,addYAxis:Pfe,removeYAxis:Rfe,addZAxis:Bbe,removeZAxis:zbe,updateYAxisWidth:Ife}=II.actions,Lfe=II.reducer,$fe=he([rn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Bfe=he([$fe,bi,wi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Z_=()=>ze(Bfe),zfe=()=>ze(Jce);function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){Ffe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ffe(e,t,r){return(t=qfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qfe(e){var t=Ufe(e,"string");return typeof t=="symbol"?t:t+""}function Ufe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hfe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=GD(GD({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Nr(a,!1)),Pj(a)),u;return x.isValidElement(a)?u=x.cloneElement(a,l):typeof a=="function"?u=a(l):u=x.createElement(kI,l),x.createElement(is,{className:"recharts-active-dot"},u)};function Wfe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=ze(Cl),l=zfe();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return lr(u)?null:Hfe({point:u,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var Yfe="Invariant failed";function Kfe(e,t){throw new Error(Yfe)}var Gfe=["x","y"];function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w1.apply(null,arguments)}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){Vfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vfe(e,t,r){return(t=Qfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qfe(e){var t=Xfe(e,"string");return typeof t=="symbol"?t:t+""}function Xfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zfe(e,t){if(e==null)return{};var r,n,a=Jfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ehe(e,t){var{x:r,y:n}=e,a=Zfe(e,Gfe),i="".concat(r),l=parseInt(i,10),u="".concat(n),d=parseInt(u,10),m="".concat(t.height||a.height),h=parseInt(m,10),g="".concat(t.width||a.width),y=parseInt(g,10);return Td(Td(Td(Td(Td({},t),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:h,width:y,name:t.name,radius:t.radius})}function J_(e){return x.createElement(yfe,w1({shapeType:"rectangle",propTransformer:ehe,activeClassName:"recharts-active-bar"},e))}var the=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Ke(t))return t;var i=Ke(n)||lr(n);return i?t(n,a):(i||Kfe(),r)}},rhe={},LI=va({name:"errorBars",initialState:rhe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Fbe,replaceErrorBar:qbe,removeErrorBar:Ube}=LI.actions,nhe=LI.reducer,ahe=["children"];function she(e,t){if(e==null)return{};var r,n,a=ihe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ihe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ohe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},lhe=x.createContext(ohe);function $I(e){var{children:t}=e,r=she(e,ahe);return x.createElement(lhe.Provider,{value:r},t)}function eS(e,t){var r,n,a=ze(m=>_i(m,e)),i=ze(m=>Si(m,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ra.allowDataOverflow,u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:na.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function BI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Z_(),{needClipX:i,needClipY:l,needClip:u}=eS(t,r);if(!u)return null;var{x:d,y:m,width:h,height:g}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?d:d-h/2,y:l?m:m-g/2,width:i?h:h*2,height:l?g:g*2}))}var che=["onMouseEnter","onMouseLeave","onClick"],uhe=["value","background","tooltipPosition"],dhe=["id"],fhe=["onMouseEnter","onClick","onMouseLeave"];function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},go.apply(null,arguments)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){hhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hhe(e,t,r){return(t=mhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mhe(e){var t=ghe(e,"string");return typeof t=="symbol"?t:t+""}function ghe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ug(e,t){if(e==null)return{};var r,n,a=phe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function phe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yhe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Fp(r,t),payload:e}]};function xhe(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Fp(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function vhe(e){var t=ze(Cl),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=i,m=Ug(i,che),h=TI(l,n),g=AI(u),y=EI(d,n);if(!a||r==null)return null;var v=Nr(a,!1);return x.createElement(x.Fragment,null,r.map((_,w)=>{var{value:b,background:S,tooltipPosition:k}=_,C=Ug(_,uhe);if(!S)return null;var A=h(_,w),E=g(_,w),M=y(_,w),T=Nn(Nn(Nn(Nn(Nn({option:a,isActive:String(w)===t},C),{},{fill:"#eee"},S),v),Op(m,_,w)),{},{onMouseEnter:A,onMouseLeave:E,onClick:M,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(J_,go({key:"background-bar-".concat(T.index)},T))}))}function bhe(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return Nn(Nn({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return x.createElement(_I,{value:t?a:void 0},r)}function whe(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,u=ze(Cl),d=ze(nI),m=r&&String(i)===u&&(d==null||l===d),h=m?r:t;return x.createElement(J_,go({},n,a,{isActive:m,option:h,index:i,dataKey:l}))}function jhe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(J_,go({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function _he(e){var{data:t,props:r}=e,n=_o(r),{id:a}=n,i=Ug(n,dhe),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:m,onClick:h,onMouseLeave:g}=r,y=Ug(r,fhe),v=TI(m,u),_=AI(g),w=EI(h,u);return t?x.createElement(x.Fragment,null,t.map((b,S)=>x.createElement(is,go({className:"recharts-bar-rectangle"},Op(y,b,S),{onMouseEnter:v(b,S),onMouseLeave:_(b,S),onClick:w(b,S),key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(S)}),d?x.createElement(whe,{shape:l,activeBar:d,baseProps:i,entry:b,index:S,dataKey:u}):x.createElement(jhe,{shape:l,baseProps:i,entry:b,index:S,dataKey:u})))):null}function She(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:m,onAnimationStart:h}=t,g=r.current,y=Gp(t,"recharts-bar-"),[v,_]=x.useState(!1),w=!v,b=x.useCallback(()=>{typeof m=="function"&&m(),_(!1)},[m]),S=x.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);return x.createElement(bhe,{showLabels:w,rects:n},x.createElement(Kp,{animationId:y,begin:l,duration:u,isActive:i,easing:d,onAnimationEnd:b,onAnimationStart:S,key:y},k=>{var C=k===1?n:n?.map((A,E)=>{var M=g&&g[E];if(M)return Nn(Nn({},A),{},{x:Rr(M.x,A.x,k),y:Rr(M.y,A.y,k),width:Rr(M.width,A.width,k),height:Rr(M.height,A.height,k)});if(a==="horizontal"){var T=Rr(0,A.height,k);return Nn(Nn({},A),{},{y:A.y+A.height-T,height:T})}var D=Rr(0,A.width,k);return Nn(Nn({},A),{},{width:D})});return k>0&&(r.current=C??null),C==null?null:x.createElement(is,null,x.createElement(_he,{props:t,data:C}))}),x.createElement(NI,{label:t.label}),t.children)}function Nhe(e){var t=x.useRef(null);return x.createElement(She,{previousRectanglesRef:t,props:e})}var zI=0,khe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:en(e,t)}};class Che extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:u,background:d,id:m}=this.props;if(t||r==null)return null;var h=Rt("recharts-bar",a),g=m;return x.createElement(is,{className:h,id:m},u&&x.createElement("defs",null,x.createElement(BI,{clipPathId:g,xAxisId:i,yAxisId:l})),x.createElement(is,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},x.createElement(vhe,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),x.createElement(Nhe,this.props)))}}var The={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ml.isSsr,legendType:"rect",minPointSize:zI,xAxisId:0,yAxisId:0};function Ahe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:h}=e,{needClip:g}=eS(t,r),y=Yp(),v=Yn(),_=lee(e.children,p0),w=ze(k=>nme(k,t,r,v,e.id,_));if(y!=="vertical"&&y!=="horizontal")return null;var b,S=w?.[0];return S==null||S.height==null||S.width==null?b=0:b=y==="vertical"?S.height/2:S.width/2,x.createElement($I,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:khe,errorBarOffset:b},x.createElement(Che,go({},e,{layout:y,needClip:g,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:h})))}function Ehe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:m,stackedData:h,displayedData:g,offset:y,cells:v,parentViewBox:_}=e,w=t==="horizontal"?u:l,b=h?w.scale.domain():null,S=jne({numericAxis:w});return g.map((k,C)=>{var A,E,M,T,D,L;h?A=pne(h[C],b):(A=en(k,r),Array.isArray(A)||(A=[S,A]));var B=the(n,zI)(A[1],C);if(t==="horizontal"){var z,[F,G]=[u.scale(A[0]),u.scale(A[1])];E=BE({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:k,index:C}),M=(z=G??F)!==null&&z!==void 0?z:void 0,T=a.size;var V=F-G;if(D=pa(V)?0:V,L={x:E,y:y.top,width:T,height:y.height},Math.abs(B)>0&&Math.abs(D)<Math.abs(B)){var Y=qn(D||B)*(Math.abs(B)-Math.abs(D));M-=Y,D+=Y}}else{var[$,ee]=[l.scale(A[0]),l.scale(A[1])];if(E=$,M=BE({axis:u,ticks:m,bandSize:i,offset:a.offset,entry:k,index:C}),T=ee-$,D=a.size,L={x:y.left,y:M,width:y.width,height:D},Math.abs(B)>0&&Math.abs(T)<Math.abs(B)){var J=qn(T||B)*(Math.abs(B)-Math.abs(T));T+=J}}if(E==null||M==null||T==null||D==null)return null;var W=Nn(Nn({},k),{},{x:E,y:M,width:T,height:D,value:h?A:A[1],payload:k,background:L,tooltipPosition:{x:E+T/2,y:M+D/2},parentViewBox:_},v&&v[C]&&v[C].props);return W}).filter(Boolean)}function Ohe(e){var t=Kn(e,The),r=Yn();return x.createElement(MI,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(DI,{legendPayload:yhe(t)}),x.createElement(OI,{fn:xhe,args:t}),x.createElement(RI,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:wne(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(Ahe,go({},t,{id:n}))))}var of=x.memo(Ohe);of.displayName="Bar";function XD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(r),!0).forEach(function(n){Dhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dhe(e,t,r){return(t=Mhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mhe(e){var t=Phe(e,"string");return typeof t=="symbol"?t:t+""}function Phe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rhe=(e,t)=>t,Ihe=(e,t,r)=>r,Lhe=(e,t,r,n)=>n,$he=(e,t,r,n,a)=>a,zf=he([l0,$he],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Bhe=he([zf],e=>e?.maxBarSize),zhe=(e,t,r,n,a,i)=>i,ZD=(e,t,r)=>{var n=r??e;if(!lr(n))return ss(n,t,0)},Fhe=he([Lt,l0,Rhe,Ihe,Lhe],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),qhe=(e,t,r,n)=>{var a=Lt(e);return a==="horizontal"?m1(e,"yAxis",r,n):m1(e,"xAxis",t,n)},Uhe=(e,t,r)=>{var n=Lt(e);return n==="horizontal"?rD(e,"xAxis",t):rD(e,"yAxis",r)},Hhe=(e,t,r)=>{var n={},a=e.filter(o0),i=e.filter(m=>m.stackId==null),l=a.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),n),u=Object.entries(l).map(m=>{var[h,g]=m,y=g.map(_=>_.dataKey),v=ZD(t,r,g[0].barSize);return{stackId:h,dataKeys:y,barSize:v}}),d=i.map(m=>{var h=[m.dataKey].filter(y=>y!=null),g=ZD(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...u,...d]},Whe=he([Fhe,ole,Uhe],Hhe),Yhe=(e,t,r,n,a)=>{var i,l,u=zf(e,t,r,n,a);if(u!=null){var d=Lt(e),m=K6(e),{maxBarSize:h}=u,g=lr(h)?m:h,y,v;return d==="horizontal"?(y=mo(e,"xAxis",t,n),v=ho(e,"xAxis",t,n)):(y=mo(e,"yAxis",r,n),v=ho(e,"yAxis",r,n)),(i=(l=Zd(y,v,!0))!==null&&l!==void 0?l:g)!==null&&i!==void 0?i:0}},FI=(e,t,r,n)=>{var a=Lt(e),i,l;return a==="horizontal"?(i=mo(e,"xAxis",t,n),l=ho(e,"xAxis",t,n)):(i=mo(e,"yAxis",r,n),l=ho(e,"yAxis",r,n)),Zd(i,l)};function Khe(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=ss(e,r,0,!0),u,d=[];if(xa(n[0].barSize)){var m=!1,h=r/i,g=n.reduce((S,k)=>S+(k.barSize||0),0);g+=(i-1)*l,g>=r&&(g-=(i-1)*l,l=0),g>=r&&h>0&&(m=!0,h*=.9,g=i*h);var y=(r-g)/2>>0,v={offset:y-l,size:0};u=n.reduce((S,k)=>{var C,A={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:v.offset+v.size+l,size:m?h:(C=k.barSize)!==null&&C!==void 0?C:0}},E=[...S,A];return v=E[E.length-1].position,E},d)}else{var _=ss(t,r,0,!0);r-2*_-(i-1)*l<=0&&(l=0);var w=(r-2*_-(i-1)*l)/i;w>1&&(w>>=0);var b=xa(a)?Math.min(w,a):w;u=n.reduce((S,k,C)=>[...S,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:_+(w+l)*C+(w-b)/2,size:b}}],d)}return u}}var Ghe=(e,t,r,n,a,i,l)=>{var u=lr(l)?t:l,d=Khe(r,n,a!==i?a:i,e,u);return a!==i&&d!=null&&(d=d.map(m=>zm(zm({},m),{},{position:zm(zm({},m.position),{},{offset:m.position.offset-a/2})}))),d},Vhe=he([Whe,K6,ile,G6,Yhe,FI,Bhe],Ghe),Qhe=(e,t,r,n)=>mo(e,"xAxis",t,n),Xhe=(e,t,r,n)=>mo(e,"yAxis",r,n),Zhe=(e,t,r,n)=>ho(e,"xAxis",t,n),Jhe=(e,t,r,n)=>ho(e,"yAxis",r,n),eme=he([Vhe,zf],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),tme=(e,t)=>{var r=D_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},rme=he([qhe,zf],tme),nme=he([rn,Qj,Qhe,Xhe,Zhe,Jhe,eme,Lt,t0,FI,rme,zf,zhe],(e,t,r,n,a,i,l,u,d,m,h,g,y)=>{var{chartData:v,dataStartIndex:_,dataEndIndex:w}=d;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||a==null||i==null||m==null)){var{data:b}=g,S;if(b!=null&&b.length>0?S=b:S=v?.slice(_,w+1),S!=null)return Ehe({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:h,displayedData:S,offset:e,cells:y})}}),ame=e=>{var{chartData:t}=e,r=Lr(),n=Yn();return x.useEffect(()=>n?()=>{}:(r(fD(t)),()=>{r(fD(void 0))}),[t,r,n]),null},JD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qI=va({name:"brush",initialState:JD,reducers:{setBrushSettings(e,t){return t.payload==null?JD:t.payload}}}),{setBrushSettings:Hbe}=qI.actions,sme=qI.reducer;function ime(e,t,r){return(t=ome(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ome(e){var t=lme(e,"string");return typeof t=="symbol"?t:t+""}function lme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tS{static create(t){return new tS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}ime(tS,"EPS",1e-4);function cme(e){return(e%180+180)%180}var ume=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=cme(a),l=i*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},dme={dots:[],areas:[],lines:[]},UI=va({name:"referenceElements",initialState:dme,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=di(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=di(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=di(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Wbe,removeDot:Ybe,addArea:Kbe,removeArea:Gbe,addLine:Vbe,removeLine:Qbe}=UI.actions,fme=UI.reducer,hme=x.createContext(void 0),mme=e=>{var{children:t}=e,[r]=x.useState("".concat(Vd("recharts"),"-clip")),n=Z_();if(n==null)return null;var{x:a,y:i,width:l,height:u}=n;return x.createElement(hme.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:u,width:l}))),t)};function ru(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function HI(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function gme(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ume(n,r)}function pme(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:u}=e;return t===1?{start:n?a:i,end:n?a+l:i+u}:{start:n?a+l:i+u,end:n?a:i}}function Hg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function yme(e,t){return HI(e,t+1)}function xme(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:u}=t,d=0,m=1,h=l,g=function(){var _=n?.[d];if(_===void 0)return{v:HI(n,m)};var w=d,b,S=()=>(b===void 0&&(b=r(_,w)),b),k=_.coordinate,C=d===0||Hg(e,k,S,h,u);C||(d=0,h=l,m+=1),C&&(h=k+e*(S()/2+a),d+=m)},y;m<=i.length;)if(y=g(),y)return y.v;return[]}function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(n){vme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vme(e,t,r){return(t=bme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bme(e){var t=wme(e,"string");return typeof t=="symbol"?t:t+""}function wme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jme(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:u}=t,{end:d}=t,m=function(y){var v=i[y],_,w=()=>(_===void 0&&(_=r(v,y)),_);if(y===l-1){var b=e*(v.coordinate+e*w()/2-d);i[y]=v=yn(yn({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else i[y]=v=yn(yn({},v),{},{tickCoord:v.coordinate});var S=Hg(e,v.tickCoord,w,u,d);S&&(d=v.tickCoord-e*(w()/2+a),i[y]=yn(yn({},v),{},{isShow:!0}))},h=l-1;h>=0;h--)m(h);return i}function _me(e,t,r,n,a,i){var l=(n||[]).slice(),u=l.length,{start:d,end:m}=t;if(i){var h=n[u-1],g=r(h,u-1),y=e*(h.coordinate+e*g/2-m);l[u-1]=h=yn(yn({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate});var v=Hg(e,h.tickCoord,()=>g,d,m);v&&(m=h.tickCoord-e*(g/2+a),l[u-1]=yn(yn({},h),{},{isShow:!0}))}for(var _=i?u-1:u,w=function(k){var C=l[k],A,E=()=>(A===void 0&&(A=r(C,k)),A);if(k===0){var M=e*(C.coordinate-e*E()/2-d);l[k]=C=yn(yn({},C),{},{tickCoord:M<0?C.coordinate-M*e:C.coordinate})}else l[k]=C=yn(yn({},C),{},{tickCoord:C.coordinate});var T=Hg(e,C.tickCoord,E,d,m);T&&(d=C.tickCoord+e*(E()/2+a),l[k]=yn(yn({},C),{},{isShow:!0}))},b=0;b<_;b++)w(b);return l}function rS(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:u,interval:d,tickFormatter:m,unit:h,angle:g}=e;if(!a||!a.length||!n)return[];if(Ke(d)||Ml.isSsr){var y;return(y=yme(a,Ke(d)?d:0))!==null&&y!==void 0?y:[]}var v=[],_=u==="top"||u==="bottom"?"width":"height",w=h&&_==="width"?Bd(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(C,A)=>{var E=typeof m=="function"?m(C.value,A):C.value;return _==="width"?gme(Bd(E,{fontSize:t,letterSpacing:r}),w,g):Bd(E,{fontSize:t,letterSpacing:r})[_]},S=a.length>=2?qn(a[1].coordinate-a[0].coordinate):1,k=pme(i,S,_);return d==="equidistantPreserveStart"?xme(S,k,b,a,l):(d==="preserveStart"||d==="preserveStartEnd"?v=_me(S,k,b,a,l,d==="preserveStartEnd"):v=jme(S,k,b,a,l),v.filter(C=>C.isShow))}var Sme=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+i,m=l+d+u+(r?n:0);return Math.round(m)}return 0},Nme=["axisLine","width","height","className","hide","ticks"],kme=["viewBox"],Cme=["viewBox"];function j1(e,t){if(e==null)return{};var r,n,a=Tme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(null,arguments)}function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(n){Ame(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ame(e,t,r){return(t=Eme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eme(e){var t=Ome(e,"string");return typeof t=="symbol"?t:t+""}function Ome(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Dme(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var m=qr(qr(qr({},d),Nr(u,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!l||i==="bottom"&&l);m=qr(qr({},m),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var g=+(i==="left"&&!l||i==="right"&&l);m=qr(qr({},m),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return x.createElement("line",Tl({},m,{className:Rt("recharts-cartesian-axis-line",Gc(u,"className"))}))}function Mme(e,t,r,n,a,i,l,u,d){var m,h,g,y,v,_,w=u?-1:1,b=e.tickSize||l,S=Ke(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":m=h=e.coordinate,y=r+ +!u*a,g=y-w*b,_=g-w*d,v=S;break;case"left":g=y=e.coordinate,h=t+ +!u*n,m=h-w*b,v=m-w*d,_=S;break;case"right":g=y=e.coordinate,h=t+ +u*n,m=h+w*b,v=m+w*d,_=S;break;default:m=h=e.coordinate,y=r+ +u*a,g=y+w*b,_=g+w*d,v=S;break}return{line:{x1:m,y1:g,x2:h,y2:y},tick:{x:v,y:_}}}function Pme(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Rme(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ime(e){var{option:t,tickProps:r,value:n}=e,a,i=Rt(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,qr(qr({},r),{},{className:i}));else if(typeof t=="function")a=t(qr(qr({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Rt(l,t?.className)),a=x.createElement(Q_,Tl({},r,{className:l}),n)}return a}function Lme(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:u,tickTextProps:d,orientation:m,mirror:h,x:g,y,width:v,height:_,tickSize:w,tickMargin:b,fontSize:S,letterSpacing:k,getTicksConfig:C,events:A}=e,E=rS(qr(qr({},C),{},{ticks:t}),S,k),M=Pme(m,h),T=Rme(m,h),D=_o(C),L=Nr(r,!1),B=qr(qr({},D),{},{fill:"none"},Nr(n,!1)),z=E.map((F,G)=>{var{line:V,tick:Y}=Mme(F,g,y,v,_,m,w,h,b),$=qr(qr(qr(qr({textAnchor:M,verticalAnchor:T},D),{},{stroke:"none",fill:a},L),Y),{},{index:G,payload:F,visibleTicksCount:E.length,tickFormatter:i,padding:u},d);return x.createElement(is,Tl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},Op(A,F,G)),n&&x.createElement("line",Tl({},B,V,{className:Rt("recharts-cartesian-axis-tick-line",Gc(n,"className"))})),r&&x.createElement(Ime,{option:r,tickProps:$,value:"".concat(typeof i=="function"?i(F.value,G):F.value).concat(l||"")}))});return z.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},z):null}var $me=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:u}=e,d=j1(e,Nme),[m,h]=x.useState(""),[g,y]=x.useState(""),v=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return Sme({ticks:v.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=x.useCallback(w=>{if(w){var b=w.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=Array.from(b);var S=b[0];if(S){var k=window.getComputedStyle(S),C=k.fontSize,A=k.letterSpacing;(C!==m||A!==g)&&(h(C),y(A))}}},[m,g]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(is,{className:Rt("recharts-cartesian-axis",i),ref:_},x.createElement(Dme,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:_o(e)}),x.createElement(Lme,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:g,getTicksConfig:e,events:d}),x.createElement(Tde,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement($de,{label:e.label}),e.children))}),Bme=x.memo($me,(e,t)=>{var{viewBox:r}=e,n=j1(e,kme),{viewBox:a}=t,i=j1(t,Cme);return ru(r,a)&&ru(n,i)}),aS=x.forwardRef((e,t)=>{var r=Kn(e,nS);return x.createElement(Bme,Tl({},r,{ref:t}))});aS.displayName="CartesianAxis";var zme=["x1","y1","x2","y2","key"],Fme=["offset"],qme=["xAxisId","yAxisId"],Ume=["xAxisId","yAxisId"];function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){Hme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hme(e,t,r){return(t=Wme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wme(e){var t=Yme(e,"string");return typeof t=="symbol"?t:t+""}function Yme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(null,arguments)}function Wg(e,t){if(e==null)return{};var r,n,a=Kme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gme=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:u}=e;return x.createElement("rect",{x:n,y:a,ry:u,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function WI(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:u}=t,d=Wg(t,zme),m=_o(d),{offset:h}=m,g=Wg(m,Fme);r=x.createElement("line",ll({},g,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:u}))}return r}function Vme(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,u=Wg(e,qme),d=a.map((m,h)=>{var g=vn(vn({},u),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(h),index:h});return WI(n,g)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Qme(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,u=Wg(e,Ume),d=a.map((m,h)=>{var g=vn(vn({},u),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(h),index:h});return WI(n,g)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Xme(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var m=u.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==m[0]&&m.unshift(0);var h=m.map((g,y)=>{var v=!m[y+1],_=v?a+l-g:m[y+1]-g;if(_<=0)return null;var w=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:_,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Zme(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var m=d.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==m[0]&&m.unshift(0);var h=m.map((g,y)=>{var v=!m[y+1],_=v?a+l-g:m[y+1]-g;if(_<=0)return null;var w=y%r.length;return x.createElement("rect",{key:"react-".concat(y),x:g,y:i,width:_,height:u,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Jme=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return LR(rS(vn(vn(vn({},nS),r),{},{ticks:$R(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},ege=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return LR(rS(vn(vn(vn({},nS),r),{},{ticks:$R(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},tge={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ff(e){var t=Zj(),r=Jj(),n=zR(),a=vn(vn({},Kn(e,tge)),{},{x:Ke(e.x)?e.x:n.left,y:Ke(e.y)?e.y:n.top,width:Ke(e.width)?e.width:n.width,height:Ke(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:u,y:d,width:m,height:h,syncWithTicks:g,horizontalValues:y,verticalValues:v}=a,_=Yn(),w=ze(L=>nD(L,"xAxis",i,_)),b=ze(L=>nD(L,"yAxis",l,_));if(!Ke(m)||m<=0||!Ke(h)||h<=0||!Ke(u)||u!==+u||!Ke(d)||d!==+d)return null;var S=a.verticalCoordinatesGenerator||Jme,k=a.horizontalCoordinatesGenerator||ege,{horizontalPoints:C,verticalPoints:A}=a;if((!C||!C.length)&&typeof k=="function"){var E=y&&y.length,M=k({yAxis:b?vn(vn({},b),{},{ticks:E?y:b.ticks}):void 0,width:t,height:r,offset:n},E?!0:g);$d(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}if((!A||!A.length)&&typeof S=="function"){var T=v&&v.length,D=S({xAxis:w?vn(vn({},w),{},{ticks:T?v:w.ticks}):void 0,width:t,height:r,offset:n},T?!0:g);$d(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(A=D)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Gme,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(Xme,ll({},a,{horizontalPoints:C})),x.createElement(Zme,ll({},a,{verticalPoints:A})),x.createElement(Vme,ll({},a,{offset:n,horizontalPoints:C,xAxis:w,yAxis:b})),x.createElement(Qme,ll({},a,{offset:n,verticalPoints:A,xAxis:w,yAxis:b})))}Ff.displayName="CartesianGrid";var YI=(e,t,r,n)=>mo(e,"xAxis",t,n),KI=(e,t,r,n)=>ho(e,"xAxis",t,n),GI=(e,t,r,n)=>mo(e,"yAxis",r,n),VI=(e,t,r,n)=>ho(e,"yAxis",r,n),rge=he([Lt,YI,GI,KI,VI],(e,t,r,n,a)=>So(e,"xAxis")?Zd(t,n,!1):Zd(r,a,!1)),nge=(e,t,r,n,a)=>a;function age(e){return e.type==="line"}var sge=he([l0,nge],(e,t)=>e.filter(age).find(r=>r.id===t)),ige=he([Lt,YI,GI,KI,VI,sge,rge,t0],(e,t,r,n,a,i,l,u)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:h}=u;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:g,data:y}=i,v;if(y!=null&&y.length>0?v=y:v=d?.slice(m,h+1),v!=null)return Tge({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:v})}}),oge=["id"],lge=["type","layout","connectNulls","needClip"],cge=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){uge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uge(e,t,r){return(t=dge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dge(e){var t=fge(e,"string");return typeof t=="symbol"?t:t+""}function fge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sS(e,t){if(e==null)return{};var r,n,a=hge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(null,arguments)}var mge=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Fp(r,t),payload:e}]};function gge(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:u,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Fp(l,t),hide:u,type:e.tooltipType,color:e.stroke,unit:d}}}var QI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function pge(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var yge=(e,t,r)=>{var n=r.reduce((g,y)=>g+y);if(!n)return QI(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,u=[],d=0,m=0;d<r.length;m+=r[d],++d)if(m+r[d]>i){u=[...r.slice(0,d),i-m];break}var h=u.length%2===0?[0,l]:[l];return[...pge(r,a),...u,...h].map(g=>"".concat(g,"px")).join(", ")};function xge(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Rt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=x.createElement(kI,Al({},t,{className:n}))}return r}function vge(e,t){return e==null?!1:t?!0:e.length===1}function bge(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!vge(r,a))return null;var{id:u}=n,d=sS(n,oge),m=D5(a),h=_o(d),g=Nr(a,!0),y=r.map((_,w)=>{var b=oa(oa(oa({key:"dot-".concat(w),r:3},h),g),{},{index:w,cx:_.x,cy:_.y,dataKey:i,value:_.value,payload:_.payload,points:r});return xge(a,b)}),v={clipPath:l?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return x.createElement(is,Al({className:"recharts-line-dots",key:"dots"},v),y)}function wge(e){var{showLabels:t,children:r,points:n}=e,a=x.useMemo(()=>n?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return oa(oa({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(_I,{value:t?a:null},r)}function aM(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:u,connectNulls:d,needClip:m}=i,h=sS(i,lge),g=oa(oa({},Nr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:u,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return x.createElement(x.Fragment,null,n?.length>1&&x.createElement(UR,Al({},g,{pathRef:r})),x.createElement(bge,{points:n,clipPathId:t,props:i}))}function jge(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function _ge(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:m,animationDuration:h,animationEasing:g,animateNewValues:y,width:v,height:_,onAnimationEnd:w,onAnimationStart:b}=r,S=a.current,k=Gp(r,"recharts-line-"),[C,A]=x.useState(!1),E=!C,M=x.useCallback(()=>{typeof w=="function"&&w(),A(!1)},[w]),T=x.useCallback(()=>{typeof b=="function"&&b(),A(!0)},[b]),D=jge(n.current),L=i.current;return x.createElement(wge,{points:l,showLabels:E},r.children,x.createElement(Kp,{animationId:k,begin:m,duration:h,isActive:d,easing:g,onAnimationEnd:M,onAnimationStart:T,key:k},B=>{var z=Rr(L,D+L,B),F=Math.min(z,D),G;if(d)if(u){var V="".concat(u).split(/[,\s]+/gim).map(ee=>parseFloat(ee));G=yge(F,D,V)}else G=QI(D,F);else G=u==null?void 0:String(u);if(S){var Y=S.length/l.length,$=B===1?l:l.map((ee,J)=>{var W=Math.floor(J*Y);if(S[W]){var U=S[W];return oa(oa({},ee),{},{x:Rr(U.x,ee.x,B),y:Rr(U.y,ee.y,B)})}return y?oa(oa({},ee),{},{x:Rr(v*2,ee.x,B),y:Rr(_/2,ee.y,B)}):oa(oa({},ee),{},{x:ee.x,y:ee.y})});return a.current=$,x.createElement(aM,{props:r,points:$,clipPathId:t,pathRef:n,strokeDasharray:G})}return B>0&&D>0&&(a.current=l,i.current=F),x.createElement(aM,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:G})}),x.createElement(NI,{label:r.label}))}function Sge(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),a=x.useRef(0),i=x.useRef(null);return x.createElement(_ge,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Nge=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:en(e.payload,t)});class kge extends x.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:l,yAxisId:u,top:d,left:m,width:h,height:g,id:y,needClip:v}=this.props;if(r)return null;var _=Rt("recharts-line",i),w=y,{r:b=3,strokeWidth:S=2}=(t=Nr(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},k=D5(n),C=b*2+S;return x.createElement(x.Fragment,null,x.createElement(is,{className:_},v&&x.createElement("defs",null,x.createElement(BI,{clipPathId:w,xAxisId:l,yAxisId:u}),!k&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:m-C/2,y:d-C/2,width:h+C,height:g+C}))),x.createElement($I,{xAxisId:l,yAxisId:u,data:a,dataPointFormatter:Nge,errorBarOffset:0},x.createElement(Sge,{props:this.props,clipPathId:w}))),x.createElement(Wfe,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var XI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ml.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Cge(e){var t=Kn(e,XI),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:u,dot:d,hide:m,isAnimationActive:h,label:g,legendType:y,xAxisId:v,yAxisId:_,id:w}=t,b=sS(t,cge),{needClip:S}=eS(v,_),k=Z_(),C=Yp(),A=Yn(),E=ze(B=>ige(B,v,_,A,w));if(C!=="horizontal"&&C!=="vertical"||E==null||k==null)return null;var{height:M,width:T,x:D,y:L}=k;return x.createElement(kge,Al({},b,{id:w,connectNulls:u,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:h,hide:m,label:g,legendType:y,xAxisId:v,yAxisId:_,points:E,layout:C,height:M,width:T,left:D,top:L,needClip:S}))}function Tge(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:u,displayedData:d}=e;return d.map((m,h)=>{var g=en(m,l);if(t==="horizontal"){var y=$E({axis:r,ticks:a,bandSize:u,entry:m,index:h}),v=lr(g)?null:n.scale(g);return{x:y,y:v,value:g,payload:m}}var _=lr(g)?null:r.scale(g),w=$E({axis:n,ticks:i,bandSize:u,entry:m,index:h});return _==null||w==null?null:{x:_,y:w,value:g,payload:m}}).filter(Boolean)}function Age(e){var t=Kn(e,XI),r=Yn();return x.createElement(MI,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(DI,{legendPayload:mge(t)}),x.createElement(OI,{fn:gge,args:t}),x.createElement(RI,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(Cge,Al({},t,{id:n}))))}var _1=x.memo(Age);_1.displayName="Line";var Ege=["dangerouslySetInnerHTML","ticks"],Oge=["id"],Dge=["domain"],Mge=["domain"];function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(null,arguments)}function Yg(e,t){if(e==null)return{};var r,n,a=Pge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rge(e){var t=Lr();return x.useEffect(()=>(t(Dfe(e)),()=>{t(Mfe(e))}),[e,t]),null}var Ige=e=>{var{xAxisId:t,className:r}=e,n=ze(Qj),a=Yn(),i="xAxis",l=ze(b=>bu(b,i,t,a)),u=ze(b=>$8(b,i,t,a)),d=ze(b=>P8(b,t)),m=ze(b=>Jle(b,t)),h=ze(b=>n8(b,t));if(d==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,v=Yg(e,Ege),{id:_}=h,w=Yg(h,Oge);return x.createElement(aS,S1({},v,w,{scale:l,x:m.x,y:m.y,width:d.width,height:d.height,className:Rt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:u}))},Lge={allowDataOverflow:ra.allowDataOverflow,allowDecimals:ra.allowDecimals,allowDuplicatedCategory:ra.allowDuplicatedCategory,height:ra.height,hide:!1,mirror:ra.mirror,orientation:ra.orientation,padding:ra.padding,reversed:ra.reversed,scale:ra.scale,tickCount:ra.tickCount,type:ra.type,xAxisId:0},$ge=e=>{var t,r,n,a,i,l=Kn(e,Lge);return x.createElement(x.Fragment,null,x.createElement(Rge,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),x.createElement(Ige,l))},Bge=(e,t)=>{var{domain:r}=e,n=Yg(e,Dge),{domain:a}=t,i=Yg(t,Mge);return ru(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:ru({domain:r},{domain:a}):!1},qf=x.memo($ge,Bge);qf.displayName="XAxis";var zge=["dangerouslySetInnerHTML","ticks"],Fge=["id"],qge=["domain"],Uge=["domain"];function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(null,arguments)}function Kg(e,t){if(e==null)return{};var r,n,a=Hge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wge(e){var t=Lr();return x.useEffect(()=>(t(Pfe(e)),()=>{t(Rfe(e))}),[e,t]),null}var Yge=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),l=x.useRef(null),u=ze(Qj),d=Yn(),m=Lr(),h="yAxis",g=ze(E=>bu(E,h,t,d)),y=ze(E=>R8(E,t)),v=ze(E=>tce(E,t)),_=ze(E=>$8(E,h,t,d)),w=ze(E=>a8(E,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!y||X_(a)||x.isValidElement(a)||w==null)){var E=i.current;if(E){var M=E.getCalculatedWidth();Math.round(y.width)!==Math.round(M)&&m(Ife({id:t,width:M}))}}},[_,y,m,a,t,n,w]),y==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:b,ticks:S}=e,k=Kg(e,zge),{id:C}=w,A=Kg(w,Fge);return x.createElement(aS,N1({},k,A,{ref:i,labelRef:l,scale:g,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:Rt("recharts-".concat(h," ").concat(h),r),viewBox:u,ticks:_}))},Kge={allowDataOverflow:na.allowDataOverflow,allowDecimals:na.allowDecimals,allowDuplicatedCategory:na.allowDuplicatedCategory,hide:!1,mirror:na.mirror,orientation:na.orientation,padding:na.padding,reversed:na.reversed,scale:na.scale,tickCount:na.tickCount,type:na.type,width:na.width,yAxisId:0},Gge=e=>{var t,r,n,a,i,l=Kn(e,Kge);return x.createElement(x.Fragment,null,x.createElement(Wge,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),x.createElement(Yge,l))},Vge=(e,t)=>{var{domain:r}=e,n=Kg(e,qge),{domain:a}=t,i=Kg(t,Uge);return ru(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:ru({domain:r},{domain:a}):!1},Uf=x.memo(Gge,Vge);Uf.displayName="YAxis";var Ub={exports:{}},Hb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sM;function Qge(){if(sM)return Hb;sM=1;var e=au();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Hb.useSyncExternalStoreWithSelector=function(d,m,h,g,y){var v=a(null);if(v.current===null){var _={hasValue:!1,value:null};v.current=_}else _=v.current;v=l(function(){function b(E){if(!S){if(S=!0,k=E,E=g(E),y!==void 0&&_.hasValue){var M=_.value;if(y(M,E))return C=M}return C=E}if(M=C,r(k,E))return M;var T=g(E);return y!==void 0&&y(M,T)?(k=E,M):(k=E,C=T)}var S=!1,k,C,A=h===void 0?null:h;return[function(){return b(m())},A===null?void 0:function(){return b(A())}]},[m,h,g,y]);var w=n(d,v[0],v[1]);return i(function(){_.hasValue=!0,_.value=w},[w]),u(w),w},Hb}var iM;function Xge(){return iM||(iM=1,Ub.exports=Qge()),Ub.exports}Xge();function Zge(e){e()}function Jge(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Zge(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var oM={notify(){},get:()=>[]};function epe(e,t){let r,n=oM,a=0,i=!1;function l(w){h();const b=n.subscribe(w);let S=!1;return()=>{S||(S=!0,b(),g())}}function u(){n.notify()}function d(){_.onStateChange&&_.onStateChange()}function m(){return i}function h(){a++,r||(r=e.subscribe(d),n=Jge())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=oM)}function y(){i||(i=!0,h())}function v(){i&&(i=!1,g())}const _={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:m,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>n};return _}var tpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rpe=tpe(),npe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ape=npe(),spe=()=>rpe||ape?x.useLayoutEffect:x.useEffect,ipe=spe(),ope=Symbol.for("react-redux-context"),lpe=typeof globalThis<"u"?globalThis:{};function cpe(){if(!x.createContext)return{};const e=lpe[ope]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var upe=cpe();function dpe(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const d=epe(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);ipe(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const u=r||upe;return x.createElement(u.Provider,{value:i},t)}var fpe=dpe,hpe=(e,t)=>t,iS=he([hpe,Lt,e8,Yr,J8,Ni,iue,rn],due),oS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ZI=Ua("mouseClick"),JI=Cf();JI.startListening({actionCreator:ZI,effect:(e,t)=>{var r=e.payload,n=iS(t.getState(),oS(r));n?.activeIndex!=null&&t.dispatch(mce({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var k1=Ua("mouseMove"),eL=Cf();eL.startListening({actionCreator:k1,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=F_(n,n.tooltip.settings.shared),i=iS(n,oS(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(Y8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(W8()))}});var lM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},tL=va({name:"rootProps",initialState:lM,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:lM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),mpe=tL.reducer,{updateOptions:gpe}=tL.actions,rL=va({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Xbe}=rL.actions,ppe=rL.reducer,nL=Ua("keyDown"),aL=Ua("focus"),lS=Cf();lS.startListening({actionCreator:nL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(q_(a,ju(r))),u=Ni(r);if(i==="Enter"){var d=Bg(r,"axis","hover",String(a.index));t.dispatch(p1({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var m=sce(r),h=m==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,y=l+g*h;if(!(u==null||y>=u.length||y<0)){var v=Bg(r,"axis","hover",String(y));t.dispatch(p1({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});lS.startListening({actionCreator:aL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=Bg(r,"axis","hover",String(i));t.dispatch(p1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Ia=Ua("externalEvent"),sL=Cf();sL.startListening({actionCreator:Ia,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Qce(r),activeDataKey:nI(r),activeIndex:Cl(r),activeLabel:rI(r),activeTooltipIndex:Cl(r),isTooltipActive:Xce(r)};e.payload.handler(n,e.payload.reactEvent)}}});var ype=he([wu],e=>e.tooltipItemPayloads),xpe=he([ype,$f,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),iL=Ua("touchMove"),oL=Cf();oL.startListening({actionCreator:iL,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=F_(n,n.tooltip.settings.shared);if(a==="axis"){var i=iS(n,oS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(Y8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var m=d.getAttribute(Ene),h=(l=d.getAttribute(One))!==null&&l!==void 0?l:void 0,g=xpe(t.getState(),m,h);t.dispatch(H8({activeDataKey:h,activeIndex:m,activeCoordinate:g}))}}});var vpe=hR({brush:sme,cartesianAxis:Lfe,chartData:Cue,errorBars:nhe,graphicalItems:Cfe,layout:Jre,legend:Gne,options:jue,polarAxis:Zde,polarOptions:ppe,referenceElements:fme,rootProps:mpe,tooltip:gce}),bpe=function(t){return Sre({reducer:vpe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([JI.middleware,eL.middleware,lS.middleware,sL.middleware,oL.middleware]),devTools:Ml.devToolsEnabled})};function wpe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Yn(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=bpe(t));var l=Hj;return x.createElement(fpe,{context:l,store:i.current},r)}function jpe(e){var{layout:t,width:r,height:n,margin:a}=e,i=Lr(),l=Yn();return x.useEffect(()=>{l||(i(Qre(t)),i(Xre({width:r,height:n})),i(Vre(a)))},[i,l,t,r,n,a]),null}function _pe(e){var t=Lr();return x.useEffect(()=>{t(gpe(e))},[t,e]),null}var Spe=["children"];function Npe(e,t){if(e==null)return{};var r,n,a=kpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(null,arguments)}var Cpe={width:"100%",height:"100%"},Tpe=x.forwardRef((e,t)=>{var r=Zj(),n=Jj(),a=qR();if(!_g(r)||!_g(n))return null;var{children:i,otherAttributes:l,title:u,desc:d}=e,m,h;return typeof l.tabIndex=="number"?m=l.tabIndex:m=a?0:void 0,typeof l.role=="string"?h=l.role:h=a?"application":void 0,x.createElement(Rj,Gg({},l,{title:u,desc:d,role:h,tabIndex:m,width:r,height:n,style:Cpe,ref:t}),i)}),Ape=e=>{var{children:t}=e,r=ze(Wp);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return x.createElement(Rj,{width:n,height:a,x:l,y:i},t)},cM=x.forwardRef((e,t)=>{var{children:r}=e,n=Npe(e,Spe),a=Yn();return a?x.createElement(Ape,null,r):x.createElement(Tpe,Gg({ref:t},n),r)});function Epe(){var e=Lr(),[t,r]=x.useState(null),n=ze(Ane);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;xa(i)&&i!==n&&e(Zre(i))}},[t,e,n]),r}function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ope(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(n){Dpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dpe(e,t,r){return(t=Mpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mpe(e){var t=Ppe(e,"string");return typeof t=="symbol"?t:t+""}function Ppe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rpe=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:m,onMouseLeave:h,onMouseMove:g,onMouseUp:y,onTouchEnd:v,onTouchMove:_,onTouchStart:w,style:b,width:S}=e,k=Lr(),[C,A]=x.useState(null),[E,M]=x.useState(null);Iue();var T=Epe(),D=x.useCallback(H=>{T(H),typeof t=="function"&&t(H),A(H),M(H)},[T,t,A,M]),L=x.useCallback(H=>{k(ZI(H)),k(Ia({handler:i,reactEvent:H}))},[k,i]),B=x.useCallback(H=>{k(k1(H)),k(Ia({handler:m,reactEvent:H}))},[k,m]),z=x.useCallback(H=>{k(W8()),k(Ia({handler:h,reactEvent:H}))},[k,h]),F=x.useCallback(H=>{k(k1(H)),k(Ia({handler:g,reactEvent:H}))},[k,g]),G=x.useCallback(()=>{k(aL())},[k]),V=x.useCallback(H=>{k(nL(H.key))},[k]),Y=x.useCallback(H=>{k(Ia({handler:l,reactEvent:H}))},[k,l]),$=x.useCallback(H=>{k(Ia({handler:u,reactEvent:H}))},[k,u]),ee=x.useCallback(H=>{k(Ia({handler:d,reactEvent:H}))},[k,d]),J=x.useCallback(H=>{k(Ia({handler:y,reactEvent:H}))},[k,y]),W=x.useCallback(H=>{k(Ia({handler:w,reactEvent:H}))},[k,w]),U=x.useCallback(H=>{k(iL(H)),k(Ia({handler:_,reactEvent:H}))},[k,_]),P=x.useCallback(H=>{k(Ia({handler:v,reactEvent:H}))},[k,v]);return x.createElement(cI.Provider,{value:C},x.createElement(M5.Provider,{value:E},x.createElement("div",{className:Rt("recharts-wrapper",n),style:Ope({position:"relative",cursor:"default",width:S,height:a},b),onClick:L,onContextMenu:Y,onDoubleClick:$,onFocus:G,onKeyDown:V,onMouseDown:ee,onMouseEnter:B,onMouseLeave:z,onMouseMove:F,onMouseUp:J,onTouchEnd:P,onTouchMove:U,onTouchStart:W,ref:D},r)))}),Ipe=["children","className","width","height","style","compact","title","desc"];function Lpe(e,t){if(e==null)return{};var r,n,a=$pe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $pe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bpe=x.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:l,compact:u,title:d,desc:m}=e,h=Lpe(e,Ipe),g=_o(h);return u?x.createElement(cM,{otherAttributes:g,title:d,desc:m},r):x.createElement(Rpe,{className:n,style:l,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(cM,{otherAttributes:g,title:d,desc:m,ref:t},x.createElement(mme,null,r)))}),zpe=["width","height"];function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C1.apply(null,arguments)}function Fpe(e,t){if(e==null)return{};var r,n,a=qpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Upe={top:5,right:5,bottom:5,left:5},Hpe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Upe,reverseStackOrder:!1,syncMethod:"index"},lL=x.forwardRef(function(t,r){var n,a=Kn(t.categoricalChartProps,Hpe),{width:i,height:l}=a,u=Fpe(a,zpe);if(!_g(i)||!_g(l))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,categoricalChartProps:y}=t,v={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return x.createElement(wpe,{preloadedState:{options:v},reduxStoreName:(n=y.id)!==null&&n!==void 0?n:d},x.createElement(ame,{chartData:y.data}),x.createElement(jpe,{width:i,height:l,layout:a.layout,margin:a.margin}),x.createElement(_pe,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),x.createElement(Bpe,C1({},u,{width:i,height:l,ref:r})))}),Wpe=["axis"],Ype=x.forwardRef((e,t)=>x.createElement(lL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wpe,tooltipPayloadSearcher:uI,categoricalChartProps:e,ref:t})),Kpe=["axis","item"],cS=x.forwardRef((e,t)=>x.createElement(lL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Kpe,tooltipPayloadSearcher:uI,categoricalChartProps:e,ref:t}));const Gpe=()=>Ie({queryKey:["health-time-stats"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.rpc("get_health_time_stats",{p_user_id:e.id});if(r)throw r;return t},refetchInterval:60*1e3,staleTime:30*1e3}),Vpe=()=>Ie({queryKey:["health-time-streak"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.rpc("calculate_health_time_streak",{p_user_id:e.id});if(r)throw r;return t},staleTime:3600*1e3}),Qpe=()=>Ie({queryKey:["health-neglect-risk"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.rpc("detect_health_neglect_risk",{p_user_id:e.id});if(r)throw r;return t},refetchInterval:300*1e3,staleTime:120*1e3}),Xpe=(e=7)=>Ie({queryKey:["health-activity-breakdown",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("get_health_activity_breakdown",{p_user_id:t.id,p_days:e});if(n)throw n;return r},staleTime:300*1e3}),Zpe=(e=4)=>Ie({queryKey:["weekly-health-summary",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("get_weekly_health_summary",{p_user_id:t.id,p_weeks:e});if(n)throw n;return r},staleTime:300*1e3}),Jpe=()=>{const{data:e,isLoading:t}=Gpe();if(t)return s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/2 mb-4"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-20 bg-gray-700 rounded"}),s.jsx("div",{className:"h-16 bg-gray-700 rounded"})]})]});if(!e)return s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Health Time Allocation"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"No data available"})]});const r=e.weekly_percentage>=100?"text-green-400":e.weekly_percentage>=80?"text-yellow-400":"text-red-400",n=e.weekly_percentage>=100?"bg-green-500":e.weekly_percentage>=80?"bg-yellow-500":"bg-red-500",a=e.weekly_delta>=0?Hn:hf,i=e.weekly_delta>=0?"text-green-400":"text-red-400",l=e.weekly_percentage<80;return s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-6",children:"Health Time Allocation"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"This Week"}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:`text-3xl font-bold ${r}`,children:[e.hours_this_week.toFixed(1),"h"]}),s.jsxs("span",{className:"text-gray-400",children:["/ ",e.target_weekly_hours,"h"]})]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden mb-2",children:s.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${n}`,style:{width:`${Math.min(e.weekly_percentage,100)}%`}})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:`text-sm font-medium ${r}`,children:[e.weekly_percentage,"% of target"]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(a,{className:`w-4 h-4 mr-1 ${i}`}),s.jsxs("span",{className:i,children:[e.weekly_delta>=0?"+":"",e.weekly_delta.toFixed(1),"h vs last week"]})]})]}),l&&s.jsxs("div",{className:"flex items-center mt-3 bg-yellow-900/30 border border-yellow-600 rounded p-3",children:[s.jsx(qa,{className:"w-5 h-5 mr-2 text-yellow-500 flex-shrink-0"}),s.jsxs("span",{className:"text-sm text-yellow-400",children:[s.jsxs("span",{className:"font-semibold",children:[e.hours_below_target.toFixed(1),"h below target"]})," ","- Consider scheduling health time this week"]})]})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Today"}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-xl font-semibold text-gray-100",children:[e.hours_today.toFixed(1),"h"]}),s.jsxs("span",{className:"text-gray-500",children:["/ ",e.target_daily_hours.toFixed(1),"h"]})]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"h-2 rounded-full bg-teal-500 transition-all duration-500",style:{width:`${Math.min(e.daily_percentage,100)}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Target: ",(e.target_daily_hours*60).toFixed(0)," minutes per day"]})]})]})},e0e=()=>{const{data:e,isLoading:t}=Vpe();if(t)return s.jsxs("div",{className:"bg-gradient-to-r from-orange-900/20 to-red-900/20 rounded-lg shadow p-6 border border-orange-700/50 animate-pulse",children:[s.jsx("div",{className:"h-12 bg-gray-700 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded"})]});if(e==null)return null;const r=[4,8,12],n=r.find(u=>u>e)||12,a=n-e,i=e>=4,l=e>=12?"":e>=8?"":e>=4?"":null;return s.jsxs("div",{className:"bg-gradient-to-r from-orange-900/20 to-red-900/20 rounded-lg shadow p-6 border border-orange-700/50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Y1,{className:"w-8 h-8 text-orange-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-orange-400",children:e}),s.jsx("div",{className:"text-sm text-gray-400",children:e===1?"week":"weeks"})]})]}),s.jsx("p",{className:"text-gray-300 font-medium",children:"Consecutive weeks meeting health target"})]}),i&&l&&s.jsx("div",{className:"text-5xl animate-bounce",children:l})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[s.jsx("span",{children:"Milestones"}),e<12&&s.jsxs("span",{children:[a," ",a===1?"week":"weeks"," to ",n," weeks"]})]}),s.jsx("div",{className:"flex gap-2",children:r.map((u,d)=>{const m=e>=u,h=e<u&&(d===0||e>=r[d-1]);return s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`
                    h-3 rounded-full transition-all duration-500 relative overflow-hidden
                    ${m?"bg-orange-500":"bg-gray-700"}
                  `,title:`${u} weeks`,children:h&&s.jsx("div",{className:"absolute inset-0 bg-orange-600 transition-all duration-500",style:{width:`${(e-(r[d-1]||0))/(u-(r[d-1]||0))*100}%`}})}),s.jsxs("div",{className:`text-xs text-center mt-1 ${m?"text-orange-400 font-medium":"text-gray-500"}`,children:[u,"w",m&&d===r.length-1&&s.jsx(V9,{className:"w-3 h-3 inline ml-1"})]})]},u)})})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-orange-700/30",children:[e===0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsx(yl,{className:"w-4 h-4"}),s.jsx("span",{children:"Start your streak by meeting your health target this week!"})]}),e>0&&e<4&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-400",children:[s.jsx(yl,{className:"w-4 h-4"}),s.jsxs("span",{children:["Keep going! ",4-e," more ",4-e===1?"week":"weeks"," to your first milestone."]})]}),e>=4&&e<8&&s.jsx("div",{className:"text-sm text-orange-400 font-medium",children:" Great consistency! You're building a healthy habit."}),e>=8&&e<12&&s.jsx("div",{className:"text-sm text-orange-400 font-medium",children:" Impressive! Health is clearly a priority for you."}),e>=12&&s.jsxs("div",{className:"text-sm text-orange-400 font-medium",children:[" Outstanding! ",e," weeks of consistency is remarkable!"]})]})]})},t0e=({onScheduleClick:e})=>{const{data:t}=Qpe();return!t||t.risk_level==="none"?null:t.risk_level==="low"?s.jsx("div",{className:"bg-yellow-900/20 border-l-4 border-yellow-500 rounded p-4 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qa,{className:"text-yellow-500 w-6 h-6 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-yellow-400 text-lg mb-1",children:"Health time below target last week"}),s.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["You were below 50% of your health target (",t.threshold.toFixed(1),"h) last week. Consider scheduling health time this week to get back on track."]}),e&&s.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded font-medium transition-colors text-sm",children:[s.jsx(tn,{className:"w-4 h-4"}),"Schedule Health Time"]})]})]})}):s.jsxs("div",{className:"bg-red-900/30 border-l-4 border-red-500 rounded p-5 shadow-xl",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-red-500 rounded-full p-2",children:s.jsx(qa,{className:"text-white w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-red-400 text-xl mb-2",children:" Health neglected - schedule workout time"}),s.jsxs("p",{className:"text-gray-200 mb-2",children:["You've been below 50% of your health target for"," ",s.jsxs("span",{className:"font-semibold text-red-400",children:[t.consecutive_below," consecutive weeks"]}),"."]}),s.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:["Your health goal is ",t.target_weekly,"h per week, but you've been consistently below ",t.threshold.toFixed(1),"h. Time to prioritize your health and well-being!"]}),e&&s.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-5 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors shadow-lg",children:[s.jsx(tn,{className:"w-5 h-5"}),"Schedule Health Time Now"]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-red-700/30",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-400",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-1.5 flex-shrink-0"}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium text-gray-300",children:"Why this matters:"})," Consistent health time helps prevent burnout, maintains energy levels, and supports long-term productivity."]})]})})]})},dM={Workout:"#ef4444",Cardio:"#dc2626",Strength:"#f87171",Yoga:"#a855f7",Meditation:"#8b5cf6","Meal Prep":"#10b981","Meal Planning":"#059669",Physio:"#f59e0b","Health Research":"#3b82f6",Doctor:"#06b6d4","Mental Health":"#ec4899"},r0e="#6b7280",n0e=()=>{const[e,t]=x.useState("week"),r={week:7,month:30,quarter:90},{data:n,isLoading:a}=Xpe(r[e]);if(a)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4 animate-pulse"}),s.jsx("div",{className:"h-64 bg-gray-700 rounded animate-pulse"})]});if(!n||n.length===0)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-4",children:"Health Activity Breakdown"}),s.jsxs("p",{className:"text-gray-400 text-center py-8",children:["No labeled health activities for this period.",s.jsx("br",{}),s.jsx("span",{className:"text-sm",children:"Add labels to your deep work sessions to see activity breakdown"})]})]});const i=n.map(u=>({...u,color:dM[u.activity]||r0e})),l=n.reduce((u,d)=>u+d.hours,0);return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:"Health Activity Breakdown"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>t("week"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${e==="week"?"bg-teal-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Week"}),s.jsx("button",{onClick:()=>t("month"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${e==="month"?"bg-teal-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Month"}),s.jsx("button",{onClick:()=>t("quarter"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${e==="quarter"?"bg-teal-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Last 3 Months"})]})]}),s.jsx(g0,{width:"100%",height:300,children:s.jsxs(cS,{data:i,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[s.jsx(Ff,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(qf,{type:"number",stroke:"#9ca3af",tick:{fill:"#9ca3af"},label:{value:"Hours",position:"insideBottom",offset:-5,fill:"#9ca3af"}}),s.jsx(Uf,{type:"category",dataKey:"activity",stroke:"#9ca3af",tick:{fill:"#9ca3af"},width:90}),s.jsx(m0,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"},formatter:(u,d,m)=>[`${u.toFixed(1)} hours (${m.payload.percentage.toFixed(1)}%)`,"Time"]}),s.jsx(of,{dataKey:"hours",radius:[0,4,4,0],children:i.map((u,d)=>s.jsx(p0,{fill:u.color},`cell-${d}`))})]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-700/50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Activities"}),s.jsx("div",{className:"text-xl font-bold text-gray-100",children:n.length})]}),s.jsxs("div",{className:"bg-gray-700/50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Hours"}),s.jsxs("div",{className:"text-xl font-bold text-teal-400",children:[l.toFixed(1),"h"]})]}),s.jsxs("div",{className:"bg-gray-700/50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Sessions"}),s.jsx("div",{className:"text-xl font-bold text-gray-100",children:n.reduce((u,d)=>u+d.session_count,0)})]}),s.jsxs("div",{className:"bg-gray-700/50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Top Activity"}),s.jsx("div",{className:"text-sm font-semibold text-gray-100 truncate",children:n[0]?.activity||"N/A"})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Activity Colors:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(dM).map(([u,d])=>s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:d}}),s.jsx("span",{className:"text-xs text-gray-400",children:u})]},u))})]})]})},a0e=()=>{const{data:e,isLoading:t}=Zpe(4);if(t)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-48 bg-gray-700 rounded"})]});if(!e||e.length===0)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-4",children:"Weekly Health Summary"}),s.jsx("p",{className:"text-gray-400 text-center py-8",children:"No health time data available yet"})]});const r=e[0],n=e.length>1?e[1]:null,a=n?r.hours-n.hours:0,i=n&&n.hours>0?(r.hours-n.hours)/n.hours*100:0,l=a>=0?Hn:hf,u=a>=0?"text-green-400":"text-red-400",m=(()=>{const g=e.filter(y=>y.met_target).length;return g===4?{type:"success",message:" Perfect consistency! You met your health target all 4 weeks."}:g>=2?{type:"good",message:` Good effort! You met your target ${g} out of 4 weeks.`}:a>0?{type:"improving",message:" Trending upward! Keep building this positive momentum."}:{type:"warning",message:" Your health time is trending down - consider blocking calendar time."}})(),h=[...e].reverse().map(g=>({week:Ne(kt(g.week_start),"MMM d"),hours:g.hours,target:g.target_hours}));return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-6",children:"Weekly Health Summary"}),s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"This Week"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-2xl font-bold text-teal-400",children:[r.hours.toFixed(1),"h"]}),n&&s.jsxs("div",{className:"text-sm text-gray-400",children:["from ",n.hours.toFixed(1),"h"]})]})]}),n&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l,{className:`w-5 h-5 ${u}`}),s.jsxs("span",{className:`text-sm font-medium ${u}`,children:[a>=0?"+":"",a.toFixed(1),"h"," ","(",a>=0?"+":"",i.toFixed(0),"%)"]})]}),s.jsx("div",{className:`text-sm ${r.met_target?"text-green-400":"text-red-400"}`,children:r.met_target?" Met target":" Below target"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"4-Week Trend"}),s.jsx(g0,{width:"100%",height:180,children:s.jsxs(Ype,{data:h,margin:{top:5,right:20,left:0,bottom:5},children:[s.jsx(Ff,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(qf,{dataKey:"week",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),s.jsx(Uf,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),s.jsx(m0,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"}}),s.jsx(_1,{type:"monotone",dataKey:"hours",stroke:"#14b8a6",strokeWidth:3,dot:{fill:"#14b8a6",r:4},activeDot:{r:6},name:"Actual"}),s.jsx(_1,{type:"monotone",dataKey:"target",stroke:"#6b7280",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"Target"})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Last 4 Weeks"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Week"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Hours"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Target"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"%"}),s.jsx("th",{className:"text-center py-2 text-gray-400 font-medium",children:"Met"})]})}),s.jsx("tbody",{children:e.map((g,y)=>s.jsxs("tr",{className:`border-b border-gray-700/50 ${y===0?"bg-gray-700/30":""}`,children:[s.jsx("td",{className:"py-2 text-gray-300",children:y===0?"This Week":`${y} ${y===1?"week":"weeks"} ago`}),s.jsxs("td",{className:"text-right py-2 font-medium text-gray-100",children:[g.hours.toFixed(1),"h"]}),s.jsxs("td",{className:"text-right py-2 text-gray-400",children:[g.target_hours,"h"]}),s.jsxs("td",{className:`text-right py-2 font-medium ${g.percentage>=100?"text-green-400":g.percentage>=80?"text-yellow-400":"text-red-400"}`,children:[g.percentage,"%"]}),s.jsx("td",{className:"text-center py-2",children:g.met_target?s.jsx(sp,{className:"w-5 h-5 text-green-400 inline"}):s.jsx(Ht,{className:"w-5 h-5 text-red-400 inline"})})]},g.week_start))})]})})]}),s.jsx("div",{className:`rounded p-3 text-sm ${m.type==="success"?"bg-green-900/20 text-green-400":m.type==="good"?"bg-blue-900/20 text-blue-400":m.type==="improving"?"bg-teal-900/20 text-teal-400":"bg-yellow-900/20 text-yellow-400"}`,children:m.message})]})},s0e=({onSchedule:e,variant:t="primary",size:r="md"})=>{const[n,a]=x.useState(!1),i=()=>{e&&(e(),a(!0),setTimeout(()=>{a(!1)},3e3))},l={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-5 py-3 text-lg"},u={primary:n?"bg-green-600 hover:bg-green-700":"bg-teal-600 hover:bg-teal-700",secondary:n?"bg-green-700 hover:bg-green-800 border border-green-600":"bg-gray-700 hover:bg-gray-600 border border-gray-600"};return s.jsx("button",{onClick:i,disabled:n,className:`
        flex items-center gap-2 rounded-lg font-medium transition-all
        text-white disabled:opacity-75 disabled:cursor-not-allowed
        ${l[r]}
        ${u[t]}
      `,children:n?s.jsxs(s.Fragment,{children:[s.jsx(sp,{className:"w-4 h-4"}),s.jsx("span",{children:"Scheduled!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(tn,{className:"w-4 h-4"}),s.jsx("span",{children:"Schedule Health Time"})]})})},i0e=({onSchedule:e})=>s.jsx("div",{className:"bg-teal-900/20 border border-teal-600 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-teal-600 rounded-full p-2",children:s.jsx(tn,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-teal-400 mb-1",children:"Quick Schedule Health Time"}),s.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Block time for a workout, meal prep, or other health activity"}),s.jsx(s0e,{onSchedule:e,variant:"primary",size:"sm"})]})]})}),o0e=()=>Ie({queryKey:["area-time-budgets"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.from("area_time_budgets").select("*").eq("user_id",e.id);if(r)throw r;return t},staleTime:300*1e3}),l0e=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const n=t.map(l=>({user_id:r.id,area:l.area,target_hours_per_week:l.targetHours,updated_at:new Date().toISOString()})),{data:a,error:i}=await Z.from("area_time_budgets").upsert(n,{onConflict:"user_id,area"}).select();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["area-time-budgets"]})}})},c0e={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},fM=["Full Stack","S4","808","Personal","Huge Capital","Golf","Health"],Wb={"Full Stack":10,S4:6,808:4,Personal:5,"Huge Capital":8,Golf:2,Health:5},u0e=({isOpen:e,onClose:t})=>{const{data:r}=o0e(),n=l0e(),[a,i]=x.useState(Wb),[l,u]=x.useState(!1);x.useEffect(()=>{if(r&&r.length>0){const g={};r.forEach(v=>{g[v.area]=v.target_hours_per_week});const y={...Wb};Object.entries(g).forEach(([v,_])=>{_!==void 0&&(y[v]=_)}),i(y)}},[r]);const d=(g,y)=>{const v=parseInt(y,10);!isNaN(v)&&v>=0&&(i(_=>({..._,[g]:v})),u(!0))},m=async()=>{const g=fM.map(y=>({area:y,targetHours:a[y]}));try{await n.mutateAsync(g),u(!1),t()}catch(y){console.error("Failed to save budgets:",y),alert("Failed to save budgets. Please try again.")}},h=()=>{i(Wb),u(!0)};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 p-6 flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Time Budget Settings"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-200 transition-colors",children:s.jsx(Ht,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-400 mb-6",children:"Set target hours per week for each life area. These targets will help you track progress and maintain balance."}),s.jsx("div",{className:"space-y-4",children:fM.map(g=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:c0e[g]}}),s.jsx("label",{htmlFor:`budget-${g}`,className:"flex-1 text-gray-100 font-medium",children:g}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:`budget-${g}`,type:"number",min:"0",max:"168",value:a[g],onChange:y=>d(g,y.target.value),className:"w-20 bg-gray-700 border border-gray-600 rounded px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-400 text-sm",children:"h/week"})]})]},g))}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Total weekly target:"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-400",children:[Object.values(a).reduce((g,y)=>g+y,0),"h"]})]}),Object.values(a).reduce((g,y)=>g+y,0)>168&&s.jsx("p",{className:"text-yellow-400 text-sm mt-2",children:" Total exceeds 168 hours per week (7 days  24 hours)"})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-800 border-t border-gray-700 p-6 flex items-center justify-between",children:[s.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-colors",children:[s.jsx(j4,{className:"w-4 h-4"}),"Reset to Defaults"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:m,disabled:!l||n.isPending,className:`flex items-center gap-2 px-4 py-2 rounded transition-colors ${!l||n.isPending?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[s.jsx(lp,{className:"w-4 h-4"}),n.isPending?"Saving...":"Save Budgets"]})]})]})]})}):null},d0e=()=>{const[e,t]=x.useState(!1),r=()=>{console.log("Schedule health time clicked")};return s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsxs("div",{className:"mb-8 flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Eq,{className:"w-8 h-8 text-teal-500"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Health Dashboard"})]}),s.jsx("p",{className:"text-gray-400",children:"Track your health time allocation and maintain consistency"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[s.jsx(R9,{className:"w-4 h-4"}),"Health Time Target"]})]}),s.jsx(u0e,{isOpen:e,onClose:()=>t(!1)}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(t0e,{onScheduleClick:r}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Jpe,{}),s.jsx(e0e,{})]}),s.jsx(i0e,{onSchedule:r}),s.jsx(n0e,{}),s.jsx(a0e,{})]}),s.jsxs("div",{className:"mt-8 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"About Health Time Tracking"}),s.jsx("p",{className:"text-sm text-gray-400",children:'Health time includes workouts, meal preparation, meditation, physical therapy, and other health-related activities. Log deep work sessions with the "Health" area and add labels like "Workout", "Meal Prep", or "Meditation" to track specific activities.'})]})]})},cL=()=>Ie({queryKey:["area-targets"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.from("area_time_targets").select("*").eq("user_id",e.id).order("area");if(r)throw r;return t||[]},staleTime:300*1e3}),uL=()=>Ie({queryKey:["user-settings"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.from("user_settings").select("*").eq("user_id",e.id).single();if(r&&r.code!=="PGRST116")throw r;return t},staleTime:600*1e3}),uS=e=>Ie({queryKey:["planned-vs-actual",Ne(e,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("get_planned_vs_actual",{p_user_id:t.id,p_week_start:Ne(e,"yyyy-MM-dd")});if(n)throw n;return r||[]},refetchInterval:60*1e3}),f0e=e=>Ie({queryKey:["weekly-forecast",Ne(e,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("forecast_weekly_targets",{p_user_id:t.id,p_week_start:Ne(e,"yyyy-MM-dd")});if(n)throw n;return r||[]},refetchInterval:60*1e3}),h0e=()=>Ie({queryKey:["target-recommendations"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.rpc("detect_target_mismatches",{p_user_id:e.id});if(r)throw r;return t||[]},staleTime:3600*1e3}),dL=()=>{const e=ut();return jt({mutationFn:async({area:t,targetHours:r})=>{const{data:{user:n}}=await Z.auth.getUser();if(!n)throw new Error("Not authenticated");const{error:a}=await Z.from("area_time_targets").upsert({user_id:n.id,area:t,target_hours_per_week:r,updated_at:new Date().toISOString()},{onConflict:"user_id,area"});if(a)throw a},onSuccess:()=>{e.invalidateQueries({queryKey:["area-targets"]}),e.invalidateQueries({queryKey:["planned-vs-actual"]}),e.invalidateQueries({queryKey:["weekly-forecast"]}),e.invalidateQueries({queryKey:["target-recommendations"]})}})},m0e=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{error:n}=await Z.from("user_settings").upsert({user_id:r.id,available_work_hours_per_week:t,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["user-settings"]})}})},g0e=()=>{const e=ut();return jt({mutationFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:r}=await Z.from("area_time_targets").delete().eq("user_id",t.id);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["area-targets"]}),e.invalidateQueries({queryKey:["planned-vs-actual"]}),e.invalidateQueries({queryKey:["weekly-forecast"]}),e.invalidateQueries({queryKey:["target-recommendations"]})}})},p0e=()=>{const e=Sr(new Date,{weekStartsOn:1}),{data:t,isLoading:r}=uS(e),n=u=>{switch(u){case"on_track":return"#10b981";case"at_risk":return"#f59e0b";case"behind":return"#ef4444";default:return"#6b7280"}},a=u=>{switch(u){case"on_track":return" On Track";case"at_risk":return" At Risk";case"behind":return" Behind";default:return"No Target"}},i=u=>u>0?s.jsx(Hn,{className:"w-4 h-4 text-green-400"}):u<0?s.jsx(hf,{className:"w-4 h-4 text-red-400"}):s.jsx(w4,{className:"w-4 h-4 text-gray-400"}),l=t?.map(u=>({name:u.area,target:u.target_hours,actual:u.actual_hours,status:u.status,percentage:u.percentage,delta:u.actual_hours-u.target_hours,isTemporary:u.is_temporary_override}))||[];return r?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Planned vs. Actual"}),s.jsx("div",{className:"animate-pulse h-96 bg-gray-700 rounded"})]}):!t||t.length===0?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Planned vs. Actual"}),s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(pl,{className:"w-12 h-12 mb-3"}),s.jsx("p",{children:"No targets set"}),s.jsx("p",{className:"text-sm mt-2",children:"Set targets in Settings to track your progress"})]})]}):s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Planned vs. Actual This Week"}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Week of ",Ne(e,"MMM d, yyyy")]})]}),s.jsx(g0,{width:"100%",height:400,children:s.jsxs(cS,{data:l,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Ff,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(qf,{dataKey:"name",stroke:"#9ca3af",tick:{fill:"#d1d5db",fontSize:12},angle:-15,textAnchor:"end",height:80}),s.jsx(Uf,{stroke:"#9ca3af",tick:{fill:"#d1d5db"},label:{value:"Hours",angle:-90,position:"insideLeft",fill:"#9ca3af"}}),s.jsx(m0,{formatter:(u,d)=>[`${u.toFixed(1)}h`,d==="target"?"Target":"Actual"],contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),s.jsx(Af,{wrapperStyle:{color:"#d1d5db"}}),s.jsx(of,{dataKey:"target",name:"Target",fill:"#6b7280",radius:[8,8,0,0]}),s.jsx(of,{dataKey:"actual",name:"Actual",radius:[8,8,0,0],children:l.map((u,d)=>s.jsx(p0,{fill:n(u.status)},`cell-${d}`))})]})}),s.jsx("div",{className:"mt-6 overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Area"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Target"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Actual"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Delta"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"%"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Status"})]})}),s.jsx("tbody",{children:l.map((u,d)=>s.jsxs("tr",{className:`border-b border-gray-700/50 ${u.status==="behind"?"bg-red-900/10":u.status==="at_risk"?"bg-yellow-900/10":u.status==="on_track"?"bg-green-900/10":""}`,children:[s.jsxs("td",{className:"py-2 text-gray-300",children:[u.name,u.isTemporary&&s.jsx("span",{className:"ml-2 text-xs text-orange-400",children:"(Temp Override)"})]}),s.jsxs("td",{className:"text-right py-2 text-gray-400",children:[u.target.toFixed(1),"h"]}),s.jsxs("td",{className:"text-right py-2 font-semibold text-gray-100",children:[u.actual.toFixed(1),"h"]}),s.jsx("td",{className:"text-right py-2",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i(u.delta),s.jsxs("span",{className:u.delta>0?"text-green-400":u.delta<0?"text-red-400":"text-gray-400",children:[u.delta>0?"+":"",u.delta.toFixed(1),"h"]})]})}),s.jsxs("td",{className:"text-right py-2 font-medium",style:{color:n(u.status)},children:[u.percentage,"%"]}),s.jsx("td",{className:"text-right py-2",children:s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:`${n(u.status)}20`,color:n(u.status)},children:a(u.status)})})]},d))})]})})]})},fL=()=>Ie({queryKey:["task-based-allocation"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.from("tasks").select("id, task_name, area, hours_projected, hours_worked, status, due_date").eq("user_id",e.id).in("status",["active","in_progress"]).not("hours_projected","is",null).order("due_date",{ascending:!0,nullsFirst:!1});if(r)throw r;const n=new Map;return["Full Stack","S4","808","Personal","Huge Capital","Golf","Health"].forEach(i=>{n.set(i,{area:i,total_projected_hours:0,task_count:0,completed_hours:0,remaining_hours:0,tasks:[]})}),t?.forEach(i=>{const l=i.area;if(!n.has(l))return;const u=n.get(l),d=i.hours_projected||0,m=i.hours_worked||0,h=Math.max(0,d-m);u.total_projected_hours+=d,u.completed_hours+=m,u.remaining_hours+=h,u.task_count+=1,u.tasks.push({id:i.id,task_name:i.task_name,hours_projected:d,hours_worked:m,status:i.status,due_date:i.due_date})}),Array.from(n.values()).filter(i=>i.task_count>0)},staleTime:120*1e3}),hL=()=>{const{data:e}=fL();return Ie({queryKey:["smart-target-suggestions",e],queryFn:async()=>e?e.map(r=>{const a=Math.ceil(r.remaining_hours/4);return{area:r.area,suggested_target:a,reasoning:`${r.task_count} active task${r.task_count>1?"s":""} need ${r.remaining_hours.toFixed(1)}h total`,task_breakdown:r.tasks,urgency:r.tasks.some(i=>i.due_date)?"high":"medium"}}).sort((r,n)=>n.suggested_target-r.suggested_target):[],enabled:!!e,staleTime:300*1e3})},y0e=e=>{const{data:t}=hL();return Ie({queryKey:["capacity-check",e,t],queryFn:async()=>{if(!t)return null;const r=t.reduce((a,i)=>a+i.suggested_target,0),n=r/e*100;return{total_hours_needed:r,available_hours:e,utilization_percentage:n,is_overloaded:n>100,shortage:Math.max(0,r-e),recommendations:n>100?["Consider extending timeline for some tasks","Delegate or defer low-priority tasks",`Need ${(r-e).toFixed(1)}h more capacity`]:["Workload is manageable within available hours",`${(e-r).toFixed(1)}h available for new work`]}},enabled:!!t&&e>0,staleTime:300*1e3})},x0e=({availableHours:e})=>{const{data:t,isLoading:r}=fL(),{data:n}=hL(),{data:a}=y0e(e),i=dL(),[l,u]=x.useState(null),d=async(h,g)=>{try{await i.mutateAsync({area:h,targetHours:g}),alert(` Set ${h} target to ${g}h/week`)}catch(y){console.error("Error applying suggestion:",y),alert("Failed to set target")}},m=async()=>{if(n&&confirm(`Apply all suggested targets (${n.length} areas)?`))try{for(const h of n)await i.mutateAsync({area:h.area,targetHours:h.suggested_target});alert(" Applied all target suggestions!")}catch(h){console.error("Error applying all suggestions:",h),alert("Failed to apply some targets")}};return r?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Task-Based Planning"}),s.jsx("div",{className:"animate-pulse h-32 bg-gray-700 rounded"})]}):!t||t.length===0?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(cT,{className:"w-5 h-5 text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Task-Based Planning"})]}),s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx("p",{children:"No active tasks with time estimates found"}),s.jsx("p",{className:"text-sm mt-2",children:"Add tasks with hour estimates to get smart target suggestions"})]})]}):s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cT,{className:"w-5 h-5 text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Task-Based Planning"})]}),n&&n.length>0&&s.jsx("button",{onClick:m,disabled:i.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Apply All Suggestions"})]}),a&&s.jsx("div",{className:`mb-4 p-4 rounded-lg border ${a.is_overloaded?"bg-red-900/20 border-red-700":"bg-green-900/20 border-green-700"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[a.is_overloaded?s.jsx(qa,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}):s.jsx(U1,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`font-semibold ${a.is_overloaded?"text-red-400":"text-green-400"}`,children:a.is_overloaded?"Workload Exceeds Capacity!":"Workload is Manageable"}),s.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:["Tasks need ",a.total_hours_needed.toFixed(1),"h/week, you have ",a.available_hours,"h available (",a.utilization_percentage.toFixed(0),"% capacity)"]}),s.jsx("ul",{className:"text-xs text-gray-400 mt-2 space-y-1",children:a.recommendations.map((h,g)=>s.jsxs("li",{children:[" ",h]},g))})]})]})}),s.jsx("div",{className:"space-y-3",children:n?.map((h,g)=>{const y=l===h.area,v=t.find(_=>_.area===h.area);return s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-100",children:h.area}),s.jsx("div",{className:"text-sm text-gray-400 mt-1",children:h.reasoning}),v&&s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wn,{className:"w-3 h-3"}),v.remaining_hours.toFixed(1),"h remaining"]}),s.jsxs("span",{children:[v.completed_hours.toFixed(1),"h / ",v.total_projected_hours.toFixed(1),"h completed"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[h.suggested_target,"h"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"per week"})]}),s.jsx("button",{onClick:()=>d(h.area,h.suggested_target),disabled:i.isPending,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Set Target"})]})]}),v&&v.tasks.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600",children:[s.jsxs("button",{onClick:()=>u(y?null:h.area),className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[y?"":""," ",v.tasks.length," task",v.tasks.length>1?"s":""]}),y&&s.jsx("div",{className:"mt-2 space-y-2",children:v.tasks.map(_=>s.jsx("div",{className:"text-xs bg-gray-800/50 rounded p-2",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-200",children:_.task_name}),_.due_date&&s.jsxs("div",{className:"text-gray-500 mt-1",children:["Due: ",new Date(_.due_date).toLocaleDateString()]})]}),s.jsxs("div",{className:"text-right text-gray-400",children:[s.jsxs("div",{children:[_.hours_worked.toFixed(1)," / ",_.hours_projected.toFixed(1),"h"]}),s.jsxs("div",{className:"text-gray-500",children:[(_.hours_worked/_.hours_projected*100).toFixed(0),"%"]})]})]})},_.id))})]})]},g)})})]})},Fm=["Full Stack","S4","808","Personal","Huge Capital","Golf","Health"],v0e=[{label:"Work Week (40h)",hours:40},{label:"Part Time (20h)",hours:20},{label:"Full Time (50h)",hours:50}],b0e=()=>{const{data:e,isLoading:t}=cL(),{data:r}=uL(),{data:n}=uS(Sr(new Date,{weekStartsOn:1})),a=dL(),i=g0e(),l=m0e(),[u,d]=x.useState({}),[m,h]=x.useState(40),[g,y]=x.useState(!1),[v,_]=x.useState(!1);x.useEffect(()=>{if(e){const T={};e.forEach(D=>{T[D.area]=D.target_hours_per_week}),d(T)}},[e]),x.useEffect(()=>{r&&h(r.available_work_hours_per_week)},[r]);const w=(T,D)=>{const L=parseInt(D)||0;L<0||L>168||(d(B=>({...B,[T]:L})),y(!0))},b=async()=>{try{for(const T of Fm)u[T]!==void 0&&u[T]>0&&await a.mutateAsync({area:T,targetHours:u[T]});await l.mutateAsync(m),y(!1),_(!0),setTimeout(()=>_(!1),3e3)}catch(T){console.error("Error saving targets:",T)}},S=async()=>{if(confirm("Are you sure you want to reset all targets? This cannot be undone."))try{await i.mutateAsync(),d({}),y(!1)}catch(T){console.error("Error resetting targets:",T)}},k=T=>{const D=Math.floor(T/Fm.length),L={};Fm.forEach(B=>{L[B]=D}),d(L),y(!0)},C=T=>{const D=n?.find(L=>L.area===T);return D?D.actual_hours:null},E=Object.values(u).reduce((T,D)=>T+(D||0),0),M=E>m;return t?s.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-800 rounded w-1/3"}),s.jsx("div",{className:"h-64 bg-gray-800 rounded"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(yl,{className:"w-8 h-8 text-orange-400"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Time Allocation Targets"})]}),s.jsx("p",{className:"text-gray-400",children:"Set weekly time targets for each life area to proactively plan balanced attention"})]}),s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Work Hours"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-gray-300",children:"Hours per week:"}),s.jsx("input",{type:"number",value:m,onChange:T=>{h(parseInt(T.target.value)||0),y(!0)},min:"0",max:"168",className:"px-4 py-2 bg-gray-700 text-gray-100 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 w-24"}),s.jsx("span",{className:"text-sm text-gray-400",children:"(Realistic weekly capacity for focused work)"})]})]}),s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Presets"}),s.jsx("div",{className:"flex gap-3",children:v0e.map(T=>s.jsx("button",{onClick:()=>k(T.hours),className:"px-4 py-2 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:T.label},T.label))}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Distributes hours evenly across all 7 areas"})]}),M&&s.jsxs("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-700 rounded-lg flex items-start gap-3",children:[s.jsx(pl,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-red-400",children:"Over-Allocated!"}),s.jsxs("div",{className:"text-sm text-red-300",children:["Target allocation (",E,"h) exceeds available capacity (",m,"h). Consider reducing targets or increasing available hours."]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Area Targets"}),s.jsx("div",{className:"space-y-4",children:Fm.map(T=>{const D=C(T);return s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-700/50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-100",children:T}),D!==null&&s.jsxs("div",{className:"text-sm text-gray-400",children:["Current this week: ",D.toFixed(1),"h"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:u[T]||0,onChange:L=>w(T,L.target.value),min:"0",max:"168",placeholder:"0",className:"px-4 py-2 bg-gray-800 text-gray-100 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 w-24 text-center"}),s.jsx("span",{className:"text-gray-400",children:"h/week"})]})]},T)})}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between text-lg",children:[s.jsx("span",{className:"font-semibold text-gray-100",children:"Total Allocated:"}),s.jsxs("span",{className:`font-bold ${M?"text-red-400":"text-orange-400"}`,children:[E,"h / ",m,"h"]})]}),!M&&E<m&&s.jsxs("div",{className:"text-sm text-gray-400 text-right mt-1",children:[m-E,"h unallocated"]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[s.jsxs("button",{onClick:b,disabled:!g||a.isPending,className:"flex items-center gap-2 px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(lp,{className:"w-5 h-5"}),a.isPending?"Saving...":"Save Targets"]}),s.jsxs("button",{onClick:S,disabled:i.isPending,className:"flex items-center gap-2 px-6 py-3 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:[s.jsx(j4,{className:"w-5 h-5"}),"Reset All"]}),v&&s.jsx("div",{className:"text-green-400 font-medium",children:" Targets saved successfully!"})]})]})},w0e=({isOpen:e,onClose:t})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative bg-gray-900 rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden border border-gray-700",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(Ht,{className:"w-5 h-5 text-gray-400"})}),s.jsx("div",{className:"overflow-y-auto max-h-[90vh]",children:s.jsx(b0e,{})})]})]}):null,j0e=({onNavigateToSettings:e})=>{const[t,r]=x.useState(!1),n=Sr(new Date,{weekStartsOn:1}),{data:a}=cL(),{data:i}=uL(),{data:l}=uS(n),{data:u}=f0e(n),{data:d}=h0e(),m=i?.available_work_hours_per_week||40,h=a?.reduce((w,b)=>w+b.target_hours_per_week,0)||0,g=m-h,y=h>m,v=h/m*100,_=u?.filter(w=>w.status==="at_risk"||w.status==="unlikely")||[];return s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(tn,{className:"w-8 h-8 text-orange-400"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Time Allocation Planning"})]}),s.jsx("p",{className:"text-gray-400",children:"Proactively plan balanced attention across your 7 life areas"})]}),s.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[s.jsx(yl,{className:"w-4 h-4"}),"Set Targets"]})]})}),s.jsx("div",{className:"mb-6",children:s.jsx(x0e,{availableHours:m})}),s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Weekly Time Budget"}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Total Available"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-100",children:[m,"h"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Allocated"}),s.jsxs("div",{className:`text-2xl font-bold ${y?"text-red-400":"text-orange-400"}`,children:[h,"h"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Unallocated"}),s.jsxs("div",{className:`text-2xl font-bold ${g<0?"text-red-400":"text-green-400"}`,children:[g,"h"]})]})]}),s.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-8 relative overflow-hidden",children:[s.jsx("div",{className:`h-full transition-all ${y?"bg-red-500":"bg-orange-500"}`,style:{width:`${Math.min(v,100)}%`}}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-sm font-medium text-white",children:[v.toFixed(0),"% Allocated"]})]}),y&&s.jsxs("div",{className:"mt-4 p-3 bg-red-900/20 border border-red-700 rounded-lg flex items-start gap-3",children:[s.jsx(qa,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-red-400",children:"Over-Allocated!"}),s.jsxs("div",{className:"text-sm text-red-300",children:["Target allocation (",h,"h) exceeds sustainable capacity (",m,"h). Consider adjusting your targets."]})]})]}),h===0&&s.jsxs("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-700 rounded-lg flex items-start gap-3",children:[s.jsx(qa,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-yellow-400",children:"No Targets Set"}),s.jsx("div",{className:"text-sm text-yellow-300",children:'Set targets (via "Set Targets" button above) to plan your week and track progress.'})]})]})]}),_.length>0&&s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Hn,{className:"w-5 h-5 text-orange-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Weekly Forecast Alerts"})]}),s.jsx("div",{className:"space-y-3",children:_.map(w=>s.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-yellow-400",children:w.area}),s.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:["Target: ",w.target_hours,"h | Actual: ",w.actual_hours.toFixed(1),"h | Projected: ",w.projected_hours.toFixed(1),"h"]})]}),s.jsx("span",{className:"px-2 py-1 bg-yellow-900/40 text-yellow-400 rounded text-xs font-medium",children:w.status==="at_risk"?" At Risk":" Unlikely"})]}),s.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Schedule more ",w.area," time to meet your weekly target"]})]},w.area))})]}),d&&d.length>0&&s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Target Adjustment Suggestions"}),s.jsx("div",{className:"space-y-3",children:d.map((w,b)=>s.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"font-medium text-blue-400",children:w.area}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Avg: ",w.avg_actual.toFixed(1),"h/week"]})]}),s.jsx("div",{className:"text-sm text-gray-300 mb-3",children:w.message}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:["Update to ",w.suggested_target,"h"]}),s.jsx("button",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded text-sm hover:bg-gray-600 transition-colors",children:"Dismiss"})]})]},b))})]}),s.jsx(p0e,{}),s.jsx(w0e,{isOpen:t,onClose:()=>r(!1)})]})};function _0e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return x.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _u(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function dS(e){return"nodeType"in e}function An(e){var t,r;return e?_u(e)?e:dS(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function fS(e){const{Document:t}=An(e);return e instanceof t}function Hf(e){return _u(e)?!1:e instanceof An(e).HTMLElement}function mL(e){return e instanceof An(e).SVGElement}function Su(e){return e?_u(e)?e.document:dS(e)?fS(e)?e:Hf(e)||mL(e)?e.ownerDocument:document:document:document}const os=y0?x.useLayoutEffect:x.useEffect;function x0(e){const t=x.useRef(e);return os(()=>{t.current=e}),x.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function S0e(){const e=x.useRef(null),t=x.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function lf(e,t){t===void 0&&(t=[e]);const r=x.useRef(e);return os(()=>{r.current!==e&&(r.current=e)},t),r}function Wf(e,t){const r=x.useRef();return x.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Vg(e){const t=x0(e),r=x.useRef(null),n=x.useCallback(a=>{a!==r.current&&t?.(a,r.current),r.current=a},[]);return[r,n]}function Qg(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let Yb={};function Yf(e,t){return x.useMemo(()=>{if(t)return t;const r=Yb[e]==null?0:Yb[e]+1;return Yb[e]=r,e+"-"+r},[e,t])}function gL(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,l)=>{const u=Object.entries(l);for(const[d,m]of u){const h=i[d];h!=null&&(i[d]=h+e*m)}return i},{...t})}}const Uc=gL(1),Xg=gL(-1);function N0e(e){return"clientX"in e&&"clientY"in e}function v0(e){if(!e)return!1;const{KeyboardEvent:t}=An(e.target);return t&&e instanceof t}function k0e(e){if(!e)return!1;const{TouchEvent:t}=An(e.target);return t&&e instanceof t}function Zg(e){if(k0e(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return N0e(e)?{x:e.clientX,y:e.clientY}:null}const po=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[po.Translate.toString(e),po.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),hM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function C0e(e){return e.matches(hM)?e:e.querySelector(hM)}const T0e={display:"none"};function A0e(e){let{id:t,value:r}=e;return je.createElement("div",{id:t,style:T0e},r)}function E0e(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return je.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function O0e(){const[e,t]=x.useState("");return{announce:x.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const pL=x.createContext(null);function D0e(e){const t=x.useContext(pL);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function M0e(){const[e]=x.useState(()=>new Set),t=x.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[x.useCallback(n=>{let{type:a,event:i}=n;e.forEach(l=>{var u;return(u=l[a])==null?void 0:u.call(l,i)})},[e]),t]}const P0e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},R0e={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function I0e(e){let{announcements:t=R0e,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=P0e}=e;const{announce:i,announcement:l}=O0e(),u=Yf("DndLiveRegion"),[d,m]=x.useState(!1);if(x.useEffect(()=>{m(!0)},[]),D0e(x.useMemo(()=>({onDragStart(g){let{active:y}=g;i(t.onDragStart({active:y}))},onDragMove(g){let{active:y,over:v}=g;t.onDragMove&&i(t.onDragMove({active:y,over:v}))},onDragOver(g){let{active:y,over:v}=g;i(t.onDragOver({active:y,over:v}))},onDragEnd(g){let{active:y,over:v}=g;i(t.onDragEnd({active:y,over:v}))},onDragCancel(g){let{active:y,over:v}=g;i(t.onDragCancel({active:y,over:v}))}}),[i,t])),!d)return null;const h=je.createElement(je.Fragment,null,je.createElement(A0e,{id:n,value:a.draggable}),je.createElement(E0e,{id:u,announcement:l}));return r?da.createPortal(h,r):h}var Ur;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ur||(Ur={}));function Jg(){}function Kb(e,t){return x.useMemo(()=>({sensor:e,options:{}}),[e,t])}function L0e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return x.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const ls=Object.freeze({x:0,y:0});function $0e(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function B0e(e,t){const r=Zg(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function z0e(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function F0e(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function q0e(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function mM(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const U0e=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=mM(t,t.left,t.top),i=[];for(const l of n){const{id:u}=l,d=r.get(u);if(d){const m=$0e(mM(d),a);i.push({id:u,data:{droppableContainer:l,value:m}})}}return i.sort(z0e)};function H0e(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=a-n,u=i-r;if(n<a&&r<i){const d=t.width*t.height,m=e.width*e.height,h=l*u,g=h/(d+m-h);return Number(g.toFixed(4))}return 0}const W0e=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:l}=i,u=r.get(l);if(u){const d=H0e(u,t);d>0&&a.push({id:l,data:{droppableContainer:i,value:d}})}}return a.sort(F0e)};function Y0e(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function yL(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ls}function K0e(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...r})}}const G0e=K0e(1);function xL(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function V0e(e,t,r){const n=xL(t);if(!n)return e;const{scaleX:a,scaleY:i,x:l,y:u}=n,d=e.left-l-(1-a)*parseFloat(r),m=e.top-u-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),h=a?e.width/a:e.width,g=i?e.height/i:e.height;return{width:h,height:g,top:m,right:d+h,bottom:m+g,left:d}}const Q0e={ignoreTransform:!1};function Nu(e,t){t===void 0&&(t=Q0e);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:h}=An(e).getComputedStyle(e);m&&(r=V0e(r,m,h))}const{top:n,left:a,width:i,height:l,bottom:u,right:d}=r;return{top:n,left:a,width:i,height:l,bottom:u,right:d}}function gM(e){return Nu(e,{ignoreTransform:!0})}function X0e(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Z0e(e,t){return t===void 0&&(t=An(e).getComputedStyle(e)),t.position==="fixed"}function J0e(e,t){t===void 0&&(t=An(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function hS(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(fS(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!Hf(a)||mL(a)||r.includes(a))return r;const i=An(e).getComputedStyle(a);return a!==e&&J0e(a,i)&&r.push(a),Z0e(a,i)?r:n(a.parentNode)}return e?n(e):r}function vL(e){const[t]=hS(e,1);return t??null}function Gb(e){return!y0||!e?null:_u(e)?e:dS(e)?fS(e)||e===Su(e).scrollingElement?window:Hf(e)?e:null:null}function bL(e){return _u(e)?e.scrollX:e.scrollLeft}function wL(e){return _u(e)?e.scrollY:e.scrollTop}function T1(e){return{x:bL(e),y:wL(e)}}var Zr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Zr||(Zr={}));function jL(e){return!y0||!e?!1:e===document.scrollingElement}function _L(e){const t={x:0,y:0},r=jL(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=n.y,u=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:l,isRight:u,maxScroll:n,minScroll:t}}const eye={x:.2,y:.2};function tye(e,t,r,n,a){let{top:i,left:l,right:u,bottom:d}=r;n===void 0&&(n=10),a===void 0&&(a=eye);const{isTop:m,isBottom:h,isLeft:g,isRight:y}=_L(e),v={x:0,y:0},_={x:0,y:0},w={height:t.height*a.y,width:t.width*a.x};return!m&&i<=t.top+w.height?(v.y=Zr.Backward,_.y=n*Math.abs((t.top+w.height-i)/w.height)):!h&&d>=t.bottom-w.height&&(v.y=Zr.Forward,_.y=n*Math.abs((t.bottom-w.height-d)/w.height)),!y&&u>=t.right-w.width?(v.x=Zr.Forward,_.x=n*Math.abs((t.right-w.width-u)/w.width)):!g&&l<=t.left+w.width&&(v.x=Zr.Backward,_.x=n*Math.abs((t.left+w.width-l)/w.width)),{direction:v,speed:_}}function rye(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function SL(e){return e.reduce((t,r)=>Uc(t,T1(r)),ls)}function nye(e){return e.reduce((t,r)=>t+bL(r),0)}function aye(e){return e.reduce((t,r)=>t+wL(r),0)}function NL(e,t){if(t===void 0&&(t=Nu),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);vL(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const sye=[["x",["left","right"],nye],["y",["top","bottom"],aye]];class mS{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=hS(r),a=SL(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,l,u]of sye)for(const d of l)Object.defineProperty(this,d,{get:()=>{const m=u(n),h=a[i]-m;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class zd{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function iye(e){const{EventTarget:t}=An(e);return e instanceof t?e:Su(e)}function Vb(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var $a;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})($a||($a={}));function pM(e){e.preventDefault()}function oye(e){e.stopPropagation()}var Pt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Pt||(Pt={}));const kL={start:[Pt.Space,Pt.Enter],cancel:[Pt.Esc],end:[Pt.Space,Pt.Enter,Pt.Tab]},lye=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Pt.Right:return{...r,x:r.x+25};case Pt.Left:return{...r,x:r.x-25};case Pt.Down:return{...r,y:r.y+25};case Pt.Up:return{...r,y:r.y-25}}};class gS{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new zd(Su(r)),this.windowListeners=new zd(An(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($a.Resize,this.handleCancel),this.windowListeners.add($a.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($a.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&NL(n),r(ls)}handleKeyDown(t){if(v0(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=kL,coordinateGetter:l=lye,scrollBehavior:u="smooth"}=a,{code:d}=t;if(i.end.includes(d)){this.handleEnd(t);return}if(i.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:m}=n.current,h=m?{x:m.left,y:m.top}:ls;this.referenceCoordinates||(this.referenceCoordinates=h);const g=l(t,{active:r,context:n.current,currentCoordinates:h});if(g){const y=Xg(g,h),v={x:0,y:0},{scrollableAncestors:_}=n.current;for(const w of _){const b=t.code,{isTop:S,isRight:k,isLeft:C,isBottom:A,maxScroll:E,minScroll:M}=_L(w),T=rye(w),D={x:Math.min(b===Pt.Right?T.right-T.width/2:T.right,Math.max(b===Pt.Right?T.left:T.left+T.width/2,g.x)),y:Math.min(b===Pt.Down?T.bottom-T.height/2:T.bottom,Math.max(b===Pt.Down?T.top:T.top+T.height/2,g.y))},L=b===Pt.Right&&!k||b===Pt.Left&&!C,B=b===Pt.Down&&!A||b===Pt.Up&&!S;if(L&&D.x!==g.x){const z=w.scrollLeft+y.x,F=b===Pt.Right&&z<=E.x||b===Pt.Left&&z>=M.x;if(F&&!y.y){w.scrollTo({left:z,behavior:u});return}F?v.x=w.scrollLeft-z:v.x=b===Pt.Right?w.scrollLeft-E.x:w.scrollLeft-M.x,v.x&&w.scrollBy({left:-v.x,behavior:u});break}else if(B&&D.y!==g.y){const z=w.scrollTop+y.y,F=b===Pt.Down&&z<=E.y||b===Pt.Up&&z>=M.y;if(F&&!y.x){w.scrollTo({top:z,behavior:u});return}F?v.y=w.scrollTop-z:v.y=b===Pt.Down?w.scrollTop-E.y:w.scrollTop-M.y,v.y&&w.scrollBy({top:-v.y,behavior:u});break}}this.handleMove(t,Uc(Xg(g,this.referenceCoordinates),v))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gS.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=kL,onActivation:a}=t,{active:i}=r;const{code:l}=e.nativeEvent;if(n.start.includes(l)){const u=i.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}}];function yM(e){return!!(e&&"distance"in e)}function xM(e){return!!(e&&"delay"in e)}class pS{constructor(t,r,n){var a;n===void 0&&(n=iye(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:l}=i;this.props=t,this.events=r,this.document=Su(l),this.documentListeners=new zd(this.document),this.listeners=new zd(n),this.windowListeners=new zd(An(l)),this.initialCoordinates=(a=Zg(i))!=null?a:ls,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add($a.Resize,this.handleCancel),this.windowListeners.add($a.DragStart,pM),this.windowListeners.add($a.VisibilityChange,this.handleCancel),this.windowListeners.add($a.ContextMenu,pM),this.documentListeners.add($a.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(xM(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(yM(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add($a.Click,oye,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($a.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:l,options:{activationConstraint:u}}=i;if(!a)return;const d=(r=Zg(t))!=null?r:ls,m=Xg(a,d);if(!n&&u){if(yM(u)){if(u.tolerance!=null&&Vb(m,u.tolerance))return this.handleCancel();if(Vb(m,u.distance))return this.handleStart()}if(xM(u)&&Vb(m,u.tolerance))return this.handleCancel();this.handlePending(u,m);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Pt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const cye={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class CL extends pS{constructor(t){const{event:r}=t,n=Su(r.target);super(t,cye,n)}}CL.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const uye={move:{name:"mousemove"},end:{name:"mouseup"}};var A1;(function(e){e[e.RightClick=2]="RightClick"})(A1||(A1={}));class TL extends pS{constructor(t){super(t,uye,Su(t.event.target))}}TL.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===A1.RightClick?!1:(n?.({event:r}),!0)}}];const Qb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class AL extends pS{constructor(t){super(t,Qb)}static setup(){return window.addEventListener(Qb.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Qb.move.name,t)};function t(){}}}AL.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n?.({event:r}),!0)}}];var Fd;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fd||(Fd={}));var ep;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ep||(ep={}));function dye(e){let{acceleration:t,activator:r=Fd.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:l=5,order:u=ep.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:h,delta:g,threshold:y}=e;const v=hye({delta:g,disabled:!i}),[_,w]=S0e(),b=x.useRef({x:0,y:0}),S=x.useRef({x:0,y:0}),k=x.useMemo(()=>{switch(r){case Fd.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Fd.DraggableRect:return a}},[r,a,d]),C=x.useRef(null),A=x.useCallback(()=>{const M=C.current;if(!M)return;const T=b.current.x*S.current.x,D=b.current.y*S.current.y;M.scrollBy(T,D)},[]),E=x.useMemo(()=>u===ep.TreeOrder?[...m].reverse():m,[u,m]);x.useEffect(()=>{if(!i||!m.length||!k){w();return}for(const M of E){if(n?.(M)===!1)continue;const T=m.indexOf(M),D=h[T];if(!D)continue;const{direction:L,speed:B}=tye(M,D,k,t,y);for(const z of["x","y"])v[z][L[z]]||(B[z]=0,L[z]=0);if(B.x>0||B.y>0){w(),C.current=M,_(A,l),b.current=B,S.current=L;return}}b.current={x:0,y:0},S.current={x:0,y:0},w()},[t,A,n,w,i,l,JSON.stringify(k),JSON.stringify(v),_,m,E,h,JSON.stringify(y)])}const fye={x:{[Zr.Backward]:!1,[Zr.Forward]:!1},y:{[Zr.Backward]:!1,[Zr.Forward]:!1}};function hye(e){let{delta:t,disabled:r}=e;const n=Qg(t);return Wf(a=>{if(r||!n||!a)return fye;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Zr.Backward]:a.x[Zr.Backward]||i.x===-1,[Zr.Forward]:a.x[Zr.Forward]||i.x===1},y:{[Zr.Backward]:a.y[Zr.Backward]||i.y===-1,[Zr.Forward]:a.y[Zr.Forward]||i.y===1}}},[r,t,n])}function mye(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Wf(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function gye(e,t){return x.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,n)}));return[...r,...i]},[]),[e,t])}var cf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(cf||(cf={}));var E1;(function(e){e.Optimized="optimized"})(E1||(E1={}));const vM=new Map;function pye(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,l]=x.useState(null),{frequency:u,measure:d,strategy:m}=a,h=x.useRef(e),g=b(),y=lf(g),v=x.useCallback(function(S){S===void 0&&(S=[]),!y.current&&l(k=>k===null?S:k.concat(S.filter(C=>!k.includes(C))))},[y]),_=x.useRef(null),w=Wf(S=>{if(g&&!r)return vM;if(!S||S===vM||h.current!==e||i!=null){const k=new Map;for(let C of e){if(!C)continue;if(i&&i.length>0&&!i.includes(C.id)&&C.rect.current){k.set(C.id,C.rect.current);continue}const A=C.node.current,E=A?new mS(d(A),A):null;C.rect.current=E,E&&k.set(C.id,E)}return k}return S},[e,i,r,g,d]);return x.useEffect(()=>{h.current=e},[e]),x.useEffect(()=>{g||v()},[r,g]),x.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),x.useEffect(()=>{g||typeof u!="number"||_.current!==null||(_.current=setTimeout(()=>{v(),_.current=null},u))},[u,g,v,...n]),{droppableRects:w,measureDroppableContainers:v,measuringScheduled:i!=null};function b(){switch(m){case cf.Always:return!1;case cf.BeforeDragging:return r;default:return!r}}}function yS(e,t){return Wf(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function yye(e,t){return yS(e,t)}function xye(e){let{callback:t,disabled:r}=e;const n=x0(t),a=x.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return x.useEffect(()=>()=>a?.disconnect(),[a]),a}function b0(e){let{callback:t,disabled:r}=e;const n=x0(t),a=x.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return x.useEffect(()=>()=>a?.disconnect(),[a]),a}function vye(e){return new mS(Nu(e),e)}function bM(e,t,r){t===void 0&&(t=vye);const[n,a]=x.useState(null);function i(){a(d=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=d??r)!=null?m:null}const h=t(e);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const l=xye({callback(d){if(e)for(const m of d){const{type:h,target:g}=m;if(h==="childList"&&g instanceof HTMLElement&&g.contains(e)){i();break}}}}),u=b0({callback:i});return os(()=>{i(),e?(u?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[e]),n}function bye(e){const t=yS(e);return yL(e,t)}const wM=[];function wye(e){const t=x.useRef(e),r=Wf(n=>e?n&&n!==wM&&e&&t.current&&e.parentNode===t.current.parentNode?n:hS(e):wM,[e]);return x.useEffect(()=>{t.current=e},[e]),r}function jye(e){const[t,r]=x.useState(null),n=x.useRef(e),a=x.useCallback(i=>{const l=Gb(i.target);l&&r(u=>u?(u.set(l,T1(l)),new Map(u)):null)},[]);return x.useEffect(()=>{const i=n.current;if(e!==i){l(i);const u=e.map(d=>{const m=Gb(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,T1(m)]):null}).filter(d=>d!=null);r(u.length?new Map(u):null),n.current=e}return()=>{l(e),l(i)};function l(u){u.forEach(d=>{const m=Gb(d);m?.removeEventListener("scroll",a)})}},[a,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>Uc(i,l),ls):SL(e):ls,[e,t])}function jM(e,t){t===void 0&&(t=[]);const r=x.useRef(null);return x.useEffect(()=>{r.current=null},t),x.useEffect(()=>{const n=e!==ls;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Xg(e,r.current):ls}function _ye(e){x.useEffect(()=>{if(!y0)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function Sye(e,t){return x.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=l=>{i(l,t)},r},{}),[e,t])}function EL(e){return x.useMemo(()=>e?X0e(e):null,[e])}const _M=[];function Nye(e,t){t===void 0&&(t=Nu);const[r]=e,n=EL(r?An(r):null),[a,i]=x.useState(_M);function l(){i(()=>e.length?e.map(d=>jL(d)?n:new mS(t(d),d)):_M)}const u=b0({callback:l});return os(()=>{u?.disconnect(),l(),e.forEach(d=>u?.observe(d))},[e]),a}function OL(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Hf(t)?t:e}function kye(e){let{measure:t}=e;const[r,n]=x.useState(null),a=x.useCallback(m=>{for(const{target:h}of m)if(Hf(h)){n(g=>{const y=t(h);return g?{...g,width:y.width,height:y.height}:y});break}},[t]),i=b0({callback:a}),l=x.useCallback(m=>{const h=OL(m);i?.disconnect(),h&&i?.observe(h),n(h?t(h):null)},[t,i]),[u,d]=Vg(l);return x.useMemo(()=>({nodeRef:u,rect:r,setRef:d}),[r,u,d])}const Cye=[{sensor:CL,options:{}},{sensor:gS,options:{}}],Tye={current:{}},Vm={draggable:{measure:gM},droppable:{measure:gM,strategy:cf.WhileDragging,frequency:E1.Optimized},dragOverlay:{measure:Nu}};class qd extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const Aye={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new qd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Jg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vm,measureDroppableContainers:Jg,windowRect:null,measuringScheduled:!1},DL={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Jg,draggableNodes:new Map,over:null,measureDroppableContainers:Jg},Kf=x.createContext(DL),ML=x.createContext(Aye);function Eye(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new qd}}}function Oye(e,t){switch(t.type){case Ur.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ur.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ur.DragEnd:case Ur.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ur.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new qd(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case Ur.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const l=new qd(e.droppable.containers);return l.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:l}}}case Ur.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new qd(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Dye(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=x.useContext(Kf),i=Qg(n),l=Qg(r?.id);return x.useEffect(()=>{if(!t&&!n&&i&&l!=null){if(!v0(i)||document.activeElement===i.target)return;const u=a.get(l);if(!u)return;const{activatorNode:d,node:m}=u;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const h of[d.current,m.current]){if(!h)continue;const g=C0e(h);if(g){g.focus();break}}})}},[n,t,a,l,i]),null}function PL(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function Mye(e){return x.useMemo(()=>({draggable:{...Vm.draggable,...e?.draggable},droppable:{...Vm.droppable,...e?.droppable},dragOverlay:{...Vm.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Pye(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=x.useRef(!1),{x:l,y:u}=typeof a=="boolean"?{x:a,y:a}:a;os(()=>{if(!l&&!u||!t){i.current=!1;return}if(i.current||!n)return;const m=t?.node.current;if(!m||m.isConnected===!1)return;const h=r(m),g=yL(h,n);if(l||(g.x=0),u||(g.y=0),i.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const y=vL(m);y&&y.scrollBy({top:g.y,left:g.x})}},[t,l,u,n,r])}const w0=x.createContext({...ls,scaleX:1,scaleY:1});var ro;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ro||(ro={}));const RL=x.memo(function(t){var r,n,a,i;let{id:l,accessibility:u,autoScroll:d=!0,children:m,sensors:h=Cye,collisionDetection:g=W0e,measuring:y,modifiers:v,..._}=t;const w=x.useReducer(Oye,void 0,Eye),[b,S]=w,[k,C]=M0e(),[A,E]=x.useState(ro.Uninitialized),M=A===ro.Initialized,{draggable:{active:T,nodes:D,translate:L},droppable:{containers:B}}=b,z=T!=null?D.get(T):null,F=x.useRef({initial:null,translated:null}),G=x.useMemo(()=>{var Ze;return T!=null?{id:T,data:(Ze=z?.data)!=null?Ze:Tye,rect:F}:null},[T,z]),V=x.useRef(null),[Y,$]=x.useState(null),[ee,J]=x.useState(null),W=lf(_,Object.values(_)),U=Yf("DndDescribedBy",l),P=x.useMemo(()=>B.getEnabled(),[B]),H=Mye(y),{droppableRects:Q,measureDroppableContainers:ne,measuringScheduled:ge}=pye(P,{dragging:M,dependencies:[L.x,L.y],config:H.droppable}),be=mye(D,T),te=x.useMemo(()=>ee?Zg(ee):null,[ee]),Se=Ue(),ce=yye(be,H.draggable.measure);Pye({activeNode:T!=null?D.get(T):null,config:Se.layoutShiftCompensation,initialRect:ce,measure:H.draggable.measure});const pe=bM(be,H.draggable.measure,ce),ke=bM(be?be.parentElement:null),de=x.useRef({activatorEvent:null,active:null,activeNode:be,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),qe=B.getNodeFor((r=de.current.over)==null?void 0:r.id),Ae=kye({measure:H.dragOverlay.measure}),Ye=(n=Ae.nodeRef.current)!=null?n:be,at=M?(a=Ae.rect)!=null?a:pe:null,Jt=!!(Ae.nodeRef.current&&Ae.rect),cr=bye(Jt?null:pe),fr=EL(Ye?An(Ye):null),$t=wye(M?qe??be:null),kr=Nye($t),sn=PL(v,{transform:{x:L.x-cr.x,y:L.y-cr.y,scaleX:1,scaleY:1},activatorEvent:ee,active:G,activeNodeRect:pe,containerNodeRect:ke,draggingNodeRect:at,over:de.current.over,overlayNodeRect:Ae.rect,scrollableAncestors:$t,scrollableAncestorRects:kr,windowRect:fr}),K=te?Uc(te,L):null,ie=jye($t),R=jM(ie),se=jM(ie,[pe]),xe=Uc(sn,R),Te=at?G0e(at,sn):null,et=G&&Te?g({active:G,collisionRect:Te,droppableRects:Q,droppableContainers:P,pointerCoordinates:K}):null,Dt=q0e(et,"id"),[Nt,Cr]=x.useState(null),Bt=Jt?sn:Uc(sn,se),Yt=Y0e(Bt,(i=Nt?.rect)!=null?i:null,pe),dt=x.useRef(null),Xe=x.useCallback((Ze,Ce)=>{let{sensor:vt,options:Tr}=Ce;if(V.current==null)return;const ht=D.get(V.current);if(!ht)return;const it=Ze.nativeEvent,Ar=new vt({active:V.current,activeNode:ht,event:it,options:Tr,context:de,onAbort(rr){if(!D.get(rr))return;const{onDragAbort:gn}=W.current,tt={id:rr};gn?.(tt),k({type:"onDragAbort",event:tt})},onPending(rr,En,gn,tt){if(!D.get(rr))return;const{onDragPending:ds}=W.current,Ct={id:rr,constraint:En,initialCoordinates:gn,offset:tt};ds?.(Ct),k({type:"onDragPending",event:Ct})},onStart(rr){const En=V.current;if(En==null)return;const gn=D.get(En);if(!gn)return;const{onDragStart:tt}=W.current,ba={activatorEvent:it,active:{id:En,data:gn.data,rect:F}};da.unstable_batchedUpdates(()=>{tt?.(ba),E(ro.Initializing),S({type:Ur.DragStart,initialCoordinates:rr,active:En}),k({type:"onDragStart",event:ba}),$(dt.current),J(it)})},onMove(rr){S({type:Ur.DragMove,coordinates:rr})},onEnd:bn(Ur.DragEnd),onCancel:bn(Ur.DragCancel)});dt.current=Ar;function bn(rr){return async function(){const{active:gn,collisions:tt,over:ba,scrollAdjustedTranslate:ds}=de.current;let Ct=null;if(gn&&ds){const{cancelDrop:Ga}=W.current;Ct={activatorEvent:it,active:gn,collisions:tt,delta:ds,over:ba},rr===Ur.DragEnd&&typeof Ga=="function"&&await Promise.resolve(Ga(Ct))&&(rr=Ur.DragCancel)}V.current=null,da.unstable_batchedUpdates(()=>{S({type:rr}),E(ro.Uninitialized),Cr(null),$(null),J(null),dt.current=null;const Ga=rr===Ur.DragEnd?"onDragEnd":"onDragCancel";if(Ct){const Kr=W.current[Ga];Kr?.(Ct),k({type:Ga,event:Ct})}})}}},[D]),ft=x.useCallback((Ze,Ce)=>(vt,Tr)=>{const ht=vt.nativeEvent,it=D.get(Tr);if(V.current!==null||!it||ht.dndKit||ht.defaultPrevented)return;const Ar={active:it};Ze(vt,Ce.options,Ar)===!0&&(ht.dndKit={capturedBy:Ce.sensor},V.current=Tr,Xe(vt,Ce))},[D,Xe]),Be=gye(h,ft);_ye(h),os(()=>{pe&&A===ro.Initializing&&E(ro.Initialized)},[pe,A]),x.useEffect(()=>{const{onDragMove:Ze}=W.current,{active:Ce,activatorEvent:vt,collisions:Tr,over:ht}=de.current;if(!Ce||!vt)return;const it={active:Ce,activatorEvent:vt,collisions:Tr,delta:{x:xe.x,y:xe.y},over:ht};da.unstable_batchedUpdates(()=>{Ze?.(it),k({type:"onDragMove",event:it})})},[xe.x,xe.y]),x.useEffect(()=>{const{active:Ze,activatorEvent:Ce,collisions:vt,droppableContainers:Tr,scrollAdjustedTranslate:ht}=de.current;if(!Ze||V.current==null||!Ce||!ht)return;const{onDragOver:it}=W.current,Ar=Tr.get(Dt),bn=Ar&&Ar.rect.current?{id:Ar.id,rect:Ar.rect.current,data:Ar.data,disabled:Ar.disabled}:null,rr={active:Ze,activatorEvent:Ce,collisions:vt,delta:{x:ht.x,y:ht.y},over:bn};da.unstable_batchedUpdates(()=>{Cr(bn),it?.(rr),k({type:"onDragOver",event:rr})})},[Dt]),os(()=>{de.current={activatorEvent:ee,active:G,activeNode:be,collisionRect:Te,collisions:et,droppableRects:Q,draggableNodes:D,draggingNode:Ye,draggingNodeRect:at,droppableContainers:B,over:Nt,scrollableAncestors:$t,scrollAdjustedTranslate:xe},F.current={initial:at,translated:Te}},[G,be,et,Te,D,Ye,at,Q,B,Nt,$t,xe]),dye({...Se,delta:L,draggingRect:Te,pointerCoordinates:K,scrollableAncestors:$t,scrollableAncestorRects:kr});const $e=x.useMemo(()=>({active:G,activeNode:be,activeNodeRect:pe,activatorEvent:ee,collisions:et,containerNodeRect:ke,dragOverlay:Ae,draggableNodes:D,droppableContainers:B,droppableRects:Q,over:Nt,measureDroppableContainers:ne,scrollableAncestors:$t,scrollableAncestorRects:kr,measuringConfiguration:H,measuringScheduled:ge,windowRect:fr}),[G,be,pe,ee,et,ke,Ae,D,B,Q,Nt,ne,$t,kr,H,ge,fr]),_e=x.useMemo(()=>({activatorEvent:ee,activators:Be,active:G,activeNodeRect:pe,ariaDescribedById:{draggable:U},dispatch:S,draggableNodes:D,over:Nt,measureDroppableContainers:ne}),[ee,Be,G,pe,S,U,D,Nt,ne]);return je.createElement(pL.Provider,{value:C},je.createElement(Kf.Provider,{value:_e},je.createElement(ML.Provider,{value:$e},je.createElement(w0.Provider,{value:Yt},m)),je.createElement(Dye,{disabled:u?.restoreFocus===!1})),je.createElement(I0e,{...u,hiddenTextDescribedById:U}));function Ue(){const Ze=Y?.autoScrollEnabled===!1,Ce=typeof d=="object"?d.enabled===!1:d===!1,vt=M&&!Ze&&!Ce;return typeof d=="object"?{...d,enabled:vt}:{enabled:vt}}}),Rye=x.createContext(null),SM="button",Iye="Draggable";function IL(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=Yf(Iye),{activators:l,activatorEvent:u,active:d,activeNodeRect:m,ariaDescribedById:h,draggableNodes:g,over:y}=x.useContext(Kf),{role:v=SM,roleDescription:_="draggable",tabIndex:w=0}=a??{},b=d?.id===t,S=x.useContext(b?w0:Rye),[k,C]=Vg(),[A,E]=Vg(),M=Sye(l,t),T=lf(r);os(()=>(g.set(t,{id:t,key:i,node:k,activatorNode:A,data:T}),()=>{const L=g.get(t);L&&L.key===i&&g.delete(t)}),[g,t]);const D=x.useMemo(()=>({role:v,tabIndex:w,"aria-disabled":n,"aria-pressed":b&&v===SM?!0:void 0,"aria-roledescription":_,"aria-describedby":h.draggable}),[n,v,w,b,_,h.draggable]);return{active:d,activatorEvent:u,activeNodeRect:m,attributes:D,isDragging:b,listeners:n?void 0:M,node:k,over:y,setNodeRef:C,setActivatorNodeRef:E,transform:S}}function LL(){return x.useContext(ML)}const Lye="Droppable",$ye={timeout:25};function xS(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=Yf(Lye),{active:l,dispatch:u,over:d,measureDroppableContainers:m}=x.useContext(Kf),h=x.useRef({disabled:r}),g=x.useRef(!1),y=x.useRef(null),v=x.useRef(null),{disabled:_,updateMeasurementsFor:w,timeout:b}={...$ye,...a},S=lf(w??n),k=x.useCallback(()=>{if(!g.current){g.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{m(Array.isArray(S.current)?S.current:[S.current]),v.current=null},b)},[b]),C=b0({callback:k,disabled:_||!l}),A=x.useCallback((D,L)=>{C&&(L&&(C.unobserve(L),g.current=!1),D&&C.observe(D))},[C]),[E,M]=Vg(A),T=lf(t);return x.useEffect(()=>{!C||!E.current||(C.disconnect(),g.current=!1,C.observe(E.current))},[E,C]),x.useEffect(()=>(u({type:Ur.RegisterDroppable,element:{id:n,key:i,disabled:r,node:E,rect:y,data:T}}),()=>u({type:Ur.UnregisterDroppable,key:i,id:n})),[n]),x.useEffect(()=>{r!==h.current.disabled&&(u({type:Ur.SetDroppableDisabled,id:n,key:i,disabled:r}),h.current.disabled=r)},[n,i,r,u]),{active:l,rect:y,isOver:d?.id===n,node:E,over:d,setNodeRef:M}}function Bye(e){let{animation:t,children:r}=e;const[n,a]=x.useState(null),[i,l]=x.useState(null),u=Qg(r);return!r&&!n&&u&&a(u),os(()=>{if(!i)return;const d=n?.key,m=n?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(t(m,i)).then(()=>{a(null)})},[t,n,i]),je.createElement(je.Fragment,null,r,n?x.cloneElement(n,{ref:l}):null)}const zye={x:0,y:0,scaleX:1,scaleY:1};function Fye(e){let{children:t}=e;return je.createElement(Kf.Provider,{value:DL},je.createElement(w0.Provider,{value:zye},t))}const qye={position:"fixed",touchAction:"none"},Uye=e=>v0(e)?"transform 250ms ease":void 0,Hye=x.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:l,rect:u,style:d,transform:m,transition:h=Uye}=e;if(!u)return null;const g=a?m:{...m,scaleX:1,scaleY:1},y={...qye,width:u.width,height:u.height,top:u.top,left:u.left,transform:po.Transform.toString(g),transformOrigin:a&&n?B0e(n,u):void 0,transition:typeof h=="function"?h(n):h,...d};return je.createElement(r,{className:l,style:y,ref:t},i)}),Wye=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:l}=e;if(i!=null&&i.active)for(const[u,d]of Object.entries(i.active))d!==void 0&&(a[u]=r.node.style.getPropertyValue(u),r.node.style.setProperty(u,d));if(i!=null&&i.dragOverlay)for(const[u,d]of Object.entries(i.dragOverlay))d!==void 0&&n.node.style.setProperty(u,d);return l!=null&&l.active&&r.node.classList.add(l.active),l!=null&&l.dragOverlay&&n.node.classList.add(l.dragOverlay),function(){for(const[d,m]of Object.entries(a))r.node.style.setProperty(d,m);l!=null&&l.active&&r.node.classList.remove(l.active)}},Yye=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:po.Transform.toString(t)},{transform:po.Transform.toString(r)}]},Kye={duration:250,easing:"ease",keyframes:Yye,sideEffects:Wye({styles:{active:{opacity:"0"}}})};function Gye(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return x0((i,l)=>{if(t===null)return;const u=r.get(i);if(!u)return;const d=u.node.current;if(!d)return;const m=OL(l);if(!m)return;const{transform:h}=An(l).getComputedStyle(l),g=xL(h);if(!g)return;const y=typeof t=="function"?t:Vye(t);return NL(d,a.draggable.measure),y({active:{id:i,data:u.data,node:d,rect:a.draggable.measure(d)},draggableNodes:r,dragOverlay:{node:l,rect:a.dragOverlay.measure(m)},droppableContainers:n,measuringConfiguration:a,transform:g})})}function Vye(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...Kye,...e};return i=>{let{active:l,dragOverlay:u,transform:d,...m}=i;if(!t)return;const h={x:u.rect.left-l.rect.left,y:u.rect.top-l.rect.top},g={scaleX:d.scaleX!==1?l.rect.width*d.scaleX/u.rect.width:1,scaleY:d.scaleY!==1?l.rect.height*d.scaleY/u.rect.height:1},y={x:d.x-h.x,y:d.y-h.y,...g},v=a({...m,active:l,dragOverlay:u,transform:{initial:d,final:y}}),[_]=v,w=v[v.length-1];if(JSON.stringify(_)===JSON.stringify(w))return;const b=n?.({active:l,dragOverlay:u,...m}),S=u.node.animate(v,{duration:t,easing:r,fill:"forwards"});return new Promise(k=>{S.onfinish=()=>{b?.(),k()}})}}let NM=0;function Qye(e){return x.useMemo(()=>{if(e!=null)return NM++,NM},[e])}const Xye=je.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:l,wrapperElement:u="div",className:d,zIndex:m=999}=e;const{activatorEvent:h,active:g,activeNodeRect:y,containerNodeRect:v,draggableNodes:_,droppableContainers:w,dragOverlay:b,over:S,measuringConfiguration:k,scrollableAncestors:C,scrollableAncestorRects:A,windowRect:E}=LL(),M=x.useContext(w0),T=Qye(g?.id),D=PL(l,{activatorEvent:h,active:g,activeNodeRect:y,containerNodeRect:v,draggingNodeRect:b.rect,over:S,overlayNodeRect:b.rect,scrollableAncestors:C,scrollableAncestorRects:A,transform:M,windowRect:E}),L=yS(y),B=Gye({config:n,draggableNodes:_,droppableContainers:w,measuringConfiguration:k}),z=L?b.setRef:void 0;return je.createElement(Fye,null,je.createElement(Bye,{animation:B},g&&T?je.createElement(Hye,{key:T,id:g.id,ref:z,as:u,activatorEvent:h,adjustScale:t,className:d,transition:i,rect:L,style:{zIndex:m,...a},transform:D},r):null))}),Zye={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},Jye=({date:e,hour:t})=>{const n=`calendar-slot-${Ne(e,"yyyy-MM-dd")}-${t}`,{setNodeRef:a,isOver:i}=xS({id:n});return s.jsx("div",{ref:a,className:`border-l border-gray-700 ${i?"bg-blue-500/20 ring-2 ring-inset ring-blue-500":""}`})},exe=({block:e,style:t,color:r,onClick:n})=>{const[a,i]=x.useState(null),[l,u]=x.useState(0),[d,m]=x.useState(0),[h,g]=x.useState(0),[y,v]=x.useState(parseFloat(t.top)),[_,w]=x.useState(parseFloat(t.height)),b=sj(),S=lu(),k=x.useRef(null),C=x.useCallback((T,D)=>{T.stopPropagation(),i(D),u(T.clientY),m(parseFloat(t.top)),g(parseFloat(t.height)),v(parseFloat(t.top)),w(parseFloat(t.height))},[t.top,t.height]),A=x.useCallback(T=>{if(!a)return;const L=(T.clientY-l)/16,B=z=>Math.round(z);if(a==="bottom"){const z=h+L,F=Math.max(1,B(z));w(F)}else if(a==="top"){const z=d+L,F=Math.max(0,B(z)),G=d-F,V=Math.max(1,B(h+G));v(F),w(V)}},[a,l,d,h]),E=x.useCallback(async()=>{if(!a)return;const T=y/4,D=_/4,L=6,B=H=>Math.round(H/15)*15,z=(L+T)*60,F=B(z),G=Math.floor(F/60),V=F%60,Y=(L+T+D)*60,$=B(Y),ee=Math.floor($/60),J=$%60,W=`${G.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}:00`,U=`${ee.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}:00`,P=$-F;try{await b.mutateAsync({blockId:e.block_id,updates:{start_time:W,end_time:U,planned_duration_minutes:P}});const H=dp(kt(`2000-01-01T${e.end_time}`),kt(`2000-01-01T${e.start_time}`)),Q=(P-H)/60,ne=Math.max(0,(e.hours_projected||0)+Q);await S.mutateAsync({id:e.task_id,updates:{hours_projected:ne},skipConflictCheck:!0})}catch(H){console.error("Failed to resize time block:",H),v(d),w(h)}i(null)},[a,y,_,e,b,S,d,h]);x.useEffect(()=>{if(a){const T=L=>A(L),D=()=>E();return window.addEventListener("mousemove",T),window.addEventListener("mouseup",D),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",D)}}},[a,A,E]);const M=a?{top:`calc(${y}rem + 2px)`,height:`calc(${_}rem - 4px)`}:{top:`calc(${t.top} + 2px)`,height:`calc(${t.height} - 4px)`};return s.jsxs("div",{ref:k,className:"absolute cursor-pointer hover:opacity-90 transition-opacity group overflow-hidden",style:{...t,...M,backgroundColor:r,padding:"0.5rem",borderRadius:"0.25rem",zIndex:a?20:10,opacity:e.task_status==="Done"?.5:1},onClick:n,children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 cursor-ns-resize opacity-0 group-hover:opacity-100 hover:bg-white/30 transition-opacity",onMouseDown:T=>C(T,"top"),style:{marginTop:"-2px"}}),s.jsx("div",{className:`text-xs text-white font-semibold pointer-events-none overflow-hidden ${e.task_status==="Done"?"line-through":""}`,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"break-word"},children:e.task_name}),s.jsxs("div",{className:"text-xs text-white/80 pointer-events-none whitespace-nowrap overflow-hidden text-ellipsis",children:[Ne(kt(`2000-01-01T${e.start_time}`),"h:mm a")," -"," ",Ne(kt(`2000-01-01T${e.end_time}`),"h:mm a")]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 cursor-ns-resize opacity-0 group-hover:opacity-100 hover:bg-white/30 transition-opacity",onMouseDown:T=>C(T,"bottom"),style:{marginBottom:"-2px"}})]})},txe=({onBlockClick:e})=>{const[t,r]=x.useState(()=>Sr(new Date,{weekStartsOn:1})),n=As(t,6),{data:a=[],isLoading:i}=ZW(t,n),{data:l=[]}=JW(t),u=new Map;a.forEach(k=>{const C=k.scheduled_date;u.has(C)||u.set(C,[]),u.get(C).push(k)});const d=Array.from({length:7},(k,C)=>As(t,C)),m=Sr(new Date,{weekStartsOn:1}),h=Math.round((t.getTime()-m.getTime())/(10080*60*1e3)),g=()=>h===0?"This Week":h===1?"Next Week":h>=2?"2 Weeks From Now":h===-1?"Last Week":`${Math.abs(h)} Weeks Ago`,y=()=>{r(XW(t))},v=()=>{r(Q1(t,1))},_=()=>{r(Sr(new Date,{weekStartsOn:1}))},w=Array.from({length:24},(k,C)=>C+6),b=k=>{const[C]=k.split(":").map(Number);return C},S=k=>{const C=b(k.start_time),A=b(k.end_time),E=parseInt(k.start_time.split(":")[1]),M=parseInt(k.end_time.split(":")[1]),T=((C-6)*60+E)/60,D=((A-C)*60+(M-E))/60;return{top:`${T*4}rem`,height:`${D*4}rem`}};return i?s.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-900 rounded-lg",children:s.jsx("div",{className:"text-gray-400",children:"Loading calendar..."})}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(tn,{className:"w-8 h-8 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Master Calendar"}),s.jsxs("p",{className:"text-gray-400",children:[Ne(t,"MMM d")," - ",Ne(n,"MMM d, yyyy")]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:y,className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(ip,{className:"w-5 h-5 text-gray-300"})}),s.jsx("button",{onClick:_,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:g()}),s.jsx("button",{onClick:v,className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(Ms,{className:"w-5 h-5 text-gray-300"})})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"grid bg-gray-900 border-b border-gray-700",style:{gridTemplateColumns:"60px repeat(7, 1fr)"},children:[s.jsx("div",{className:"p-3 text-xs text-white font-semibold",children:"TIME"}),d.map(k=>{const C=Ne(k,"yyyy-MM-dd"),A=l.find(M=>M.scheduled_date===C),E=E4(k,new Date);return s.jsxs("div",{className:`p-3 text-center ${E?"bg-blue-900/20":""}`,children:[s.jsx("div",{className:`text-xs font-medium ${E?"text-blue-400":"text-yellow-500"}`,children:Ne(k,"EEEE")}),s.jsx("div",{className:`text-xs ${E?"text-blue-400":"text-yellow-500"}`,children:Ne(k,"M/d/yy")}),A&&s.jsxs("div",{className:"mt-1 text-xs space-y-0.5",children:[s.jsxs("div",{className:"text-white",children:[A.total_blocks," ",A.total_blocks===1?"block":"blocks"]}),s.jsxs("div",{className:"text-white",children:[(A.total_planned_minutes/60).toFixed(1),"h planned"]})]})]},C)})]}),s.jsxs("div",{className:"relative",children:[w.map(k=>s.jsxs("div",{className:"grid border-b border-gray-700",style:{height:"4rem",gridTemplateColumns:"60px repeat(7, 1fr)"},children:[s.jsx("div",{className:"p-2 text-xs text-gray-500",children:Ne(new Date().setHours(k%24,0),"h a")}),d.map(C=>s.jsx(Jye,{date:C,hour:k},`${Ne(C,"yyyy-MM-dd")}-${k}`))]},k)),d.map((k,C)=>{const A=Ne(k,"yyyy-MM-dd");return(u.get(A)||[]).map(M=>{const T=S(M),D=Zye[M.area],L="((100% - 60px) / 7)",B={...T,left:`calc(60px + ${L} * ${C})`,width:`calc(${L})`};return s.jsx(exe,{block:M,style:B,color:D,onClick:()=>e?.(M)},M.block_id)})})]})]})]})},$L={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},rxe=["Full Stack","S4","808","Personal","Huge Capital","Golf","Health"],nxe=({task:e,isSelected:t,onQuickSchedule:r,onClearSelection:n,onScheduleStatusChange:a})=>{const{attributes:i,listeners:l,setNodeRef:u,isDragging:d}=IL({id:`task-${e.task_id}`,data:e}),{data:m=[]}=t5(e.task_id),h=e.status==="Done",g=m.length>0?m[0]:null,y=m.length>0;x.useEffect(()=>{a(e.task_id,y)},[e.task_id,y]);const v=h?"completed":y?"scheduled":"schedule",_=()=>{if(v==="completed")return"Completed";if(v==="schedule")return"Schedule";if(g){const w=Ne(kt(g.scheduled_date),"MMM d"),b=Ne(kt(`2000-01-01T${g.start_time}`),"h:mm a");return`${w} ${b}`}return"Scheduled"};return s.jsx("div",{ref:u,...i,...l,className:`p-4 rounded-lg border-2 transition-all ${d?"opacity-50 cursor-grabbing":"cursor-grab"} ${t?"border-blue-500":"border-transparent hover:border-gray-600"}`,style:{backgroundColor:t?void 0:$L[e.area]},onClick:()=>r(e),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(c9,{className:"w-4 h-4 text-white/70 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-semibold text-white",children:e.task_name}),e.priority==="High"&&s.jsx("span",{className:"px-2 py-0.5 bg-red-500/30 text-white text-xs rounded",children:"High Priority"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/80",children:[e.due_date&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Due ",Ne(kt(e.due_date),"MMM d")]})]}),e.hours_remaining>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[e.hours_remaining.toFixed(1),"h remaining"]})]})]})]})]}),t?s.jsx("button",{onClick:w=>{w.stopPropagation(),n()},className:"p-1 hover:bg-gray-700 rounded",children:s.jsx(Ht,{className:"w-5 h-5 text-gray-400"})}):s.jsx("button",{onClick:w=>{w.stopPropagation(),r(e)},disabled:v==="completed",className:`px-3 py-1 rounded text-sm font-medium transition-colors ${v==="completed"?"bg-green-600 text-white cursor-default":v==="scheduled"?"bg-yellow-500 text-gray-900 hover:bg-yellow-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:_()})]})})},axe=({onScheduleComplete:e})=>{const[t,r]=x.useState("All Areas"),[n,a]=x.useState("All Tasks"),[i,l]=x.useState("All Tasks"),{data:u=[],isLoading:d}=eY(t==="All Areas"?void 0:t),m=aj(),[h,g]=x.useState(null),[y,v]=x.useState(Ne(new Date,"yyyy-MM-dd")),[_,w]=x.useState("09:00"),[b,S]=x.useState(60),[k,C]=x.useState({}),A=x.useMemo(()=>{if(n==="All Tasks")return u;const F=new Date;return u.filter(G=>{if(!G.due_date)return!1;const V=kt(G.due_date);switch(n){case"Due Today":return hm(V,{start:kn(F),end:fp(F)});case"Due This Week":return hm(V,{start:Sr(F,{weekStartsOn:1}),end:oo(F,{weekStartsOn:1})});case"Due Next Week":const Y=Sr(As(F,7),{weekStartsOn:1}),$=oo(As(F,7),{weekStartsOn:1});return hm(V,{start:Y,end:$});case"Due This Month":return hm(V,{start:I4(F),end:X1(F)});default:return!0}})},[u,n]),E=x.useMemo(()=>i==="All Tasks"?A:A.filter(F=>{const G=k[F.task_id]||!1;return i==="Scheduled"?G:i==="Unscheduled"?!G:!0}),[A,i,k]),M=Ne(up(kt(`${y}T${_}`),b),"HH:mm"),{data:T=[]}=tY(kt(y),`${_}:00`,`${M}:00`),D=T.length>0,L=async()=>{if(h)try{await m.mutateAsync({taskId:h.task_id,scheduledDate:kt(y),startTime:`${_}:00`,endTime:`${M}:00`,plannedDurationMinutes:b}),alert(` Scheduled "${h.task_name}" successfully!`),g(null),e?.()}catch(F){console.error("Failed to schedule task:",F),alert("Failed to schedule task. Please try again.")}},B=F=>{g(F);const G=F.hours_remaining>0?Math.min(F.hours_remaining*60,240):60;S(G)},z=(F,G)=>{C(V=>({...V,[F]:G}))};return d?s.jsx("div",{className:"bg-gray-900 rounded-lg p-6",children:s.jsx("div",{className:"text-gray-400",children:"Loading unscheduled tasks..."})}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Wn,{className:"w-6 h-6 text-orange-400"}),s.jsx("div",{children:s.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Task Scheduler"})})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>r("All Areas"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${t==="All Areas"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"All Areas"}),rxe.map(F=>s.jsx("button",{onClick:()=>r(F),className:"px-3 py-1.5 rounded-lg text-sm transition-colors text-white",style:{backgroundColor:$L[F],opacity:t===F?1:.6},children:F},F))]})}),s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"flex gap-2",children:["All Tasks","Due Today","Due This Week","Due Next Week","Due This Month"].map(F=>s.jsx("button",{onClick:()=>a(F),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${n===F?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:F},F))})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"flex gap-2",children:["All Tasks","Scheduled","Unscheduled"].map(F=>s.jsx("button",{onClick:()=>l(F),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${i===F?"bg-orange-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:F},F))})}),E.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wn,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:n==="All Tasks"&&t==="All Areas"?"All tasks are scheduled!":"No tasks match the selected filters"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n==="All Tasks"&&t==="All Areas"?"Great job staying organized. New tasks will appear here.":"Try adjusting your filters to see more tasks."})]}):s.jsx("div",{className:"space-y-3 mb-6",children:E.map(F=>s.jsx(nxe,{task:F,isSelected:h?.task_id===F.task_id,onQuickSchedule:B,onClearSelection:()=>g(null),onScheduleStatusChange:z},F.task_id))}),h&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-blue-500",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-100 mb-4",children:["Schedule: ",h.task_name]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Date"}),s.jsx("input",{type:"date",value:y,onChange:F=>v(F.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Start Time"}),s.jsx("input",{type:"time",value:_,onChange:F=>w(F.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Duration (minutes)"}),s.jsx("input",{type:"number",value:b,onChange:F=>S(parseInt(F.target.value)||60),min:15,max:480,step:15,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"End Time"}),s.jsx("div",{className:"px-3 py-2 bg-gray-900 border border-gray-600 rounded-lg text-gray-300",children:M})]})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("span",{className:"text-sm text-gray-400 my-auto",children:"Quick:"}),[30,60,90,120,180,240].map(F=>s.jsxs("button",{onClick:()=>S(F),className:`px-3 py-1 rounded text-sm transition-colors ${b===F?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[F,"m"]},F))]}),D&&s.jsxs("div",{className:"bg-red-900/20 border border-red-500 rounded-lg p-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[s.jsx(qa,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Time Conflict Detected"})]}),s.jsx("div",{className:"text-sm text-gray-300",children:T.map((F,G)=>s.jsxs("div",{children:[" ",F.task_name," (",F.start_time," - ",F.end_time,")"]},G))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:L,disabled:D||m.isPending,className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${D||m.isPending?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[s.jsx(ma,{className:"w-4 h-4"}),m.isPending?"Scheduling...":"Schedule Task"]}),s.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg transition-colors",children:"Cancel"})]})]})]})},kM={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},sxe=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(""),[a,i]=x.useState(null);sj();const l=K4(),u=nY(),d=aY(),m=sY(),h=aj(),g=Sr(new Date,{weekStartsOn:1}),y=oo(new Date,{weekStartsOn:1}),{data:v=[]}=rY(g,y),_=v.length>0?{total_blocks:v.reduce((T,D)=>T+D.total_blocks,0),total_planned_hours:v.reduce((T,D)=>T+D.total_planned_hours,0),completion_rate:Math.round(v.reduce((T,D)=>T+D.completion_rate*D.total_blocks,0)/v.reduce((T,D)=>T+D.total_blocks,0))}:null,w=T=>{t(T),n(T.actual_duration_minutes?Math.round(T.actual_duration_minutes).toString():"")},b=()=>{t(null),n("")},S=async()=>{if(e)try{await d.mutateAsync(e.block_id),alert(" Time block started!"),b()}catch(T){console.error("Failed to start block:",T),alert("Failed to start time block.")}},k=async()=>{if(!e)return;const T=parseInt(r)||e.planned_duration_minutes;try{await u.mutateAsync({blockId:e.block_id,actualDurationMinutes:T}),alert(" Time block completed!"),b()}catch(D){console.error("Failed to complete block:",D),alert("Failed to complete time block.")}},C=async()=>{if(e&&confirm("Cancel this time block?"))try{await m.mutateAsync(e.block_id),alert(" Time block cancelled"),b()}catch(T){console.error("Failed to cancel block:",T),alert("Failed to cancel time block.")}},A=async()=>{if(e&&confirm("Permanently delete this time block?"))try{await l.mutateAsync(e.block_id),alert(" Time block deleted"),b()}catch(T){console.error("Failed to delete block:",T),alert("Failed to delete time block.")}},E=T=>{i(T.active.id)},M=async T=>{const{active:D,over:L}=T;if(i(null),!L)return;const B=L.id.toString();if(!B.startsWith("calendar-slot-"))return;const z=B.replace("calendar-slot-","").split("-");if(z.length<4)return;const F=`${z[0]}-${z[1]}-${z[2]}`,G=parseInt(z[3]),V=D.id.toString();if(!V.startsWith("task-"))return;const Y=V.replace("task-",""),$=D.data.current;if(!$)return;const ee=`${G.toString().padStart(2,"0")}:00`,J=$.hours_remaining>0?Math.min($.hours_remaining*60,120):60;try{await h.mutateAsync({taskId:Y,scheduledDate:kt(F),startTime:`${ee}:00`,endTime:`${Ne(up(kt(`${F}T${ee}`),J),"HH:mm:ss")}`,plannedDurationMinutes:J}),alert(` Task scheduled to ${Ne(kt(F),"MMM d")} at ${ee}`)}catch(W){console.error("Failed to schedule task:",W),alert("Failed to schedule task. Please try again.")}};return s.jsx(RL,{onDragStart:E,onDragEnd:M,children:s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Calendar & Scheduling"})}),v.length>0&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-4",children:"Scheduling Analytics (This Week)"}),s.jsxs("div",{className:"grid grid-cols-7 gap-3",children:[_&&s.jsxs("div",{className:"rounded-lg p-3 bg-gray-700",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx("span",{className:"text-sm font-semibold text-white",children:"All Areas"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Blocks:"}),s.jsx("span",{className:"text-white font-semibold",children:_.total_blocks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Planned:"}),s.jsxs("span",{className:"text-white font-semibold",children:[_.total_planned_hours.toFixed(1),"h"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Completion:"}),s.jsxs("span",{className:"text-white font-semibold",children:[_.completion_rate,"%"]})]})]})]}),v.slice(0,6).map(T=>s.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:kM[T.area]},children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx("span",{className:"text-sm font-semibold text-white",children:T.area})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Blocks:"}),s.jsx("span",{className:"text-white font-semibold",children:T.total_blocks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Planned:"}),s.jsxs("span",{className:"text-white font-semibold",children:[T.total_planned_hours,"h"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Completion:"}),s.jsxs("span",{className:"text-white font-semibold",children:[T.completion_rate,"%"]})]})]})]},T.area))]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(txe,{onBlockClick:w})}),s.jsx("div",{children:s.jsx(axe,{onScheduleComplete:()=>{}})})]}),e&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:b}),s.jsxs("div",{className:"relative bg-gray-900 rounded-lg shadow-2xl max-w-lg w-full mx-4 border-2 border-gray-700",children:[s.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:kM[e.area]}}),s.jsx("h3",{className:"text-xl font-bold text-gray-100",children:e.task_name})]}),s.jsx("p",{className:"text-sm text-gray-400",children:e.area})]}),s.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-800 rounded transition-colors",children:s.jsx(Ht,{className:"w-5 h-5 text-gray-400"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Date"}),s.jsx("div",{className:"text-gray-100",children:Ne(kt(e.scheduled_date),"MMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Time"}),s.jsxs("div",{className:"text-gray-100",children:[Ne(kt(`2000-01-01T${e.start_time}`),"h:mm a")," -"," ",Ne(kt(`2000-01-01T${e.end_time}`),"h:mm a")]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Planned Duration"}),s.jsxs("div",{className:"text-gray-100",children:[Math.round(e.planned_duration_minutes)," minutes"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Status"}),s.jsx("div",{className:`inline-block px-2 py-1 rounded text-xs ${e.status==="completed"?"bg-green-500/20 text-green-400":e.status==="in_progress"?"bg-blue-500/20 text-blue-400":e.status==="cancelled"?"bg-gray-500/20 text-gray-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.status})]})]})}),e.status!=="completed"&&e.status!=="cancelled"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Actual Duration (minutes)"}),s.jsx("input",{type:"number",value:r,onChange:T=>n(T.target.value),placeholder:e.planned_duration_minutes.toString(),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100"})]}),e.notes&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Notes"}),s.jsx("div",{className:"bg-gray-800 rounded-lg p-3 text-sm text-gray-300",children:e.notes})]}),s.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t border-gray-700",children:[e.status==="scheduled"&&s.jsxs("button",{onClick:S,disabled:d.isPending,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[s.jsx(x4,{className:"w-4 h-4"}),"Start Time Block"]}),(e.status==="scheduled"||e.status==="in_progress")&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:k,disabled:u.isPending,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[s.jsx(U1,{className:"w-4 h-4"}),"Mark Complete"]}),s.jsxs("button",{onClick:C,disabled:m.isPending,className:"flex items-center justify-center gap-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors",children:[s.jsx(Vq,{className:"w-4 h-4"}),"Cancel Block"]})]}),s.jsxs("button",{onClick:A,disabled:l.isPending,className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[s.jsx(Fa,{className:"w-4 h-4"}),"Delete Block"]})]})]})]})]})]})})},ixe={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},oxe=({selectedDate:e})=>{const{data:t=[],isLoading:r}=Y4(e),n=[...t].sort((l,u)=>l.start_time.localeCompare(u.start_time)),i=(n.reduce((l,u)=>l+u.planned_duration_minutes,0)/60).toFixed(1);return r?s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 md:p-6",children:[s.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4 text-gray-100",children:" Planned Schedule"}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-400",children:"Loading schedule..."})})]}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-100",children:" Planned Schedule"}),s.jsxs("div",{className:"text-xs md:text-sm text-gray-400",children:[n.length," ",n.length===1?"block":"blocks","  ",i,"h planned"]})]}),n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx(Wn,{className:"w-12 h-12 mb-3 opacity-50"}),s.jsx("p",{children:"No scheduled time blocks for this day"}),s.jsx("p",{className:"text-sm mt-1",children:"Add time blocks from the Calendar page"})]}):s.jsx("div",{className:"space-y-3",children:n.map(l=>{const u=ixe[l.area],d=l.status==="completed";return s.jsx("div",{className:"border-2 border-gray-700 rounded-lg p-4 hover:border-gray-600 transition-colors",style:{borderLeftColor:u,borderLeftWidth:"4px"},children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d&&s.jsx(ff,{className:"w-4 h-4 text-green-400"}),s.jsx("h3",{className:"font-semibold text-gray-100",children:l.task_name})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wn,{className:"w-3 h-3"}),Ne(kt(`2000-01-01T${l.start_time}`),"h:mm a")," -"," ",Ne(kt(`2000-01-01T${l.end_time}`),"h:mm a")]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[l.planned_duration_minutes," min"]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:u},children:l.area})}),l.notes&&s.jsx("p",{className:"mt-2 text-sm text-gray-500 italic",children:l.notes})]})})},l.block_id)})})]})};function lxe(e,t){return Ie({queryKey:["deep-work-sessions",e,t],queryFn:async()=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");let{data:n,error:a}=await Z.from("deep_work_log").select(`
          *,
          tasks:task_id (
            task_name
          )
        `).eq("user_id",r.id).gte("start_time",e).lte("start_time",t).order("start_time",{ascending:!0});if(a)throw a;return(n||[]).map(l=>({...l,task_name:l.tasks?.task_name||null}))},staleTime:30*1e3})}function BL(){const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.from("deep_work_log").insert({user_id:r.id,...t}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["deep-work-sessions"]})}})}function cxe(){const e=ut();return jt({mutationFn:async t=>{const{error:r}=await Z.from("deep_work_log").delete().eq("id",t);if(r)throw r;return t},onSuccess:()=>{e.invalidateQueries({queryKey:["deep-work-sessions"]})}})}const uxe={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},dxe=({selectedDate:e})=>{const[t,r]=x.useState(!1),n=xT(kn(e),6).toISOString(),a=xT(kn(e),30).toISOString(),{data:i=[],isLoading:l}=lxe(n,a);BL();const u=cxe(),m=(i.reduce((y,v)=>y+(v.duration_minutes||0),0)/60).toFixed(1),h=()=>{r(!0)},g=async y=>{confirm("Delete this session?")&&await u.mutateAsync(y)};return l?s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 md:p-6",children:[s.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4 text-gray-100",children:" Deep Work Log (Actual)"}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-400",children:"Loading sessions..."})})]}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-100",children:" Deep Work Log (Actual)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-xs md:text-sm text-gray-400",children:[i.length," ",i.length===1?"session":"sessions","  ",m,"h logged"]}),s.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:[s.jsx(ma,{className:"w-4 h-4"}),"Log Time"]})]})]}),t&&s.jsx(fxe,{selectedDate:e,onCancel:()=>r(!1),onCreate:()=>r(!1)}),i.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx(Wn,{className:"w-12 h-12 mb-3 opacity-50"}),s.jsx("p",{children:"No deep work sessions logged for this day"}),s.jsx("p",{className:"text-sm mt-1",children:'Click "Log Time" to add what you actually worked on'})]}):s.jsx("div",{className:"space-y-3 mt-4",children:i.map(y=>{const v=y.area?uxe[y.area]:"#6b7280",_=y.status==="completed",w=y.is_productive!==!1;return s.jsx("div",{className:"border-2 border-gray-700 rounded-lg p-4 hover:border-gray-600 transition-colors",style:{borderLeftColor:v,borderLeftWidth:"4px"},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_&&s.jsx(ff,{className:"w-4 h-4 text-green-400"}),!w&&s.jsx("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded",children:"Non-productive"}),s.jsx("h3",{className:"font-semibold text-gray-100",children:y.task_name||y.session_name||"Unnamed session"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wn,{className:"w-3 h-3"}),Ne(kt(y.start_time),"h:mm a"),y.end_time&&` - ${Ne(kt(y.end_time),"h:mm a")}`]}),y.duration_minutes&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[y.duration_minutes," min"]})]})]}),y.area&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:v},children:y.area})}),y.notes&&s.jsx("p",{className:"mt-2 text-sm text-gray-500 italic",children:y.notes})]}),s.jsx("button",{onClick:()=>g(y.id),className:"p-2 text-gray-500 hover:text-red-400 transition-colors",children:s.jsx(Fa,{className:"w-4 h-4"})})]})},y.id)})})]})},fxe=({selectedDate:e,onCancel:t,onCreate:r})=>{const[n,a]=x.useState(""),[i,l]=x.useState(""),[u,d]=x.useState(""),[m,h]=x.useState(""),[g,y]=x.useState(""),[v,_]=x.useState(!0),w=BL(),b=async S=>{if(S.preventDefault(),!n||!u||!m){alert("Please fill in session name, start time, and end time");return}const k=Ne(e,"yyyy-MM-dd"),C=kt(`${k}T${u}:00`).toISOString(),A=kt(`${k}T${m}:00`).toISOString();try{await w.mutateAsync({session_name:n,area:i||void 0,start_time:C,end_time:A,notes:g||void 0,is_productive:v,status:"completed"}),r()}catch(E){console.error("Failed to create session:",E),alert("Failed to create session")}};return s.jsxs("form",{onSubmit:b,className:"bg-gray-800 rounded-lg p-4 mb-4 border-2 border-blue-500",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Log Time Session"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:S=>_(S.target.checked),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Productive work"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"What did you work on? *"}),s.jsx("input",{type:"text",value:n,onChange:S=>a(S.target.value),placeholder:"e.g., Built dashboard feature, Watched TV, etc.",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500",required:!0})]}),v&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Area (optional)"}),s.jsxs("select",{value:i,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500",children:[s.jsx("option",{value:"",children:"-- Select Area --"}),s.jsx("option",{value:"Full Stack",children:"Full Stack"}),s.jsx("option",{value:"Huge Capital",children:"Huge Capital"}),s.jsx("option",{value:"S4",children:"S4"}),s.jsx("option",{value:"808",children:"808"}),s.jsx("option",{value:"Personal",children:"Personal"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Health",children:"Health"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Start Time *"}),s.jsx("input",{type:"time",value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"End Time *"}),s.jsx("input",{type:"time",value:m,onChange:S=>h(S.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes (optional)"}),s.jsx("textarea",{value:g,onChange:S=>y(S.target.value),placeholder:"Any additional details...",rows:2,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[s.jsx("button",{type:"submit",disabled:w.isPending,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:w.isPending?"Creating...":"Log Session"}),s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg transition-colors",children:"Cancel"})]})]})};function vS(e=new Date){const t=Ne(e,"yyyy-MM-dd"),{data:r=[],isLoading:n,error:a}=Ie({queryKey:["tasks","daily",t],queryFn:async()=>{const{data:{user:l}}=await Z.auth.getUser();if(!l)throw new Error("Not authenticated");const{data:u,error:d}=await Z.from("tasks").select("id, progress_percentage, due_date, task_name").eq("user_id",l.id).eq("due_date",t);if(d)throw d;return u||[]},staleTime:6e4});return{data:x.useMemo(()=>{if(r.length===0)return{dailyProgress:null,completedCount:0,totalCount:0,dueTodayCount:0,date:t};const l=r.filter(m=>m.progress_percentage===100).length,u=r.length,d=l/u*100;return{dailyProgress:Math.round(d*10)/10,completedCount:l,totalCount:u,dueTodayCount:u,date:t}},[r,t]),isLoading:n,error:a}}function hxe(){return Ie({queryKey:["daily-completions","streak"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const t=Ne(tg(new Date,30),"yyyy-MM-dd"),r=Ne(new Date,"yyyy-MM-dd"),{data:n,error:a}=await Z.from("tasks").select("due_date, progress_percentage").eq("user_id",e.id).gte("due_date",t).lte("due_date",r);if(a)throw a;const i={};(n||[]).forEach(g=>{g.due_date&&(i[g.due_date]||(i[g.due_date]={total:0,completed:0}),i[g.due_date].total++,g.progress_percentage===100&&i[g.due_date].completed++)});const l=Object.entries(i).map(([g,y])=>({date:g,completionPercent:y.total>0?y.completed/y.total*100:0})).sort((g,y)=>g.date.localeCompare(y.date));let u=0;for(let g=0;g<30;g++){const y=Ne(tg(new Date,g),"yyyy-MM-dd"),v=l.find(_=>_.date===y);if(v&&v.completionPercent>=80)u++;else break}let d=0,m=0;l.forEach(g=>{g.completionPercent>=80?(m++,d=Math.max(d,m)):m=0});const h=u>0;return{currentStreak:u,longestStreak:Math.max(d,u),streakActive:h,last30Days:l}},staleTime:300*1e3})}const mxe=e=>e<33?"#ef4444":e<67?"#eab308":"#10b981",gxe=({progress:e,size:t=200,strokeWidth:r=12,children:n,className:a=""})=>{const i=(t-r)/2,l=i*2*Math.PI,u=l-e/100*l,d=mxe(e);return s.jsxs("div",{className:`relative ${a}`,style:{width:t,height:t},children:[s.jsxs("svg",{width:t,height:t,className:"transform -rotate-90","aria-label":`${e.toFixed(1)}% complete`,children:[s.jsx("circle",{cx:t/2,cy:t/2,r:i,stroke:"#374151",strokeWidth:r,fill:"none"}),s.jsx("circle",{cx:t/2,cy:t/2,r:i,stroke:d,strokeWidth:r,fill:"none",strokeDasharray:l,strokeDashoffset:u,strokeLinecap:"round",className:"transition-all duration-300 ease-out"})]}),n&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n})]})},pxe=e=>e===null?"No tasks planned today":e===0?"Let's get started!":e<34?"Good start, keep going!":e<67?"Good progress, keep going!":e<100?"Almost there!":"All done! Great work!",yxe=({date:e=new Date,className:t=""})=>{const{data:r,isLoading:n}=vS(e),{data:a,isLoading:i}=hxe();if(n)return s.jsx("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${t}`,children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"w-48 h-48 bg-gray-700 rounded-full"})})})});const l=r?.dailyProgress??0,u=!i&&a&&a.streakActive&&a.currentStreak>0;return s.jsx("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${t}`,children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(gxe,{progress:l,children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-4xl font-bold text-white",children:[l.toFixed(0),"%"]}),r&&r.totalCount>0&&s.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[r.completedCount," of ",r.totalCount]})]})})}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("div",{className:"text-sm text-gray-400 uppercase mb-1",children:Ne(e,"EEEE, MMMM d, yyyy")}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Daily Progress"}),s.jsx("p",{className:`text-lg mb-4 ${l===null||l===0?"text-gray-400":l<33?"text-red-400":l<67?"text-yellow-400":(l<100,"text-green-400")}`,children:pxe(l)}),u&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-950/30 border border-orange-500 rounded-lg",children:[s.jsx(Y1,{className:"text-orange-500",size:20}),s.jsxs("span",{className:"text-orange-300 font-semibold",children:[a.currentStreak,"-day streak!"]}),a.currentStreak===a.longestStreak&&a.longestStreak>1&&s.jsx("span",{className:"text-xs text-orange-400 ml-2",children:"(Personal best!)"})]}),r?.totalCount===0&&s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"No tasks scheduled for today. Take a break or add some tasks!"})]})]})})},xxe=({date:e=new Date,onTaskClick:t,className:r=""})=>{const n=Ne(e,"yyyy-MM-dd"),{data:a,isLoading:i}=vS(e),{data:l=[],isLoading:u}=ou(),d=l.filter(w=>w.due_date===n),m=bf(),h=d.filter(w=>{if(!w.due_date||w.progress_percentage>=100)return!1;const b=ot(w.due_date);return b?new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0).getTime()<m.getTime():!1});if(i||u)return s.jsx("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${r}`,children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-full mb-2"}),s.jsx("div",{className:"h-2 bg-gray-700 rounded w-full"})]})});const y=a?.dailyProgress??0,v=a?.completedCount??0,_=a?.totalCount??0;return s.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${r}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Due Today"}),_>0?s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:[v," of ",_," tasks complete"]}),s.jsxs("span",{className:`text-sm font-semibold ${y<33?"text-red-400":y<67?"text-yellow-400":"text-green-400"}`,children:[y.toFixed(0),"%"]})]}),s.jsx(Gd,{progress:y,size:"sm",showLabel:!1})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"No tasks due today"})]}),d.length>0&&s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:d.map(w=>{const b=h.some(k=>k.id===w.id),S=w.progress_percentage===100;return s.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border transition-colors ${b?"border-red-500 bg-red-950/20 hover:bg-red-950/30":"border-gray-700 bg-gray-900 hover:bg-gray-850"} ${t?"cursor-pointer":""}`,onClick:()=>t?.(w.id),children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:S?s.jsx(ff,{className:"text-green-500",size:20}):s.jsx(H1,{className:"text-gray-500",size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("span",{className:`font-medium ${S?"line-through text-gray-500":"text-white"}`,children:w.task_name}),b&&s.jsx(pl,{className:"text-red-500 flex-shrink-0",size:16})]}),w.area&&s.jsx("span",{className:"text-xs text-gray-500",children:w.area}),w.progress_percentage>0&&w.progress_percentage<100&&s.jsx("div",{className:"mt-1",children:s.jsx(Gd,{progress:w.progress_percentage,size:"sm",showLabel:!1})})]})]},w.id)})})]})},vxe=e=>({"Full Stack":"#3b82f6",S4:"#06b6d4",808:"#f97316","Huge Capital":"#10b981",Personal:"#ec4899",Golf:"#f59e0b",Health:"#14b8a6"})[e]||"#6b7280",bxe=({date:e=new Date,className:t=""})=>{const r=Ne(e,"yyyy-MM-dd"),n=kn(e).toISOString(),a=fp(e).toISOString(),{data:i=[],isLoading:l}=Ie({queryKey:["deep-work","daily-allocation",r],queryFn:async()=>{const{data:{user:h}}=await Z.auth.getUser();if(!h)throw new Error("Not authenticated");const{data:g,error:y}=await Z.from("deep_work_log").select("area, duration_minutes").eq("user_id",h.id).gte("start_time",n).lte("start_time",a).not("end_time","is",null);if(y)throw y;return g||[]},staleTime:6e4}),u=x.useMemo(()=>{if(i.length===0)return[];const h={};i.forEach(y=>{const v=y.area||"Uncategorized";h[v]=(h[v]||0)+(y.duration_minutes||0)});const g=Object.values(h).reduce((y,v)=>y+v,0);return Object.entries(h).map(([y,v])=>({area:y,minutes:v,hours:v/60,percentage:g>0?v/g*100:0,color:vxe(y)})).sort((y,v)=>v.minutes-y.minutes)},[i]);if(l)return s.jsx("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${t}`,children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded w-full"})]})});const d=u.length>0,m=u.reduce((h,g)=>h+g.hours,0);return s.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${t}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Time Allocation"}),d&&s.jsxs("p",{className:"text-sm text-gray-400",children:["Total: ",m.toFixed(1)," hours today"]})]}),!d&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No time logged yet today"})}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-full h-8 bg-gray-900 rounded-lg overflow-hidden flex",children:u.map(h=>s.jsx("div",{className:"h-full transition-all duration-300 hover:opacity-80 cursor-pointer group relative",style:{width:`${h.percentage}%`,backgroundColor:h.color},title:`${h.area}: ${h.hours.toFixed(1)}h (${h.percentage.toFixed(0)}%)`,children:s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:s.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap border border-gray-700",children:[h.area,": ",h.hours.toFixed(1),"h"]})})},h.area))}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:u.map(h=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:h.color}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-white truncate",children:h.area}),s.jsxs("div",{className:"text-xs text-gray-400",children:[h.hours.toFixed(1),"h  ",h.percentage.toFixed(0),"%"]})]})]},h.area))})]})]})};function zL(e=new Date){const t=Ne(e,"yyyy-MM-dd"),r=kn(e).toISOString(),n=fp(e).toISOString(),{data:a,isLoading:i,error:l}=Ie({queryKey:["deep-work","daily",t],queryFn:async()=>{const{data:{user:m}}=await Z.auth.getUser();if(!m)throw new Error("Not authenticated");const{data:h,error:g}=await Z.from("deep_work_log").select("duration_minutes, start_time, end_time").eq("user_id",m.id).gte("start_time",r).lte("start_time",n).not("end_time","is",null);if(g)throw g;return h||[]},staleTime:6e4}),{data:u}=Ie({queryKey:["user-settings","deep-work-goal"],queryFn:async()=>{const{data:{user:m}}=await Z.auth.getUser();if(!m)return null;const{data:h,error:g}=await Z.from("user_preferences").select("daily_deep_work_goal_hours").eq("user_id",m.id).maybeSingle();return g?(console.debug("user_preferences table not found, using default 6h goal"),null):h},staleTime:300*1e3,retry:!1,retryOnMount:!1});return{data:x.useMemo(()=>{const m=(a||[]).reduce((v,_)=>v+(_.duration_minutes||0),0),h=m/60,g=u?.daily_deep_work_goal_hours||6,y=g>0?h/g*100:0;return{hoursWorked:Math.round(h*10)/10,hoursGoal:g,deepWorkProgress:Math.min(100,Math.round(y*10)/10),minutesWorked:m}},[a,u]),isLoading:i,error:l}}const CM=()=>new Date().getHours()>=18,wxe=({date:e=new Date,onPlanTomorrow:t,className:r=""})=>{const[n,a]=x.useState(!1),[i,l]=x.useState("");x.useEffect(()=>{a(CM());const w=setInterval(()=>{a(CM())},6e4);return()=>clearInterval(w)},[]);const u=Ne(e,"yyyy-MM-dd"),{data:d}=vS(e),{data:m}=zL(e),{data:h=[]}=Ie({queryKey:["businesses-worked",u],queryFn:async()=>{const{data:{user:w}}=await Z.auth.getUser();if(!w)throw new Error("Not authenticated");const b=new Date(e);b.setHours(0,0,0,0);const S=new Date(e);S.setHours(23,59,59,999);const{data:k,error:C}=await Z.from("deep_work_log").select("area").eq("user_id",w.id).gte("start_time",b.toISOString()).lte("start_time",S.toISOString()).not("end_time","is",null);if(C)throw C;return Array.from(new Set((k||[]).map(E=>E.area).filter(Boolean)))},enabled:n,staleTime:300*1e3});if(!n)return null;const g=d?.completedCount??0,y=d?.totalCount??0,v=m?.hoursWorked??0,_=d?.dailyProgress??0;return s.jsxs("div",{className:`bg-gradient-to-br from-blue-950/30 to-purple-950/30 rounded-lg p-6 border-2 border-blue-500/50 ${r}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Day Complete"}),s.jsx("p",{className:"text-sm text-gray-400",children:Ne(e,"EEEE, MMMM d, yyyy")})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase mb-1",children:"Tasks"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[g,s.jsxs("span",{className:"text-gray-500 text-lg",children:["/",y]})]}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[_.toFixed(0),"% complete"]})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase mb-1",children:"Deep Work"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[v.toFixed(1),"h"]}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"logged today"})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 col-span-2",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase mb-1",children:"Areas Worked On"}),h.length>0?s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:h.map(w=>s.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full border border-blue-500/30",children:w},w))}):s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"No work logged"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"What went well today? (Optional)"}),s.jsx("textarea",{value:i,onChange:w=>l(w.target.value),placeholder:"Reflect on your accomplishments, challenges, or learnings...",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Daily reflections help track patterns and improve over time"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:t,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[s.jsx(tn,{size:18}),"Plan Tomorrow",s.jsx(Ms,{size:18})]}),i.trim()&&s.jsx("button",{onClick:()=>{console.log("Saving reflection:",i),l("")},className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:"Save Reflection"})]})]})},jxe=()=>{const[e,t]=x.useState(kn(new Date)),{data:r}=zL(e),n=()=>{t(u=>{const d=new Date(u);return d.setDate(d.getDate()-1),kn(d)})},a=()=>{t(u=>{const d=new Date(u);return d.setDate(d.getDate()+1),kn(d)})},i=()=>{t(kn(new Date))},l=()=>{t(kn(As(new Date,1)))};return s.jsxs("div",{className:"min-h-screen bg-gray-950 text-gray-100 p-4 sm:p-6 md:p-8 lg:p-10",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(tn,{className:"w-8 h-8 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold",children:"Daily Time Tracker"}),s.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:Ne(e,"EEEE, MMMM d, yyyy")})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:n,className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(ip,{className:"w-5 h-5 text-gray-300"})}),s.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:"Today"}),s.jsx("button",{onClick:a,className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(Ms,{className:"w-5 h-5 text-gray-300"})})]})]})}),s.jsx("div",{className:"mb-6",children:s.jsx(yxe,{date:e})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[s.jsx(xxe,{date:e}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 md:p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-4",children:"Deep Work Progress"}),r&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-xs sm:text-sm text-gray-400",children:[r.hoursWorked.toFixed(1),"h of ",r.hoursGoal.toFixed(1),"h goal"]}),s.jsxs("span",{className:`text-xs sm:text-sm font-semibold ${r.deepWorkProgress<33?"text-red-400":r.deepWorkProgress<67?"text-yellow-400":"text-green-400"}`,children:[r.deepWorkProgress.toFixed(0),"%"]})]}),s.jsx(Gd,{progress:r.deepWorkProgress,size:"md",showLabel:!1}),s.jsx("div",{className:"mt-4 text-xs sm:text-sm text-gray-500",children:r.deepWorkProgress>=100?s.jsx("p",{className:"text-green-400",children:" Goal achieved! Great work!"}):r.deepWorkProgress>=80?s.jsx("p",{className:"text-yellow-400",children:"Almost there! Keep going!"}):s.jsxs("p",{children:[(r.hoursGoal-r.hoursWorked).toFixed(1),"h remaining to reach goal"]})})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(bxe,{date:e})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 lg:gap-8 mb-6",children:[s.jsx("div",{className:"min-w-0",children:s.jsx(oxe,{selectedDate:e})}),s.jsx("div",{className:"min-w-0",children:s.jsx(dxe,{selectedDate:e})})]}),s.jsx(wxe,{date:e,onPlanTomorrow:l})]})},_xe=e=>Ie({queryKey:["session-analytics",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("get_session_analytics",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r},staleTime:300*1e3}),Sxe=e=>Ie({queryKey:["focus-quality",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("calculate_focus_quality_score",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r}}),Nxe=e=>Ie({queryKey:["completion-rate",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("calculate_completion_rate",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r}}),kxe=e=>Ie({queryKey:["interruption-analysis",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("analyze_interruptions",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r}}),Cxe=(e,t)=>Ie({queryKey:["optimal-session-length",e,t],queryFn:async()=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.rpc("analyze_optimal_session_length",{p_user_id:r.id,p_area:null,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(a)throw a;return n||[]}}),Txe=()=>Ie({queryKey:["deep-work-streak"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.rpc("calculate_deep_work_streak",{p_user_id:e.id});if(r)throw r;return t},staleTime:3600*1e3}),Axe=()=>Ie({queryKey:["productivity-recommendations"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.rpc("generate_productivity_recommendations",{p_user_id:e.id});if(r)throw r;return t||[]},staleTime:1440*60*1e3}),Exe=e=>Ie({queryKey:["context-switching-cost",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("calculate_context_switching_cost",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r}}),Oxe=()=>{const[e,t]=x.useState({start:Sr(new Date,{weekStartsOn:1}),end:oo(new Date,{weekStartsOn:1})}),{data:r,isLoading:n}=_xe(e),{data:a}=Sxe(e),{data:i}=Nxe(e),{data:l}=kxe(e),{data:u}=Cxe(e),{data:d}=Txe(),{data:m}=Axe(),{data:h}=Exe(e),g=_=>{const w=new Date;switch(_){case"this-week":t({start:Sr(w,{weekStartsOn:1}),end:oo(w,{weekStartsOn:1})});break;case"last-week":const b=tg(w,7);t({start:Sr(b,{weekStartsOn:1}),end:oo(b,{weekStartsOn:1})});break;case"last-30-days":t({start:tg(w,30),end:w});break}},y=_=>_?_>=80?"text-green-400":_>=60?"text-blue-400":_>=40?"text-yellow-400":"text-red-400":"text-gray-400",v=_=>_?_>=80?"Excellent":_>=60?"Good":_>=40?"Fair":"Needs Improvement":"No Data";return s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(K1,{className:"w-8 h-8 text-orange-400"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Deep Work Insights"})]}),s.jsx("p",{className:"text-gray-400",children:"Analyze your session patterns and optimize focus time"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>g("this-week"),className:"px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 border border-gray-700",children:"This Week"}),s.jsx("button",{onClick:()=>g("last-week"),className:"px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 border border-gray-700",children:"Last Week"}),s.jsx("button",{onClick:()=>g("last-30-days"),className:"px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 border border-gray-700",children:"Last 30 Days"})]})]}),s.jsxs("div",{className:"text-sm text-gray-400 mt-2",children:[Ne(e.start,"MMM d")," - ",Ne(e.end,"MMM d, yyyy")]})]}),s.jsxs("div",{className:"mb-6 bg-gradient-to-r from-orange-900/30 to-red-900/30 rounded-lg p-6 border border-orange-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Y1,{className:"w-16 h-16 text-orange-400"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-6xl font-bold text-orange-400",children:[d||0," ",d===1?"day":"days"]}),s.jsx("div",{className:"text-gray-300 mt-1 text-lg",children:"Deep Work Streak"})]})]}),d&&d>=7&&s.jsx("div",{className:"text-8xl animate-bounce",children:""})]}),d!==void 0&&s.jsxs("div",{className:"mt-4",children:[d<7&&s.jsxs("div",{className:"text-gray-300",children:["Keep going! ",7-d," more ",7-d===1?"day":"days"," to reach 7-day milestone"]}),d>=7&&d<30&&s.jsxs("div",{className:"text-gray-300",children:["Amazing! ",30-d," more ",30-d===1?"day":"days"," to reach 30-day milestone"]}),d>=30&&s.jsx("div",{className:"text-gray-300",children:"Incredible consistency! You're in the top tier of deep work practitioners."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(yl,{className:"w-5 h-5 text-orange-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Focus Quality"})]}),n?s.jsx("div",{className:"animate-pulse h-20 bg-gray-700 rounded"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`text-5xl font-bold ${y(a)} mb-2`,children:[a||0,"%"]}),s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:v(a)}),s.jsx("div",{className:"text-xs text-gray-500",children:"Planned vs. reactive sessions"})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Hn,{className:"w-5 h-5 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Goal Achievement"})]}),n?s.jsx("div",{className:"animate-pulse h-20 bg-gray-700 rounded"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`text-5xl font-bold ${y(i)} mb-2`,children:i!=null?`${i}%`:"N/A"}),s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:i!=null?v(i):"Track goals to see rate"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Sessions with goals achieved"})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(pl,{className:"w-5 h-5 text-yellow-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Interruptions"})]}),n?s.jsx("div",{className:"animate-pulse h-20 bg-gray-700 rounded"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`text-5xl font-bold ${l?.interruption_rate?l.interruption_rate<10?"text-green-400":l.interruption_rate<25?"text-yellow-400":"text-red-400":"text-gray-400"} mb-2`,children:[l?.interruption_rate||0,"%"]}),s.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:[l?.interrupted_sessions||0,"/",l?.total_sessions||0," sessions"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Interrupted before completion"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Wn,{className:"w-5 h-5 text-orange-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Session Analytics"})]}),n?s.jsx("div",{className:"animate-pulse h-40 bg-gray-700 rounded"}):r?s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Sessions"}),s.jsx("div",{className:"text-2xl font-bold text-gray-100",children:r.total_sessions})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Avg Length"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-100",children:[r.avg_session_length_minutes," min"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Hours"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-100",children:[r.total_deep_work_hours,"h"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Sessions/Day"}),s.jsx("div",{className:"text-2xl font-bold text-gray-100",children:r.avg_sessions_per_day})]})]}):s.jsx("div",{className:"text-gray-400 text-center py-8",children:"No session data available"})]}),u&&u.length>0&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(y4,{className:"w-5 h-5 text-orange-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Optimal Session Length"})]}),s.jsx(g0,{width:"100%",height:300,children:s.jsxs(cS,{data:u,children:[s.jsx(Ff,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(qf,{dataKey:"duration_bucket",stroke:"#9CA3AF"}),s.jsx(Uf,{stroke:"#9CA3AF",label:{value:"Completion Rate %",angle:-90,position:"insideLeft",fill:"#9CA3AF"}}),s.jsx(m0,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"},labelStyle:{color:"#F3F4F6"}}),s.jsx(Af,{}),s.jsx(of,{dataKey:"avg_completion_rate",name:"Completion Rate %",fill:"#F97316"})]})}),u.length>0&&s.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[s.jsx("strong",{children:"Your sweet spot:"})," ",u.reduce((_,w)=>(w.avg_completion_rate||0)>(_.avg_completion_rate||0)?w:_).duration_bucket," sessions have the highest completion rate"]})]}),m&&m.length>0&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Hn,{className:"w-5 h-5 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Productivity Recommendations"})]}),s.jsx("div",{className:"space-y-3",children:m.map((_,w)=>s.jsxs("div",{className:"border-l-4 border-orange-500 pl-4 py-2 bg-gray-700/50 rounded-r-lg",children:[s.jsx("div",{className:"font-medium text-gray-100",children:_.message}),_.completion_rate&&s.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:["Completion rate: ",_.completion_rate,"%"]})]},w))})]}),h&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(pl,{className:"w-5 h-5 text-yellow-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Context Switching Analysis"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-green-900/20 rounded-lg p-4 border border-green-700/50",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Focused Days (1 area)"}),s.jsxs("div",{className:"text-3xl font-bold text-green-400 mb-2",children:[h.focused_days.count," days"]}),s.jsxs("div",{className:"text-sm text-gray-300",children:["Avg: ",h.focused_days.avg_hours,"h, ",h.focused_days.avg_completion_rate,"% completion"]})]}),s.jsxs("div",{className:"bg-red-900/20 rounded-lg p-4 border border-red-700/50",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Fragmented Days (3+ areas)"}),s.jsxs("div",{className:"text-3xl font-bold text-red-400 mb-2",children:[h.fragmented_days.count," days"]}),s.jsxs("div",{className:"text-sm text-gray-300",children:["Avg: ",h.fragmented_days.avg_hours,"h, ",h.fragmented_days.avg_completion_rate,"% completion"]})]})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[s.jsx("strong",{children:"Estimated time lost to context switching:"})," ",Math.round(h.total_switching_cost_minutes/60)," hours (",h.total_switching_cost_minutes," minutes)"]})]})]})},Dxe=e=>{const{progressPercentage:t,overdueTasks:r,lastUpdated:n}=e,a=n?Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)):999;return t<20||r>3||a>7?"critical":t>=20&&t<40||r>=1&&r<=3||a>=3&&a<=7?"warning":"normal"},Mxe=e=>e==="critical"||e==="warning",FL=()=>Ie({queryKey:["review","dashboard"],queryFn:async()=>{const{data:{user:e},error:t}=await Z.auth.getUser();if(t)throw new Error("Authentication failed");if(!e)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("get_review_dashboard_summary",{p_user_id:e.id});if(n)throw console.error("Review dashboard query error:",n),n;console.log("Raw review dashboard data:",r);const a={"Full Stack":"BIZNESS",S4:"BIZNESS",808:"BIZNESS","Huge Capital":"BIZNESS",Personal:"DAILY",Golf:"GOLF",Health:"HEALTH"},i={DAILY:[],BIZNESS:[],CONTENT:[],HEALTH:[],FINANCES:[],LIFE:[],GOLF:[]};(r||[]).forEach(u=>{const d=a[u.area];d&&i[d]&&i[d].push(u)});const l=Object.entries(i).map(([u,d])=>{if(d.length===0)return{area:u,totalTasks:0,completedTasks:0,activeTasks:0,overdueTasks:0,progressPercentage:0,lastUpdated:null,lastUpdatedFormatted:"Never",hoursThisWeek:0,needsAttention:!1,priorityLevel:"normal"};const m=d.reduce((S,k)=>S+k.total_tasks,0),h=d.reduce((S,k)=>S+k.completed_tasks,0),g=d.reduce((S,k)=>S+k.active_tasks,0),y=d.reduce((S,k)=>S+k.overdue_tasks,0),v=d.reduce((S,k)=>S+(k.hours_this_week||0),0),_=m>0?Math.round(h/m*100):0,w=d.map(S=>S.last_updated?new Date(S.last_updated):null).filter(S=>S!==null).sort((S,k)=>k.getTime()-S.getTime())[0]||null,b=Dxe({progressPercentage:_,overdueTasks:y,lastUpdated:w});return{area:u,totalTasks:m,completedTasks:h,activeTasks:g,overdueTasks:y,progressPercentage:_,lastUpdated:w,lastUpdatedFormatted:w?tj(w,{addSuffix:!0}):"Never",hoursThisWeek:Math.round(v*10)/10,needsAttention:Mxe(b),priorityLevel:b}});return console.log("Enriched areas:",l),l.sort((u,d)=>{const m={critical:0,warning:1,normal:2};return m[u.priorityLevel]-m[d.priorityLevel]})},staleTime:6e4,gcTime:3e5,refetchInterval:12e4,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:2,retryDelay:1e3}),Pxe=()=>{const{data:e}=FL();if(!e||e.length===0)return{totalCritical:0,totalWarning:0,hasAttentionNeeded:!1,allClear:!0};const t=e.filter(i=>i.priorityLevel==="critical").length,r=e.filter(i=>i.priorityLevel==="warning").length,n=e.some(i=>i.needsAttention);return{totalCritical:t,totalWarning:r,hasAttentionNeeded:n,allClear:!n}},Rxe=(e,t)=>Ie({queryKey:["goals",e,t],queryFn:async()=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");let n=Z.from("goals").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});e&&(n=n.eq("area",e)),n=n.eq("status",t);const{data:a,error:i}=await n;if(i)throw i;return a}}),Ixe=e=>Ie({queryKey:["goal_targets",e],queryFn:async()=>{if(!e)throw new Error("Goal ID required");const{data:t,error:r}=await Z.from("goal_targets").select("*").eq("goal_id",e).order("created_at",{ascending:!0});if(r)throw r;return t},enabled:!!e}),Lxe=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.from("goals").insert({...t,user_id:r.id}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]})}})},$xe=()=>{const e=ut();return jt({mutationFn:async({id:t,...r})=>{const{data:n,error:a}=await Z.from("goals").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:["goals"]}),e.invalidateQueries({queryKey:["goals",r]})}})},Bxe=()=>{const e=ut();return jt({mutationFn:async t=>{const{error:r}=await Z.from("goals").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]})}})},zxe=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:r,error:n}=await Z.from("goal_checkins").insert(t).select().single();if(n)throw n;return r},onSuccess:(t,{goal_id:r})=>{e.invalidateQueries({queryKey:["goal_checkins",r]}),e.invalidateQueries({queryKey:["goals",r]}),e.invalidateQueries({queryKey:["pending_checkin",r]})}})},Fxe=e=>Ie({queryKey:["goal_progress",e?.id],queryFn:async()=>{if(!e)return null;const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");if(e.started_metric_value&&e.check_in_value&&e.primary_metric)try{const g=parseFloat(e.started_metric_value.toString().replace(/[^0-9.-]/g,"")),y=parseFloat(e.check_in_value.toString().replace(/[^0-9.-]/g,"")),v=parseFloat(e.primary_metric.replace(/[^0-9.-]/g,""));if(!isNaN(g)&&!isNaN(y)&&!isNaN(v)){let _=0;if(v<g){const b=g-v,S=g-y;_=b>0?S/b*100:0}else if(v>g){const b=v-g;_=(y-g)/b*100}else _=0;const w=Math.max(0,Math.min(100,_));return{goal_id:e.id,targets_hit:Math.round(y),targets_total:Math.round(v),completion_percentage:Math.round(w)}}}catch(g){console.error("Error calculating metric-based progress:",g)}const{data:r,error:n}=await Z.from("goal_targets").select("*").eq("goal_id",e.id);if(n)throw n;if(!r||r.length===0)return{goal_id:e.id,targets_hit:0,targets_total:0,completion_percentage:0};const{data:a,error:i}=await Z.from("goal_task_links").select("task_id, target_id, contribution_type").eq("goal_id",e.id);if(i)throw i;if(!a||a.length===0)return{goal_id:e.id,targets_hit:0,targets_total:r.length,completion_percentage:0};const l=a.map(g=>g.task_id),{data:u,error:d}=await Z.from("tasks").select("id, status, completed_at").in("id",l);if(d)throw d;if(!u)return{goal_id:e.id,targets_hit:0,targets_total:r.length,completion_percentage:0};const m=u.filter(g=>g.status==="Done").length,h=u.length>0?m/u.length*100:0;return{goal_id:e.id,targets_hit:m,targets_total:u.length,completion_percentage:Math.round(h)}},enabled:!!e,staleTime:5e3}),qxe=e=>Ie({queryKey:["area_goals_progress",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");let r=Z.from("goals").select("id, area").eq("user_id",t.id).eq("status","active");e&&(r=r.eq("area",e));const{data:n,error:a}=await r;if(a)throw a;if(!n||n.length===0)return{total_goals:0,total_progress:0,goals_on_track:0,average_progress:0};let i=0,l=0;for(const d of n){const{data:m}=await Z.from("goal_targets").select("id").eq("goal_id",d.id),{data:h}=await Z.from("goal_task_links").select("task_id").eq("goal_id",d.id);if(h&&h.length>0){const g=h.map(v=>v.task_id),{data:y}=await Z.from("tasks").select("status").in("id",g);if(y){const _=y.filter(w=>w.status==="Done").length/y.length*100;i+=_,_>=75&&l++}}}const u=n.length>0?Math.round(i/n.length):0;return{total_goals:n.length,total_progress:i,goals_on_track:l,average_progress:u}},staleTime:5e3}),Uxe=e=>Ie({queryKey:["area_vision",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t||!e)return null;const{data:r,error:n}=await Z.from("area_visions").select("*").eq("user_id",t.id).eq("area",e).single();if(n&&n.code==="PGRST116")return null;if(n)throw n;return r},enabled:!!e}),Hxe=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r}}=await Z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await Z.from("area_visions").upsert({user_id:r.id,area:t.area,vision_statement:t.vision_statement}).select().single();if(a)throw a;return n},onSuccess:(t,{area:r})=>{e.invalidateQueries({queryKey:["area_vision",r]}),e.invalidateQueries({queryKey:["area_visions"]})}})},Wxe=(e,t=!1)=>t?e<9?0:e<12?15:e<15?35:e<18?55:e<21?75:100:e<6?0:e<9?10:e<12?30:e<13?35:e<15?55:e<18?80:e<21?95:100,Yxe=(e,t)=>{const r=e-t;return r>=0?{status:r>=10?"ahead":"on-track",color:"green"}:r>=-20?{status:"behind",color:"yellow"}:{status:"critical",color:"red"}},Kxe=(e,t,r)=>{const n=Math.abs(e-t);switch(r){case"ahead":return`${n.toFixed(0)}% ahead of schedule!`;case"on-track":return"On track for the day";case"behind":return`${n.toFixed(0)}% behind schedule`;case"critical":return`${n.toFixed(0)}% behind - needs attention!`}},TM=e=>{const t=new Date,r=t.getHours(),n=t.getDay()===0||t.getDay()===6,a=Wxe(r,n),{status:i,color:l}=Yxe(e,a),u=Kxe(e,a,i);return{actualProgress:e,expectedProgress:a,status:i,color:l,message:u}},Gxe=()=>Ie({queryKey:["daily","area-summary"],queryFn:async()=>{const{data:{user:e},error:t}=await Z.auth.getUser();if(t)throw new Error("Authentication failed");if(!e)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("get_daily_area_summary",{p_user_id:e.id});if(n)throw console.error("Daily area summary query error:",n),n;if(!r||r.length===0)return{tasksDueToday:0,tasksCompletedToday:0,tasksOverdue:0,tasksDueTomorrow:0,dailyCompletionPercentage:0,deepWorkHoursToday:0,deepWorkTargetHours:6,deepWorkProgress:0,lastSessionArea:null,lastSessionDuration:null,lastSessionTimeAgo:null,nextScheduledTask:null,nextScheduledTime:null,nextScheduledTimeFormatted:null,nextScheduledArea:null,progressResult:TM(0)};const a=r[0],i=TM(a.daily_completion_percentage||0),l=a.last_session_start?tj(new Date(a.last_session_start),{addSuffix:!0}):null,u=a.next_scheduled_time?Vxe(a.next_scheduled_time):null,d=a.deep_work_target_hours>0?Math.round(a.deep_work_hours_today/a.deep_work_target_hours*100):0;return{tasksDueToday:a.tasks_due_today,tasksCompletedToday:a.tasks_completed_today,tasksOverdue:a.tasks_overdue,tasksDueTomorrow:a.tasks_due_tomorrow,dailyCompletionPercentage:a.daily_completion_percentage||0,deepWorkHoursToday:a.deep_work_hours_today||0,deepWorkTargetHours:a.deep_work_target_hours||6,deepWorkProgress:d,lastSessionArea:a.last_session_area,lastSessionDuration:a.last_session_duration,lastSessionTimeAgo:l,nextScheduledTask:a.next_scheduled_task,nextScheduledTime:a.next_scheduled_time,nextScheduledTimeFormatted:u,nextScheduledArea:a.next_scheduled_area,progressResult:i}},staleTime:3e4,gcTime:6e4,refetchInterval:6e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),Vxe=e=>{const[t,r]=e.split(":").map(Number),n=t>=12?"PM":"AM";return`${t%12||12}:${r.toString().padStart(2,"0")} ${n}`},Qxe=({onClick:e})=>{const{data:t,isLoading:r}=Gxe();if(r||!t)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-gray-700 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded"}),s.jsx("div",{className:"h-6 w-32 bg-gray-700 rounded"})]}),s.jsx("div",{className:"h-24 w-24 bg-gray-700 rounded-full mx-auto mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 w-full bg-gray-700 rounded"}),s.jsx("div",{className:"h-4 w-3/4 bg-gray-700 rounded"})]})]});const n={green:"border-green-500",yellow:"border-yellow-500",red:"border-red-500"}[t.progressResult.color],a={green:"bg-green-950/20",yellow:"bg-yellow-950/20",red:"bg-red-950/20"}[t.progressResult.color],i={green:"#22c55e",yellow:"#eab308",red:"#ef4444"}[t.progressResult.color],l=40,u=2*Math.PI*l,d=t.dailyCompletionPercentage,m=u-d/100*u;return s.jsxs("div",{className:`${a} rounded-lg p-6 border-2 ${n}
                  hover:border-blue-500 transition-all duration-300 cursor-pointer
                  transform hover:scale-105 hover:shadow-xl
                  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900`,onClick:e,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),e())},tabIndex:0,role:"button","aria-label":"View Daily details",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tn,{className:"text-blue-500",size:32,strokeWidth:2}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Daily"}),s.jsx("p",{className:"text-xs text-gray-400",children:t.progressResult.message})]})]})}),s.jsx("div",{className:"flex flex-col items-center mb-4",children:s.jsxs("div",{className:"relative w-32 h-32",children:[s.jsxs("svg",{className:"transform -rotate-90 w-32 h-32",children:[s.jsx("circle",{cx:"64",cy:"64",r:l,stroke:"#374151",strokeWidth:"8",fill:"none"}),s.jsx("circle",{cx:"64",cy:"64",r:l,stroke:i,strokeWidth:"8",fill:"none",strokeDasharray:u,strokeDashoffset:m,strokeLinecap:"round",className:"transition-all duration-500"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsxs("span",{className:"text-3xl font-bold text-white",children:[d.toFixed(0),"%"]}),s.jsx("span",{className:"text-xs text-gray-400",children:"complete"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(yl,{size:14,className:"text-blue-400"}),s.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Due Today"})]}),s.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.tasksCompletedToday," / ",t.tasksDueToday]})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(K1,{size:14,className:"text-purple-400"}),s.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Deep Work"})]}),s.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.deepWorkHoursToday.toFixed(1),"h / ",t.deepWorkTargetHours,"h"]})]})]}),t.tasksOverdue>0&&s.jsxs("div",{className:"mb-3 p-2 bg-red-900/30 border border-red-500 rounded flex items-center gap-2",children:[s.jsx(qa,{size:16,className:"text-red-400"}),s.jsxs("p",{className:"text-sm text-red-300",children:[t.tasksOverdue," overdue ",t.tasksOverdue===1?"task":"tasks"]})]}),t.lastSessionArea&&t.lastSessionDuration&&s.jsx("div",{className:"mb-3 p-2 bg-purple-950/30 border border-purple-700 rounded",children:s.jsxs("p",{className:"text-xs text-purple-300",children:["Last session: ",t.lastSessionDuration.toFixed(1),"h on ",t.lastSessionArea,t.lastSessionTimeAgo&&` (${t.lastSessionTimeAgo})`]})}),t.nextScheduledTask&&t.nextScheduledTimeFormatted&&s.jsxs("div",{className:"mb-3 p-2 bg-blue-950/30 border border-blue-700 rounded flex items-center gap-2",children:[s.jsx(Wn,{size:14,className:"text-blue-400"}),s.jsxs("p",{className:"text-xs text-blue-300",children:["Next: ",t.nextScheduledTask," at ",t.nextScheduledTimeFormatted]})]}),t.tasksDueTomorrow>0&&s.jsxs("div",{className:"mb-3 text-xs text-gray-400",children:[" ",t.tasksDueTomorrow," ",t.tasksDueTomorrow===1?"task":"tasks"," due tomorrow"]}),s.jsx("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3",children:s.jsxs("div",{className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"text-xs font-medium",children:"Plan Today"}),s.jsx(Ms,{size:16,className:"ml-1"})]})})]})},Xxe=()=>Ie({queryKey:["business","area-summary"],queryFn:async()=>{const{data:{user:e},error:t}=await Z.auth.getUser();if(t)throw new Error("Authentication failed");if(!e)throw new Error("Not authenticated");const{data:r,error:n}=await Z.rpc("get_business_area_summary",{p_user_id:e.id});if(n)throw console.error("Business area summary query error:",n),n;if(!r||r.length===0)return{totalTasks:0,completedTasks:0,activeTasks:0,overallCompletionPercentage:0,hoursThisWeek:0,overdueTasks:0};const a=r[0];return{totalTasks:a.total_tasks,completedTasks:a.completed_tasks,activeTasks:a.active_tasks,overallCompletionPercentage:a.overall_completion_percentage||0,hoursThisWeek:a.hours_this_week||0,overdueTasks:a.overdue_tasks}},staleTime:6e4,gcTime:3e5,refetchInterval:12e4,refetchOnWindowFocus:!0}),Zxe=({onClick:e})=>{const{data:t,isLoading:r}=Xxe();if(r||!t)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-gray-700 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded"}),s.jsx("div",{className:"h-6 w-32 bg-gray-700 rounded"})]}),s.jsx("div",{className:"h-20 bg-gray-700 rounded mb-4"})]});const n=t.overdueTasks>0||t.overallCompletionPercentage<40,a=n?"border-yellow-500":"border-purple-700",i=n?"bg-yellow-950/20":"bg-gray-800";return s.jsxs("div",{className:`${i} rounded-lg p-6 border-2 ${a}
                  hover:border-purple-500 transition-all duration-300 cursor-pointer
                  transform hover:scale-105 hover:shadow-xl
                  focus:outline-none focus:ring-2 focus:ring-purple-500`,onClick:e,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),e())},tabIndex:0,role:"button","aria-label":"View Business Projects details",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(F1,{className:"text-purple-500",size:32,strokeWidth:2}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Business Projects"}),s.jsx("p",{className:"text-xs text-gray-400",children:"All businesses aggregate"})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-3xl font-bold text-white",children:[t.overallCompletionPercentage.toFixed(0),"%"]}),s.jsxs("span",{className:"text-sm text-gray-400",children:[t.completedTasks," / ",t.totalTasks," tasks"]})]}),s.jsx(Gd,{progress:t.overallCompletionPercentage,size:"lg",showLabel:!1})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(yl,{size:14,className:"text-purple-400"}),s.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Active"})]}),s.jsx("p",{className:"text-lg font-semibold text-white",children:t.activeTasks})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Wn,{size:14,className:"text-blue-400"}),s.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"This Week"})]}),s.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.hoursThisWeek.toFixed(1),"h"]})]})]}),t.overdueTasks>0&&s.jsxs("div",{className:"mb-3 p-2 bg-red-900/30 border border-red-500 rounded flex items-center gap-2",children:[s.jsx(qa,{size:16,className:"text-red-400"}),s.jsxs("p",{className:"text-sm text-red-300",children:[t.overdueTasks," overdue ",t.overdueTasks===1?"task":"tasks"]})]}),s.jsx("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3",children:s.jsxs("div",{className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"text-xs font-medium",children:"View All Businesses"}),s.jsx(Ms,{size:16,className:"ml-1"})]})})]})},Jxe=()=>Ie({queryKey:["finances","area-summary"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await Z.rpc("get_finances_area_summary",{p_user_id:e.id});if(r)throw console.error("Error fetching finances summary:",r),r;if(!t||t.length===0)return{netWorth:0,monthlyRevenue:0,monthlyExpenses:0,monthlyBudget:0,budgetUsagePercentage:0,budgetStatus:"no_budget",budgetStatusColor:"gray",budgetStatusText:"No budget set",transactionsThisWeek:0,portfolioValue:null,portfolioMonthlyReturn:null,topCategories:[],activeGoals:[],unusualSpending:[],hasUnusualSpending:!1,remainingBudget:0};const n=t[0],a={no_budget:"gray",under:"green",approaching:"yellow",caution:"orange",over:"red"},i={no_budget:"No budget set",under:"Under budget",approaching:"Approaching limit",caution:"Budget caution",over:"Over budget!"},l=n.budget_status,u=n.unusual_spending||[];return{netWorth:n.net_worth||0,monthlyRevenue:n.monthly_revenue||0,monthlyExpenses:n.monthly_expenses||0,monthlyBudget:n.monthly_budget||0,budgetUsagePercentage:n.budget_usage_percentage||0,budgetStatus:l,budgetStatusColor:a[l],budgetStatusText:i[l],transactionsThisWeek:n.transactions_this_week||0,portfolioValue:n.portfolio_value,portfolioMonthlyReturn:n.portfolio_monthly_return,topCategories:n.top_categories||[],activeGoals:n.active_goals||[],unusualSpending:u,hasUnusualSpending:u.length>0,remainingBudget:(n.monthly_budget||0)-(n.monthly_expenses||0)}},staleTime:12e4,refetchOnWindowFocus:!0,retry:1,retryDelay:1e3}),AM=()=>s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-yellow-500 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-32 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-48"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-20 bg-gray-700 rounded"}),s.jsx("div",{className:"h-16 bg-gray-700 rounded"}),s.jsx("div",{className:"h-12 bg-gray-700 rounded"})]})]}),eve=({onClick:e})=>{const{data:t,isLoading:r,error:n}=Jxe();if(r)return s.jsx(AM,{});if(n&&console.error("FinancesAreaCard error:",n),!t)return s.jsx(AM,{});console.log("Net Worth from API:",t.netWorth);const a={gray:"border-gray-500",green:"border-green-500",yellow:"border-yellow-500",orange:"border-orange-500",red:"border-red-500"}[t.budgetStatusColor],i={gray:"bg-gray-500",green:"bg-green-500",yellow:"bg-yellow-500",orange:"bg-orange-500",red:"bg-red-500"}[t.budgetStatusColor],l=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(h),u=t.portfolioValue!==null&&t.portfolioValue>0,d=t.activeGoals.length>0,m=t.budgetStatus!=="no_budget";return s.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 border-2 ${a}
                  hover:border-yellow-400 transition-all duration-300 cursor-pointer
                  transform hover:scale-[1.02] hover:shadow-xl`,onClick:e,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W1,{className:"text-yellow-500",size:32}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"FINANCES"}),s.jsxs("p",{className:"text-sm text-gray-400",children:[t.transactionsThisWeek," transaction",t.transactionsThisWeek!==1?"s":""," this week"]})]})]}),t.budgetStatus==="over"&&s.jsx(qa,{className:"text-red-500 animate-pulse",size:24})]}),s.jsxs("div",{className:"mb-4 text-center p-4 bg-gray-900 rounded-lg border border-gray-700",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1 tracking-wide",children:"Net Worth"}),s.jsx("p",{className:"text-3xl font-bold text-white",children:l(t.netWorth)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"p-3 bg-green-950/30 border border-green-500/50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-green-400 uppercase mb-1",children:"Revenue"}),s.jsx("p",{className:"text-lg font-bold text-green-300",children:l(t.monthlyRevenue)})]}),s.jsxs("div",{className:"p-3 bg-red-950/30 border border-red-500/50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-red-400 uppercase mb-1",children:"Expenses"}),s.jsx("p",{className:"text-lg font-bold text-red-300",children:l(t.monthlyExpenses)})]})]}),m?s.jsxs("div",{className:"mb-4 p-3 bg-gray-900 rounded-lg border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-300",children:t.budgetStatusText}),s.jsxs("span",{className:"text-sm font-semibold text-white",children:[t.budgetUsagePercentage.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${i}`,style:{width:`${Math.min(t.budgetUsagePercentage,100)}%`}})}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:t.remainingBudget>=0?s.jsxs(s.Fragment,{children:[l(t.remainingBudget)," remaining"]}):s.jsxs("span",{className:"text-red-400 font-semibold",children:[l(Math.abs(t.remainingBudget))," over budget"]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Budget: ",l(t.monthlyBudget)]})]})]}):s.jsx("div",{className:"mb-4 p-3 bg-gray-900/50 rounded-lg border border-gray-700 text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"No budget configured"})}),u&&s.jsx("div",{className:"mb-4 p-3 bg-gray-900 rounded-lg border border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Portfolio"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:l(t.portfolioValue)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[t.portfolioMonthlyReturn!==null&&t.portfolioMonthlyReturn>0?s.jsx(Hn,{className:"text-green-500",size:20}):t.portfolioMonthlyReturn!==null&&t.portfolioMonthlyReturn<0?s.jsx(hf,{className:"text-red-500",size:20}):s.jsx(w4,{className:"text-gray-500",size:20}),s.jsx("span",{className:`text-sm font-bold ${t.portfolioMonthlyReturn!==null&&t.portfolioMonthlyReturn>0?"text-green-400":t.portfolioMonthlyReturn!==null&&t.portfolioMonthlyReturn<0?"text-red-400":"text-gray-400"}`,children:t.portfolioMonthlyReturn!==null?s.jsxs(s.Fragment,{children:[t.portfolioMonthlyReturn>0?"+":"",t.portfolioMonthlyReturn.toFixed(1),"%"]}):"0.0%"})]})]})}),t.topCategories.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2 font-semibold",children:"Top Spending"}),s.jsx("div",{className:"space-y-2",children:t.topCategories.slice(0,3).map((h,g)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:h.category}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-medium",children:l(h.amount)}),s.jsxs("span",{className:"text-gray-500 text-xs",children:["(",h.percentage,"%)"]})]})]},g))})]}),d&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2 font-semibold",children:"Active Goals"}),s.jsx("div",{className:"space-y-2",children:t.activeGoals.slice(0,2).map((h,g)=>s.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-gray-400 font-medium",children:h.name}),s.jsxs("span",{className:"text-white font-semibold",children:[h.progress.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5 overflow-hidden",children:s.jsx("div",{className:"h-1.5 rounded-full bg-green-500 transition-all duration-500",style:{width:`${Math.min(h.progress,100)}%`}})}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[s.jsxs("span",{className:"text-gray-600",children:[l(h.current)," / ",l(h.target)]}),h.deadline&&s.jsx("span",{className:"text-gray-600",children:new Date(h.deadline).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})]},g))})]}),t.hasUnusualSpending&&s.jsxs("div",{className:"mb-4 p-3 bg-orange-950/30 border border-orange-500 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qa,{className:"text-orange-500",size:16}),s.jsx("p",{className:"text-xs text-orange-400 uppercase font-semibold",children:"Unusual Spending"})]}),t.unusualSpending.slice(0,2).map((h,g)=>s.jsxs("p",{className:"text-sm text-orange-300 mb-1",children:[h.category,": ",l(h.current),s.jsxs("span",{className:"text-orange-500 font-semibold ml-1",children:["(+",h.increase_percentage,"%)"]})]},g))]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3 mt-2",children:[s.jsx("button",{className:`px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg\r
                     text-sm font-semibold transition-colors shadow-md hover:shadow-lg`,onClick:h=>{h.stopPropagation(),e?.()},children:"Review Transactions"}),s.jsxs("div",{className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"text-sm",children:"View Details"}),s.jsx(Ms,{size:16,className:"ml-1"})]})]})]})},tve=()=>s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-10 w-80 bg-gray-700 rounded-lg animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-64 bg-gray-700 rounded animate-pulse"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-4 w-32 bg-gray-700 rounded animate-pulse"}),s.jsx("div",{className:"h-10 w-10 bg-gray-700 rounded-lg animate-pulse"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(7)].map((e,t)=>s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-gray-700 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded"}),s.jsx("div",{className:"h-6 w-32 bg-gray-700 rounded"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"h-8 w-16 bg-gray-700 rounded"}),s.jsx("div",{className:"h-4 w-20 bg-gray-700 rounded"})]}),s.jsx("div",{className:"w-full h-3 bg-gray-700 rounded-full"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-3 w-20 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-6 w-12 bg-gray-700 rounded"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"h-3 w-24 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-6 w-16 bg-gray-700 rounded"})]})]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3",children:[s.jsx("div",{className:"h-3 w-24 bg-gray-700 rounded"}),s.jsx("div",{className:"h-3 w-20 bg-gray-700 rounded"})]})]},t))})]}),rve=({title:e,icon:t,color:r,message:n,onClick:a})=>s.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 border-2 border-${r}-700
                  hover:border-${r}-500 transition-all duration-300 cursor-pointer
                  transform hover:scale-105 hover:shadow-xl opacity-70
                  focus:outline-none focus:ring-2 focus:ring-${r}-500`,onClick:a,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),a())},tabIndex:0,role:"button","aria-label":`View ${e} details`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(t,{className:`text-${r}-500`,size:32,strokeWidth:2}),s.jsx("div",{children:s.jsx("h3",{className:"text-xl font-bold text-white",children:e})})]}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:n}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Coming soon"})]}),s.jsx("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3",children:s.jsxs("div",{className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"text-xs font-medium",children:"View Details"}),s.jsx(Ms,{size:16,className:"ml-1"})]})})]}),nve=[{area:"DAILY",icon:tn,color:"blue",route:"/daily",displayName:"Daily"},{area:"BIZNESS",icon:F1,color:"purple",route:"/business",displayName:"Business Projects"},{area:"CONTENT",icon:J9,color:"red",route:"/content",displayName:"Content Library"},{area:"HEALTH",icon:d9,color:"green",route:"/health",displayName:"Health Focus"},{area:"FINANCES",icon:W1,color:"yellow",route:"/finances",displayName:"Finances"},{area:"LIFE",icon:m9,color:"pink",route:"/life",displayName:"Life"},{area:"GOLF",icon:a9,color:"orange",route:"/golf",displayName:"Golf"}],ave={Health:{name:"Health",color:"emerald",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30",textColor:"text-emerald-400",hoverBg:"hover:bg-emerald-500/20"},Relationships:{name:"Relationships",color:"pink",bgColor:"bg-pink-500/10",borderColor:"border-pink-500/30",textColor:"text-pink-400",hoverBg:"hover:bg-pink-500/20"},Finance:{name:"Finance",color:"amber",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",textColor:"text-amber-400",hoverBg:"hover:bg-amber-500/20"},"Full Stack":{name:"Full Stack",color:"purple",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/30",textColor:"text-purple-400",hoverBg:"hover:bg-purple-500/20"},"Huge Capital":{name:"Huge Capital",color:"violet",bgColor:"bg-violet-500/10",borderColor:"border-violet-500/30",textColor:"text-violet-400",hoverBg:"hover:bg-violet-500/20"},S4:{name:"S4",color:"cyan",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30",textColor:"text-cyan-400",hoverBg:"hover:bg-cyan-500/20"}},sve=e=>ave[e],EM=({progress:e,showPercentage:t=!0,size:r="md"})=>{const n=Math.min(Math.max(e,0),100),a=l=>l>=75?"bg-green-500":l>=50?"bg-yellow-500":l>=25?"bg-orange-500":"bg-red-500",i={sm:"h-1",md:"h-2",lg:"h-3"}[r];return s.jsxs("div",{children:[s.jsx("div",{className:`w-full bg-gray-700 rounded-full overflow-hidden ${i}`,children:s.jsx("div",{className:`${a(n)} ${i} rounded-full transition-all duration-300`,style:{width:`${n}%`}})}),t&&s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Math.round(n),"% complete"]})]})};function ive(e=new Date){const t=new Date(e),r=t.getDay(),n=t.getDate()-r;return new Date(t.setDate(n)).toISOString().split("T")[0]}const ove=(e=!0)=>Ie({queryKey:["goals_needing_checkin"],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");const r=new Date;if(!(r.getDay()===0))return{isCheckInDay:!1,goals:[]};const a=ive(r),{data:i,error:l}=await Z.from("goals").select("*").eq("user_id",t.id).eq("status","active");if(l)throw l;if(!i)return{isCheckInDay:!0,goals:[]};const u=[];for(const d of i){const{data:m}=await Z.from("goal_checkins").select("id").eq("goal_id",d.id).eq("checkin_date",a).single();m||u.push(d)}return{isCheckInDay:!0,goals:u,sundayDate:a}},enabled:e,staleTime:6e4}),lve=(e,t,r)=>Ie({queryKey:["monthly_checkin_summary",e,t,r],queryFn:async()=>{if(!e)throw new Error("Goal ID required");const n=new Date,a=t||n.getFullYear(),i=r!==void 0?r:n.getMonth(),l=new Date(a,i,1).toISOString().split("T")[0],u=new Date(a,i+1,0).toISOString().split("T")[0],{data:d,error:m}=await Z.from("goal_checkins").select("*").eq("goal_id",e).gte("checkin_date",l).lte("checkin_date",u).order("checkin_date",{ascending:!0});if(m)throw m;if(!d||d.length===0)return{checkIns:[],averageProgress:0,totalCheckIns:0,bestWeek:null,trend:"stable"};const h=d.reduce((k,C)=>k+(C.overall_percentage||0),0),g=Math.round(h/d.length),y=d.reduce((k,C)=>(C.overall_percentage||0)>(k.overall_percentage||0)?C:k),v=d.slice(0,Math.ceil(d.length/2)),_=d.slice(Math.ceil(d.length/2)),w=v.reduce((k,C)=>k+(C.overall_percentage||0),0)/v.length,b=_.reduce((k,C)=>k+(C.overall_percentage||0),0)/_.length;let S="stable";return b>w+5&&(S="improving"),b<w-5&&(S="declining"),{checkIns:d,averageProgress:g,totalCheckIns:d.length,bestWeek:y,trend:S}},enabled:!!e}),cve=({goalId:e,year:t,month:r})=>{const{data:n,isLoading:a}=lve(e,t,r);if(a)return s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 animate-pulse h-40"});if(!n||n.totalCheckIns===0)return s.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6 text-center",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"No check-ins this month yet"})});const l=n.trend==="improving"?Hn:hf,u=n.trend==="improving"?"text-green-400":n.trend==="declining"?"text-red-400":"text-yellow-400";return s.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 to-blue-900/5 border border-blue-700/30 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-white",children:"Monthly Summary"}),s.jsxs("div",{className:`flex items-center gap-2 ${u}`,children:[s.jsx(l,{size:18}),s.jsx("span",{className:"text-xs font-medium capitalize",children:n.trend})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Check-Ins"}),s.jsx("p",{className:"text-xl font-bold text-white",children:n.totalCheckIns})]}),s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Avg Progress"}),s.jsxs("p",{className:"text-xl font-bold text-blue-400",children:[n.averageProgress,"%"]})]}),s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Best Week"}),s.jsxs("p",{className:"text-xl font-bold text-green-400",children:[n.bestWeek?.overall_percentage||0,"%"]})]})]}),s.jsxs("div",{className:"text-xs text-gray-400 border-t border-gray-700 pt-3",children:[n.trend==="improving"&&s.jsx("p",{className:"text-green-400/80",children:"Great momentum! Your progress is increasing week over week."}),n.trend==="declining"&&s.jsx("p",{className:"text-red-400/80",children:"Progress is declining. Consider adjusting your approach or targets."}),n.trend==="stable"&&s.jsx("p",{className:"text-yellow-400/80",children:"Progress is stable. Keep maintaining this pace or push for improvement."})]})]})},Qo=e=>{if(!e)return"";const t=e.toString().replace(/[^0-9.]/g,"");if(!t)return"";const[r,n]=t.split("."),a=parseInt(r||"0").toLocaleString();return n?`${a}.${n}`:a},uve=({goal:e,onCheckIn:t})=>{const[r,n]=x.useState(!1),[a,i]=x.useState(!1),[l,u]=x.useState(!1),[d,m]=x.useState(!1),[h,g]=x.useState(0),[y,v]=x.useState(e.goal_statement),[_,w]=x.useState(wr(ot(e.created_at)||new Date)),[b,S]=x.useState(wr(ot(e.target_date)||new Date)),[k,C]=x.useState(e.primary_metric),[A,E]=x.useState(e.metric_unit||""),[M,T]=x.useState(e.started_metric_value||""),[D,L]=x.useState(e.check_in_value||""),[B,z]=x.useState(e.check_in_date?wr(ot(e.check_in_date)||new Date):""),F=x.useRef(null),{data:G,isLoading:V}=Fxe(e),{data:Y}=ove(),$=Bxe(),ee=$xe(),J=Y?.isCheckInDay&&Y?.goals?.some(te=>te.id===e.id),W=Math.ceil((new Date(e.target_date).getTime()-new Date().getTime())/(1e3*60*60*24));x.useEffect(()=>()=>{F.current&&clearTimeout(F.current)},[]),x.useEffect(()=>{d||(v(e.goal_statement),w(wr(ot(e.created_at)||new Date)),S(wr(ot(e.target_date)||new Date)),C(e.primary_metric),E(e.metric_unit||""),T(e.started_metric_value||""),L(e.check_in_value||""),z(e.check_in_date?wr(ot(e.check_in_date)||new Date):""))},[e,d]);const U=()=>{g(te=>te+1),F.current&&clearTimeout(F.current),h===0?F.current=setTimeout(()=>{g(0)},300):h===1&&(u(!0),g(0))},P=async()=>{if(y.trim()&&y!==e.goal_statement)try{await ee.mutateAsync({id:e.id,goal_statement:y.trim()})}catch(te){console.error("Error updating goal:",te),alert("Failed to update goal. Please try again."),v(e.goal_statement)}u(!1)},H=async()=>{try{const te={id:e.id};y.trim()!==e.goal_statement&&(te.goal_statement=y.trim()),_!==wr(ot(e.created_at)||new Date)&&(te.created_at=`${_}T12:00:00+00:00`),b!==wr(ot(e.target_date)||new Date)&&(te.target_date=b),k!==e.primary_metric&&(te.primary_metric=k),A!==(e.metric_unit||"")&&(te.metric_unit=A||null),M!==(e.started_metric_value||"")&&(te.started_metric_value=M||null),D!==(e.check_in_value||"")&&(te.check_in_value=D||null),B!==(e.check_in_date?wr(ot(e.check_in_date)||new Date):"")&&(te.check_in_date=B||null),Object.keys(te).length>1&&await ee.mutateAsync(te)}catch(te){console.error("Error updating goal:",te),alert("Failed to update goal. Please try again.")}m(!1)},Q=()=>{v(e.goal_statement),w(wr(ot(e.created_at)||new Date)),S(wr(ot(e.target_date)||new Date)),C(e.primary_metric),E(e.metric_unit||""),T(e.started_metric_value||""),L(e.check_in_value||""),z(e.check_in_date?wr(ot(e.check_in_date)||new Date):""),m(!1)},ne=async()=>{if(!a){i(!0);return}try{await $.mutateAsync(e.id)}catch(te){console.error("Error deleting goal:",te),alert("Failed to delete goal. Please try again.")}i(!1)};if(V)return s.jsx("div",{className:"bg-gradient-to-br from-purple-900/20 to-purple-900/5 border border-purple-700/30 rounded-lg p-6 animate-pulse h-40"});const ge=G?.completion_percentage||0,be=sve(e.area);return s.jsxs("div",{className:`rounded-lg p-4 transition-all duration-300 ${be.bgColor} border ${be.borderColor} hover:${be.hoverBg} hover:shadow-lg hover:shadow-${be.borderColor}/30 backdrop-blur-sm`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"flex-1",children:l?s.jsxs("div",{className:"space-y-1",children:[s.jsx("textarea",{value:y,onChange:te=>v(te.target.value),autoFocus:!0,className:"w-full px-3 py-2 bg-gray-800 border border-blue-500/50 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:P,disabled:ee.isPending,className:"px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white rounded transition-colors",children:ee.isPending?"Saving...":"Save"}),s.jsx("button",{onClick:()=>{u(!1),v(e.goal_statement)},className:"px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Cancel"})]})]}):s.jsx("h4",{onClick:U,className:"font-bold text-base text-white cursor-pointer hover:text-blue-200 transition-colors duration-200 leading-snug",title:"Click twice to edit",children:e.goal_statement})}),!l&&s.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[!d&&s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-blue-300 bg-clip-text text-transparent",children:[ge,"%"]}),s.jsx("p",{className:"text-xs text-gray-400 font-medium leading-none",children:"progress"})]}),s.jsx("button",{onClick:()=>m(!0),className:"p-2 hover:bg-blue-600/20 rounded transition-colors text-blue-400 hover:text-blue-300 disabled:opacity-50",title:"Edit goal details",children:s.jsx(op,{size:18})}),d&&s.jsx("button",{onClick:ne,disabled:$.isPending,className:"p-2 hover:bg-red-600/20 rounded transition-colors text-red-400 hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",title:a?"Click again to confirm delete":"Delete this goal",children:s.jsx(Fa,{size:18})})]})]}),a&&s.jsxs("div",{className:"bg-red-900/20 border border-red-700/50 rounded p-3 mb-4 flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-red-300",children:"Are you sure? This cannot be undone."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i(!1),className:"px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ne,disabled:$.isPending,className:"px-3 py-1 text-xs bg-red-600 hover:bg-red-700 disabled:bg-red-600/50 text-white rounded transition-colors disabled:cursor-not-allowed",children:$.isPending?"Deleting...":"Delete"})]})]}),d?s.jsxs("div",{className:"space-y-3 mb-3 pb-3 border-b border-gray-700/50",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Goal Statement"}),s.jsx("input",{type:"text",value:y,onChange:te=>v(te.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Goal"}),s.jsx("input",{type:"text",value:k,onChange:te=>C(te.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Started Date"}),s.jsx("input",{type:"date",value:_,onChange:te=>w(te.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Started At"}),s.jsx("input",{type:"text",value:M,onChange:te=>T(te.target.value),placeholder:"Starting value",className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Goal Date"}),s.jsx("input",{type:"date",value:b,onChange:te=>S(te.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Metric Unit"}),s.jsx("input",{type:"text",value:A,onChange:te=>E(te.target.value),placeholder:"e.g., $, %, lbs",className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Check In Date"}),s.jsx("input",{type:"date",value:B,onChange:te=>z(te.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Check In"}),s.jsx("input",{type:"text",value:D,onChange:te=>L(te.target.value),placeholder:"Current value",className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx("button",{onClick:H,disabled:ee.isPending,className:"flex-1 px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white rounded transition-colors",children:ee.isPending?"Saving...":"Save"}),s.jsx("button",{onClick:Q,className:"flex-1 px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Cancel"})]})]}):s.jsxs("div",{className:"space-y-2 mb-2 pb-2 border-b border-gray-700/50",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Target"}),s.jsx("p",{className:"text-white font-medium text-sm",children:Ne(ot(e.target_date)||new Date,"MMM d, yyyy")})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Started"}),s.jsx("p",{className:"text-white font-medium text-sm",children:Ne(ot(e.created_at)||new Date,"MMM d, yyyy")})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Last Check"}),s.jsx("p",{className:"text-white font-medium text-sm",children:e.check_in_date?Ne(ot(e.check_in_date)||new Date,"MMM d, yyyy"):""})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Goal"}),s.jsxs("p",{className:"text-white font-medium text-sm",children:[e.metric_unit?`${e.metric_unit}`:"",Qo(e.primary_metric)]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Started"}),s.jsxs("p",{className:"text-white font-medium text-sm",children:[e.metric_unit?`${e.metric_unit}`:"",Qo(e.started_metric_value)]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Current"}),s.jsxs("p",{className:"text-white font-medium text-sm",children:[e.metric_unit?`${e.metric_unit}`:"",Qo(e.check_in_value)]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{children:(()=>{const te=parseFloat(e.started_metric_value?.toString().replace(/[^0-9.-]/g,"")||"0"),Se=parseFloat(e.check_in_value?.toString().replace(/[^0-9.-]/g,"")||"0"),ce=Math.max(0,te-Se);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-400 w-12 text-right",children:[e.metric_unit?`${e.metric_unit}`:"",Qo(e.started_metric_value)]}),s.jsx("div",{className:"relative flex-1",children:s.jsxs("div",{className:"relative h-3 bg-gray-700 rounded-full overflow-visible",children:[s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 rounded-full transition-all duration-300 flex items-center relative",style:{width:`${Math.min(100,ge)}%`},children:ge>15&&s.jsxs("span",{className:"text-xs font-bold text-white ml-1 whitespace-nowrap",children:[e.metric_unit?`${e.metric_unit}`:"",Qo(ce.toString())]})}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-green-400 rounded-full border-2 border-white shadow-lg transition-all duration-300",style:{left:`${Math.min(100,ge)}%`,transform:"translate(-50%, -50%)"},title:`${ge}%`}),ge<85&&s.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 text-xs font-bold text-gray-300 whitespace-nowrap ml-1",style:{left:`${Math.min(100,ge)+2}%`},children:[e.metric_unit?`${e.metric_unit}`:"",Qo(e.check_in_value)]})]})}),s.jsxs("span",{className:"text-xs text-gray-400 w-12",children:[e.metric_unit?`${e.metric_unit}`:"",Qo(e.primary_metric)]})]})})()}),e.created_at&&e.target_date&&s.jsx("div",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-400 w-12 text-right",children:Ne(ot(e.created_at)||new Date,"MMM d")}),s.jsx("div",{className:"relative flex-1",children:s.jsx("div",{className:"relative h-3 bg-gray-700 rounded-full overflow-visible",children:(()=>{const te=(ot(e.created_at)||new Date).getTime(),Se=(ot(e.target_date)||new Date).getTime(),ce=new Date().getTime(),pe=Se-te,ke=Math.max(0,ce-te),de=pe>0?ke/pe*100:0;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-400 rounded-full transition-all duration-300 flex items-center relative",style:{width:`${Math.min(100,de)}%`},children:de>15&&s.jsxs("span",{className:"text-xs font-bold text-white ml-1 whitespace-nowrap",children:[Math.ceil(ke/(1e3*60*60*24)),"d"]})}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-blue-400 rounded-full border-2 border-white shadow-lg transition-all duration-300",style:{left:`${Math.min(100,de)}%`,transform:"translate(-50%, -50%)"},title:`${W>0?`${W}d left`:"Overdue"}`}),de<85&&s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 text-xs font-bold text-blue-300 whitespace-nowrap ml-1",style:{left:`${Math.min(100,de)+2}%`},children:W>0?`${W}d`:"Overdue"})]})})()})}),s.jsx("span",{className:"text-xs text-gray-400 w-12",children:Ne(ot(e.target_date)||new Date,"MMM d")})]})}),G&&G.targets_total>0&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 bg-gray-800/30 rounded px-2 py-1.5",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Linked to tasks"})]})]}),s.jsxs("div",{className:`border-t ${be.borderColor} mt-3 pt-3`,children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center justify-between w-full text-xs font-medium text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{children:"This Month's Trend"}),s.jsx(xo,{size:14,className:`transition-transform duration-200 ${r?"rotate-180":""}`})]}),r&&s.jsx("div",{className:"mt-2",children:s.jsx(cve,{goalId:e.id})})]}),J&&s.jsx("div",{className:"border-t border-gray-700/30 mt-3 pt-3",children:s.jsxs("div",{className:"bg-gradient-to-br from-orange-500/15 via-amber-500/10 to-yellow-500/5 border border-orange-500/40 rounded-lg p-3 flex items-center justify-between hover:border-orange-500/60 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"p-1.5 bg-orange-500/20 rounded",children:s.jsx(pl,{size:16,className:"text-orange-400"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs font-bold text-orange-100 leading-none",children:"Check-In Needed"}),s.jsx("p",{className:"text-xs text-orange-300/80 leading-tight",children:"Update progress"})]})]}),t&&s.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1.5 text-xs font-semibold bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white rounded transition-all duration-200 whitespace-nowrap ml-2 shadow-lg hover:shadow-orange-500/30 hover:scale-105",children:"Check In"})]})})]})},dve=["Health","Relationships","Finance","Full Stack","Huge Capital","S4"],fve=({onSuccess:e,onCancel:t})=>{const r=Lxe(),[n,a]=x.useState({area:"Health",goal_statement:"",target_date:"",primary_metric:"",metric_unit:"",metric_type:"numeric"}),i=async u=>{u.preventDefault();try{await r.mutateAsync(n),e?.()}catch(d){console.error("Failed to create goal:",d)}},l=u=>{const{name:d,value:m}=u.target;a(h=>({...h,[d]:m}))};return s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Life Area"}),s.jsx("select",{name:"area",value:n.area,onChange:l,className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg\r
                   focus:outline-none focus:ring-2 focus:ring-blue-500`,children:dve.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Goal Statement"}),s.jsx("textarea",{name:"goal_statement",value:n.goal_statement,onChange:l,placeholder:"e.g., Be physically fit and proud of how I look",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-3 rounded-lg\r
                   focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`,rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Date"}),s.jsx("input",{type:"date",name:"target_date",value:n.target_date,onChange:l,className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg\r
                   focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Primary Metric"}),s.jsx("input",{type:"text",name:"primary_metric",value:n.primary_metric,onChange:l,placeholder:"e.g., 10-15% body fat",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg\r
                   focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Unit (optional)"}),s.jsx("input",{type:"text",name:"metric_unit",value:n.metric_unit,onChange:l,placeholder:"e.g., %, lbs, $",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg\r
                   focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Metric Type"}),s.jsxs("select",{name:"metric_type",value:n.metric_type,onChange:l,className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg\r
                   focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[s.jsx("option",{value:"numeric",children:"Numeric (trackable)"}),s.jsx("option",{value:"qualitative",children:"Qualitative (reflection-based)"})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"submit",disabled:r.isPending,className:`flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white\r
                   rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500`,children:r.isPending?"Creating...":"Create Goal"}),s.jsx("button",{type:"button",onClick:t,className:`flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium\r
                   transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500`,children:"Cancel"})]}),r.error&&s.jsx("div",{className:"p-3 bg-red-900/20 border border-red-700 rounded-lg text-red-300 text-sm",children:r.error.message})]})},hve=({goalId:e,goalArea:t,goalStatement:r,targets:n=[],onClose:a,onSuccess:i})=>{const l=zxe(),{data:u=[]}=Ixe(e),[d,m]=x.useState(0),[h,g]=x.useState(0),[y,v]=x.useState({feeling_question:"",sustainability_question:"yes",obstacles_notes:""}),_=n.length>0?n:u,w=new Date,b=w.getDay(),S=new Date(w);S.setDate(w.getDate()-(b||7));const k=S.toISOString().split("T")[0];x.useEffect(()=>{e&&(async()=>{try{const{data:E,error:M}=await Z.from("goal_task_links").select("task_id").eq("goal_id",e);if(M)throw M;if(!E||E.length===0){m(0),g(_.length);return}const T=E.map(z=>z.task_id),{data:D,error:L}=await Z.from("tasks").select("id, status").in("id",T);if(L)throw L;if(!D){m(0),g(_.length);return}const B=D.filter(z=>z.status==="Done").length;m(B),g(_.length||D.length)}catch(E){console.error("Failed to calculate targets hit:",E),m(0),g(_.length)}})()},[e,_.length]);const C=async A=>{A.preventDefault();try{await l.mutateAsync({goal_id:e,checkin_date:k,targets_hit:d,targets_total:h,overall_percentage:d/h*100,feeling_question:y.feeling_question,sustainability_question:y.sustainability_question,obstacles_notes:y.obstacles_notes,metric_snapshot:{targets_hit:d,targets_total:h}}),i?.()}catch(E){console.error("Failed to create check-in:",E)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700 sticky top-0 bg-gray-900",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white",children:[t," Goal - Weekly Check-In"]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r})]}),s.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:s.jsx(Ht,{size:24,className:"text-gray-400"})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-8",children:[s.jsx("div",{className:"bg-gray-800/30 border border-gray-700 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-gray-400",children:["Week of ",k," (Sunday)"]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Target Metrics Progress"}),s.jsx("div",{className:"space-y-4",children:_.map((A,E)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:A.target_name}),s.jsx("span",{className:"text-sm text-gray-400",children:A.frequency==="weekly"?`${Math.min(E+1,A.target_value)}/${A.target_value}`:""})]}),A.frequency==="weekly"&&s.jsx(EM,{progress:Math.min(E+1,A.target_value)/A.target_value*100,showPercentage:!1})]},A.id))}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white font-semibold",children:"Overall Score"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-300",children:[Math.round(d/h*100),"%"]})]}),s.jsx(EM,{progress:d/h*100,showPercentage:!1,size:"lg"})]})]}),s.jsxs("div",{className:"space-y-6 border-t border-gray-700 pt-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"How are you feeling about this week?"}),s.jsx("textarea",{value:y.feeling_question,onChange:A=>v(E=>({...E,feeling_question:A.target.value})),placeholder:"Share your thoughts...",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-3 rounded-lg\r
                         focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`,rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Is this pace sustainable?"}),s.jsx("div",{className:"flex gap-4",children:["yes","no","adjust"].map(A=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"sustainability",value:A,checked:y.sustainability_question===A,onChange:E=>v(M=>({...M,sustainability_question:E.target.value})),className:"w-4 h-4"}),s.jsx("span",{className:"text-gray-300 capitalize",children:A})]},A))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Any obstacles or wins to note?"}),s.jsx("textarea",{value:y.obstacles_notes,onChange:A=>v(E=>({...E,obstacles_notes:A.target.value})),placeholder:"What helped you succeed? What got in the way?",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-3 rounded-lg\r
                         focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`,rows:3})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-700",children:[s.jsx("button",{type:"submit",disabled:l.isPending,className:`flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white\r
                       rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500`,children:l.isPending?"Saving...":"Save Check-In"}),s.jsx("button",{type:"button",onClick:a,className:`flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium\r
                       transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500`,children:"Cancel"})]}),l.error&&s.jsx("div",{className:"p-3 bg-red-900/20 border border-red-700 rounded-lg text-red-300 text-sm",children:l.error.message})]})]})})},mve=[{id:"full-stack",label:"Full Stack",gradient:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},{id:"huge-capital",label:"Huge Capital",gradient:"linear-gradient(135deg, #a855f7 0%, #7e22ce 100%)"},{id:"s4",label:"S4",gradient:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"}],gve=[{id:"personal",label:"Personal",gradient:"linear-gradient(135deg, #ec4899 0%, #be185d 100%)"},{id:"health",label:"Health",gradient:"linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)"},{id:"finance",label:"Finance",gradient:"linear-gradient(135deg, #f97316 0%, #c2410c 100%)"},{id:"golf",label:"Golf",gradient:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"}],Xb=e=>({"full-stack":"Full Stack","huge-capital":"Huge Capital",s4:"S4",personal:"Personal",health:"Health",finance:"Finance",golf:"Golf"})[e]||e,pve=({onNavigate:e})=>{const{data:t,isLoading:r,refetch:n,dataUpdatedAt:a,isFetching:i}=FL(),{totalCritical:l,totalWarning:u,hasAttentionNeeded:d,allClear:m}=Pxe(),[h,g]=x.useState(null),[y,v]=x.useState(!1),[_,w]=x.useState(!1),[b,S]=x.useState(null),[k,C]=x.useState(""),[A,E]=x.useState(!1),M=W=>W?{"full-stack":"Full Stack","huge-capital":"Huge Capital",s4:"S4",personal:"Relationships",health:"Health",finance:"Finance"}[W]:void 0,T=h?M(h):void 0,{data:D}=Uxe(T),L=Hxe(),{data:B,isLoading:z,refetch:F}=Rxe(h?M(h):void 0,"active"),{data:G}=qxe(h?M(h):void 0),[V,Y]=x.useState("");x.useEffect(()=>{const W=()=>{a&&Y(tj(a,{addSuffix:!0}))};W();const U=setInterval(W,1e4);return()=>clearInterval(U)},[a]);const $=()=>{n()},ee=W=>{const P={"/daily":"dailytime","/business":"business","/content":"content","/health":"health","/finances":"finance","/life":"notes","/golf":"health","/goals":"review"}[W];P&&e(P)},J=async()=>{if(!(!h||!k.trim()))try{const W=M(h);if(!W)return;await L.mutateAsync({area:W,vision_statement:k.trim()}),E(!1),C("")}catch(W){console.error("Error saving vision statement:",W),alert("Failed to save vision statement. Please try again.")}};return r?s.jsx(tve,{}):s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Review Dashboard"}),s.jsx("p",{className:"text-gray-400",children:"Your complete life ecosystem at a glance  Read-only view"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Last synced: ",V||"just now"]}),s.jsx("button",{onClick:$,disabled:i,className:`p-2 bg-gray-800 border border-gray-700 rounded-lg hover:bg-gray-700\r
                     transition-colors disabled:opacity-50 disabled:cursor-not-allowed\r
                     focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Refresh dashboard",children:s.jsx(E9,{size:20,className:`text-gray-400 ${i?"animate-spin":""}`})})]})]}),s.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-8",children:[s.jsx(gr,{variant:"outline",className:`cursor-pointer px-3 py-2 font-semibold text-white transition-all duration-150 flex flex-col items-center justify-center ${h===null?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{backgroundColor:"#4b5563",minHeight:"80px"},onClick:()=>g(null),children:s.jsx("span",{className:"text-base font-semibold",children:"All Areas"})}),mve.map(W=>{const U=h===W.id;return B?.filter(P=>{const H=M(W.id);return P.area===H}).length,s.jsx(gr,{variant:"outline",className:`cursor-pointer px-3 py-2 font-semibold text-white transition-all duration-150 flex flex-col items-center justify-center ${U?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:W.gradient,minHeight:"80px"},onClick:()=>g(W.id),children:s.jsx("span",{className:"text-base font-semibold",children:W.label})},W.id)}),gve.map(W=>{const U=h===W.id;return B?.filter(P=>{const H=M(W.id);return P.area===H}).length,s.jsx(gr,{variant:"outline",className:`cursor-pointer px-3 py-2 font-semibold text-white transition-all duration-150 flex flex-col items-center justify-center ${U?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:W.gradient,minHeight:"80px"},onClick:()=>g(W.id),children:s.jsx("span",{className:"text-base font-semibold",children:W.label})},W.id)})]}),h===null?s.jsx("div",{className:"bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-700/50 rounded-lg p-6 mb-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:" Overarching Vision"}),s.jsx("p",{className:"text-gray-300 text-lg mb-3",children:"Balance and excellence across all life areas  Build sustainable progress in every domain"}),s.jsx("p",{className:"text-gray-400 text-sm",children:`${G?.total_goals||0} active goals across all areas`})]})}):s.jsx("div",{className:"bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-700/50 rounded-lg p-6 mb-8",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:[" ",h?Xb(h):""," Vision"]}),A?s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{autoFocus:!0,value:k,onChange:W=>C(W.target.value),placeholder:`Define your ${h} vision...`,className:"w-full px-3 py-2 bg-gray-800 border border-blue-500/50 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg",rows:3}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:J,disabled:L.isPending||!k.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed text-white rounded text-sm font-medium transition-colors",children:L.isPending?"Saving...":"Save"}),s.jsx("button",{onClick:()=>{E(!1),C("")},disabled:L.isPending,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-700/50 disabled:cursor-not-allowed text-white rounded text-sm font-medium transition-colors",children:"Cancel"})]})]}):s.jsx("div",{onClick:()=>{E(!0),C(D?.vision_statement||"")},className:"cursor-pointer hover:bg-blue-900/20 transition-colors rounded px-3 py-2 -mx-3 -my-2",children:D?.vision_statement?s.jsx("p",{className:"text-gray-300 text-lg hover:text-gray-200",children:D.vision_statement}):s.jsxs("p",{className:"text-gray-400 text-lg italic hover:text-gray-300",children:["Click to define your ",Xb(h)," vision..."]})}),s.jsx("p",{className:"text-gray-400 text-sm mt-3",children:`${G?.total_goals||0} goal${G?.total_goals===1?"":"s"} for this area`})]})}),(h===null||h!==null)&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Goals"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Measurable milestones contributing to your vision"})]}),s.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors whitespace-nowrap",children:[s.jsx(ma,{size:18}),"Add Goal"]})]}),z?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(2)].map((W,U)=>s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 animate-pulse h-40"},U))}):B&&B.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:B.map(W=>s.jsx(uve,{goal:W,onCheckIn:U=>{S(U),w(!0)}},W.id))}):s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 border border-gray-700 text-center",children:[s.jsxs("p",{className:"text-gray-400 mb-4",children:["No goals yet for ",h===null?"all areas":Xb(h)]}),s.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[s.jsx(ma,{size:18}),"Create First Goal"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t?.map(W=>{const U=nve.find(P=>P.area===W.area);if(!U)return null;if(h!==null){const P={"full-stack":"BIZNESS","huge-capital":"BIZNESS",s4:"BIZNESS",personal:"LIFE",health:"HEALTH",golf:"HEALTH"};if(P[h]&&P[h]!==W.area)return null}return W.area==="DAILY"?h!==null&&h!=="health"?null:s.jsx(Qxe,{onClick:()=>ee(U.route)},W.area):W.area==="BIZNESS"?h!==null&&!["full-stack","huge-capital","s4"].includes(h)?null:s.jsx(Zxe,{onClick:()=>ee(U.route)},W.area):W.area==="FINANCES"?h!==null&&h!=="finance"?null:s.jsx(eve,{onClick:()=>ee(U.route)},W.area):["HEALTH","CONTENT","LIFE","GOLF"].includes(W.area)?s.jsx(rve,{title:U.displayName,icon:U.icon,color:U.color,message:"No recent activity",onClick:()=>ee(U.route)},W.area):null})}),(!t||t.length===0)&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"No area data available yet. Start by creating some tasks!"})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 max-w-2xl w-full mx-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Goal"}),s.jsx(fve,{onSuccess:()=>{v(!1),F()},onCancel:()=>v(!1)})]})}),_&&b&&B&&(()=>{const W=B.find(U=>U.id===b);return W?s.jsx(hve,{goalId:W.id,goalArea:W.area,goalStatement:W.goal_statement,targets:[],onClose:()=>{w(!1),S(null)},onSuccess:()=>{w(!1),S(null),F()}}):null})()]})},yve=["Sales","Data","Fulfillment","Marketing","Admin"],qL=["Full Stack","Huge Capital","S4","808","Personal","Health","Golf"],xve=["MCP","Skills","Agents","Workflow"],vve=["n8n","Zapier","Claude Web","Claude Code"],bve=["Auto","Manual"],UL=["Future Idea","Planning","In Progress","Review","Completed"],wve=["Asana","Excel","Google Sheets","Gmail","Google Drive","Claude","Slack","Shopify","GHL","CBOS","Klaviyo","Dashboard"],jve={"Future Idea":"bg-[rgb(85,45,120)]",Planning:"bg-[rgb(35,70,130)]","In Progress":"bg-[rgb(120,95,35)]",Review:"bg-[rgb(130,65,25)]",Completed:"bg-[rgb(25,95,75)]"},_ve={Sales:"bg-green-600",Data:"bg-blue-600",Fulfillment:"bg-orange-600",Marketing:"bg-purple-600",Admin:"bg-gray-600"},Sve={MCP:"bg-pink-600",Skills:"bg-orange-600",Agents:"bg-red-600",Workflow:"bg-blue-400"},Nve={n8n:"bg-purple-600",Zapier:"bg-orange-400","Claude Web":"bg-orange-600","Claude Code":"bg-orange-800"},kve={Auto:"bg-green-600",Manual:"bg-orange-600"},HL={Asana:"bg-pink-600",Excel:"bg-green-800","Google Sheets":"bg-green-500",Gmail:"bg-red-600","Google Drive":"bg-red-600",Claude:"bg-orange-600",Slack:"bg-purple-600",Shopify:"bg-green-500",GHL:"bg-blue-700",CBOS:"bg-blue-600",Klaviyo:"bg-yellow-500",Dashboard:"bg-blue-600"},Cve={"Full Stack":"bg-[rgb(25,95,75)]","Huge Capital":"bg-[rgb(85,45,120)]",S4:"bg-[rgb(35,70,130)]",808:"bg-[rgb(120,95,35)]",Personal:"bg-[rgb(120,45,85)]",Health:"bg-[rgb(25,90,85)]",Golf:"bg-[rgb(130,65,25)]"},Tve=({automation:e,onEdit:t,onDelete:r,isDragging:n})=>{const a=m=>{m.stopPropagation(),confirm(`Delete automation "${e.name}"?`)&&r(e.id)},i=m=>{m.stopPropagation(),t(e)},l=()=>e.trigger_type==="Auto"?s.jsx(K1,{className:"w-3 h-3"}):s.jsx(rU,{className:"w-3 h-3"}),d=(()=>{const m={"Future Idea":"rgb(85, 45, 120)",Planning:"rgb(35, 70, 130)","In Progress":"rgb(120, 95, 35)",Review:"rgb(130, 65, 25)",Completed:"rgb(25, 95, 75)"};return m[e.completion_level]||m["Future Idea"]})();return s.jsxs("div",{className:`
        rounded-lg overflow-hidden border border-white/15
        transition-all duration-200 cursor-grab active:cursor-grabbing
        ${n?"opacity-40 scale-95":"hover:border-white/30 hover:shadow-md"}
        shadow-sm group
      `,style:{backgroundColor:d},children:[s.jsxs("div",{className:"px-4 py-3 flex items-center justify-between gap-2",children:[s.jsx("h3",{className:"font-bold text-white text-base leading-tight flex-1",children:e.name}),s.jsx(gr,{className:`${Cve[e.area]} text-white text-xs font-bold px-2 py-0.5 flex-shrink-0`,children:e.area})]}),e.integrations&&e.integrations.length>0&&s.jsx("div",{className:"px-4 py-1 flex items-center gap-2 flex-wrap",children:e.integrations.map(m=>s.jsx(gr,{className:`${HL[m]||"bg-gray-600"} text-white text-xs px-2 py-0.5`,children:m},m))}),s.jsxs("div",{className:"px-4 py-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3 text-xs flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Platform:"}),s.jsx("div",{className:`${Nve[e.platform]} text-white px-3 py-1.5 rounded-full font-medium`,children:e.platform})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Purpose:"}),s.jsx("div",{className:`${_ve[e.purpose]} text-white px-3 py-1.5 rounded-full font-medium`,children:e.purpose})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Label:"}),s.jsx("div",{className:`${Sve[e.label]} text-white px-3 py-1.5 rounded-full font-medium`,children:e.label})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Trigger:"}),s.jsxs("div",{className:`${kve[e.trigger_type]} text-white px-3 py-1.5 rounded-full font-medium flex items-center gap-1`,children:[l(),s.jsx("span",{children:e.trigger_type})]})]})]}),e.go_live_date&&s.jsxs("div",{className:"text-xs pt-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Go Live:"}),s.jsx("span",{className:"text-white ml-1",children:new Date(e.go_live_date).toLocaleDateString()})]}),e.last_checked_date&&s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Last Checked:"}),s.jsx("span",{className:"text-white ml-1",children:new Date(e.last_checked_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t border-white/10",children:[s.jsxs(Fe,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs font-medium bg-white/10 hover:bg-white/20 text-white border-white/20 dark:border-white/10 mt-2",onClick:i,children:[s.jsx(op,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),s.jsx(Fe,{size:"sm",variant:"outline",className:"h-8 px-2 bg-red-500/10 hover:bg-red-500/20 text-red-300 border-red-500/30 dark:border-red-500/20 mt-2",onClick:a,children:s.jsx(Fa,{className:"w-3.5 h-3.5"})})]})]})]})},Ave={All:"#4b5563","Full Stack":"linear-gradient(135deg, #10b981 0%, #059669 100%)","Huge Capital":"linear-gradient(135deg, #a855f7 0%, #7e22ce 100%)",S4:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",808:"linear-gradient(135deg, #eab308 0%, #ca8a04 100%)",Personal:"linear-gradient(135deg, #ec4899 0%, #be185d 100%)",Health:"linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)",Golf:"linear-gradient(135deg, #f97316 0%, #c2410c 100%)"},Eve=({selectedArea:e,onAreaChange:t,selectedPurpose:r="All",onPurposeChange:n,selectedPriority:a="All",onPriorityChange:i,onAddNew:l,automations:u=[]})=>{const d=["All",...qL],m=h=>h==="All"?u.length:u.filter(g=>g.area===h).length;return s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx(Jr,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-700/30 shadow-lg",children:s.jsx(fo,{className:"pt-4 pb-4",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-2",children:d.map(h=>s.jsxs(gr,{variant:"outline",className:`cursor-pointer px-5 py-3 text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center ${e===h?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:Ave[h]},onClick:()=>t(h),children:[s.jsx("span",{children:h}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:m(h)})]},h))})})}),s.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[n&&s.jsxs("select",{value:r,onChange:h=>n(h.target.value),className:"rounded-lg bg-gray-800 border border-gray-700 text-white px-3 py-2 text-sm focus:border-purple-500 focus:outline-none",children:[s.jsx("option",{value:"All",children:"All Purposes"}),s.jsx("option",{value:"Sales",children:"Sales"}),s.jsx("option",{value:"Data",children:"Data"}),s.jsx("option",{value:"Fulfillment",children:"Fulfillment"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Admin",children:"Admin"})]}),i&&s.jsxs("select",{value:a,onChange:h=>i(h.target.value),className:"rounded-lg bg-gray-800 border border-gray-700 text-white px-3 py-2 text-sm focus:border-purple-500 focus:outline-none",children:[s.jsx("option",{value:"All",children:"All Priorities"}),s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"})]}),s.jsx(Fe,{onClick:l,className:"bg-purple-600 hover:bg-purple-700 text-white ml-auto",children:"+ Add Automation"})]})]})},OM=({value:e,onChange:t,label:r="Select Date"})=>{const[n,a]=x.useState(!1),[i,l]=x.useState(e?new Date(e):new Date),[u,d]=x.useState(i.getMonth()),[m,h]=x.useState(i.getFullYear()),g=T=>{const D=new Date(m,u,T),L=D.toISOString().split("T")[0];t(L),l(D),a(!1)},y=T=>{h(parseInt(T.target.value,10))},v=T=>{d(parseInt(T.target.value,10))},_=(T,D)=>new Date(D,T+1,0).getDate(),w=(T,D)=>new Date(D,T,1).getDay(),b=["January","February","March","April","May","June","July","August","September","October","November","December"],S=_(u,m),k=w(u,m),C=[];for(let T=0;T<k;T++)C.push(null);for(let T=1;T<=S;T++)C.push(T);const A=e?e.split("T")[0]:null,E=A===new Date().toISOString().split("T")[0],M=e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Select date";return s.jsxs(s.Fragment,{children:[s.jsxs(Fe,{type:"button",variant:"outline",onClick:()=>a(!0),className:"w-full h-10 justify-start text-left font-normal bg-slate-800 border-slate-700 text-gray-100 hover:bg-slate-700",children:[s.jsx(tn,{className:"mr-2 h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"flex-1 truncate",children:M}),e&&s.jsx(Ht,{className:"h-4 w-4 flex-shrink-0 opacity-50 hover:opacity-100",onClick:T=>{T.stopPropagation(),t(null)}})]}),s.jsx(Ep,{open:n,onOpenChange:a,children:s.jsxs(jf,{className:"!bg-slate-900 border-slate-700 w-fit p-0 gap-0",children:[s.jsx(_f,{className:"bg-slate-800 border-b border-slate-700 p-4",children:s.jsx(Sf,{className:"text-gray-100",children:r})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("select",{value:u,onChange:v,className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:b.map((T,D)=>s.jsx("option",{value:D,children:T},T))}),s.jsx("select",{value:m,onChange:y,className:"w-24 px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:Array.from({length:20},(T,D)=>m-10+D).map(T=>s.jsx("option",{value:T,children:T},T))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(T=>s.jsx("div",{className:"text-center text-xs font-semibold text-gray-400 py-2",children:T},T))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:C.map((T,D)=>{const L=T&&A===`${m}-${String(u+1).padStart(2,"0")}-${String(T).padStart(2,"0")}`;return s.jsx("button",{type:"button",onClick:()=>T&&g(T),disabled:!T,className:`
                        h-8 rounded-md text-sm font-medium transition-all
                        ${T?L?"bg-purple-600 text-white hover:bg-purple-700":E&&T?"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30":"text-gray-300 hover:bg-slate-700":"opacity-0 cursor-default"}
                      `,children:T},D)})})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-700",children:[s.jsx(Fe,{type:"button",variant:"outline",onClick:()=>a(!1),className:"flex-1 h-9",children:"Cancel"}),e&&s.jsx(Fe,{type:"button",variant:"outline",onClick:()=>{t(null),a(!1)},className:"flex-1 h-9 text-red-400 hover:bg-red-900/20 border-red-900/50",children:"Clear"})]})]})]})})]})},Ove=({isOpen:e,onClose:t,onSave:r,automation:n})=>{const[a,i]=x.useState({name:"",purpose:"Data",area:"Full Stack",label:"Workflow",platform:"n8n",trigger_type:"Manual",integrations:[],completion_level:"Future Idea",priority:"Medium",go_live_date:null,last_checked_date:null}),[l,u]=x.useState(!1);x.useEffect(()=>{i(n?{name:n.name,purpose:n.purpose,area:n.area,label:n.label,platform:n.platform,trigger_type:n.trigger_type,integrations:n.integrations,completion_level:n.completion_level,priority:n.priority,go_live_date:n.go_live_date,last_checked_date:n.last_checked_date}:{name:"",purpose:"Data",area:"Full Stack",label:"Workflow",platform:"n8n",trigger_type:"Manual",integrations:[],completion_level:"Future Idea",priority:"Medium",go_live_date:null,last_checked_date:null})},[n,e]);const d=async h=>{h.preventDefault(),u(!0);try{n?await r({...a,id:n.id}):await r(a),t()}catch(g){console.error("Error saving automation:",g),alert(`Failed to save automation: ${g instanceof Error?g.message:"Unknown error"}`)}finally{u(!1)}},m=h=>{i(g=>({...g,integrations:(g.integrations||[]).includes(h)?(g.integrations||[]).filter(y=>y!==h):[...g.integrations||[],h]}))};return s.jsx(Ep,{open:e,onOpenChange:t,children:s.jsxs(jf,{className:"max-w-md !bg-slate-900 border-slate-700 max-h-[95vh] overflow-y-auto p-4",children:[s.jsx(_f,{className:"pb-2",children:s.jsx(Sf,{className:"text-xl font-bold text-gray-100",children:n?"Edit Automation":"Add Automation"})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Name ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx(Tn,{type:"text",required:!0,value:a.name,onChange:h=>i({...a,name:h.target.value}),placeholder:"e.g., Customer Email",className:"h-10 bg-slate-800 border-slate-700 text-gray-100 placeholder:text-gray-500 text-base focus:ring-purple-500"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Label ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.label,onChange:h=>i({...a,label:h.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:xve.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Platform ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.platform,onChange:h=>i({...a,platform:h.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:vve.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Completion ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.completion_level,onChange:h=>i({...a,completion_level:h.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:UL.map(h=>s.jsx("option",{value:h,children:h},h))})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Area ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.area,onChange:h=>i({...a,area:h.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:qL.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Purpose ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.purpose,onChange:h=>i({...a,purpose:h.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:yve.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Trigger ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.trigger_type,onChange:h=>i({...a,trigger_type:h.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:bve.map(h=>s.jsx("option",{value:h,children:h},h))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:"Go Live"}),s.jsx(OM,{value:a.go_live_date||null,onChange:h=>i({...a,go_live_date:h}),label:"Select Go Live Date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:"Last Checked"}),s.jsx(OM,{value:a.last_checked_date||null,onChange:h=>i({...a,last_checked_date:h}),label:"Select Last Checked Date"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:"Integrations"}),s.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-800 rounded-md border border-slate-700",children:wve.map(h=>{const g=a.integrations?.includes(h),y=HL[h];return s.jsx("button",{type:"button",onClick:()=>m(h),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${g?`${y} text-white border-2 border-white`:"bg-slate-700 text-gray-300 border-2 border-slate-700 hover:border-slate-600"}`,children:h},h)})})]}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-700",children:[s.jsx(Fe,{type:"button",variant:"outline",onClick:t,disabled:l,className:"flex-1 h-10 text-base",children:"Cancel"}),s.jsx(Fe,{type:"submit",disabled:l,className:"flex-1 h-10 bg-purple-600 hover:bg-purple-700 text-white font-medium text-base",children:l?"Saving...":n?"Update":"Create"})]})]})]})})},El=["automations"],Dve=e=>Ie({queryKey:e?[...El,e]:El,queryFn:async()=>{const{data:t,error:r}=await Z.from("automations").select("*").order("creation_date",{ascending:!1});if(r)throw r;return t.filter(n=>!e||n.area===e)}}),Mve=()=>{const e=ut();return jt({mutationFn:async t=>{const{data:{user:r},error:n}=await Z.auth.getUser();if(n||!r)throw new Error("Not authenticated");const{data:a,error:i}=await Z.from("automations").insert([{...t,user_id:r.id,integrations:t.integrations||[],completion_level:t.completion_level||"Future Idea",priority:t.priority||"Medium"}]).select().single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:El})}})},Pve=()=>{const e=ut();return jt({mutationFn:async({id:t,...r})=>{const{data:n,error:a}=await Z.from("automations").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:t=>{e.invalidateQueries({queryKey:El}),e.setQueryData([...El,t.id],t)}})},Rve=()=>{const e=ut();return jt({mutationFn:async t=>{const{error:r}=await Z.from("automations").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:El})}})},Ive=()=>{const e=ut();return jt({mutationFn:async({id:t,completionLevel:r})=>{const{data:n,error:a}=await Z.from("automations").update({completion_level:r}).eq("id",t).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:El})}})};function tp(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Lve(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function qm(e){return e!==null&&e>=0}function $ve(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Bve(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const WL=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=tp(t,n,r),l=t[a],u=i[a];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},YL="Sortable",KL=je.createContext({activeIndex:-1,containerId:YL,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:WL,disabled:{draggable:!1,droppable:!1}});function zve(e){let{children:t,id:r,items:n,strategy:a=WL,disabled:i=!1}=e;const{active:l,dragOverlay:u,droppableRects:d,over:m,measureDroppableContainers:h}=LL(),g=Yf(YL,r),y=u.rect!==null,v=x.useMemo(()=>n.map(M=>typeof M=="object"&&"id"in M?M.id:M),[n]),_=l!=null,w=l?v.indexOf(l.id):-1,b=m?v.indexOf(m.id):-1,S=x.useRef(v),k=!$ve(v,S.current),C=b!==-1&&w===-1||k,A=Bve(i);os(()=>{k&&_&&h(v)},[k,v,_,h]),x.useEffect(()=>{S.current=v},[v]);const E=x.useMemo(()=>({activeIndex:w,containerId:g,disabled:A,disableTransforms:C,items:v,overIndex:b,useDragOverlay:y,sortedRects:Lve(v,d),strategy:a}),[w,g,A.draggable,A.droppable,C,v,b,d,y,a]);return je.createElement(KL.Provider,{value:E},t)}const Fve=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return tp(r,n,a).indexOf(t)},qve=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:l,previousItems:u,previousContainerId:d,transition:m}=e;return!m||!n||u!==i&&a===l?!1:r?!0:l!==a&&t===d},Uve={duration:200,easing:"ease"},GL="transform",Hve=po.Transition.toString({property:GL,duration:0,easing:"linear"}),Wve={roleDescription:"sortable"};function Yve(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,l]=x.useState(null),u=x.useRef(r);return os(()=>{if(!t&&r!==u.current&&n.current){const d=a.current;if(d){const m=Nu(n.current,{ignoreTransform:!0}),h={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(h.x||h.y)&&l(h)}}r!==u.current&&(u.current=r)},[t,r,n,a]),x.useEffect(()=>{i&&l(null)},[i]),i}function Kve(e){let{animateLayoutChanges:t=qve,attributes:r,disabled:n,data:a,getNewIndex:i=Fve,id:l,strategy:u,resizeObserverConfig:d,transition:m=Uve}=e;const{items:h,containerId:g,activeIndex:y,disabled:v,disableTransforms:_,sortedRects:w,overIndex:b,useDragOverlay:S,strategy:k}=x.useContext(KL),C=Gve(n,v),A=h.indexOf(l),E=x.useMemo(()=>({sortable:{containerId:g,index:A,items:h},...a}),[g,a,A,h]),M=x.useMemo(()=>h.slice(h.indexOf(l)),[h,l]),{rect:T,node:D,isOver:L,setNodeRef:B}=xS({id:l,data:E,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...d}}),{active:z,activatorEvent:F,activeNodeRect:G,attributes:V,setNodeRef:Y,listeners:$,isDragging:ee,over:J,setActivatorNodeRef:W,transform:U}=IL({id:l,data:E,attributes:{...Wve,...r},disabled:C.draggable}),P=_0e(B,Y),H=!!z,Q=H&&!_&&qm(y)&&qm(b),ne=!S&&ee,ge=ne&&Q?U:null,te=Q?ge??(u??k)({rects:w,activeNodeRect:G,activeIndex:y,overIndex:b,index:A}):null,Se=qm(y)&&qm(b)?i({id:l,items:h,activeIndex:y,overIndex:b}):A,ce=z?.id,pe=x.useRef({activeId:ce,items:h,newIndex:Se,containerId:g}),ke=h!==pe.current.items,de=t({active:z,containerId:g,isDragging:ee,isSorting:H,id:l,index:A,items:h,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:m,wasDragging:pe.current.activeId!=null}),qe=Yve({disabled:!de,index:A,node:D,rect:T});return x.useEffect(()=>{H&&pe.current.newIndex!==Se&&(pe.current.newIndex=Se),g!==pe.current.containerId&&(pe.current.containerId=g),h!==pe.current.items&&(pe.current.items=h)},[H,Se,g,h]),x.useEffect(()=>{if(ce===pe.current.activeId)return;if(ce!=null&&pe.current.activeId==null){pe.current.activeId=ce;return}const Ye=setTimeout(()=>{pe.current.activeId=ce},50);return()=>clearTimeout(Ye)},[ce]),{active:z,activeIndex:y,attributes:V,data:E,rect:T,index:A,newIndex:Se,items:h,isOver:L,isSorting:H,isDragging:ee,listeners:$,node:D,overIndex:b,over:J,setNodeRef:P,setActivatorNodeRef:W,setDroppableNodeRef:B,setDraggableNodeRef:Y,transform:qe??te,transition:Ae()};function Ae(){if(qe||ke&&pe.current.newIndex===A)return Hve;if(!(ne&&!v0(F)||!m)&&(H||de))return po.Transition.toString({...m,property:GL})}}function Gve(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}Pt.Down,Pt.Right,Pt.Up,Pt.Left;const Vve={},DM=e=>{let t;const r=new Set,n=(h,g)=>{const y=typeof h=="function"?h(t):h;if(!Object.is(y,t)){const v=t;t=g??(typeof y!="object"||y===null)?y:Object.assign({},t,y),r.forEach(_=>_(t,v))}},a=()=>t,d={setState:n,getState:a,getInitialState:()=>m,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{(Vve?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},m=t=e(n,a,d);return d},Qve=e=>e?DM(e):DM,VL={},{useDebugValue:Xve}=je,{useSyncExternalStoreWithSelector:Zve}=Dte;let MM=!1;const Jve=e=>e;function ebe(e,t=Jve,r){(VL?"production":void 0)!=="production"&&r&&!MM&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),MM=!0);const n=Zve(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Xve(n),n}const PM=e=>{(VL?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Qve(e):e,r=(n,a)=>ebe(t,n,a);return Object.assign(r,t),r},tbe=e=>e?PM(e):PM;var RM,IM;const LM=typeof window<"u"&&((RM=window.document)!=null&&RM.createElement||((IM=window.navigator)==null?void 0:IM.product)==="ReactNative")?je.useLayoutEffect:je.useEffect;function rbe(){const e=tbe(t=>({current:new Array,version:0,set:t}));return{In:({children:t})=>{const r=e(a=>a.set),n=e(a=>a.version);return LM(()=>{r(a=>({version:a.version+1}))},[]),LM(()=>(r(({current:a})=>({current:[...a,t]})),()=>r(({current:a})=>({current:a.filter(i=>i!==t)}))),[t,n]),null},Out:()=>{const t=e(r=>r.current);return je.createElement(je.Fragment,null,t)}}}function nbe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var bS="ScrollArea",[QL]=Dl(bS),[abe,Ka]=QL(bS),XL=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...l}=e,[u,d]=x.useState(null),[m,h]=x.useState(null),[g,y]=x.useState(null),[v,_]=x.useState(null),[w,b]=x.useState(null),[S,k]=x.useState(0),[C,A]=x.useState(0),[E,M]=x.useState(!1),[T,D]=x.useState(!1),L=Wt(t,z=>d(z)),B=l3(a);return s.jsx(abe,{scope:r,type:n,dir:B,scrollHideDelay:i,scrollArea:u,viewport:m,onViewportChange:h,content:g,onContentChange:y,scrollbarX:v,onScrollbarXChange:_,scrollbarXEnabled:E,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:D,onCornerWidthChange:k,onCornerHeightChange:A,children:s.jsx(St.div,{dir:B,...l,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});XL.displayName=bS;var ZL="ScrollAreaViewport",JL=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,l=Ka(ZL,r),u=x.useRef(null),d=Wt(t,u,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(St.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});JL.displayName=ZL;var Ls="ScrollAreaScrollbar",wS=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ka(Ls,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,u=e.orientation==="horizontal";return x.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),a.type==="hover"?s.jsx(sbe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(ibe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(e$,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(jS,{...n,ref:t}):null});wS.displayName=Ls;var sbe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ka(Ls,e.__scopeScrollArea),[i,l]=x.useState(!1);return x.useEffect(()=>{const u=a.scrollArea;let d=0;if(u){const m=()=>{window.clearTimeout(d),l(!0)},h=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return u.addEventListener("pointerenter",m),u.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",m),u.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Rs,{present:r||i,children:s.jsx(e$,{"data-state":i?"visible":"hidden",...n,ref:t})})}),ibe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ka(Ls,e.__scopeScrollArea),i=e.orientation==="horizontal",l=_0(()=>d("SCROLL_END"),100),[u,d]=nbe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(u==="idle"){const m=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(m)}},[u,a.scrollHideDelay,d]),x.useEffect(()=>{const m=a.viewport,h=i?"scrollLeft":"scrollTop";if(m){let g=m[h];const y=()=>{const v=m[h];g!==v&&(d("SCROLL"),l()),g=v};return m.addEventListener("scroll",y),()=>m.removeEventListener("scroll",y)}},[a.viewport,i,d,l]),s.jsx(Rs,{present:r||u!=="hidden",children:s.jsx(jS,{"data-state":u==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:xt(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:xt(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),e$=x.forwardRef((e,t)=>{const r=Ka(Ls,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,l]=x.useState(!1),u=e.orientation==="horizontal",d=_0(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;l(u?m:h)}},10);return nu(r.viewport,d),nu(r.content,d),s.jsx(Rs,{present:n||i,children:s.jsx(jS,{"data-state":i?"visible":"hidden",...a,ref:t})})}),jS=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ka(Ls,e.__scopeScrollArea),i=x.useRef(null),l=x.useRef(0),[u,d]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=s$(u.viewport,u.content),h={...n,sizes:u,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:y=>i.current=y,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:y=>l.current=y};function g(y,v){return fbe(y,l.current,u,v)}return r==="horizontal"?s.jsx(obe,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const y=a.viewport.scrollLeft,v=$M(y,u,a.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollLeft=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollLeft=g(y,a.dir))}}):r==="vertical"?s.jsx(lbe,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const y=a.viewport.scrollTop,v=$M(y,u);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollTop=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollTop=g(y))}}):null}),obe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ka(Ls,e.__scopeScrollArea),[l,u]=x.useState(),d=x.useRef(null),m=Wt(t,d,i.onScrollbarXChange);return x.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),s.jsx(r$,{"data-orientation":"horizontal",...a,ref:m,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":j0(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,g)=>{if(i.viewport){const y=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(y),o$(y,g)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:np(l.paddingLeft),paddingEnd:np(l.paddingRight)}})}})}),lbe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ka(Ls,e.__scopeScrollArea),[l,u]=x.useState(),d=x.useRef(null),m=Wt(t,d,i.onScrollbarYChange);return x.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),s.jsx(r$,{"data-orientation":"vertical",...a,ref:m,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":j0(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,g)=>{if(i.viewport){const y=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(y),o$(y,g)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:np(l.paddingTop),paddingEnd:np(l.paddingBottom)}})}})}),[cbe,t$]=QL(Ls),r$=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:h,onResize:g,...y}=e,v=Ka(Ls,r),[_,w]=x.useState(null),b=Wt(t,L=>w(L)),S=x.useRef(null),k=x.useRef(""),C=v.viewport,A=n.content-n.viewport,E=Bn(h),M=Bn(d),T=_0(g,10);function D(L){if(S.current){const B=L.clientX-S.current.left,z=L.clientY-S.current.top;m({x:B,y:z})}}return x.useEffect(()=>{const L=B=>{const z=B.target;_?.contains(z)&&E(B,A)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[C,_,A,E]),x.useEffect(M,[n,M]),nu(_,T),nu(v.content,T),s.jsx(cbe,{scope:r,scrollbar:_,hasThumb:a,onThumbChange:Bn(i),onThumbPointerUp:Bn(l),onThumbPositionChange:M,onThumbPointerDown:Bn(u),children:s.jsx(St.div,{...y,ref:b,style:{position:"absolute",...y.style},onPointerDown:xt(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),S.current=_.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),D(L))}),onPointerMove:xt(e.onPointerMove,D),onPointerUp:xt(e.onPointerUp,L=>{const B=L.target;B.hasPointerCapture(L.pointerId)&&B.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=k.current,v.viewport&&(v.viewport.style.scrollBehavior=""),S.current=null})})})}),rp="ScrollAreaThumb",n$=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=t$(rp,e.__scopeScrollArea);return s.jsx(Rs,{present:r||a.hasThumb,children:s.jsx(ube,{ref:t,...n})})}),ube=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ka(rp,r),l=t$(rp,r),{onThumbPositionChange:u}=l,d=Wt(t,g=>l.onThumbChange(g)),m=x.useRef(void 0),h=_0(()=>{m.current&&(m.current(),m.current=void 0)},100);return x.useEffect(()=>{const g=i.viewport;if(g){const y=()=>{if(h(),!m.current){const v=hbe(g,u);m.current=v,u()}};return u(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[i.viewport,h,u]),s.jsx(St.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:xt(e.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),_=g.clientX-v.left,w=g.clientY-v.top;l.onThumbPointerDown({x:_,y:w})}),onPointerUp:xt(e.onPointerUp,l.onThumbPointerUp)})});n$.displayName=rp;var _S="ScrollAreaCorner",a$=x.forwardRef((e,t)=>{const r=Ka(_S,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(dbe,{...e,ref:t}):null});a$.displayName=_S;var dbe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ka(_S,r),[i,l]=x.useState(0),[u,d]=x.useState(0),m=!!(i&&u);return nu(a.scrollbarX,()=>{const h=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(h),d(h)}),nu(a.scrollbarY,()=>{const h=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(h),l(h)}),m?s.jsx(St.div,{...n,ref:t,style:{width:i,height:u,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function np(e){return e?parseInt(e,10):0}function s$(e,t){const r=e/t;return isNaN(r)?0:r}function j0(e){const t=s$(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function fbe(e,t,r,n="ltr"){const a=j0(r),i=a/2,l=t||i,u=a-l,d=r.scrollbar.paddingStart+l,m=r.scrollbar.size-r.scrollbar.paddingEnd-u,h=r.content-r.viewport,g=n==="ltr"?[0,h]:[h*-1,0];return i$([d,m],g)(e)}function $M(e,t,r="ltr"){const n=j0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,l=t.content-t.viewport,u=i-n,d=r==="ltr"?[0,l]:[l*-1,0],m=jw(e,d);return i$([0,l],[0,u])(m)}function i$(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function o$(e,t){return e>0&&e<t}var hbe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=r.left!==i.left,u=r.top!==i.top;(l||u)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function _0(e,t){const r=Bn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function nu(e,t){const r=Bn(t);mn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var l$=XL,mbe=JL,gbe=a$;const c$=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(l$,{...r,children:[s.jsx(mbe,{ref:n,className:Pe("overflow-hidden [&>div>div[style]]:!block",e),children:t}),s.jsx(SS,{}),s.jsx(gbe,{})]}));c$.displayName=l$.displayName;const SS=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(wS,{ref:n,orientation:t,className:Pe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(n$,{className:"relative flex-1 rounded-full bg-border"})}));SS.displayName=wS.displayName;const u$=rbe(),NS=x.createContext({columns:[],data:[],activeCardId:null}),pbe=({id:e,children:t,className:r})=>{const{isOver:n,setNodeRef:a}=xS({id:e});return s.jsx("div",{className:Pe("flex size-full min-h-40 flex-col divide-y overflow-hidden rounded-md border bg-secondary text-xs shadow-sm ring-2 transition-all",n?"ring-primary":"ring-transparent",r),ref:a,children:t})},ybe=({id:e,name:t,children:r,className:n})=>{const{attributes:a,listeners:i,setNodeRef:l,transition:u,transform:d,isDragging:m}=Kve({id:e}),{activeCardId:h}=x.useContext(NS),g={transition:u,transform:po.Transform.toString(d)},y=v=>{const _=v.target;if(_.closest("button")||_.closest('[role="button"]')){v.preventDefault();return}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{style:g,...i,...a,onMouseDown:y,ref:l,className:Pe("cursor-grab rounded-md",m&&"pointer-events-none cursor-grabbing opacity-30",n),children:r??s.jsx("p",{className:"m-0 font-medium text-sm",children:t})}),h===e&&s.jsx(u$.In,{children:s.jsx("div",{className:Pe("cursor-grab rounded-md ring-2 ring-primary",m&&"cursor-grabbing",n),children:r??s.jsx("p",{className:"m-0 font-medium text-sm",children:t})})})]})},xbe=({children:e,className:t,...r})=>{const{data:n}=x.useContext(NS),a=n.filter(l=>l.column===r.id),i=a.map(l=>l.id);return s.jsxs(c$,{className:"overflow-hidden",children:[s.jsx(zve,{items:i,children:s.jsx("div",{className:Pe("flex flex-grow flex-col gap-2 p-2 bg-white/5",t),...r,children:a.map(e)})}),s.jsx(SS,{orientation:"vertical"})]})},vbe=({className:e,...t})=>s.jsx("div",{className:Pe("m-0 p-2 font-semibold text-sm",e),...t}),bbe=({children:e,onDragStart:t,onDragEnd:r,onDragOver:n,className:a,columns:i,data:l,onDataChange:u,...d})=>{const[m,h]=x.useState(null),g=L0e(Kb(TL),Kb(AL),Kb(gS)),y=b=>{l.find(k=>k.id===b.active.id)&&h(b.active.id),t?.(b)},v=b=>{const{active:S,over:k}=b;if(!k)return;const C=l.find(T=>T.id===S.id),A=l.find(T=>T.id===k.id);if(!C)return;const E=C.column,M=A?.column||i.find(T=>T.id===k.id)?.id||i[0]?.id;if(E!==M){let T=[...l];const D=T.findIndex(B=>B.id===S.id),L=T.findIndex(B=>B.id===k.id);T[D].column=M,T=tp(T,D,L),u?.(T)}n?.(b)},_=b=>{h(null),r?.(b);const{active:S,over:k}=b;if(!k||S.id===k.id)return;let C=[...l];const A=C.findIndex(M=>M.id===S.id),E=C.findIndex(M=>M.id===k.id);C=tp(C,A,E),u?.(C)},w={onDragStart({active:b}){const{name:S,column:k}=l.find(C=>C.id===b.id)??{};return`Picked up the card "${S}" from the "${k}" column`},onDragOver({active:b,over:S}){const{name:k}=l.find(A=>A.id===b.id)??{},C=i.find(A=>A.id===S?.id)?.name;return`Dragged the card "${k}" over the "${C}" column`},onDragEnd({active:b,over:S}){const{name:k}=l.find(A=>A.id===b.id)??{},C=i.find(A=>A.id===S?.id)?.name;return`Dropped the card "${k}" into the "${C}" column`},onDragCancel({active:b}){const{name:S}=l.find(k=>k.id===b.id)??{};return`Cancelled dragging the card "${S}"`}};return s.jsx(NS.Provider,{value:{columns:i,data:l,activeCardId:m},children:s.jsxs(RL,{accessibility:{announcements:w},collisionDetection:U0e,onDragEnd:_,onDragOver:v,onDragStart:y,sensors:g,...d,children:[s.jsx("div",{className:Pe("grid size-full auto-cols-fr grid-flow-col gap-4",a),children:i.map(b=>e(b))}),typeof window<"u"&&da.createPortal(s.jsx(Xye,{children:s.jsx(u$.Out,{})}),document.body)]})})},wbe=({projectId:e})=>{const[t,r]=x.useState("All"),[n,a]=x.useState("All"),[i,l]=x.useState("All"),[u,d]=x.useState(!1),[m,h]=x.useState(null),[g,y]=x.useState(!1),{data:v=[]}=Dve(t==="All"?void 0:t),_=Mve(),w=Pve(),b=Rve(),S=Ive(),k=x.useMemo(()=>v.filter(z=>!(n!=="All"&&z.purpose!==n||i!=="All"&&z.priority!==i)),[v,n,i]),C=x.useMemo(()=>k.map(z=>({id:z.id,name:z.name,column:z.completion_level,automation:z})),[k]),A=x.useMemo(()=>UL.map(z=>({id:z,name:z,color:jve[z]})),[]),E=async z=>{for(const F of z){const G=C.find(V=>V.id===F.id);if(G&&G.column!==F.column)try{await S.mutateAsync({id:F.id,completionLevel:F.column})}catch(V){console.error("Failed to update automation level:",V)}}},M=async z=>{},T=async z=>{y(!0);try{m?await w.mutateAsync({id:m.id,...z}):await _.mutateAsync(z),d(!1),h(null)}finally{y(!1)}},D=async z=>{try{await b.mutateAsync(z)}catch(F){console.error("Failed to delete automation:",F)}},L=z=>{h(z),d(!0)},B=()=>{h(null),d(!0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Eve,{selectedArea:t,onAreaChange:r,selectedPurpose:n,onPurposeChange:a,selectedPriority:i,onPriorityChange:l,onAddNew:B,automations:v}),s.jsx(bbe,{columns:A,data:C,onDataChange:E,onDragEnd:M,children:z=>s.jsxs(pbe,{id:z.id,className:`${z.color}`,children:[s.jsx(vbe,{className:"text-white font-bold",children:z.name}),s.jsx(xbe,{id:z.id,className:"flex-1",children:F=>s.jsx(ybe,{id:F.id,name:F.name,column:F.column,children:s.jsx(Tve,{automation:F.automation,onEdit:L,onDelete:D})},F.id)})]},z.id)}),s.jsx(Ove,{isOpen:u,onClose:()=>{d(!1),h(null)},onSave:T,automation:m})]})};function jbe(){const[e,t]=x.useState(null),[r,n]=x.useState(!0),[a,i]=x.useState("tgrassmick@gmail.com"),[l,u]=x.useState("Grassmick1"),[d,m]=x.useState(""),[h,g]=x.useState([]),[y,v]=x.useState([]),[_,w]=x.useState("All Areas"),[b,S]=x.useState("tasks"),[k,C]=x.useState("tasks-list"),[A,E]=x.useState(null),[M,T]=x.useState("All Time"),[D,L]=x.useState("All Areas"),[B,z]=x.useState("All Levels"),[F,G]=x.useState(null),[V,Y]=x.useState({}),[$,ee]=x.useState(null),[J,W]=x.useState(!1),[U,P]=x.useState({}),[H,Q]=x.useState(!1),[ne,ge]=x.useState(null),[be,te]=x.useState("dueToday"),[Se,ce]=x.useState(null),[pe,ke]=x.useState(""),[de,qe]=x.useState(""),[Ae,Ye]=x.useState(""),[at,Jt]=x.useState(!1),[cr,fr]=x.useState(!1),[$t,kr]=x.useState(!1),[sn,K]=x.useState(0),[ie,R]=x.useState(null),[se,xe]=x.useState(0),[Te,et]=x.useState(null),[Dt,Nt]=x.useState(""),[Cr,Bt]=x.useState(!1),[Yt,dt]=x.useState(null),[Xe,ft]=x.useState(null),[Be,$e]=x.useState(!1),_e=_q();x.useEffect(()=>{const q=localStorage.getItem("deepWorkSession");if(q){const me=JSON.parse(q);me.isRunning&&(fr(!0),R(new Date(me.startTime)),ce(me.task),ke(me.taskType||""),qe(me.focusArea),xe(me.pausedDuration||0),me.isPaused&&(kr(!0),et(me.pauseStartTime?new Date(me.pauseStartTime):null)))}},[]),x.useEffect(()=>{Z.auth.getSession().then(({data:{session:me}})=>{t(me),n(!1),me&&(Ue(me.user.id),Ze(me.user.id))});const{data:{subscription:q}}=Z.auth.onAuthStateChange((me,Ge)=>{t(Ge),Ge&&(Ue(Ge.user.id),Ze(Ge.user.id))});return()=>q.unsubscribe()},[]),x.useEffect(()=>{let q=null;return cr&&!$t&&(q=setInterval(()=>{if(ie){const Ge=Math.floor((new Date().getTime()-ie.getTime())/1e3);K(Ge-se)}},1e3)),()=>{q&&clearInterval(q)}},[cr,$t,ie,se]),x.useEffect(()=>{if(cr){const q={isRunning:cr,isPaused:$t,startTime:ie?.toISOString(),pauseStartTime:Te?.toISOString(),pausedDuration:se,task:Se,taskType:pe,focusArea:de};localStorage.setItem("deepWorkSession",JSON.stringify(q))}else localStorage.removeItem("deepWorkSession")},[cr,$t,ie,Te,se,Se,pe,de]);const Ue=async q=>{try{const{data:me,error:Ge}=await Z.from("tasks").select("*").eq("user_id",q).order("created_at",{ascending:!1});if(Ge)throw Ge;g(me||[]),console.log("Fetched tasks:",me?.length||0,"tasks")}catch(me){console.error("Error fetching tasks:",me)}},Ze=async q=>{console.log(" fetchDeepWorkSessions called for user:",q);try{const{data:me,error:Ge}=await Z.from("deep_work_log").select(`
          *,
          task:task_id (
            task_name
          )
        `).eq("user_id",q).order("start_time",{ascending:!1});if(Ge)throw console.error(" Fetch error:",Ge),Ge;console.log(" Fetched sessions:",me?.length||0,"sessions"),console.log(" Sessions data:",me),v(me||[])}catch(me){console.error("Error fetching deep work sessions:",me)}},Ce=async q=>{q.preventDefault(),n(!0),m("");try{const{error:me}=await Z.auth.signInWithPassword({email:a,password:l});if(me)throw me}catch(me){m(me.message||"Failed to sign in")}finally{n(!1)}},vt=async q=>{if(window.confirm("Are you sure you want to delete this task?"))try{const{error:me}=await Z.from("tasks").delete().eq("id",q);if(me)throw me;e&&Ue(e.user.id),ee(null),W(!1),P({})}catch(me){console.error("Error deleting task:",me)}},Tr=async(q,me,Ge=!1)=>{try{const mt=Ge?{completed_at:me,updated_at:new Date().toISOString()}:{due_date:me},{error:wn}=await Z.from("tasks").update(mt).eq("id",q);if(wn)throw wn;e&&Ue(e.user.id),Q(!1),ge(null)}catch(mt){console.error("Error updating task date:",mt)}},ht=()=>{G(null),Y({}),Nt(""),Bt(!1)},it=async q=>{try{const me=new Date(V.start_time),Ge=new Date(V.end_time),mt=Math.floor((Ge.getTime()-me.getTime())/(1e3*60)),wn={area:V.area,task_type:V.task_type,task_id:V.task_id,effort_level:V.effort_level,notes:V.notes,duration_minutes:mt,start_time:V.start_time,end_time:V.end_time};if(q==="new"){const{error:yr}=await Z.from("deep_work_log").insert({...wn,user_id:e?.user.id});if(yr)throw yr}else{const{error:yr}=await Z.from("deep_work_log").update(wn).eq("id",q);if(yr)throw yr}e&&Ze(e.user.id),G(null),Y({}),Nt(""),Bt(!1)}catch(me){console.error("Error saving session:",me)}},Ar=async q=>{if(window.confirm("Are you sure you want to delete this session?"))try{const{error:me}=await Z.from("deep_work_log").delete().eq("id",q);if(me)throw me;e&&Ze(e.user.id),G(null),Y({}),Nt(""),Bt(!1)}catch(me){console.error("Error deleting session:",me)}},bn=q=>({"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"})[q]||"#6b7280",rr=q=>{if(!q)return!1;const me=q.split("T")[0].split("-"),Ge=new Date(parseInt(me[0]),parseInt(me[1])-1,parseInt(me[2])),mt=new Date;return mt.setHours(0,0,0,0),Ge.setHours(0,0,0,0),Ge.getTime()===mt.getTime()},En=q=>{if(!q)return!1;const me=q.split("T")[0].split("-"),Ge=new Date(parseInt(me[0]),parseInt(me[1])-1,parseInt(me[2])),mt=new Date;return mt.setDate(mt.getDate()+1),mt.setHours(0,0,0,0),Ge.setHours(0,0,0,0),Ge.getTime()===mt.getTime()},gn=q=>{if(!q)return!1;const me=q.split("T")[0].split("-"),Ge=new Date(parseInt(me[0]),parseInt(me[1])-1,parseInt(me[2])),mt=new Date;return mt.setHours(0,0,0,0),Ge.setHours(0,0,0,0),Ge<mt};let tt=_==="All Areas"?h:h.filter(q=>q.area===_);if(be!=="all")switch(be){case"active":tt=tt.filter(q=>q.status!=="Done");break;case"completed":tt=tt.filter(q=>q.status==="Done");break;case"recurring":tt=tt.filter(q=>q.recurring_type!==void 0&&q.recurring_type!==null&&q.recurring_type!=="none");break;case"overdue":tt=tt.filter(q=>gn(q.due_date)&&q.status!=="Done");break;case"dueToday":tt=tt.filter(q=>rr(q.due_date)&&q.status!=="Done");break;case"completedToday":tt=tt.filter(q=>q.status==="Done"&&q.updated_at&&rr(q.updated_at));break;case"dueTomorrow":tt=tt.filter(q=>En(q.due_date)&&q.status!=="Done");break}const ba=h.filter(q=>rr(q.due_date));ba.filter(q=>q.status==="Done").length,ba.length,h.filter(q=>q.status!=="Done").length,h.filter(q=>q.status==="Done").length,h.filter(q=>q.recurring_type!==void 0&&q.recurring_type!==null&&q.recurring_type!=="none").length,h.filter(q=>gn(q.due_date)&&q.status!=="Done").length,h.filter(q=>rr(q.due_date)&&q.status!=="Done").length,h.filter(q=>q.status==="Done"&&q.updated_at&&rr(q.updated_at)).length,h.filter(q=>En(q.due_date)&&q.status!=="Done").length,tt.length,tt.reduce((q,me)=>q+(me.hours_projected||0),0),tt.filter(q=>q.area==="Full Stack").length,tt.filter(q=>q.area==="Full Stack").reduce((q,me)=>q+(me.hours_projected||0),0),tt.filter(q=>q.area==="Huge Capital").length,tt.filter(q=>q.area==="Huge Capital").reduce((q,me)=>q+(me.hours_projected||0),0),tt.filter(q=>q.area==="S4").length,tt.filter(q=>q.area==="S4").reduce((q,me)=>q+(me.hours_projected||0),0),tt.filter(q=>q.area==="Personal").length,tt.filter(q=>q.area==="Personal").reduce((q,me)=>q+(me.hours_projected||0),0),tt.filter(q=>q.area==="808").length,tt.filter(q=>q.area==="808").reduce((q,me)=>q+(me.hours_projected||0),0),tt.filter(q=>q.area==="Health").length,tt.filter(q=>q.area==="Health").reduce((q,me)=>q+(me.hours_projected||0),0),tt.filter(q=>q.area==="Golf").length,tt.filter(q=>q.area==="Golf").reduce((q,me)=>q+(me.hours_projected||0),0);const Ct=(()=>{let q=y;const me=new Date;if(M==="Today"){const Ge=new Date(me.getFullYear(),me.getMonth(),me.getDate());q=q.filter(mt=>new Date(mt.start_time)>=Ge)}else if(M==="This Week"){const Ge=new Date(me);Ge.setDate(me.getDate()-me.getDay()),Ge.setHours(0,0,0,0),q=q.filter(mt=>new Date(mt.start_time)>=Ge)}else if(M==="This Month"){const Ge=new Date(me.getFullYear(),me.getMonth(),1);q=q.filter(mt=>new Date(mt.start_time)>=Ge)}return D!=="All Areas"&&(q=q.filter(Ge=>Ge.area===D)),B!=="All Levels"&&(q=q.filter(Ge=>Ge.effort_level===B)),q})(),Ga={totalSessions:Ct.length,totalMinutes:Ct.reduce((q,me)=>q+(me.duration_minutes||0),0),avgMinutes:Ct.length>0?Math.round(Ct.reduce((q,me)=>q+(me.duration_minutes||0),0)/Ct.length):0};Ct.length,Ct.filter(q=>q.area==="Personal").length,Ct.filter(q=>q.area==="Full Stack").length,Ct.filter(q=>q.area==="Huge Capital").length,Ct.filter(q=>q.area==="S4").length,Ct.filter(q=>q.area==="808").length,Ct.filter(q=>q.area==="Health").length,Ct.filter(q=>q.area==="Golf").length,Ct.length,Ct.filter(q=>q.effort_level==="$$$ Printer $$$").length,Ct.filter(q=>q.effort_level==="$ Makes Money $").length,Ct.filter(q=>q.effort_level==="-$ Save Dat $-").length,Ct.filter(q=>q.effort_level===":( No Money ):").length,Ct.filter(q=>q.effort_level==="8) Vibing (8").length;const Kr={};return Ct.forEach(q=>{const me=q.task?.task_name||"Unknown Task";Kr[me]||(Kr[me]={minutes:0,sessions:0,area:q.area,taskType:q.task_type||""}),Kr[me].minutes+=q.duration_minutes||0,Kr[me].sessions+=1}),Object.entries(Kr).sort((q,me)=>me[1].minutes-q[1].minutes).slice(0,5).map(([q,me])=>({taskName:q,minutes:me.minutes,sessions:me.sessions,area:me.area,taskType:me.taskType,percent:Ga.totalMinutes>0?Math.round(me.minutes/Ga.totalMinutes*100):0})),r&&!e?s.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a"},children:s.jsx("div",{style:{color:"#9ca3af"},children:"Loading..."})}):e?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:"#1a1a1a",color:"#fff",overflow:"visible"},children:[!_e&&s.jsxs("div",{style:{width:"264px",backgroundColor:"#0f0f0f",borderRight:"1px solid #2a2a2a",position:"sticky",top:0,height:"100vh",display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"visible",zIndex:100,minWidth:"264px"},children:[s.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #2a2a2a"},children:[s.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",background:"linear-gradient(to right, #f97316, #eab308)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"4px"},children:"TG Dashboard"}),s.jsx("p",{style:{fontSize:"12px",color:"#6b7280"},children:"Personal Performance Center"})]}),s.jsxs("div",{style:{flex:1,padding:"16px",position:"relative",overflow:"visible"},children:[s.jsxs("div",{style:{marginBottom:"8px",position:"relative"},onMouseEnter:()=>ft("tasks"),onMouseLeave:()=>ft(null),children:[s.jsxs("button",{onClick:()=>S("tasks"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics"?"#10b981":"transparent",color:b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics"?"white":"#10b981",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M9 11l3 3L22 4"}),s.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),"Daily"]}),s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),(Xe==="tasks"||b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics")&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",borderRadius:"8px",padding:"8px"},onMouseEnter:()=>ft("tasks"),onMouseLeave:()=>ft(null),children:[s.jsxs("button",{onClick:()=>S("tasks"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="tasks"?"#2a2a2a":"transparent",color:b==="tasks"?"#14d399":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="tasks"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M9 11l3 3L22 4"}),s.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),"Tasks"]}),s.jsxs("button",{onClick:()=>S("calendar"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="calendar"?"#2a2a2a":"transparent",color:b==="calendar"?"#1eefac":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="calendar"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"2",y:"3",width:"12",height:"11",rx:"1"}),s.jsx("path",{d:"M2 6h12M5 1v4M11 1v4"})]}),"Calendar"]}),s.jsxs("button",{onClick:()=>S("dailytime"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="dailytime"?"#2a2a2a":"transparent",color:b==="dailytime"?"#0d9668":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="dailytime"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"8",cy:"8",r:"6"}),s.jsx("path",{d:"M8 4v4l3 2"})]}),"Daily Time"]}),s.jsxs("button",{onClick:()=>S("analytics"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="analytics"?"#2a2a2a":"transparent",color:b==="analytics"?"#14d399":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="analytics"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"Deep Work"]})]})]}),s.jsxs("div",{style:{marginBottom:"8px",position:"relative"},onMouseEnter:()=>ft("business"),onMouseLeave:()=>ft(null),children:[s.jsxs("button",{onClick:()=>{S("business"),E(null)},style:{width:"100%",padding:"12px 16px",backgroundColor:b==="business"?"#a855f7":"transparent",color:b==="business"?"white":"#a855f7",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"2",y:"2",width:"12",height:"12",rx:"2"}),s.jsx("path",{d:"M2 6h12M6 2v12"})]}),"Projects"]}),s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),(Xe==="business"||b==="business"||b==="automations")&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",borderRadius:"8px",padding:"8px"},onMouseEnter:()=>ft("business"),onMouseLeave:()=>ft(null),children:[s.jsx("button",{onClick:()=>{S("automations"),E(null)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="automations"?"#2a2a2a":"transparent",color:b==="automations"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="automations"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Automations"}),s.jsx("button",{onClick:()=>{S("business"),E("Full Stack")},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="Full Stack"?"#2a2a2a":"transparent",color:A==="Full Stack"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:A==="Full Stack"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Full Stack"}),s.jsx("button",{onClick:()=>{S("business"),E("Huge Capital")},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="Huge Capital"?"#2a2a2a":"transparent",color:A==="Huge Capital"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:A==="Huge Capital"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Huge Capital"}),s.jsx("button",{onClick:()=>{S("business"),E("S4")},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="S4"?"#2a2a2a":"transparent",color:A==="S4"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:A==="S4"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"S4"}),s.jsx("button",{onClick:()=>{S("business"),E("808")},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="808"?"#2a2a2a":"transparent",color:A==="808"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:A==="808"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"808"}),s.jsx("button",{onClick:()=>{S("business"),E("Personal")},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="Personal"?"#2a2a2a":"transparent",color:A==="Personal"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:A==="Personal"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Personal"}),s.jsx("button",{onClick:()=>{S("business"),E("Health")},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="Health"?"#2a2a2a":"transparent",color:A==="Health"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:A==="Health"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Health"}),s.jsx("button",{onClick:()=>{S("business"),E("Golf")},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="Golf"?"#2a2a2a":"transparent",color:A==="Golf"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:A==="Golf"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Golf"}),s.jsx("button",{onClick:()=>{S("business"),E("Service SaaS")},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="Service SaaS"?"#2a2a2a":"transparent",color:A==="Service SaaS"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:A==="Service SaaS"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Service SaaS"})]})]}),s.jsxs("div",{style:{marginBottom:"8px",position:"relative"},onMouseEnter:()=>ft("resources"),onMouseLeave:()=>ft(null),children:[s.jsxs("button",{onClick:()=>S("content"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="content"||b==="notes"?"#eab308":"transparent",color:b==="content"||b==="notes"?"white":"#eab308",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M2 3h12M2 8h12M2 13h12"}),s.jsx("circle",{cx:"5",cy:"3",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"5",cy:"8",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"5",cy:"13",r:"1",fill:"currentColor"})]}),"Resources"]}),s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),(Xe==="resources"||b==="content"||b==="notes")&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",borderRadius:"8px",padding:"8px"},onMouseEnter:()=>ft("resources"),onMouseLeave:()=>ft(null),children:[s.jsxs("button",{onClick:()=>S("content"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="content"?"#2a2a2a":"transparent",color:b==="content"?"#FFC61A":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="content"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M2 3h12M2 8h12M2 13h12"}),s.jsx("circle",{cx:"5",cy:"3",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"5",cy:"8",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"5",cy:"13",r:"1",fill:"currentColor"})]}),"Content Library"]}),s.jsxs("button",{onClick:()=>S("notes"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="notes"?"#2a2a2a":"transparent",color:b==="notes"?"#D4A004":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="notes"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"2",width:"10",height:"12",rx:"1"}),s.jsx("path",{d:"M6 6h4M6 9h4M6 12h2"})]}),"Notes"]})]})]}),s.jsx("div",{style:{marginBottom:"8px"},children:s.jsxs("button",{onClick:()=>S("finance"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="finance"?"#f97316":"transparent",color:b==="finance"?"white":"#f97316",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"8",cy:"8",r:"6"}),s.jsx("path",{d:"M8 5v6M6 8h4"})]}),"Finance"]})}),s.jsx("div",{style:{marginBottom:"8px"},children:s.jsxs("button",{onClick:()=>S("health"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="health"?"#10b981":"transparent",color:b==="health"?"white":"#10b981",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),"Health"]})}),s.jsxs("div",{style:{marginBottom:"8px",position:"relative"},onMouseEnter:()=>ft("review"),onMouseLeave:()=>ft(null),children:[s.jsxs("button",{onClick:()=>S("review"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="review"||b==="insights"||b==="planning"?"#ec4899":"transparent",color:b==="review"||b==="insights"||b==="planning"?"white":"#ec4899",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"2",y:"2",width:"12",height:"12",rx:"2"}),s.jsx("rect",{x:"5",y:"5",width:"6",height:"2",fill:"currentColor"}),s.jsx("rect",{x:"5",y:"9",width:"4",height:"2",fill:"currentColor"})]}),"Review"]}),s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),(Xe==="review"||b==="review"||b==="insights"||b==="planning")&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",borderRadius:"8px",padding:"8px"},onMouseEnter:()=>ft("review"),onMouseLeave:()=>ft(null),children:[s.jsxs("button",{onClick:()=>S("review"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="review"?"#2a2a2a":"transparent",color:b==="review"?"#F55DAA":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="review"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"2",y:"2",width:"12",height:"12",rx:"2"}),s.jsx("rect",{x:"5",y:"5",width:"6",height:"2",fill:"currentColor"}),s.jsx("rect",{x:"5",y:"9",width:"4",height:"2",fill:"currentColor"})]}),"Dashboard"]}),s.jsxs("button",{onClick:()=>S("insights"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="insights"?"#2a2a2a":"transparent",color:b==="insights"?"#E93D87":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="insights"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"Insights"]}),s.jsxs("button",{onClick:()=>S("planning"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="planning"?"#2a2a2a":"transparent",color:b==="planning"?"#D92A6D":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="planning"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"10",height:"10",rx:"1"}),s.jsx("path",{d:"M5 2v4M11 2v4"})]}),"Planning"]})]})]})]})]}),Be&&_e&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:40},onClick:()=>$e(!1)}),Be&&_e&&s.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"264px",height:"100vh",backgroundColor:"#0f0f0f",borderRight:"1px solid #2a2a2a",display:"flex",flexDirection:"column",overflowY:"auto",zIndex:50},children:[s.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #2a2a2a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",background:"linear-gradient(to right, #f97316, #eab308)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0"},children:"TG Dashboard"}),s.jsx("button",{onClick:()=>$e(!1),style:{background:"none",border:"none",color:"#9ca3af",fontSize:"24px",cursor:"pointer",padding:"0"},children:""})]}),s.jsxs("div",{style:{flex:1,padding:"16px",position:"relative",overflow:"visible"},children:[s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("button",{onClick:()=>ft(Xe==="daily"?null:"daily"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics"?"#10b981":"transparent",color:b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics"?"white":"#10b981",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Daily",s.jsx("span",{style:{fontSize:"12px"},children:""})]}),Xe==="daily"&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",borderLeft:"2px solid #10b981",paddingLeft:"8px"},children:[s.jsx("button",{onClick:()=>{S("tasks"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="tasks"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Tasks"}),s.jsx("button",{onClick:()=>{S("calendar"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="calendar"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Calendar"}),s.jsx("button",{onClick:()=>{S("dailytime"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="dailytime"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left"},children:"Daily Time"})]})]}),s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("button",{onClick:()=>ft(Xe==="projects"?null:"projects"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="business"?"#a855f7":"transparent",color:b==="business"?"white":"#a855f7",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Projects",s.jsx("span",{style:{fontSize:"12px"},children:""})]}),Xe==="projects"&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",borderLeft:"2px solid #a855f7",paddingLeft:"8px"},children:[s.jsx("button",{onClick:()=>{S("automations"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="automations"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Automations"}),s.jsx("button",{onClick:()=>{S("business"),E("full-stack"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="full-stack"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Full Stack"}),s.jsx("button",{onClick:()=>{S("business"),E("huge-capital"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="huge-capital"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Huge Capital"}),s.jsx("button",{onClick:()=>{S("business"),E("s4"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="s4"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"S4"}),s.jsx("button",{onClick:()=>{S("business"),E("808"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="808"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"808"}),s.jsx("button",{onClick:()=>{S("business"),E("personal"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="personal"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Personal"}),s.jsx("button",{onClick:()=>{S("business"),E("health"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="health"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Health"}),s.jsx("button",{onClick:()=>{S("business"),E("golf"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="golf"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Golf"}),s.jsx("button",{onClick:()=>{S("business"),E("service-saas"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:A==="service-saas"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Service SaaS"})]})]}),s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("button",{onClick:()=>ft(Xe==="resources"?null:"resources"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="content"||b==="notes"?"#10b981":"transparent",color:b==="content"||b==="notes"?"white":"#10b981",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Resources",s.jsx("span",{style:{fontSize:"12px"},children:""})]}),Xe==="resources"&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",borderLeft:"2px solid #10b981",paddingLeft:"8px"},children:[s.jsx("button",{onClick:()=>{S("content"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="content"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Content Library"}),s.jsx("button",{onClick:()=>{S("notes"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="notes"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left"},children:"Notes"})]})]}),s.jsx("div",{style:{marginBottom:"8px",position:"relative"},children:s.jsx("button",{onClick:()=>{S("finance"),$e(!1)},style:{width:"100%",padding:"12px 16px",backgroundColor:b==="finance"?"#eab308":"transparent",color:b==="finance"?"white":"#eab308",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left"},children:"Finance"})}),s.jsx("div",{style:{marginBottom:"8px",position:"relative"},children:s.jsx("button",{onClick:()=>{S("health"),$e(!1)},style:{width:"100%",padding:"12px 16px",backgroundColor:b==="health"?"#14b8a6":"transparent",color:b==="health"?"white":"#14b8a6",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left"},children:"Health"})}),s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("button",{onClick:()=>ft(Xe==="review"?null:"review"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="review"||b==="analytics"||b==="insights"||b==="planning"?"#ec4899":"transparent",color:b==="review"||b==="analytics"||b==="insights"||b==="planning"?"white":"#ec4899",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Review",s.jsx("span",{style:{fontSize:"12px"},children:""})]}),Xe==="review"&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",borderLeft:"2px solid #ec4899",paddingLeft:"8px"},children:[s.jsx("button",{onClick:()=>{S("review"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="review"?"#be185d":"transparent",color:"#ec4899",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Dashboard"}),s.jsx("button",{onClick:()=>{S("analytics"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="analytics"?"#be185d":"transparent",color:"#ec4899",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Analytics"}),s.jsx("button",{onClick:()=>{S("insights"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="insights"?"#be185d":"transparent",color:"#ec4899",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Insights"}),s.jsx("button",{onClick:()=>{S("planning"),$e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="planning"?"#be185d":"transparent",color:"#ec4899",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left"},children:"Planning"})]})]}),s.jsx("div",{style:{marginBottom:"8px",position:"relative"},children:s.jsx("button",{onClick:()=>{S("automations"),$e(!1)},style:{width:"100%",padding:"12px 16px",backgroundColor:b==="automations"?"#f59e0b":"transparent",color:b==="automations"?"white":"#f59e0b",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left"},children:"Automations"})})]})]}),s.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[_e&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderBottom:"1px solid #2a2a2a",backgroundColor:"#0f0f0f"},children:[s.jsx("button",{onClick:()=>$e(!Be),style:{background:"none",border:"none",color:"#9ca3af",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Toggle sidebar",children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),s.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),s.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),s.jsx("span",{style:{color:"#e5e7eb",fontSize:"14px",fontWeight:"500",flex:1},children:"Menu"})]}),b==="tasks"&&s.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[s.jsx("div",{style:{display:"none"}}),k==="tasks-list"&&s.jsx(GZ,{}),k==="deepwork"&&s.jsx("div",{style:{padding:"0 20px"},children:s.jsx(uA,{})})]}),b==="business"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(qJ,{preselectedBusinessArea:A})}),b==="automations"&&s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:s.jsx(wbe,{})}),b==="content"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(vU,{})}),b==="finance"&&s.jsx("div",{style:{flex:1,overflow:"auto"},children:s.jsx(GJ,{})}),b==="notes"&&s.jsx("div",{style:{flex:1,overflow:"hidden"},children:s.jsx(VJ,{})}),b==="analytics"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(uA,{})}),b==="insights"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(Oxe,{})}),b==="health"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(d0e,{})}),b==="planning"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(j0e,{})}),b==="calendar"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(sxe,{})}),b==="dailytime"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(jxe,{})}),b==="review"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(pve,{onNavigate:S})})]}),F&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:ht,children:s.jsxs("div",{style:{backgroundColor:"#1f1f1f",borderRadius:"12px",width:"500px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},onClick:q=>q.stopPropagation(),children:[s.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#fff"},children:F==="new"?"Add New Deep Work Session":"Edit Deep Work Session"}),s.jsx("button",{onClick:ht,style:{backgroundColor:"transparent",border:"none",color:"#9ca3af",fontSize:"24px",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}),s.jsxs("div",{style:{padding:"24px"},children:[s.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Task"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",placeholder:"Search tasks...",value:Dt,onChange:q=>{Nt(q.target.value),Bt(!0),Y({...V,task_name:q.target.value,task_id:null})},onFocus:()=>Bt(!0),onBlur:()=>setTimeout(()=>Bt(!1),200),style:{width:"100%",padding:"10px 12px",paddingLeft:V.task_id?"32px":"12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"}}),V.task_id&&s.jsx("div",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:(()=>{const q=h.find(me=>me.id===V.task_id);return q?bn(q.area):"#6b7280"})()}})]}),Cr&&s.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#1a1a1a",border:"1px solid #444",borderRadius:"4px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:100},children:[h.filter(q=>q.task_name.toLowerCase().includes(Dt.toLowerCase())&&q.status!=="completed").slice(0,5).map(q=>s.jsx("div",{onClick:()=>{Y({...V,task_id:q.id,task_name:q.task_name,area:q.area,task_type:q.task_type}),Nt(q.task_name),Bt(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #333"},onMouseEnter:me=>me.currentTarget.style.backgroundColor="#2a2a2a",onMouseLeave:me=>me.currentTarget.style.backgroundColor="transparent",children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:bn(q.area),flexShrink:0}}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:"13px",color:"#fff"},children:q.task_name}),s.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:q.area})]})]})},q.id)),Dt&&s.jsxs("div",{onClick:()=>{Y({...V,task_id:null,task_name:Dt}),Bt(!1)},style:{padding:"8px 12px",cursor:"pointer",fontSize:"13px",color:"#60a5fa"},onMouseEnter:q=>q.currentTarget.style.backgroundColor="#2a2a2a",onMouseLeave:q=>q.currentTarget.style.backgroundColor="transparent",children:['+ Use "',Dt,'" as custom task']})]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Focus Area"}),s.jsxs("select",{value:V.area||"",onChange:q=>Y({...V,area:q.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"},children:[s.jsx("option",{value:"Full Stack",children:"Full Stack"}),s.jsx("option",{value:"Huge Capital",children:"Huge Capital"}),s.jsx("option",{value:"S4",children:"S4"}),s.jsx("option",{value:"808",children:"808"}),s.jsx("option",{value:"Personal",children:"Personal"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Health",children:"Health"})]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Task Type"}),s.jsx("input",{type:"text",value:V.task_type||"",onChange:q=>Y({...V,task_type:q.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"}})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Money Maker Level (Optional)"}),s.jsxs("select",{value:V.effort_level||"",onChange:q=>Y({...V,effort_level:q.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"},children:[s.jsx("option",{value:"",children:"Select level..."}),s.jsx("option",{value:"$$$ Printer $$$",style:{color:"#22c55e"},children:"$$$ Printer $$$"}),s.jsx("option",{value:"$ Makes Money $",style:{color:"#15803d"},children:"$ Makes Money $"}),s.jsx("option",{value:"-$ Save Dat $-",style:{color:"#fb923c"},children:"-$ Save Dat $-"}),s.jsx("option",{value:":( No Money ):",style:{color:"#ef4444"},children:":( No Money ):"}),s.jsx("option",{value:"8) Vibing (8",style:{color:"#a855f7"},children:"8) Vibing (8"})]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Duration (minutes) - Auto-calculated"}),s.jsx("input",{type:"number",value:V.duration_minutes||0,readOnly:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"#9ca3af",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"}}),s.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"6px"},children:"Duration is automatically calculated from start and end times"})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Start Time"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[s.jsx("div",{onClick:()=>{const q=document.getElementById("start-date-input");q&&q.showPicker()},style:{position:"relative",cursor:"pointer"},children:s.jsx("input",{id:"start-date-input",type:"date",value:V.start_time?new Date(V.start_time).toISOString().split("T")[0]:"",onChange:q=>{if(!q.target.value)return;const me=V.start_time?new Date(V.start_time):new Date,[Ge,mt,wn]=q.target.value.split("-"),yr=new Date(me);yr.setFullYear(parseInt(Ge),parseInt(mt)-1,parseInt(wn));const fs=yr.toISOString();let jn={...V,start_time:fs};if(V.end_time){const To=new Date(V.end_time),hs=Math.floor((To.getTime()-yr.getTime())/(1e3*60));jn.duration_minutes=Math.max(0,hs)}Y(jn)},style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",cursor:"pointer",pointerEvents:"none"}})}),s.jsx("div",{onClick:()=>{const q=document.getElementById("start-time-input");q&&q.showPicker()},style:{position:"relative",cursor:"pointer"},children:s.jsx("input",{id:"start-time-input",type:"time",step:"900",value:V.start_time?new Date(V.start_time).toTimeString().slice(0,5):"",onChange:q=>{if(!q.target.value)return;const[me,Ge]=q.target.value.split(":"),mt=V.start_time?new Date(V.start_time):new Date;mt.setHours(parseInt(me),parseInt(Ge),0,0);const wn=mt.toISOString();let yr={...V,start_time:wn};if(V.end_time){const fs=new Date(V.end_time),jn=Math.floor((fs.getTime()-mt.getTime())/(1e3*60));yr.duration_minutes=Math.max(0,jn)}Y(yr)},style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",cursor:"pointer",pointerEvents:"none"}})})]}),s.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:["Current: ",V.start_time?new Date(V.start_time).toLocaleString():"N/A"]})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"End Time"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[s.jsx("div",{onClick:()=>{const q=document.getElementById("end-date-input");q&&q.showPicker()},style:{position:"relative",cursor:"pointer"},children:s.jsx("input",{id:"end-date-input",type:"date",value:V.end_time?new Date(V.end_time).toISOString().split("T")[0]:"",onChange:q=>{if(!q.target.value)return;const me=V.end_time?new Date(V.end_time):new Date,[Ge,mt,wn]=q.target.value.split("-"),yr=new Date(me);yr.setFullYear(parseInt(Ge),parseInt(mt)-1,parseInt(wn));const fs=yr.toISOString();let jn={...V,end_time:fs};if(V.start_time){const To=new Date(V.start_time),hs=Math.floor((yr.getTime()-To.getTime())/(1e3*60));jn.duration_minutes=Math.max(0,hs)}Y(jn)},style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",cursor:"pointer",pointerEvents:"none"}})}),s.jsx("div",{onClick:()=>{const q=document.getElementById("end-time-input");q&&q.showPicker()},style:{position:"relative",cursor:"pointer"},children:s.jsx("input",{id:"end-time-input",type:"time",step:"900",value:V.end_time?new Date(V.end_time).toTimeString().slice(0,5):"",onChange:q=>{if(!q.target.value)return;const[me,Ge]=q.target.value.split(":"),mt=V.end_time?new Date(V.end_time):new Date;mt.setHours(parseInt(me),parseInt(Ge),0,0);const wn=mt.toISOString();let yr={...V,end_time:wn};if(V.start_time){const fs=new Date(V.start_time),jn=Math.floor((mt.getTime()-fs.getTime())/(1e3*60));yr.duration_minutes=Math.max(0,jn)}Y(yr)},style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",cursor:"pointer",pointerEvents:"none"}})})]}),s.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:["Current: ",V.end_time?new Date(V.end_time).toLocaleString():"N/A"]})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Notes"}),s.jsx("textarea",{value:V.notes||"",placeholder:"Session notes...",onChange:q=>Y({...V,notes:q.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",minHeight:"80px",resize:"vertical"}})]})]}),s.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F!=="new"?s.jsx("button",{onClick:()=>Ar(F),style:{padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Delete Session"}):s.jsx("div",{}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{onClick:ht,style:{padding:"10px 20px",backgroundColor:"transparent",color:"#9ca3af",border:"1px solid #444",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),s.jsx("button",{onClick:()=>it(F),style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:F==="new"?"Add Session":"Save Changes"})]})]})]})}),($||J)&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>{ee(null),W(!1),P({})},children:s.jsxs("div",{style:{backgroundColor:"#0f1419",borderRadius:"12px",padding:"28px",width:"600px",maxHeight:"90vh",overflow:"auto",border:"none"},onClick:q=>q.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[s.jsx("h2",{style:{color:"white",fontSize:"20px",fontWeight:"600",margin:0},children:$?"Edit Task":"Create New Task"}),s.jsx("button",{onClick:()=>{ee(null),W(!1),P({})},style:{background:"none",border:"none",color:"#888",fontSize:"28px",cursor:"pointer",padding:"0",lineHeight:"1"},children:""})]}),s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Task Name"}),s.jsx("input",{type:"text",value:U.task_name||$?.task_name||"",onChange:q=>P({...U,task_name:q.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"},placeholder:"Enter task name..."})]}),s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Description"}),s.jsx("textarea",{value:U.description||$?.description||"",onChange:q=>P({...U,description:q.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",minHeight:"70px",outline:"none",resize:"vertical"},placeholder:"Task description..."})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Area"}),s.jsxs("select",{value:U.area||$?.area||"",onChange:q=>P({...U,area:q.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"},children:[s.jsx("option",{value:"",children:"Select area..."}),s.jsx("option",{value:"Personal",children:"Personal"}),s.jsx("option",{value:"Full Stack",children:"Full Stack"}),s.jsx("option",{value:"Huge Capital",children:"Huge Capital"}),s.jsx("option",{value:"S4",children:"S4"}),s.jsx("option",{value:"808",children:"808"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Health",children:"Health"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Type"}),s.jsxs("select",{value:U.task_type||$?.task_type||"",onChange:q=>P({...U,task_type:q.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"},children:[s.jsx("option",{value:"",children:"Select type..."}),(U.area||$?.area)==="Health"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Admin",children:"Admin"}),s.jsx("option",{value:"Meditation",children:"Meditation"}),s.jsx("option",{value:"Workout",children:"Workout"}),s.jsx("option",{value:"Walk",children:"Walk"}),s.jsx("option",{value:"Yoga",children:"Yoga"})]}),(U.area||$?.area)==="S4"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Data",children:"Data"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"New Build",children:"New Build"}),s.jsx("option",{value:"Update Build",children:"Update Build"}),s.jsx("option",{value:"Sales",children:"Sales"}),s.jsx("option",{value:"Planning",children:"Planning"})]}),(U.area||$?.area)==="Huge Capital"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Admin",children:"Admin"}),s.jsx("option",{value:"New Build",children:"New Build"}),s.jsx("option",{value:"Update Build",children:"Update Build"}),s.jsx("option",{value:"Planning",children:"Planning"})]}),(U.area||$?.area)==="Golf"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Content",children:"Content"}),s.jsx("option",{value:"Equipment",children:"Equipment"}),s.jsx("option",{value:"Practice",children:"Practice"}),s.jsx("option",{value:"Golfing",children:"Golfing"}),s.jsx("option",{value:"Admin",children:"Admin"})]}),(U.area||$?.area)==="Full Stack"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Admin",children:"Admin"}),s.jsx("option",{value:"Internal Build",children:"Internal Build"}),s.jsx("option",{value:"Client Build",children:"Client Build"}),s.jsx("option",{value:"Team",children:"Team"}),s.jsx("option",{value:"Internal Update",children:"Internal Update"}),s.jsx("option",{value:"Client Update",children:"Client Update"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Sales",children:"Sales"})]}),(U.area||$?.area)==="808"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Online",children:"Online"}),s.jsx("option",{value:"Artists",children:"Artists"}),s.jsx("option",{value:"Cost Savings",children:"Cost Savings"}),s.jsx("option",{value:"Customer Service",children:"Customer Service"}),s.jsx("option",{value:"Data",children:"Data"}),s.jsx("option",{value:"Fulfillment",children:"Fulfillment"}),s.jsx("option",{value:"Automation",children:"Automation"})]}),(U.area||$?.area)==="Personal"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Arya",children:"Arya"}),s.jsx("option",{value:"Car",children:"Car"}),s.jsx("option",{value:"Cheypow",children:"Cheypow"}),s.jsx("option",{value:"Finances",children:"Finances"}),s.jsx("option",{value:"Friends",children:"Friends"}),s.jsx("option",{value:"House",children:"House"}),s.jsx("option",{value:"Life",children:"Life"})]})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Priority"}),s.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:["Low","Medium","High"].map(q=>s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",color:"white"},children:[s.jsx("input",{type:"radio",name:"priority",value:q,checked:(U.priority||$?.priority)===q,onChange:me=>P({...U,priority:me.target.value}),style:{cursor:"pointer"}}),s.jsx("span",{style:{fontSize:"14px"},children:q})]},q))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Money Maker"}),s.jsxs("select",{value:U.effort_level||$?.effort_level||"",onChange:q=>P({...U,effort_level:q.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"},children:[s.jsx("option",{value:"",children:"Select money maker..."}),s.jsx("option",{value:"$$$ Printer $$$",style:{color:"#22c55e"},children:"$$$ Printer $$$"}),s.jsx("option",{value:"$ Makes Money $",style:{color:"#15803d"},children:"$ Makes Money $"}),s.jsx("option",{value:"-$ Save Dat $-",style:{color:"#fb923c"},children:"-$ Save Dat $-"}),s.jsx("option",{value:":( No Money ):",style:{color:"#ef4444"},children:":( No Money ):"}),s.jsx("option",{value:"8) Vibing (8",style:{color:"#a855f7"},children:"8) Vibing (8"})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Hours Projected"}),s.jsx("input",{type:"number",value:U.hours_projected??($?.hours_projected||0),onChange:q=>P({...U,hours_projected:Number(q.target.value)}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Hours Worked"}),s.jsx("input",{type:"number",value:U.hours_worked??($?.hours_worked||0),onChange:q=>P({...U,hours_worked:Number(q.target.value)}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"}})]})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Due Date"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"date",value:U.due_date?new Date(U.due_date).toISOString().split("T")[0]:$?.due_date?new Date($.due_date).toISOString().split("T")[0]:"",onChange:q=>P({...U,due_date:q.target.value}),style:{width:"100%",padding:"10px 12px 10px 40px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"}}),s.jsx("div",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",pointerEvents:"none"},children:""})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"12px"},children:[$&&s.jsx("button",{onClick:()=>vt($.id),style:{padding:"10px 20px",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontWeight:"500",fontSize:"14px"},children:"Delete Task"}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"12px"},children:[s.jsx("button",{onClick:()=>{ee(null),W(!1),P({})},style:{padding:"10px 20px",backgroundColor:"#374151",border:"none",borderRadius:"6px",color:"#e5e7eb",cursor:"pointer",fontWeight:"500",fontSize:"14px"},children:"Cancel"}),s.jsx("button",{onClick:async()=>{$?(await Z.from("tasks").update({task_name:U.task_name||$.task_name,description:U.description||$.description,area:U.area||$.area,task_type:U.task_type||$.task_type,priority:U.priority||$.priority,effort_level:U.effort_level||$.effort_level,due_date:U.due_date||$.due_date,"Hours Projected":U.hours_projected??$.hours_projected,"Hours Worked":U.hours_worked??$.hours_worked}).eq("id",$.id),e&&Ue(e.user.id)):(await Z.from("tasks").insert({task_name:U.task_name,description:U.description||"",area:U.area||"Personal",task_type:U.task_type||"",status:"Not started",automation:"Manual",priority:U.priority||"Medium",effort_level:U.effort_level||"$ Makes Money $",due_date:U.due_date||null,user_id:e?.user.id,"Hours Projected":U.hours_projected||0,"Hours Worked":U.hours_worked||0}),e&&Ue(e.user.id)),ee(null),W(!1),P({})},style:{padding:"10px 20px",backgroundColor:"#60a5fa",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontWeight:"500",fontSize:"14px"},children:$?"Update Task":"Create Task"})]})]})]})}),H&&ne&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>{Q(!1),ge(null)},children:s.jsxs("div",{style:{backgroundColor:"#0f1419",borderRadius:"12px",padding:"28px",width:"400px",border:"none"},onClick:q=>q.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[s.jsx("h2",{style:{color:"white",fontSize:"20px",fontWeight:"600",margin:0},children:ne.status==="Done"?"Change Completion Date":"Change Due Date"}),s.jsx("button",{onClick:()=>{Q(!1),ge(null)},style:{background:"none",border:"none",color:"#888",fontSize:"28px",cursor:"pointer",padding:"0",lineHeight:"1"},children:""})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsxs("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:["Task: ",ne.task_name]}),s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:ne.status==="Done"?"New Completion Date":"New Due Date"}),s.jsx("input",{type:"date",defaultValue:ne.status==="Done"?ne.completed_at?.split("T")[0]||"":ne.due_date||"",onChange:q=>{q.target.value&&Tr(ne.id,q.target.value,ne.status==="Done")},style:{width:"100%",padding:"12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"16px",outline:"none"}})]}),s.jsx("button",{onClick:()=>{Q(!1),ge(null)},style:{width:"100%",padding:"12px",backgroundColor:"#60a5fa",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontWeight:"500",fontSize:"14px"},children:"Close"})]})})]}):s.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #3b82f6, #a855f7, #ec4899)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",padding:"32px",width:"100%",maxWidth:"448px"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[s.jsx("h1",{style:{fontSize:"36px",fontWeight:"bold",background:"linear-gradient(to right, #2563eb, #9333ea)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"8px"},children:"TG Dashboard"}),s.jsx("p",{style:{color:"#6b7280"},children:"Deep work focused task management"})]}),s.jsxs("form",{onSubmit:Ce,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Email"}),s.jsx("input",{type:"email",value:a,onChange:q=>i(q.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Password"}),s.jsx("input",{type:"password",value:l,onChange:q=>u(q.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px"},required:!0})]}),d&&s.jsx("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#991b1b",padding:"12px 16px",borderRadius:"8px",fontSize:"14px"},children:d}),s.jsx("button",{type:"submit",disabled:r,style:{width:"100%",padding:"12px",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"white",borderRadius:"8px",fontWeight:"500",border:"none",cursor:r?"not-allowed":"pointer",opacity:r?.5:1},children:r?"Signing in...":"Sign In"})]})]})})}const _be=new JB({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!0,refetchOnReconnect:!0},mutations:{retry:1}}});EB.createRoot(document.getElementById("root")).render(s.jsx(x.StrictMode,{children:s.jsx(ez,{client:_be,children:s.jsx(jbe,{})})}));
