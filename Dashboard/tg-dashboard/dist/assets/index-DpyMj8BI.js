function xP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ts(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lz(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Jx={exports:{}},wd={};var FC;function $z(){if(FC)return wd;FC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:i}}return wd.Fragment=t,wd.jsx=r,wd.jsxs=r,wd}var UC;function Bz(){return UC||(UC=1,Jx.exports=$z()),Jx.exports}var s=Bz(),ev={exports:{}},rt={};var qC;function zz(){if(qC)return rt;qC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function S(L,ee,J){this.props=L,this.context=ee,this.refs=b,this.updater=J||j}S.prototype.isReactComponent={},S.prototype.setState=function(L,ee){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ee,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=S.prototype;function C(L,ee,J){this.props=L,this.context=ee,this.refs=b,this.updater=J||j}var E=C.prototype=new k;E.constructor=C,w(E,S.prototype),E.isPureReactComponent=!0;var O=Array.isArray;function D(){}var T={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function I(L,ee,J){var Q=J.ref;return{$$typeof:e,type:L,key:ee,ref:Q!==void 0?Q:null,props:J}}function $(L,ee){return I(L.type,ee,L.props)}function B(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function z(L){var ee={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(J){return ee[J]})}var Y=/\/+/g;function ne(L,ee){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):ee.toString(36)}function V(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(D,D):(L.status="pending",L.then(function(ee){L.status==="pending"&&(L.status="fulfilled",L.value=ee)},function(ee){L.status==="pending"&&(L.status="rejected",L.reason=ee)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function F(L,ee,J,Q,fe){var ge=typeof L;(ge==="undefined"||ge==="boolean")&&(L=null);var re=!1;if(L===null)re=!0;else switch(ge){case"bigint":case"string":case"number":re=!0;break;case"object":switch(L.$$typeof){case e:case t:re=!0;break;case m:return re=L._init,F(re(L._payload),ee,J,Q,fe)}}if(re)return fe=fe(L),re=Q===""?"."+ne(L,0):Q,O(fe)?(J="",re!=null&&(J=re.replace(Y,"$&/")+"/"),F(fe,ee,J,"",function(pe){return pe})):fe!=null&&(B(fe)&&(fe=$(fe,J+(fe.key==null||L&&L.key===fe.key?"":(""+fe.key).replace(Y,"$&/")+"/")+re)),ee.push(fe)),1;re=0;var ke=Q===""?".":Q+":";if(O(L))for(var se=0;se<L.length;se++)Q=L[se],ge=ke+ne(Q,se),re+=F(Q,ee,J,ge,fe);else if(se=v(L),typeof se=="function")for(L=se.call(L),se=0;!(Q=L.next()).done;)Q=Q.value,ge=ke+ne(Q,se++),re+=F(Q,ee,J,ge,fe);else if(ge==="object"){if(typeof L.then=="function")return F(V(L),ee,J,Q,fe);throw ee=String(L),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return re}function Z(L,ee,J){if(L==null)return L;var Q=[],fe=0;return F(L,Q,"","",function(ge){return ee.call(J,ge,fe++)}),Q}function q(L){if(L._status===-1){var ee=L._result;ee=ee(),ee.then(function(J){(L._status===0||L._status===-1)&&(L._status=1,L._result=J)},function(J){(L._status===0||L._status===-1)&&(L._status=2,L._result=J)}),L._status===-1&&(L._status=0,L._result=ee)}if(L._status===1)return L._result.default;throw L._result}var U=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},W={map:Z,forEach:function(L,ee,J){Z(L,function(){ee.apply(this,arguments)},J)},count:function(L){var ee=0;return Z(L,function(){ee++}),ee},toArray:function(L){return Z(L,function(ee){return ee})||[]},only:function(L){if(!B(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return rt.Activity=g,rt.Children=W,rt.Component=S,rt.Fragment=r,rt.Profiler=a,rt.PureComponent=C,rt.StrictMode=n,rt.Suspense=d,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,rt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return T.H.useMemoCache(L)}},rt.cache=function(L){return function(){return L.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(L,ee,J){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Q=w({},L.props),fe=L.key;if(ee!=null)for(ge in ee.key!==void 0&&(fe=""+ee.key),ee)!M.call(ee,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ee.ref===void 0||(Q[ge]=ee[ge]);var ge=arguments.length-2;if(ge===1)Q.children=J;else if(1<ge){for(var re=Array(ge),ke=0;ke<ge;ke++)re[ke]=arguments[ke+2];Q.children=re}return I(L.type,fe,Q)},rt.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:i,_context:L},L},rt.createElement=function(L,ee,J){var Q,fe={},ge=null;if(ee!=null)for(Q in ee.key!==void 0&&(ge=""+ee.key),ee)M.call(ee,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(fe[Q]=ee[Q]);var re=arguments.length-2;if(re===1)fe.children=J;else if(1<re){for(var ke=Array(re),se=0;se<re;se++)ke[se]=arguments[se+2];fe.children=ke}if(L&&L.defaultProps)for(Q in re=L.defaultProps,re)fe[Q]===void 0&&(fe[Q]=re[Q]);return I(L,ge,fe)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(L){return{$$typeof:u,render:L}},rt.isValidElement=B,rt.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:q}},rt.memo=function(L,ee){return{$$typeof:f,type:L,compare:ee===void 0?null:ee}},rt.startTransition=function(L){var ee=T.T,J={};T.T=J;try{var Q=L(),fe=T.S;fe!==null&&fe(J,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(D,U)}catch(ge){U(ge)}finally{ee!==null&&J.types!==null&&(ee.types=J.types),T.T=ee}},rt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},rt.use=function(L){return T.H.use(L)},rt.useActionState=function(L,ee,J){return T.H.useActionState(L,ee,J)},rt.useCallback=function(L,ee){return T.H.useCallback(L,ee)},rt.useContext=function(L){return T.H.useContext(L)},rt.useDebugValue=function(){},rt.useDeferredValue=function(L,ee){return T.H.useDeferredValue(L,ee)},rt.useEffect=function(L,ee){return T.H.useEffect(L,ee)},rt.useEffectEvent=function(L){return T.H.useEffectEvent(L)},rt.useId=function(){return T.H.useId()},rt.useImperativeHandle=function(L,ee,J){return T.H.useImperativeHandle(L,ee,J)},rt.useInsertionEffect=function(L,ee){return T.H.useInsertionEffect(L,ee)},rt.useLayoutEffect=function(L,ee){return T.H.useLayoutEffect(L,ee)},rt.useMemo=function(L,ee){return T.H.useMemo(L,ee)},rt.useOptimistic=function(L,ee){return T.H.useOptimistic(L,ee)},rt.useReducer=function(L,ee,J){return T.H.useReducer(L,ee,J)},rt.useRef=function(L){return T.H.useRef(L)},rt.useState=function(L){return T.H.useState(L)},rt.useSyncExternalStore=function(L,ee,J){return T.H.useSyncExternalStore(L,ee,J)},rt.useTransition=function(){return T.H.useTransition()},rt.version="19.2.0",rt}var HC;function cu(){return HC||(HC=1,ev.exports=zz()),ev.exports}var y=cu();const _e=ts(y),wp=xP({__proto__:null,default:_e},[y]);var tv={exports:{}},jd={},rv={exports:{}},nv={};var WC;function Fz(){return WC||(WC=1,(function(e){function t(F,Z){var q=F.length;F.push(Z);e:for(;0<q;){var U=q-1>>>1,W=F[U];if(0<a(W,Z))F[U]=Z,F[q]=W,q=U;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var Z=F[0],q=F.pop();if(q!==Z){F[0]=q;e:for(var U=0,W=F.length,L=W>>>1;U<L;){var ee=2*(U+1)-1,J=F[ee],Q=ee+1,fe=F[Q];if(0>a(J,q))Q<W&&0>a(fe,J)?(F[U]=fe,F[Q]=q,U=Q):(F[U]=J,F[ee]=q,U=ee);else if(Q<W&&0>a(fe,q))F[U]=fe,F[Q]=q,U=Q;else break e}}return Z}function a(F,Z){var q=F.sortIndex-Z.sortIndex;return q!==0?q:F.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,g=null,x=3,v=!1,j=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(F){for(var Z=r(f);Z!==null;){if(Z.callback===null)n(f);else if(Z.startTime<=F)n(f),Z.sortIndex=Z.expirationTime,t(d,Z);else break;Z=r(f)}}function O(F){if(w=!1,E(F),!j)if(r(d)!==null)j=!0,D||(D=!0,z());else{var Z=r(f);Z!==null&&V(O,Z.startTime-F)}}var D=!1,T=-1,M=5,I=-1;function $(){return b?!0:!(e.unstable_now()-I<M)}function B(){if(b=!1,D){var F=e.unstable_now();I=F;var Z=!0;try{e:{j=!1,w&&(w=!1,k(T),T=-1),v=!0;var q=x;try{t:{for(E(F),g=r(d);g!==null&&!(g.expirationTime>F&&$());){var U=g.callback;if(typeof U=="function"){g.callback=null,x=g.priorityLevel;var W=U(g.expirationTime<=F);if(F=e.unstable_now(),typeof W=="function"){g.callback=W,E(F),Z=!0;break t}g===r(d)&&n(d),E(F)}else n(d);g=r(d)}if(g!==null)Z=!0;else{var L=r(f);L!==null&&V(O,L.startTime-F),Z=!1}}break e}finally{g=null,x=q,v=!1}Z=void 0}}finally{Z?z():D=!1}}}var z;if(typeof C=="function")z=function(){C(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ne=Y.port2;Y.port1.onmessage=B,z=function(){ne.postMessage(null)}}else z=function(){S(B,0)};function V(F,Z){T=S(function(){F(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(F){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var q=x;x=Z;try{return F()}finally{x=q}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=x;x=F;try{return Z()}finally{x=q}},e.unstable_scheduleCallback=function(F,Z,q){var U=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?U+q:U):q=U,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,F={id:m++,callback:Z,priorityLevel:F,startTime:q,expirationTime:W,sortIndex:-1},q>U?(F.sortIndex=q,t(f,F),r(d)===null&&F===r(f)&&(w?(k(T),T=-1):w=!0,V(O,q-U))):(F.sortIndex=W,t(d,F),j||v||(j=!0,D||(D=!0,z()))),F},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(F){var Z=x;return function(){var q=x;x=Z;try{return F.apply(this,arguments)}finally{x=q}}}})(nv)),nv}var YC;function Uz(){return YC||(YC=1,rv.exports=Fz()),rv.exports}var av={exports:{}},gn={};var KC;function qz(){if(KC)return gn;KC=1;var e=cu();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,gn.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(d,f,null,m)},gn.flushSync=function(d){var f=l.T,m=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=m,n.d.f()}},gn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},gn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},gn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:v}):m==="script"&&n.d.X(d,{crossOrigin:g,integrity:x,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},gn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},gn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},gn.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},gn.requestFormReset=function(d){n.d.r(d)},gn.unstable_batchedUpdates=function(d,f){return d(f)},gn.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},gn.useFormStatus=function(){return l.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var VC;function vP(){if(VC)return av.exports;VC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),av.exports=qz(),av.exports}var GC;function Hz(){if(GC)return jd;GC=1;var e=Uz(),t=cu(),r=vP();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(i(o)!==o)throw Error(n(188))}function f(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,p=c;;){var _=h.return;if(_===null)break;var N=_.alternate;if(N===null){if(p=_.return,p!==null){h=p;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===h)return d(_),o;if(N===p)return d(_),c;N=N.sibling}throw Error(n(188))}if(h.return!==p.return)h=_,p=N;else{for(var A=!1,R=_.child;R;){if(R===h){A=!0,h=_,p=N;break}if(R===p){A=!0,p=_,h=N;break}R=R.sibling}if(!A){for(R=N.child;R;){if(R===h){A=!0,h=N,p=_;break}if(R===p){A=!0,p=N,h=_;break}R=R.sibling}if(!A)throw Error(n(189))}}if(h.alternate!==p)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Symbol.for("react.client.reference");function ne(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Y?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case S:return"Profiler";case b:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList";case I:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case j:return"Portal";case C:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case E:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case T:return c=o.displayName||null,c!==null?c:ne(o.type)||"Memo";case M:c=o._payload,o=o._init;try{return ne(o(c))}catch{}}return null}var V=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},U=[],W=-1;function L(o){return{current:o}}function ee(o){0>W||(o.current=U[W],U[W]=null,W--)}function J(o,c){W++,U[W]=o.current,o.current=c}var Q=L(null),fe=L(null),ge=L(null),re=L(null);function ke(o,c){switch(J(ge,c),J(fe,o),J(Q,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?uC(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=uC(c),o=dC(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ee(Q),J(Q,o)}function se(){ee(Q),ee(fe),ee(ge)}function pe(o){o.memoizedState!==null&&J(re,o);var c=Q.current,h=dC(c,o.type);c!==h&&(J(fe,o),J(Q,h))}function Ce(o){fe.current===o&&(ee(Q),ee(fe)),re.current===o&&(ee(re),yd._currentValue=q)}var de,Qe;function Ee(o){if(de===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);de=c&&c[1]||"",Qe=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+o+Qe}var Ue=!1;function et(o,c){if(!o||Ue)return"";Ue=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(he){var ue=he}Reflect.construct(o,[],we)}else{try{we.call()}catch(he){ue=he}o.call(we.prototype)}}else{try{throw Error()}catch(he){ue=he}(we=o())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(he){if(he&&ue&&typeof he.stack=="string")return[he.stack,ue.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),A=N[0],R=N[1];if(A&&R){var G=A.split(`
`),ce=R.split(`
`);for(_=p=0;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;for(;_<ce.length&&!ce[_].includes("DetermineComponentFrameRoot");)_++;if(p===G.length||_===ce.length)for(p=G.length-1,_=ce.length-1;1<=p&&0<=_&&G[p]!==ce[_];)_--;for(;1<=p&&0<=_;p--,_--)if(G[p]!==ce[_]){if(p!==1||_!==1)do if(p--,_--,0>_||G[p]!==ce[_]){var ye=`
`+G[p].replace(" at new "," at ");return o.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",o.displayName)),ye}while(1<=p&&0<=_);break}}}finally{Ue=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Ee(h):""}function Wt(o,c){switch(o.tag){case 26:case 27:case 5:return Ee(o.type);case 16:return Ee("Lazy");case 13:return o.child!==c&&c!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return et(o.type,!1);case 11:return et(o.type.render,!1);case 1:return et(o.type,!0);case 31:return Ee("Activity");default:return""}}function Xr(o){try{var c="",h=null;do c+=Wt(o,h),h=o,o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var _r=Object.prototype.hasOwnProperty,Jt=e.unstable_scheduleCallback,zr=e.unstable_cancelCallback,yr=e.unstable_shouldYield,K=e.unstable_requestPaint,ae=e.unstable_now,P=e.unstable_getCurrentPriorityLevel,oe=e.unstable_ImmediatePriority,ve=e.unstable_UserBlockingPriority,Te=e.unstable_NormalPriority,tt=e.unstable_LowPriority,jt=e.unstable_IdlePriority,Et=e.log,lr=e.unstable_setDisableYieldValue,Yt=null,_t=null;function Je(o){if(typeof Et=="function"&&lr(o),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Yt,o)}catch{}}var xt=Math.clz32?Math.clz32:St,er=Math.log,Ye=Math.LN2;function St(o){return o>>>=0,o===0?32:31-(er(o)/Ye|0)|0}var je=256,Oe=262144,nt=4194304;function Se(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ct(o,c,h){var p=o.pendingLanes;if(p===0)return 0;var _=0,N=o.suspendedLanes,A=o.pingedLanes;o=o.warmLanes;var R=p&134217727;return R!==0?(p=R&~N,p!==0?_=Se(p):(A&=R,A!==0?_=Se(A):h||(h=R&~o,h!==0&&(_=Se(h))))):(R=p&~N,R!==0?_=Se(R):A!==0?_=Se(A):h||(h=p&~o,h!==0&&(_=Se(h)))),_===0?0:c!==0&&c!==_&&(c&N)===0&&(N=_&-_,h=c&-c,N>=h||N===32&&(h&4194048)!==0)?c:_}function ar(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ut(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var o=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),o}function Ar(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Bn(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function hr(o,c,h,p,_,N){var A=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var R=o.entanglements,G=o.expirationTimes,ce=o.hiddenUpdates;for(h=A&~h;0<h;){var ye=31-xt(h),we=1<<ye;R[ye]=0,G[ye]=-1;var ue=ce[ye];if(ue!==null)for(ce[ye]=null,ye=0;ye<ue.length;ye++){var he=ue[ye];he!==null&&(he.lane&=-536870913)}h&=~we}p!==0&&na(o,p,0),N!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=N&~(A&~c))}function na(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var p=31-xt(c);o.entangledLanes|=c,o.entanglements[p]=o.entanglements[p]|1073741824|h&261930}function Sn(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var p=31-xt(h),_=1<<p;_&c|o[p]&c&&(o[p]|=c),h&=~_}}function Nn(o,c){var h=c&-c;return h=(h&42)!==0?1:kn(h),(h&(o.suspendedLanes|c))!==0?0:h}function kn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ea(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function zn(){var o=Z.p;return o!==0?o:(o=window.event,o===void 0?32:PC(o.type))}function dt(o,c){var h=Z.p;try{return Z.p=o,c()}finally{Z.p=h}}var Cn=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Cn,Nt="__reactProps$"+Cn,Ys="__reactContainer$"+Cn,Ks="__reactEvents$"+Cn,H="__reactListeners$"+Cn,xe="__reactHandles$"+Cn,Ge="__reactResources$"+Cn,lt="__reactMarker$"+Cn;function sn(o){delete o[Zr],delete o[Nt],delete o[Ks],delete o[H],delete o[xe]}function tr(o){var c=o[Zr];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Ys]||h[Zr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=xC(o);o!==null;){if(h=o[Zr])return h;o=xC(o)}return c}o=h,h=o.parentNode}return null}function Fn(o){if(o=o[Zr]||o[Ys]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Tn(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function Ss(o){var c=o[Ge];return c||(c=o[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function xr(o){o[lt]=!0}var ZS=new Set,JS={};function Bo(o,c){Kl(o,c),Kl(o+"Capture",c)}function Kl(o,c){for(JS[o]=c,o=0;o<c.length;o++)ZS.add(c[o])}var T7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eN={},tN={};function E7(o){return _r.call(tN,o)?!0:_r.call(eN,o)?!1:T7.test(o)?tN[o]=!0:(eN[o]=!0,!1)}function eh(o,c,h){if(E7(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function th(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Vs(o,c,h,p){if(p===null)o.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+p)}}function Oa(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function rN(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function O7(o,c,h){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,N=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return _.call(this)},set:function(A){h=""+A,N.call(this,A)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Y0(o){if(!o._valueTracker){var c=rN(o)?"checked":"value";o._valueTracker=O7(o,c,""+o[c])}}function nN(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),p="";return o&&(p=rN(o)?o.checked?"true":"false":o.value),o=p,o!==h?(c.setValue(o),!0):!1}function rh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var A7=/[\n"\\]/g;function Aa(o){return o.replace(A7,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function K0(o,c,h,p,_,N,A,R){o.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?o.type=A:o.removeAttribute("type"),c!=null?A==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Oa(c)):o.value!==""+Oa(c)&&(o.value=""+Oa(c)):A!=="submit"&&A!=="reset"||o.removeAttribute("value"),c!=null?V0(o,A,Oa(c)):h!=null?V0(o,A,Oa(h)):p!=null&&o.removeAttribute("value"),_==null&&N!=null&&(o.defaultChecked=!!N),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+Oa(R):o.removeAttribute("name")}function aN(o,c,h,p,_,N,A,R){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),c!=null||h!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){Y0(o);return}h=h!=null?""+Oa(h):"",c=c!=null?""+Oa(c):h,R||c===o.value||(o.value=c),o.defaultValue=c}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=R?o.checked:!!p,o.defaultChecked=!!p,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.name=A),Y0(o)}function V0(o,c,h){c==="number"&&rh(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Vl(o,c,h,p){if(o=o.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<o.length;h++)_=c.hasOwnProperty("$"+o[h].value),o[h].selected!==_&&(o[h].selected=_),_&&p&&(o[h].defaultSelected=!0)}else{for(h=""+Oa(h),c=null,_=0;_<o.length;_++){if(o[_].value===h){o[_].selected=!0,p&&(o[_].defaultSelected=!0);return}c!==null||o[_].disabled||(c=o[_])}c!==null&&(c.selected=!0)}}function sN(o,c,h){if(c!=null&&(c=""+Oa(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+Oa(h):""}function iN(o,c,h,p){if(c==null){if(p!=null){if(h!=null)throw Error(n(92));if(V(p)){if(1<p.length)throw Error(n(93));p=p[0]}h=p}h==null&&(h=""),c=h}h=Oa(c),o.defaultValue=h,p=o.textContent,p===h&&p!==""&&p!==null&&(o.value=p),Y0(o)}function Gl(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var D7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oN(o,c,h){var p=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":p?o.setProperty(c,h):typeof h!="number"||h===0||D7.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function lN(o,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var _ in c)p=c[_],c.hasOwnProperty(_)&&h[_]!==p&&oN(o,_,p)}else for(var N in c)c.hasOwnProperty(N)&&oN(o,N,c[N])}function G0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nh(o){return P7.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Gs(){}var Q0=null;function X0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ql=null,Xl=null;function cN(o){var c=Fn(o);if(c&&(o=c.stateNode)){var h=o[Nt]||null;e:switch(o=c.stateNode,c.type){case"input":if(K0(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Aa(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var p=h[c];if(p!==o&&p.form===o.form){var _=p[Nt]||null;if(!_)throw Error(n(90));K0(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<h.length;c++)p=h[c],p.form===o.form&&nN(p)}break e;case"textarea":sN(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Vl(o,!!h.multiple,c,!1)}}}var Z0=!1;function uN(o,c,h){if(Z0)return o(c,h);Z0=!0;try{var p=o(c);return p}finally{if(Z0=!1,(Ql!==null||Xl!==null)&&(Hh(),Ql&&(c=Ql,o=Xl,Xl=Ql=null,cN(c),o)))for(c=0;c<o.length;c++)cN(o[c])}}function Pu(o,c){var h=o.stateNode;if(h===null)return null;var p=h[Nt]||null;if(p===null)return null;h=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J0=!1;if(Qs)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){J0=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{J0=!1}var Li=null,ey=null,ah=null;function dN(){if(ah)return ah;var o,c=ey,h=c.length,p,_="value"in Li?Li.value:Li.textContent,N=_.length;for(o=0;o<h&&c[o]===_[o];o++);var A=h-o;for(p=1;p<=A&&c[h-p]===_[N-p];p++);return ah=_.slice(o,1<p?1-p:void 0)}function sh(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function ih(){return!0}function fN(){return!1}function Un(o){function c(h,p,_,N,A){this._reactName=h,this._targetInst=_,this.type=p,this.nativeEvent=N,this.target=A,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(h=o[R],this[R]=h?h(N):N[R]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?ih:fN,this.isPropagationStopped=fN,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ih)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ih)},persist:function(){},isPersistent:ih}),c}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oh=Un(zo),Iu=g({},zo,{view:0,detail:0}),R7=Un(Iu),ty,ry,Lu,lh=g({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Lu&&(Lu&&o.type==="mousemove"?(ty=o.screenX-Lu.screenX,ry=o.screenY-Lu.screenY):ry=ty=0,Lu=o),ty)},movementY:function(o){return"movementY"in o?o.movementY:ry}}),hN=Un(lh),I7=g({},lh,{dataTransfer:0}),L7=Un(I7),$7=g({},Iu,{relatedTarget:0}),ny=Un($7),B7=g({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),z7=Un(B7),F7=g({},zo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),U7=Un(F7),q7=g({},zo,{data:0}),mN=Un(q7),H7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K7(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Y7[o])?!!c[o]:!1}function ay(){return K7}var V7=g({},Iu,{key:function(o){if(o.key){var c=H7[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=sh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?W7[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(o){return o.type==="keypress"?sh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?sh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),G7=Un(V7),Q7=g({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gN=Un(Q7),X7=g({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),Z7=Un(X7),J7=g({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),eB=Un(J7),tB=g({},lh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),rB=Un(tB),nB=g({},zo,{newState:0,oldState:0}),aB=Un(nB),sB=[9,13,27,32],sy=Qs&&"CompositionEvent"in window,$u=null;Qs&&"documentMode"in document&&($u=document.documentMode);var iB=Qs&&"TextEvent"in window&&!$u,pN=Qs&&(!sy||$u&&8<$u&&11>=$u),yN=" ",xN=!1;function vN(o,c){switch(o){case"keyup":return sB.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bN(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zl=!1;function oB(o,c){switch(o){case"compositionend":return bN(c);case"keypress":return c.which!==32?null:(xN=!0,yN);case"textInput":return o=c.data,o===yN&&xN?null:o;default:return null}}function lB(o,c){if(Zl)return o==="compositionend"||!sy&&vN(o,c)?(o=dN(),ah=ey=Li=null,Zl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return pN&&c.locale!=="ko"?null:c.data;default:return null}}var cB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wN(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!cB[o.type]:c==="textarea"}function jN(o,c,h,p){Ql?Xl?Xl.push(p):Xl=[p]:Ql=p,c=Xh(c,"onChange"),0<c.length&&(h=new oh("onChange","change",null,h,p),o.push({event:h,listeners:c}))}var Bu=null,zu=null;function uB(o){aC(o,0)}function ch(o){var c=Tn(o);if(nN(c))return o}function _N(o,c){if(o==="change")return c}var SN=!1;if(Qs){var iy;if(Qs){var oy="oninput"in document;if(!oy){var NN=document.createElement("div");NN.setAttribute("oninput","return;"),oy=typeof NN.oninput=="function"}iy=oy}else iy=!1;SN=iy&&(!document.documentMode||9<document.documentMode)}function kN(){Bu&&(Bu.detachEvent("onpropertychange",CN),zu=Bu=null)}function CN(o){if(o.propertyName==="value"&&ch(zu)){var c=[];jN(c,zu,o,X0(o)),uN(uB,c)}}function dB(o,c,h){o==="focusin"?(kN(),Bu=c,zu=h,Bu.attachEvent("onpropertychange",CN)):o==="focusout"&&kN()}function fB(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ch(zu)}function hB(o,c){if(o==="click")return ch(c)}function mB(o,c){if(o==="input"||o==="change")return ch(c)}function gB(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var aa=typeof Object.is=="function"?Object.is:gB;function Fu(o,c){if(aa(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),p=Object.keys(c);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var _=h[p];if(!_r.call(c,_)||!aa(o[_],c[_]))return!1}return!0}function TN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function EN(o,c){var h=TN(o);o=0;for(var p;h;){if(h.nodeType===3){if(p=o+h.textContent.length,o<=c&&p>=c)return{node:h,offset:c-o};o=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=TN(h)}}function ON(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?ON(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function AN(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=rh(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=rh(o.document)}return c}function ly(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var pB=Qs&&"documentMode"in document&&11>=document.documentMode,Jl=null,cy=null,Uu=null,uy=!1;function DN(o,c,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;uy||Jl==null||Jl!==rh(p)||(p=Jl,"selectionStart"in p&&ly(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Uu&&Fu(Uu,p)||(Uu=p,p=Xh(cy,"onSelect"),0<p.length&&(c=new oh("onSelect","select",null,c,h),o.push({event:c,listeners:p}),c.target=Jl)))}function Fo(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var ec={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionrun:Fo("Transition","TransitionRun"),transitionstart:Fo("Transition","TransitionStart"),transitioncancel:Fo("Transition","TransitionCancel"),transitionend:Fo("Transition","TransitionEnd")},dy={},MN={};Qs&&(MN=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function Uo(o){if(dy[o])return dy[o];if(!ec[o])return o;var c=ec[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in MN)return dy[o]=c[h];return o}var PN=Uo("animationend"),RN=Uo("animationiteration"),IN=Uo("animationstart"),yB=Uo("transitionrun"),xB=Uo("transitionstart"),vB=Uo("transitioncancel"),LN=Uo("transitionend"),$N=new Map,fy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fy.push("scrollEnd");function as(o,c){$N.set(o,c),Bo(c,[o])}var uh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Da=[],tc=0,hy=0;function dh(){for(var o=tc,c=hy=tc=0;c<o;){var h=Da[c];Da[c++]=null;var p=Da[c];Da[c++]=null;var _=Da[c];Da[c++]=null;var N=Da[c];if(Da[c++]=null,p!==null&&_!==null){var A=p.pending;A===null?_.next=_:(_.next=A.next,A.next=_),p.pending=_}N!==0&&BN(h,_,N)}}function fh(o,c,h,p){Da[tc++]=o,Da[tc++]=c,Da[tc++]=h,Da[tc++]=p,hy|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function my(o,c,h,p){return fh(o,c,h,p),hh(o)}function qo(o,c){return fh(o,null,null,c),hh(o)}function BN(o,c,h){o.lanes|=h;var p=o.alternate;p!==null&&(p.lanes|=h);for(var _=!1,N=o.return;N!==null;)N.childLanes|=h,p=N.alternate,p!==null&&(p.childLanes|=h),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(_=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,_&&c!==null&&(_=31-xt(h),o=N.hiddenUpdates,p=o[_],p===null?o[_]=[c]:p.push(c),c.lane=h|536870912),N):null}function hh(o){if(50<ud)throw ud=0,_x=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var rc={};function bB(o,c,h,p){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(o,c,h,p){return new bB(o,c,h,p)}function gy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Xs(o,c){var h=o.alternate;return h===null?(h=sa(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function zN(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function mh(o,c,h,p,_,N){var A=0;if(p=o,typeof o=="function")gy(o)&&(A=1);else if(typeof o=="string")A=Nz(o,h,Q.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case I:return o=sa(31,h,c,_),o.elementType=I,o.lanes=N,o;case w:return Ho(h.children,_,N,c);case b:A=8,_|=24;break;case S:return o=sa(12,h,c,_|2),o.elementType=S,o.lanes=N,o;case O:return o=sa(13,h,c,_),o.elementType=O,o.lanes=N,o;case D:return o=sa(19,h,c,_),o.elementType=D,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:A=10;break e;case k:A=9;break e;case E:A=11;break e;case T:A=14;break e;case M:A=16,p=null;break e}A=29,h=Error(n(130,o===null?"null":typeof o,"")),p=null}return c=sa(A,h,c,_),c.elementType=o,c.type=p,c.lanes=N,c}function Ho(o,c,h,p){return o=sa(7,o,p,c),o.lanes=h,o}function py(o,c,h){return o=sa(6,o,null,c),o.lanes=h,o}function FN(o){var c=sa(18,null,null,0);return c.stateNode=o,c}function yy(o,c,h){return c=sa(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var UN=new WeakMap;function Ma(o,c){if(typeof o=="object"&&o!==null){var h=UN.get(o);return h!==void 0?h:(c={value:o,source:c,stack:Xr(c)},UN.set(o,c),c)}return{value:o,source:c,stack:Xr(c)}}var nc=[],ac=0,gh=null,qu=0,Pa=[],Ra=0,$i=null,Ns=1,ks="";function Zs(o,c){nc[ac++]=qu,nc[ac++]=gh,gh=o,qu=c}function qN(o,c,h){Pa[Ra++]=Ns,Pa[Ra++]=ks,Pa[Ra++]=$i,$i=o;var p=Ns;o=ks;var _=32-xt(p)-1;p&=~(1<<_),h+=1;var N=32-xt(c)+_;if(30<N){var A=_-_%5;N=(p&(1<<A)-1).toString(32),p>>=A,_-=A,Ns=1<<32-xt(c)+_|h<<_|p,ks=N+o}else Ns=1<<N|h<<_|p,ks=o}function xy(o){o.return!==null&&(Zs(o,1),qN(o,1,0))}function vy(o){for(;o===gh;)gh=nc[--ac],nc[ac]=null,qu=nc[--ac],nc[ac]=null;for(;o===$i;)$i=Pa[--Ra],Pa[Ra]=null,ks=Pa[--Ra],Pa[Ra]=null,Ns=Pa[--Ra],Pa[Ra]=null}function HN(o,c){Pa[Ra++]=Ns,Pa[Ra++]=ks,Pa[Ra++]=$i,Ns=c.id,ks=c.overflow,$i=o}var on=null,sr=null,kt=!1,Bi=null,Ia=!1,by=Error(n(519));function zi(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hu(Ma(c,o)),by}function WN(o){var c=o.stateNode,h=o.type,p=o.memoizedProps;switch(c[Zr]=o,c[Nt]=p,h){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(h=0;h<fd.length;h++)pt(fd[h],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":pt("invalid",c),aN(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":pt("invalid",c);break;case"textarea":pt("invalid",c),iN(c,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||p.suppressHydrationWarning===!0||lC(c.textContent,h)?(p.popover!=null&&(pt("beforetoggle",c),pt("toggle",c)),p.onScroll!=null&&pt("scroll",c),p.onScrollEnd!=null&&pt("scrollend",c),p.onClick!=null&&(c.onclick=Gs),c=!0):c=!1,c||zi(o,!0)}function YN(o){for(on=o.return;on;)switch(on.tag){case 5:case 31:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:on=on.return}}function sc(o){if(o!==on)return!1;if(!kt)return YN(o),kt=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||$x(o.type,o.memoizedProps)),h=!h),h&&sr&&zi(o),YN(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));sr=yC(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));sr=yC(o)}else c===27?(c=sr,eo(o.type)?(o=qx,qx=null,sr=o):sr=c):sr=on?$a(o.stateNode.nextSibling):null;return!0}function Wo(){sr=on=null,kt=!1}function wy(){var o=Bi;return o!==null&&(Yn===null?Yn=o:Yn.push.apply(Yn,o),Bi=null),o}function Hu(o){Bi===null?Bi=[o]:Bi.push(o)}var jy=L(null),Yo=null,Js=null;function Fi(o,c,h){J(jy,c._currentValue),c._currentValue=h}function ei(o){o._currentValue=jy.current,ee(jy)}function _y(o,c,h){for(;o!==null;){var p=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),o===h)break;o=o.return}}function Sy(o,c,h,p){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var N=_.dependencies;if(N!==null){var A=_.child;N=N.firstContext;e:for(;N!==null;){var R=N;N=_;for(var G=0;G<c.length;G++)if(R.context===c[G]){N.lanes|=h,R=N.alternate,R!==null&&(R.lanes|=h),_y(N.return,h,o),p||(A=null);break e}N=R.next}}else if(_.tag===18){if(A=_.return,A===null)throw Error(n(341));A.lanes|=h,N=A.alternate,N!==null&&(N.lanes|=h),_y(A,h,o),A=null}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===o){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}}function ic(o,c,h,p){o=null;for(var _=c,N=!1;_!==null;){if(!N){if((_.flags&524288)!==0)N=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var A=_.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var R=_.type;aa(_.pendingProps.value,A.value)||(o!==null?o.push(R):o=[R])}}else if(_===re.current){if(A=_.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(yd):o=[yd])}_=_.return}o!==null&&Sy(c,o,h,p),c.flags|=262144}function ph(o){for(o=o.firstContext;o!==null;){if(!aa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ko(o){Yo=o,Js=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ln(o){return KN(Yo,o)}function yh(o,c){return Yo===null&&Ko(o),KN(o,c)}function KN(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Js===null){if(o===null)throw Error(n(308));Js=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Js=Js.next=c;return h}var wB=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,p){o.push(p)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},jB=e.unstable_scheduleCallback,_B=e.unstable_NormalPriority,Dr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ny(){return{controller:new wB,data:new Map,refCount:0}}function Wu(o){o.refCount--,o.refCount===0&&jB(_B,function(){o.controller.abort()})}var Yu=null,ky=0,oc=0,lc=null;function SB(o,c){if(Yu===null){var h=Yu=[];ky=0,oc=Ex(),lc={status:"pending",value:void 0,then:function(p){h.push(p)}}}return ky++,c.then(VN,VN),c}function VN(){if(--ky===0&&Yu!==null){lc!==null&&(lc.status="fulfilled");var o=Yu;Yu=null,oc=0,lc=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function NB(o,c){var h=[],p={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return o.then(function(){p.status="fulfilled",p.value=c;for(var _=0;_<h.length;_++)(0,h[_])(c)},function(_){for(p.status="rejected",p.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),p}var GN=F.S;F.S=function(o,c){D2=ae(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&SB(o,c),GN!==null&&GN(o,c)};var Vo=L(null);function Cy(){var o=Vo.current;return o!==null?o:Xt.pooledCache}function xh(o,c){c===null?J(Vo,Vo.current):J(Vo,c.pool)}function QN(){var o=Cy();return o===null?null:{parent:Dr._currentValue,pool:o}}var cc=Error(n(460)),Ty=Error(n(474)),vh=Error(n(542)),bh={then:function(){}};function XN(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ZN(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Gs,Gs),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ek(o),o;default:if(typeof c.status=="string")c.then(Gs,Gs);else{if(o=Xt,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(p){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=p}},function(p){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ek(o),o}throw Qo=c,cc}}function Go(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Qo=h,cc):h}}var Qo=null;function JN(){if(Qo===null)throw Error(n(459));var o=Qo;return Qo=null,o}function ek(o){if(o===cc||o===vh)throw Error(n(483))}var uc=null,Ku=0;function wh(o){var c=Ku;return Ku+=1,uc===null&&(uc=[]),ZN(uc,o,c)}function Vu(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function jh(o,c){throw c.$$typeof===x?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function tk(o){function c(ie,te){if(o){var le=ie.deletions;le===null?(ie.deletions=[te],ie.flags|=16):le.push(te)}}function h(ie,te){if(!o)return null;for(;te!==null;)c(ie,te),te=te.sibling;return null}function p(ie){for(var te=new Map;ie!==null;)ie.key!==null?te.set(ie.key,ie):te.set(ie.index,ie),ie=ie.sibling;return te}function _(ie,te){return ie=Xs(ie,te),ie.index=0,ie.sibling=null,ie}function N(ie,te,le){return ie.index=le,o?(le=ie.alternate,le!==null?(le=le.index,le<te?(ie.flags|=67108866,te):le):(ie.flags|=67108866,te)):(ie.flags|=1048576,te)}function A(ie){return o&&ie.alternate===null&&(ie.flags|=67108866),ie}function R(ie,te,le,be){return te===null||te.tag!==6?(te=py(le,ie.mode,be),te.return=ie,te):(te=_(te,le),te.return=ie,te)}function G(ie,te,le,be){var Ke=le.type;return Ke===w?ye(ie,te,le.props.children,be,le.key):te!==null&&(te.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Go(Ke)===te.type)?(te=_(te,le.props),Vu(te,le),te.return=ie,te):(te=mh(le.type,le.key,le.props,null,ie.mode,be),Vu(te,le),te.return=ie,te)}function ce(ie,te,le,be){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=yy(le,ie.mode,be),te.return=ie,te):(te=_(te,le.children||[]),te.return=ie,te)}function ye(ie,te,le,be,Ke){return te===null||te.tag!==7?(te=Ho(le,ie.mode,be,Ke),te.return=ie,te):(te=_(te,le),te.return=ie,te)}function we(ie,te,le){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=py(""+te,ie.mode,le),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return le=mh(te.type,te.key,te.props,null,ie.mode,le),Vu(le,te),le.return=ie,le;case j:return te=yy(te,ie.mode,le),te.return=ie,te;case M:return te=Go(te),we(ie,te,le)}if(V(te)||z(te))return te=Ho(te,ie.mode,le,null),te.return=ie,te;if(typeof te.then=="function")return we(ie,wh(te),le);if(te.$$typeof===C)return we(ie,yh(ie,te),le);jh(ie,te)}return null}function ue(ie,te,le,be){var Ke=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ke!==null?null:R(ie,te,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return le.key===Ke?G(ie,te,le,be):null;case j:return le.key===Ke?ce(ie,te,le,be):null;case M:return le=Go(le),ue(ie,te,le,be)}if(V(le)||z(le))return Ke!==null?null:ye(ie,te,le,be,null);if(typeof le.then=="function")return ue(ie,te,wh(le),be);if(le.$$typeof===C)return ue(ie,te,yh(ie,le),be);jh(ie,le)}return null}function he(ie,te,le,be,Ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ie=ie.get(le)||null,R(te,ie,""+be,Ke);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return ie=ie.get(be.key===null?le:be.key)||null,G(te,ie,be,Ke);case j:return ie=ie.get(be.key===null?le:be.key)||null,ce(te,ie,be,Ke);case M:return be=Go(be),he(ie,te,le,be,Ke)}if(V(be)||z(be))return ie=ie.get(le)||null,ye(te,ie,be,Ke,null);if(typeof be.then=="function")return he(ie,te,le,wh(be),Ke);if(be.$$typeof===C)return he(ie,te,le,yh(te,be),Ke);jh(te,be)}return null}function Me(ie,te,le,be){for(var Ke=null,Ot=null,$e=te,st=te=0,bt=null;$e!==null&&st<le.length;st++){$e.index>st?(bt=$e,$e=null):bt=$e.sibling;var At=ue(ie,$e,le[st],be);if(At===null){$e===null&&($e=bt);break}o&&$e&&At.alternate===null&&c(ie,$e),te=N(At,te,st),Ot===null?Ke=At:Ot.sibling=At,Ot=At,$e=bt}if(st===le.length)return h(ie,$e),kt&&Zs(ie,st),Ke;if($e===null){for(;st<le.length;st++)$e=we(ie,le[st],be),$e!==null&&(te=N($e,te,st),Ot===null?Ke=$e:Ot.sibling=$e,Ot=$e);return kt&&Zs(ie,st),Ke}for($e=p($e);st<le.length;st++)bt=he($e,ie,st,le[st],be),bt!==null&&(o&&bt.alternate!==null&&$e.delete(bt.key===null?st:bt.key),te=N(bt,te,st),Ot===null?Ke=bt:Ot.sibling=bt,Ot=bt);return o&&$e.forEach(function(so){return c(ie,so)}),kt&&Zs(ie,st),Ke}function Ve(ie,te,le,be){if(le==null)throw Error(n(151));for(var Ke=null,Ot=null,$e=te,st=te=0,bt=null,At=le.next();$e!==null&&!At.done;st++,At=le.next()){$e.index>st?(bt=$e,$e=null):bt=$e.sibling;var so=ue(ie,$e,At.value,be);if(so===null){$e===null&&($e=bt);break}o&&$e&&so.alternate===null&&c(ie,$e),te=N(so,te,st),Ot===null?Ke=so:Ot.sibling=so,Ot=so,$e=bt}if(At.done)return h(ie,$e),kt&&Zs(ie,st),Ke;if($e===null){for(;!At.done;st++,At=le.next())At=we(ie,At.value,be),At!==null&&(te=N(At,te,st),Ot===null?Ke=At:Ot.sibling=At,Ot=At);return kt&&Zs(ie,st),Ke}for($e=p($e);!At.done;st++,At=le.next())At=he($e,ie,st,At.value,be),At!==null&&(o&&At.alternate!==null&&$e.delete(At.key===null?st:At.key),te=N(At,te,st),Ot===null?Ke=At:Ot.sibling=At,Ot=At);return o&&$e.forEach(function(Iz){return c(ie,Iz)}),kt&&Zs(ie,st),Ke}function Gt(ie,te,le,be){if(typeof le=="object"&&le!==null&&le.type===w&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case v:e:{for(var Ke=le.key;te!==null;){if(te.key===Ke){if(Ke=le.type,Ke===w){if(te.tag===7){h(ie,te.sibling),be=_(te,le.props.children),be.return=ie,ie=be;break e}}else if(te.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Go(Ke)===te.type){h(ie,te.sibling),be=_(te,le.props),Vu(be,le),be.return=ie,ie=be;break e}h(ie,te);break}else c(ie,te);te=te.sibling}le.type===w?(be=Ho(le.props.children,ie.mode,be,le.key),be.return=ie,ie=be):(be=mh(le.type,le.key,le.props,null,ie.mode,be),Vu(be,le),be.return=ie,ie=be)}return A(ie);case j:e:{for(Ke=le.key;te!==null;){if(te.key===Ke)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){h(ie,te.sibling),be=_(te,le.children||[]),be.return=ie,ie=be;break e}else{h(ie,te);break}else c(ie,te);te=te.sibling}be=yy(le,ie.mode,be),be.return=ie,ie=be}return A(ie);case M:return le=Go(le),Gt(ie,te,le,be)}if(V(le))return Me(ie,te,le,be);if(z(le)){if(Ke=z(le),typeof Ke!="function")throw Error(n(150));return le=Ke.call(le),Ve(ie,te,le,be)}if(typeof le.then=="function")return Gt(ie,te,wh(le),be);if(le.$$typeof===C)return Gt(ie,te,yh(ie,le),be);jh(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,te!==null&&te.tag===6?(h(ie,te.sibling),be=_(te,le),be.return=ie,ie=be):(h(ie,te),be=py(le,ie.mode,be),be.return=ie,ie=be),A(ie)):h(ie,te)}return function(ie,te,le,be){try{Ku=0;var Ke=Gt(ie,te,le,be);return uc=null,Ke}catch($e){if($e===cc||$e===vh)throw $e;var Ot=sa(29,$e,null,ie.mode);return Ot.lanes=be,Ot.return=ie,Ot}finally{}}}var Xo=tk(!0),rk=tk(!1),Ui=!1;function Ey(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oy(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function qi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Hi(o,c,h){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Pt&2)!==0){var _=p.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),p.pending=c,c=hh(o),BN(o,null,h),c}return fh(o,p,c,h),hh(o)}function Gu(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var p=c.lanes;p&=o.pendingLanes,h|=p,c.lanes=h,Sn(o,h)}}function Ay(o,c){var h=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var _=null,N=null;if(h=h.firstBaseUpdate,h!==null){do{var A={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};N===null?_=N=A:N=N.next=A,h=h.next}while(h!==null);N===null?_=N=c:N=N.next=c}else _=N=c;h={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var Dy=!1;function Qu(){if(Dy){var o=lc;if(o!==null)throw o}}function Xu(o,c,h,p){Dy=!1;var _=o.updateQueue;Ui=!1;var N=_.firstBaseUpdate,A=_.lastBaseUpdate,R=_.shared.pending;if(R!==null){_.shared.pending=null;var G=R,ce=G.next;G.next=null,A===null?N=ce:A.next=ce,A=G;var ye=o.alternate;ye!==null&&(ye=ye.updateQueue,R=ye.lastBaseUpdate,R!==A&&(R===null?ye.firstBaseUpdate=ce:R.next=ce,ye.lastBaseUpdate=G))}if(N!==null){var we=_.baseState;A=0,ye=ce=G=null,R=N;do{var ue=R.lane&-536870913,he=ue!==R.lane;if(he?(vt&ue)===ue:(p&ue)===ue){ue!==0&&ue===oc&&(Dy=!0),ye!==null&&(ye=ye.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Me=o,Ve=R;ue=c;var Gt=h;switch(Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){we=Me.call(Gt,we,ue);break e}we=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,ue=typeof Me=="function"?Me.call(Gt,we,ue):Me,ue==null)break e;we=g({},we,ue);break e;case 2:Ui=!0}}ue=R.callback,ue!==null&&(o.flags|=64,he&&(o.flags|=8192),he=_.callbacks,he===null?_.callbacks=[ue]:he.push(ue))}else he={lane:ue,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ye===null?(ce=ye=he,G=we):ye=ye.next=he,A|=ue;if(R=R.next,R===null){if(R=_.shared.pending,R===null)break;he=R,R=he.next,he.next=null,_.lastBaseUpdate=he,_.shared.pending=null}}while(!0);ye===null&&(G=we),_.baseState=G,_.firstBaseUpdate=ce,_.lastBaseUpdate=ye,N===null&&(_.shared.lanes=0),Gi|=A,o.lanes=A,o.memoizedState=we}}function nk(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function ak(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)nk(h[o],c)}var dc=L(null),_h=L(0);function sk(o,c){o=ci,J(_h,o),J(dc,c),ci=o|c.baseLanes}function My(){J(_h,ci),J(dc,dc.current)}function Py(){ci=_h.current,ee(dc),ee(_h)}var ia=L(null),La=null;function Wi(o){var c=o.alternate;J(Sr,Sr.current&1),J(ia,o),La===null&&(c===null||dc.current!==null||c.memoizedState!==null)&&(La=o)}function Ry(o){J(Sr,Sr.current),J(ia,o),La===null&&(La=o)}function ik(o){o.tag===22?(J(Sr,Sr.current),J(ia,o),La===null&&(La=o)):Yi()}function Yi(){J(Sr,Sr.current),J(ia,ia.current)}function oa(o){ee(ia),La===o&&(La=null),ee(Sr)}var Sr=L(0);function Sh(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Fx(h)||Ux(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ti=0,at=null,Kt=null,Mr=null,Nh=!1,fc=!1,Zo=!1,kh=0,Zu=0,hc=null,kB=0;function vr(){throw Error(n(321))}function Iy(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!aa(o[h],c[h]))return!1;return!0}function Ly(o,c,h,p,_,N){return ti=N,at=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,F.H=o===null||o.memoizedState===null?qk:Zy,Zo=!1,N=h(p,_),Zo=!1,fc&&(N=lk(c,h,p,_)),ok(o),N}function ok(o){F.H=td;var c=Kt!==null&&Kt.next!==null;if(ti=0,Mr=Kt=at=null,Nh=!1,Zu=0,hc=null,c)throw Error(n(300));o===null||Pr||(o=o.dependencies,o!==null&&ph(o)&&(Pr=!0))}function lk(o,c,h,p){at=o;var _=0;do{if(fc&&(hc=null),Zu=0,fc=!1,25<=_)throw Error(n(301));if(_+=1,Mr=Kt=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}F.H=Hk,N=c(h,p)}while(fc);return N}function CB(){var o=F.H,c=o.useState()[0];return c=typeof c.then=="function"?Ju(c):c,o=o.useState()[0],(Kt!==null?Kt.memoizedState:null)!==o&&(at.flags|=1024),c}function $y(){var o=kh!==0;return kh=0,o}function By(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function zy(o){if(Nh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Nh=!1}ti=0,Mr=Kt=at=null,fc=!1,Zu=kh=0,hc=null}function En(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?at.memoizedState=Mr=o:Mr=Mr.next=o,Mr}function Nr(){if(Kt===null){var o=at.alternate;o=o!==null?o.memoizedState:null}else o=Kt.next;var c=Mr===null?at.memoizedState:Mr.next;if(c!==null)Mr=c,Kt=o;else{if(o===null)throw at.alternate===null?Error(n(467)):Error(n(310));Kt=o,o={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Mr===null?at.memoizedState=Mr=o:Mr=Mr.next=o}return Mr}function Ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ju(o){var c=Zu;return Zu+=1,hc===null&&(hc=[]),o=ZN(hc,o,c),c=at,(Mr===null?c.memoizedState:Mr.next)===null&&(c=c.alternate,F.H=c===null||c.memoizedState===null?qk:Zy),o}function Th(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ju(o);if(o.$$typeof===C)return ln(o)}throw Error(n(438,String(o)))}function Fy(o){var c=null,h=at.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var p=at.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Ch(),at.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),p=0;p<o;p++)h[p]=$;return c.index++,h}function ri(o,c){return typeof c=="function"?c(o):c}function Eh(o){var c=Nr();return Uy(c,Kt,o)}function Uy(o,c,h){var p=o.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=h;var _=o.baseQueue,N=p.pending;if(N!==null){if(_!==null){var A=_.next;_.next=N.next,N.next=A}c.baseQueue=_=N,p.pending=null}if(N=o.baseState,_===null)o.memoizedState=N;else{c=_.next;var R=A=null,G=null,ce=c,ye=!1;do{var we=ce.lane&-536870913;if(we!==ce.lane?(vt&we)===we:(ti&we)===we){var ue=ce.revertLane;if(ue===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),we===oc&&(ye=!0);else if((ti&ue)===ue){ce=ce.next,ue===oc&&(ye=!0);continue}else we={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},G===null?(R=G=we,A=N):G=G.next=we,at.lanes|=ue,Gi|=ue;we=ce.action,Zo&&h(N,we),N=ce.hasEagerState?ce.eagerState:h(N,we)}else ue={lane:we,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},G===null?(R=G=ue,A=N):G=G.next=ue,at.lanes|=we,Gi|=we;ce=ce.next}while(ce!==null&&ce!==c);if(G===null?A=N:G.next=R,!aa(N,o.memoizedState)&&(Pr=!0,ye&&(h=lc,h!==null)))throw h;o.memoizedState=N,o.baseState=A,o.baseQueue=G,p.lastRenderedState=N}return _===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function qy(o){var c=Nr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var p=h.dispatch,_=h.pending,N=c.memoizedState;if(_!==null){h.pending=null;var A=_=_.next;do N=o(N,A.action),A=A.next;while(A!==_);aa(N,c.memoizedState)||(Pr=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),h.lastRenderedState=N}return[N,p]}function ck(o,c,h){var p=at,_=Nr(),N=kt;if(N){if(h===void 0)throw Error(n(407));h=h()}else h=c();var A=!aa((Kt||_).memoizedState,h);if(A&&(_.memoizedState=h,Pr=!0),_=_.queue,Yy(fk.bind(null,p,_,o),[o]),_.getSnapshot!==c||A||Mr!==null&&Mr.memoizedState.tag&1){if(p.flags|=2048,mc(9,{destroy:void 0},dk.bind(null,p,_,h,c),null),Xt===null)throw Error(n(349));N||(ti&127)!==0||uk(p,c,h)}return h}function uk(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=at.updateQueue,c===null?(c=Ch(),at.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function dk(o,c,h,p){c.value=h,c.getSnapshot=p,hk(c)&&mk(o)}function fk(o,c,h){return h(function(){hk(c)&&mk(o)})}function hk(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!aa(o,h)}catch{return!0}}function mk(o){var c=qo(o,2);c!==null&&Kn(c,o,2)}function Hy(o){var c=En();if(typeof o=="function"){var h=o;if(o=h(),Zo){Je(!0);try{h()}finally{Je(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:o},c}function gk(o,c,h,p){return o.baseState=h,Uy(o,Kt,typeof p=="function"?p:ri)}function TB(o,c,h,p,_){if(Dh(o))throw Error(n(485));if(o=c.action,o!==null){var N={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){N.listeners.push(A)}};F.T!==null?h(!0):N.isTransition=!1,p(N),h=c.pending,h===null?(N.next=c.pending=N,pk(c,N)):(N.next=h.next,c.pending=h.next=N)}}function pk(o,c){var h=c.action,p=c.payload,_=o.state;if(c.isTransition){var N=F.T,A={};F.T=A;try{var R=h(_,p),G=F.S;G!==null&&G(A,R),yk(o,c,R)}catch(ce){Wy(o,c,ce)}finally{N!==null&&A.types!==null&&(N.types=A.types),F.T=N}}else try{N=h(_,p),yk(o,c,N)}catch(ce){Wy(o,c,ce)}}function yk(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){xk(o,c,p)},function(p){return Wy(o,c,p)}):xk(o,c,h)}function xk(o,c,h){c.status="fulfilled",c.value=h,vk(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,pk(o,h)))}function Wy(o,c,h){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=h,vk(c),c=c.next;while(c!==p)}o.action=null}function vk(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function bk(o,c){return c}function wk(o,c){if(kt){var h=Xt.formState;if(h!==null){e:{var p=at;if(kt){if(sr){t:{for(var _=sr,N=Ia;_.nodeType!==8;){if(!N){_=null;break t}if(_=$a(_.nextSibling),_===null){_=null;break t}}N=_.data,_=N==="F!"||N==="F"?_:null}if(_){sr=$a(_.nextSibling),p=_.data==="F!";break e}}zi(p)}p=!1}p&&(c=h[0])}}return h=En(),h.memoizedState=h.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bk,lastRenderedState:c},h.queue=p,h=zk.bind(null,at,p),p.dispatch=h,p=Hy(!1),N=Xy.bind(null,at,!1,p.queue),p=En(),_={state:c,dispatch:null,action:o,pending:null},p.queue=_,h=TB.bind(null,at,_,N,h),_.dispatch=h,p.memoizedState=o,[c,h,!1]}function jk(o){var c=Nr();return _k(c,Kt,o)}function _k(o,c,h){if(c=Uy(o,c,bk)[0],o=Eh(ri)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Ju(c)}catch(A){throw A===cc?vh:A}else p=c;c=Nr();var _=c.queue,N=_.dispatch;return h!==c.memoizedState&&(at.flags|=2048,mc(9,{destroy:void 0},EB.bind(null,_,h),null)),[p,N,o]}function EB(o,c){o.action=c}function Sk(o){var c=Nr(),h=Kt;if(h!==null)return _k(c,h,o);Nr(),c=c.memoizedState,h=Nr();var p=h.queue.dispatch;return h.memoizedState=o,[c,p,!1]}function mc(o,c,h,p){return o={tag:o,create:h,deps:p,inst:c,next:null},c=at.updateQueue,c===null&&(c=Ch(),at.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(p=h.next,h.next=o,o.next=p,c.lastEffect=o),o}function Nk(){return Nr().memoizedState}function Oh(o,c,h,p){var _=En();at.flags|=o,_.memoizedState=mc(1|c,{destroy:void 0},h,p===void 0?null:p)}function Ah(o,c,h,p){var _=Nr();p=p===void 0?null:p;var N=_.memoizedState.inst;Kt!==null&&p!==null&&Iy(p,Kt.memoizedState.deps)?_.memoizedState=mc(c,N,h,p):(at.flags|=o,_.memoizedState=mc(1|c,N,h,p))}function kk(o,c){Oh(8390656,8,o,c)}function Yy(o,c){Ah(2048,8,o,c)}function OB(o){at.flags|=4;var c=at.updateQueue;if(c===null)c=Ch(),at.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function Ck(o){var c=Nr().memoizedState;return OB({ref:c,nextImpl:o}),function(){if((Pt&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function Tk(o,c){return Ah(4,2,o,c)}function Ek(o,c){return Ah(4,4,o,c)}function Ok(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Ak(o,c,h){h=h!=null?h.concat([o]):null,Ah(4,4,Ok.bind(null,c,o),h)}function Ky(){}function Dk(o,c){var h=Nr();c=c===void 0?null:c;var p=h.memoizedState;return c!==null&&Iy(c,p[1])?p[0]:(h.memoizedState=[o,c],o)}function Mk(o,c){var h=Nr();c=c===void 0?null:c;var p=h.memoizedState;if(c!==null&&Iy(c,p[1]))return p[0];if(p=o(),Zo){Je(!0);try{o()}finally{Je(!1)}}return h.memoizedState=[p,c],p}function Vy(o,c,h){return h===void 0||(ti&1073741824)!==0&&(vt&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=P2(),at.lanes|=o,Gi|=o,h)}function Pk(o,c,h,p){return aa(h,c)?h:dc.current!==null?(o=Vy(o,h,p),aa(o,c)||(Pr=!0),o):(ti&42)===0||(ti&1073741824)!==0&&(vt&261930)===0?(Pr=!0,o.memoizedState=h):(o=P2(),at.lanes|=o,Gi|=o,c)}function Rk(o,c,h,p,_){var N=Z.p;Z.p=N!==0&&8>N?N:8;var A=F.T,R={};F.T=R,Xy(o,!1,c,h);try{var G=_(),ce=F.S;if(ce!==null&&ce(R,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ye=NB(G,p);ed(o,c,ye,ua(o))}else ed(o,c,p,ua(o))}catch(we){ed(o,c,{then:function(){},status:"rejected",reason:we},ua())}finally{Z.p=N,A!==null&&R.types!==null&&(A.types=R.types),F.T=A}}function AB(){}function Gy(o,c,h,p){if(o.tag!==5)throw Error(n(476));var _=Ik(o).queue;Rk(o,_,c,q,h===null?AB:function(){return Lk(o),h(p)})}function Ik(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:q},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Lk(o){var c=Ik(o);c.next===null&&(c=o.alternate.memoizedState),ed(o,c.next.queue,{},ua())}function Qy(){return ln(yd)}function $k(){return Nr().memoizedState}function Bk(){return Nr().memoizedState}function DB(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=ua();o=qi(h);var p=Hi(c,o,h);p!==null&&(Kn(p,c,h),Gu(p,c,h)),c={cache:Ny()},o.payload=c;return}c=c.return}}function MB(o,c,h){var p=ua();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Dh(o)?Fk(c,h):(h=my(o,c,h,p),h!==null&&(Kn(h,o,p),Uk(h,c,p)))}function zk(o,c,h){var p=ua();ed(o,c,h,p)}function ed(o,c,h,p){var _={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Dh(o))Fk(c,_);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var A=c.lastRenderedState,R=N(A,h);if(_.hasEagerState=!0,_.eagerState=R,aa(R,A))return fh(o,c,_,0),Xt===null&&dh(),!1}catch{}finally{}if(h=my(o,c,_,p),h!==null)return Kn(h,o,p),Uk(h,c,p),!0}return!1}function Xy(o,c,h,p){if(p={lane:2,revertLane:Ex(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Dh(o)){if(c)throw Error(n(479))}else c=my(o,h,p,2),c!==null&&Kn(c,o,2)}function Dh(o){var c=o.alternate;return o===at||c!==null&&c===at}function Fk(o,c){fc=Nh=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function Uk(o,c,h){if((h&4194048)!==0){var p=c.lanes;p&=o.pendingLanes,h|=p,c.lanes=h,Sn(o,h)}}var td={readContext:ln,use:Th,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useInsertionEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useSyncExternalStore:vr,useId:vr,useHostTransitionStatus:vr,useFormState:vr,useActionState:vr,useOptimistic:vr,useMemoCache:vr,useCacheRefresh:vr};td.useEffectEvent=vr;var qk={readContext:ln,use:Th,useCallback:function(o,c){return En().memoizedState=[o,c===void 0?null:c],o},useContext:ln,useEffect:kk,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,Oh(4194308,4,Ok.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Oh(4194308,4,o,c)},useInsertionEffect:function(o,c){Oh(4,2,o,c)},useMemo:function(o,c){var h=En();c=c===void 0?null:c;var p=o();if(Zo){Je(!0);try{o()}finally{Je(!1)}}return h.memoizedState=[p,c],p},useReducer:function(o,c,h){var p=En();if(h!==void 0){var _=h(c);if(Zo){Je(!0);try{h(c)}finally{Je(!1)}}}else _=c;return p.memoizedState=p.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},p.queue=o,o=o.dispatch=MB.bind(null,at,o),[p.memoizedState,o]},useRef:function(o){var c=En();return o={current:o},c.memoizedState=o},useState:function(o){o=Hy(o);var c=o.queue,h=zk.bind(null,at,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:Ky,useDeferredValue:function(o,c){var h=En();return Vy(h,o,c)},useTransition:function(){var o=Hy(!1);return o=Rk.bind(null,at,o.queue,!0,!1),En().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var p=at,_=En();if(kt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Xt===null)throw Error(n(349));(vt&127)!==0||uk(p,c,h)}_.memoizedState=h;var N={value:h,getSnapshot:c};return _.queue=N,kk(fk.bind(null,p,N,o),[o]),p.flags|=2048,mc(9,{destroy:void 0},dk.bind(null,p,N,h,c),null),h},useId:function(){var o=En(),c=Xt.identifierPrefix;if(kt){var h=ks,p=Ns;h=(p&~(1<<32-xt(p)-1)).toString(32)+h,c="_"+c+"R_"+h,h=kh++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=kB++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Qy,useFormState:wk,useActionState:wk,useOptimistic:function(o){var c=En();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=Xy.bind(null,at,!0,h),h.dispatch=c,[o,c]},useMemoCache:Fy,useCacheRefresh:function(){return En().memoizedState=DB.bind(null,at)},useEffectEvent:function(o){var c=En(),h={impl:o};return c.memoizedState=h,function(){if((Pt&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},Zy={readContext:ln,use:Th,useCallback:Dk,useContext:ln,useEffect:Yy,useImperativeHandle:Ak,useInsertionEffect:Tk,useLayoutEffect:Ek,useMemo:Mk,useReducer:Eh,useRef:Nk,useState:function(){return Eh(ri)},useDebugValue:Ky,useDeferredValue:function(o,c){var h=Nr();return Pk(h,Kt.memoizedState,o,c)},useTransition:function(){var o=Eh(ri)[0],c=Nr().memoizedState;return[typeof o=="boolean"?o:Ju(o),c]},useSyncExternalStore:ck,useId:$k,useHostTransitionStatus:Qy,useFormState:jk,useActionState:jk,useOptimistic:function(o,c){var h=Nr();return gk(h,Kt,o,c)},useMemoCache:Fy,useCacheRefresh:Bk};Zy.useEffectEvent=Ck;var Hk={readContext:ln,use:Th,useCallback:Dk,useContext:ln,useEffect:Yy,useImperativeHandle:Ak,useInsertionEffect:Tk,useLayoutEffect:Ek,useMemo:Mk,useReducer:qy,useRef:Nk,useState:function(){return qy(ri)},useDebugValue:Ky,useDeferredValue:function(o,c){var h=Nr();return Kt===null?Vy(h,o,c):Pk(h,Kt.memoizedState,o,c)},useTransition:function(){var o=qy(ri)[0],c=Nr().memoizedState;return[typeof o=="boolean"?o:Ju(o),c]},useSyncExternalStore:ck,useId:$k,useHostTransitionStatus:Qy,useFormState:Sk,useActionState:Sk,useOptimistic:function(o,c){var h=Nr();return Kt!==null?gk(h,Kt,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Fy,useCacheRefresh:Bk};Hk.useEffectEvent=Ck;function Jy(o,c,h,p){c=o.memoizedState,h=h(p,c),h=h==null?c:g({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var ex={enqueueSetState:function(o,c,h){o=o._reactInternals;var p=ua(),_=qi(p);_.payload=c,h!=null&&(_.callback=h),c=Hi(o,_,p),c!==null&&(Kn(c,o,p),Gu(c,o,p))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var p=ua(),_=qi(p);_.tag=1,_.payload=c,h!=null&&(_.callback=h),c=Hi(o,_,p),c!==null&&(Kn(c,o,p),Gu(c,o,p))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=ua(),p=qi(h);p.tag=2,c!=null&&(p.callback=c),c=Hi(o,p,h),c!==null&&(Kn(c,o,h),Gu(c,o,h))}};function Wk(o,c,h,p,_,N,A){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,N,A):c.prototype&&c.prototype.isPureReactComponent?!Fu(h,p)||!Fu(_,N):!0}function Yk(o,c,h,p){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,p),c.state!==o&&ex.enqueueReplaceState(c,c.state,null)}function Jo(o,c){var h=c;if("ref"in c){h={};for(var p in c)p!=="ref"&&(h[p]=c[p])}if(o=o.defaultProps){h===c&&(h=g({},h));for(var _ in o)h[_]===void 0&&(h[_]=o[_])}return h}function Kk(o){uh(o)}function Vk(o){console.error(o)}function Gk(o){uh(o)}function Mh(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function Qk(o,c,h){try{var p=o.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function tx(o,c,h){return h=qi(h),h.tag=3,h.payload={element:null},h.callback=function(){Mh(o,c)},h}function Xk(o){return o=qi(o),o.tag=3,o}function Zk(o,c,h,p){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var N=p.value;o.payload=function(){return _(N)},o.callback=function(){Qk(c,h,p)}}var A=h.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(o.callback=function(){Qk(c,h,p),typeof _!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var R=p.stack;this.componentDidCatch(p.value,{componentStack:R!==null?R:""})})}function PB(o,c,h,p,_){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=h.alternate,c!==null&&ic(c,h,_,!0),h=ia.current,h!==null){switch(h.tag){case 31:case 13:return La===null?Wh():h.alternate===null&&br===0&&(br=3),h.flags&=-257,h.flags|=65536,h.lanes=_,p===bh?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([p]):c.add(p),kx(o,p,_)),!1;case 22:return h.flags|=65536,p===bh?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([p]):h.add(p)),kx(o,p,_)),!1}throw Error(n(435,h.tag))}return kx(o,p,_),Wh(),!1}if(kt)return c=ia.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,p!==by&&(o=Error(n(422),{cause:p}),Hu(Ma(o,h)))):(p!==by&&(c=Error(n(423),{cause:p}),Hu(Ma(c,h))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,p=Ma(p,h),_=tx(o.stateNode,p,_),Ay(o,_),br!==4&&(br=2)),!1;var N=Error(n(520),{cause:p});if(N=Ma(N,h),cd===null?cd=[N]:cd.push(N),br!==4&&(br=2),c===null)return!0;p=Ma(p,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=_&-_,h.lanes|=o,o=tx(h.stateNode,p,o),Ay(h,o),!1;case 1:if(c=h.type,N=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Qi===null||!Qi.has(N))))return h.flags|=65536,_&=-_,h.lanes|=_,_=Xk(_),Zk(_,o,h,p),Ay(h,_),!1}h=h.return}while(h!==null);return!1}var rx=Error(n(461)),Pr=!1;function cn(o,c,h,p){c.child=o===null?rk(c,null,h,p):Xo(c,o.child,h,p)}function Jk(o,c,h,p,_){h=h.render;var N=c.ref;if("ref"in p){var A={};for(var R in p)R!=="ref"&&(A[R]=p[R])}else A=p;return Ko(c),p=Ly(o,c,h,A,N,_),R=$y(),o!==null&&!Pr?(By(o,c,_),ni(o,c,_)):(kt&&R&&xy(c),c.flags|=1,cn(o,c,p,_),c.child)}function e2(o,c,h,p,_){if(o===null){var N=h.type;return typeof N=="function"&&!gy(N)&&N.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=N,t2(o,c,N,p,_)):(o=mh(h.type,null,p,c,c.mode,_),o.ref=c.ref,o.return=c,c.child=o)}if(N=o.child,!ux(o,_)){var A=N.memoizedProps;if(h=h.compare,h=h!==null?h:Fu,h(A,p)&&o.ref===c.ref)return ni(o,c,_)}return c.flags|=1,o=Xs(N,p),o.ref=c.ref,o.return=c,c.child=o}function t2(o,c,h,p,_){if(o!==null){var N=o.memoizedProps;if(Fu(N,p)&&o.ref===c.ref)if(Pr=!1,c.pendingProps=p=N,ux(o,_))(o.flags&131072)!==0&&(Pr=!0);else return c.lanes=o.lanes,ni(o,c,_)}return nx(o,c,h,p,_)}function r2(o,c,h,p){var _=p.children,N=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|h:h,o!==null){for(p=c.child=o.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~N}else p=0,c.child=null;return n2(o,c,N,h,p)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&xh(c,N!==null?N.cachePool:null),N!==null?sk(c,N):My(),ik(c);else return p=c.lanes=536870912,n2(o,c,N!==null?N.baseLanes|h:h,h,p)}else N!==null?(xh(c,N.cachePool),sk(c,N),Yi(),c.memoizedState=null):(o!==null&&xh(c,null),My(),Yi());return cn(o,c,_,h),c.child}function rd(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function n2(o,c,h,p,_){var N=Cy();return N=N===null?null:{parent:Dr._currentValue,pool:N},c.memoizedState={baseLanes:h,cachePool:N},o!==null&&xh(c,null),My(),ik(c),o!==null&&ic(o,c,p,!0),c.childLanes=_,null}function Ph(o,c){return c=Ih({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function a2(o,c,h){return Xo(c,o.child,null,h),o=Ph(c,c.pendingProps),o.flags|=2,oa(c),c.memoizedState=null,o}function RB(o,c,h){var p=c.pendingProps,_=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(kt){if(p.mode==="hidden")return o=Ph(c,p),c.lanes=536870912,rd(null,o);if(Ry(c),(o=sr)?(o=pC(o,Ia),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:$i!==null?{id:Ns,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},h=FN(o),h.return=c,c.child=h,on=c,sr=null)):o=null,o===null)throw zi(c);return c.lanes=536870912,null}return Ph(c,p)}var N=o.memoizedState;if(N!==null){var A=N.dehydrated;if(Ry(c),_)if(c.flags&256)c.flags&=-257,c=a2(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(Pr||ic(o,c,h,!1),_=(h&o.childLanes)!==0,Pr||_){if(p=Xt,p!==null&&(A=Nn(p,h),A!==0&&A!==N.retryLane))throw N.retryLane=A,qo(o,A),Kn(p,o,A),rx;Wh(),c=a2(o,c,h)}else o=N.treeContext,sr=$a(A.nextSibling),on=c,kt=!0,Bi=null,Ia=!1,o!==null&&HN(c,o),c=Ph(c,p),c.flags|=4096;return c}return o=Xs(o.child,{mode:p.mode,children:p.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Rh(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function nx(o,c,h,p,_){return Ko(c),h=Ly(o,c,h,p,void 0,_),p=$y(),o!==null&&!Pr?(By(o,c,_),ni(o,c,_)):(kt&&p&&xy(c),c.flags|=1,cn(o,c,h,_),c.child)}function s2(o,c,h,p,_,N){return Ko(c),c.updateQueue=null,h=lk(c,p,h,_),ok(o),p=$y(),o!==null&&!Pr?(By(o,c,N),ni(o,c,N)):(kt&&p&&xy(c),c.flags|=1,cn(o,c,h,N),c.child)}function i2(o,c,h,p,_){if(Ko(c),c.stateNode===null){var N=rc,A=h.contextType;typeof A=="object"&&A!==null&&(N=ln(A)),N=new h(p,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=ex,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=p,N.state=c.memoizedState,N.refs={},Ey(c),A=h.contextType,N.context=typeof A=="object"&&A!==null?ln(A):rc,N.state=c.memoizedState,A=h.getDerivedStateFromProps,typeof A=="function"&&(Jy(c,h,A,p),N.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(A=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),A!==N.state&&ex.enqueueReplaceState(N,N.state,null),Xu(c,p,N,_),Qu(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(o===null){N=c.stateNode;var R=c.memoizedProps,G=Jo(h,R);N.props=G;var ce=N.context,ye=h.contextType;A=rc,typeof ye=="object"&&ye!==null&&(A=ln(ye));var we=h.getDerivedStateFromProps;ye=typeof we=="function"||typeof N.getSnapshotBeforeUpdate=="function",R=c.pendingProps!==R,ye||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R||ce!==A)&&Yk(c,N,p,A),Ui=!1;var ue=c.memoizedState;N.state=ue,Xu(c,p,N,_),Qu(),ce=c.memoizedState,R||ue!==ce||Ui?(typeof we=="function"&&(Jy(c,h,we,p),ce=c.memoizedState),(G=Ui||Wk(c,h,G,p,ue,ce,A))?(ye||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=ce),N.props=p,N.state=ce,N.context=A,p=G):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{N=c.stateNode,Oy(o,c),A=c.memoizedProps,ye=Jo(h,A),N.props=ye,we=c.pendingProps,ue=N.context,ce=h.contextType,G=rc,typeof ce=="object"&&ce!==null&&(G=ln(ce)),R=h.getDerivedStateFromProps,(ce=typeof R=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(A!==we||ue!==G)&&Yk(c,N,p,G),Ui=!1,ue=c.memoizedState,N.state=ue,Xu(c,p,N,_),Qu();var he=c.memoizedState;A!==we||ue!==he||Ui||o!==null&&o.dependencies!==null&&ph(o.dependencies)?(typeof R=="function"&&(Jy(c,h,R,p),he=c.memoizedState),(ye=Ui||Wk(c,h,ye,p,ue,he,G)||o!==null&&o.dependencies!==null&&ph(o.dependencies))?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,he,G),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,he,G)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||A===o.memoizedProps&&ue===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&ue===o.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=he),N.props=p,N.state=he,N.context=G,p=ye):(typeof N.componentDidUpdate!="function"||A===o.memoizedProps&&ue===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&ue===o.memoizedState||(c.flags|=1024),p=!1)}return N=p,Rh(o,c),p=(c.flags&128)!==0,N||p?(N=c.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,o!==null&&p?(c.child=Xo(c,o.child,null,_),c.child=Xo(c,null,h,_)):cn(o,c,h,_),c.memoizedState=N.state,o=c.child):o=ni(o,c,_),o}function o2(o,c,h,p){return Wo(),c.flags|=256,cn(o,c,h,p),c.child}var ax={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sx(o){return{baseLanes:o,cachePool:QN()}}function ix(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=ca),o}function l2(o,c,h){var p=c.pendingProps,_=!1,N=(c.flags&128)!==0,A;if((A=N)||(A=o!==null&&o.memoizedState===null?!1:(Sr.current&2)!==0),A&&(_=!0,c.flags&=-129),A=(c.flags&32)!==0,c.flags&=-33,o===null){if(kt){if(_?Wi(c):Yi(),(o=sr)?(o=pC(o,Ia),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:$i!==null?{id:Ns,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},h=FN(o),h.return=c,c.child=h,on=c,sr=null)):o=null,o===null)throw zi(c);return Ux(o)?c.lanes=32:c.lanes=536870912,null}var R=p.children;return p=p.fallback,_?(Yi(),_=c.mode,R=Ih({mode:"hidden",children:R},_),p=Ho(p,_,h,null),R.return=c,p.return=c,R.sibling=p,c.child=R,p=c.child,p.memoizedState=sx(h),p.childLanes=ix(o,A,h),c.memoizedState=ax,rd(null,p)):(Wi(c),ox(c,R))}var G=o.memoizedState;if(G!==null&&(R=G.dehydrated,R!==null)){if(N)c.flags&256?(Wi(c),c.flags&=-257,c=lx(o,c,h)):c.memoizedState!==null?(Yi(),c.child=o.child,c.flags|=128,c=null):(Yi(),R=p.fallback,_=c.mode,p=Ih({mode:"visible",children:p.children},_),R=Ho(R,_,h,null),R.flags|=2,p.return=c,R.return=c,p.sibling=R,c.child=p,Xo(c,o.child,null,h),p=c.child,p.memoizedState=sx(h),p.childLanes=ix(o,A,h),c.memoizedState=ax,c=rd(null,p));else if(Wi(c),Ux(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var ce=A.dgst;A=ce,p=Error(n(419)),p.stack="",p.digest=A,Hu({value:p,source:null,stack:null}),c=lx(o,c,h)}else if(Pr||ic(o,c,h,!1),A=(h&o.childLanes)!==0,Pr||A){if(A=Xt,A!==null&&(p=Nn(A,h),p!==0&&p!==G.retryLane))throw G.retryLane=p,qo(o,p),Kn(A,o,p),rx;Fx(R)||Wh(),c=lx(o,c,h)}else Fx(R)?(c.flags|=192,c.child=o.child,c=null):(o=G.treeContext,sr=$a(R.nextSibling),on=c,kt=!0,Bi=null,Ia=!1,o!==null&&HN(c,o),c=ox(c,p.children),c.flags|=4096);return c}return _?(Yi(),R=p.fallback,_=c.mode,G=o.child,ce=G.sibling,p=Xs(G,{mode:"hidden",children:p.children}),p.subtreeFlags=G.subtreeFlags&65011712,ce!==null?R=Xs(ce,R):(R=Ho(R,_,h,null),R.flags|=2),R.return=c,p.return=c,p.sibling=R,c.child=p,rd(null,p),p=c.child,R=o.child.memoizedState,R===null?R=sx(h):(_=R.cachePool,_!==null?(G=Dr._currentValue,_=_.parent!==G?{parent:G,pool:G}:_):_=QN(),R={baseLanes:R.baseLanes|h,cachePool:_}),p.memoizedState=R,p.childLanes=ix(o,A,h),c.memoizedState=ax,rd(o.child,p)):(Wi(c),h=o.child,o=h.sibling,h=Xs(h,{mode:"visible",children:p.children}),h.return=c,h.sibling=null,o!==null&&(A=c.deletions,A===null?(c.deletions=[o],c.flags|=16):A.push(o)),c.child=h,c.memoizedState=null,h)}function ox(o,c){return c=Ih({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Ih(o,c){return o=sa(22,o,null,c),o.lanes=0,o}function lx(o,c,h){return Xo(c,o.child,null,h),o=ox(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function c2(o,c,h){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c),_y(o.return,c,h)}function cx(o,c,h,p,_,N){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:_,treeForkCount:N}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=h,A.tailMode=_,A.treeForkCount=N)}function u2(o,c,h){var p=c.pendingProps,_=p.revealOrder,N=p.tail;p=p.children;var A=Sr.current,R=(A&2)!==0;if(R?(A=A&1|2,c.flags|=128):A&=1,J(Sr,A),cn(o,c,p,h),p=kt?qu:0,!R&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&c2(o,h,c);else if(o.tag===19)c2(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(_){case"forwards":for(h=c.child,_=null;h!==null;)o=h.alternate,o!==null&&Sh(o)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),cx(c,!1,_,h,N,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(o=_.alternate,o!==null&&Sh(o)===null){c.child=_;break}o=_.sibling,_.sibling=h,h=_,_=o}cx(c,!0,h,null,N,p);break;case"together":cx(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function ni(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Gi|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(ic(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Xs(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Xs(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function ux(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&ph(o)))}function IB(o,c,h){switch(c.tag){case 3:ke(c,c.stateNode.containerInfo),Fi(c,Dr,o.memoizedState.cache),Wo();break;case 27:case 5:pe(c);break;case 4:ke(c,c.stateNode.containerInfo);break;case 10:Fi(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Ry(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Wi(c),c.flags|=128,null):(h&c.child.childLanes)!==0?l2(o,c,h):(Wi(c),o=ni(o,c,h),o!==null?o.sibling:null);Wi(c);break;case 19:var _=(o.flags&128)!==0;if(p=(h&c.childLanes)!==0,p||(ic(o,c,h,!1),p=(h&c.childLanes)!==0),_){if(p)return u2(o,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),J(Sr,Sr.current),p)break;return null;case 22:return c.lanes=0,r2(o,c,h,c.pendingProps);case 24:Fi(c,Dr,o.memoizedState.cache)}return ni(o,c,h)}function d2(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Pr=!0;else{if(!ux(o,h)&&(c.flags&128)===0)return Pr=!1,IB(o,c,h);Pr=(o.flags&131072)!==0}else Pr=!1,kt&&(c.flags&1048576)!==0&&qN(c,qu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(o=Go(c.elementType),c.type=o,typeof o=="function")gy(o)?(p=Jo(o,p),c.tag=1,c=i2(null,c,o,p,h)):(c.tag=0,c=nx(null,c,o,p,h));else{if(o!=null){var _=o.$$typeof;if(_===E){c.tag=11,c=Jk(null,c,o,p,h);break e}else if(_===T){c.tag=14,c=e2(null,c,o,p,h);break e}}throw c=ne(o)||o,Error(n(306,c,""))}}return c;case 0:return nx(o,c,c.type,c.pendingProps,h);case 1:return p=c.type,_=Jo(p,c.pendingProps),i2(o,c,p,_,h);case 3:e:{if(ke(c,c.stateNode.containerInfo),o===null)throw Error(n(387));p=c.pendingProps;var N=c.memoizedState;_=N.element,Oy(o,c),Xu(c,p,null,h);var A=c.memoizedState;if(p=A.cache,Fi(c,Dr,p),p!==N.cache&&Sy(c,[Dr],h,!0),Qu(),p=A.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:A.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=o2(o,c,p,h);break e}else if(p!==_){_=Ma(Error(n(424)),c),Hu(_),c=o2(o,c,p,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(sr=$a(o.firstChild),on=c,kt=!0,Bi=null,Ia=!0,h=rk(c,null,p,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Wo(),p===_){c=ni(o,c,h);break e}cn(o,c,p,h)}c=c.child}return c;case 26:return Rh(o,c),o===null?(h=jC(c.type,null,c.pendingProps,null))?c.memoizedState=h:kt||(h=c.type,o=c.pendingProps,p=Zh(ge.current).createElement(h),p[Zr]=c,p[Nt]=o,un(p,h,o),xr(p),c.stateNode=p):c.memoizedState=jC(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return pe(c),o===null&&kt&&(p=c.stateNode=vC(c.type,c.pendingProps,ge.current),on=c,Ia=!0,_=sr,eo(c.type)?(qx=_,sr=$a(p.firstChild)):sr=_),cn(o,c,c.pendingProps.children,h),Rh(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&kt&&((_=p=sr)&&(p=fz(p,c.type,c.pendingProps,Ia),p!==null?(c.stateNode=p,on=c,sr=$a(p.firstChild),Ia=!1,_=!0):_=!1),_||zi(c)),pe(c),_=c.type,N=c.pendingProps,A=o!==null?o.memoizedProps:null,p=N.children,$x(_,N)?p=null:A!==null&&$x(_,A)&&(c.flags|=32),c.memoizedState!==null&&(_=Ly(o,c,CB,null,null,h),yd._currentValue=_),Rh(o,c),cn(o,c,p,h),c.child;case 6:return o===null&&kt&&((o=h=sr)&&(h=hz(h,c.pendingProps,Ia),h!==null?(c.stateNode=h,on=c,sr=null,o=!0):o=!1),o||zi(c)),null;case 13:return l2(o,c,h);case 4:return ke(c,c.stateNode.containerInfo),p=c.pendingProps,o===null?c.child=Xo(c,null,p,h):cn(o,c,p,h),c.child;case 11:return Jk(o,c,c.type,c.pendingProps,h);case 7:return cn(o,c,c.pendingProps,h),c.child;case 8:return cn(o,c,c.pendingProps.children,h),c.child;case 12:return cn(o,c,c.pendingProps.children,h),c.child;case 10:return p=c.pendingProps,Fi(c,c.type,p.value),cn(o,c,p.children,h),c.child;case 9:return _=c.type._context,p=c.pendingProps.children,Ko(c),_=ln(_),p=p(_),c.flags|=1,cn(o,c,p,h),c.child;case 14:return e2(o,c,c.type,c.pendingProps,h);case 15:return t2(o,c,c.type,c.pendingProps,h);case 19:return u2(o,c,h);case 31:return RB(o,c,h);case 22:return r2(o,c,h,c.pendingProps);case 24:return Ko(c),p=ln(Dr),o===null?(_=Cy(),_===null&&(_=Xt,N=Ny(),_.pooledCache=N,N.refCount++,N!==null&&(_.pooledCacheLanes|=h),_=N),c.memoizedState={parent:p,cache:_},Ey(c),Fi(c,Dr,_)):((o.lanes&h)!==0&&(Oy(o,c),Xu(c,null,null,h),Qu()),_=o.memoizedState,N=c.memoizedState,_.parent!==p?(_={parent:p,cache:p},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),Fi(c,Dr,p)):(p=N.cache,Fi(c,Dr,p),p!==_.cache&&Sy(c,[Dr],h,!0))),cn(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function ai(o){o.flags|=4}function dx(o,c,h,p,_){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(_&335544128)===_)if(o.stateNode.complete)o.flags|=8192;else if($2())o.flags|=8192;else throw Qo=bh,Ty}else o.flags&=-16777217}function f2(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!CC(c))if($2())o.flags|=8192;else throw Qo=bh,Ty}function Lh(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?ot():536870912,o.lanes|=c,xc|=c)}function nd(o,c){if(!kt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function ir(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,p=0;if(c)for(var _=o.child;_!==null;)h|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)h|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=p,o.childLanes=h,c}function LB(o,c,h){var p=c.pendingProps;switch(vy(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(c),null;case 1:return ir(c),null;case 3:return h=c.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),ei(Dr),se(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(sc(c)?ai(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,wy())),ir(c),null;case 26:var _=c.type,N=c.memoizedState;return o===null?(ai(c),N!==null?(ir(c),f2(c,N)):(ir(c),dx(c,_,null,p,h))):N?N!==o.memoizedState?(ai(c),ir(c),f2(c,N)):(ir(c),c.flags&=-16777217):(o=o.memoizedProps,o!==p&&ai(c),ir(c),dx(c,_,o,p,h)),null;case 27:if(Ce(c),h=ge.current,_=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&ai(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return ir(c),null}o=Q.current,sc(c)?WN(c):(o=vC(_,p,h),c.stateNode=o,ai(c))}return ir(c),null;case 5:if(Ce(c),_=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&ai(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return ir(c),null}if(N=Q.current,sc(c))WN(c);else{var A=Zh(ge.current);switch(N){case 1:N=A.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:N=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":N=A.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":N=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":N=A.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?A.createElement("select",{is:p.is}):A.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?A.createElement(_,{is:p.is}):A.createElement(_)}}N[Zr]=c,N[Nt]=p;e:for(A=c.child;A!==null;){if(A.tag===5||A.tag===6)N.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}c.stateNode=N;e:switch(un(N,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ai(c)}}return ir(c),dx(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==p&&ai(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(n(166));if(o=ge.current,sc(c)){if(o=c.stateNode,h=c.memoizedProps,p=null,_=on,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}o[Zr]=c,o=!!(o.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||lC(o.nodeValue,h)),o||zi(c,!0)}else o=Zh(o).createTextNode(p),o[Zr]=c,c.stateNode=o}return ir(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(p=sc(c),h!==null){if(o===null){if(!p)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[Zr]=c}else Wo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ir(c),o=!1}else h=wy(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(oa(c),c):(oa(c),null);if((c.flags&128)!==0)throw Error(n(558))}return ir(c),null;case 13:if(p=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=sc(c),p!==null&&p.dehydrated!==null){if(o===null){if(!_)throw Error(n(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Zr]=c}else Wo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ir(c),_=!1}else _=wy(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(oa(c),c):(oa(c),null)}return oa(c),(c.flags&128)!==0?(c.lanes=h,c):(h=p!==null,o=o!==null&&o.memoizedState!==null,h&&(p=c.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==_&&(p.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),Lh(c,c.updateQueue),ir(c),null);case 4:return se(),o===null&&Mx(c.stateNode.containerInfo),ir(c),null;case 10:return ei(c.type),ir(c),null;case 19:if(ee(Sr),p=c.memoizedState,p===null)return ir(c),null;if(_=(c.flags&128)!==0,N=p.rendering,N===null)if(_)nd(p,!1);else{if(br!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(N=Sh(o),N!==null){for(c.flags|=128,nd(p,!1),o=N.updateQueue,c.updateQueue=o,Lh(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)zN(h,o),h=h.sibling;return J(Sr,Sr.current&1|2),kt&&Zs(c,p.treeForkCount),c.child}o=o.sibling}p.tail!==null&&ae()>Uh&&(c.flags|=128,_=!0,nd(p,!1),c.lanes=4194304)}else{if(!_)if(o=Sh(N),o!==null){if(c.flags|=128,_=!0,o=o.updateQueue,c.updateQueue=o,Lh(c,o),nd(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!kt)return ir(c),null}else 2*ae()-p.renderingStartTime>Uh&&h!==536870912&&(c.flags|=128,_=!0,nd(p,!1),c.lanes=4194304);p.isBackwards?(N.sibling=c.child,c.child=N):(o=p.last,o!==null?o.sibling=N:c.child=N,p.last=N)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=ae(),o.sibling=null,h=Sr.current,J(Sr,_?h&1|2:h&1),kt&&Zs(c,p.treeForkCount),o):(ir(c),null);case 22:case 23:return oa(c),Py(),p=c.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(h&536870912)!==0&&(c.flags&128)===0&&(ir(c),c.subtreeFlags&6&&(c.flags|=8192)):ir(c),h=c.updateQueue,h!==null&&Lh(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048),o!==null&&ee(Vo),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ei(Dr),ir(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function $B(o,c){switch(vy(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ei(Dr),se(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ce(c),null;case 31:if(c.memoizedState!==null){if(oa(c),c.alternate===null)throw Error(n(340));Wo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(oa(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Wo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ee(Sr),null;case 4:return se(),null;case 10:return ei(c.type),null;case 22:case 23:return oa(c),Py(),o!==null&&ee(Vo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ei(Dr),null;case 25:return null;default:return null}}function h2(o,c){switch(vy(c),c.tag){case 3:ei(Dr),se();break;case 26:case 27:case 5:Ce(c);break;case 4:se();break;case 31:c.memoizedState!==null&&oa(c);break;case 13:oa(c);break;case 19:ee(Sr);break;case 10:ei(c.type);break;case 22:case 23:oa(c),Py(),o!==null&&ee(Vo);break;case 24:ei(Dr)}}function ad(o,c){try{var h=c.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var _=p.next;h=_;do{if((h.tag&o)===o){p=void 0;var N=h.create,A=h.inst;p=N(),A.destroy=p}h=h.next}while(h!==_)}}catch(R){zt(c,c.return,R)}}function Ki(o,c,h){try{var p=c.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var N=_.next;p=N;do{if((p.tag&o)===o){var A=p.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,_=c;var G=h,ce=R;try{ce()}catch(ye){zt(_,G,ye)}}}p=p.next}while(p!==N)}}catch(ye){zt(c,c.return,ye)}}function m2(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{ak(c,h)}catch(p){zt(o,o.return,p)}}}function g2(o,c,h){h.props=Jo(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(p){zt(o,c,p)}}function sd(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof h=="function"?o.refCleanup=h(p):h.current=p}}catch(_){zt(o,c,_)}}function Cs(o,c){var h=o.ref,p=o.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(_){zt(o,c,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){zt(o,c,_)}else h.current=null}function p2(o){var c=o.type,h=o.memoizedProps,p=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(_){zt(o,o.return,_)}}function fx(o,c,h){try{var p=o.stateNode;iz(p,o.type,h,c),p[Nt]=c}catch(_){zt(o,o.return,_)}}function y2(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&eo(o.type)||o.tag===4}function hx(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||y2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&eo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function mx(o,c,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Gs));else if(p!==4&&(p===27&&eo(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(mx(o,c,h),o=o.sibling;o!==null;)mx(o,c,h),o=o.sibling}function $h(o,c,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(p!==4&&(p===27&&eo(o.type)&&(h=o.stateNode),o=o.child,o!==null))for($h(o,c,h),o=o.sibling;o!==null;)$h(o,c,h),o=o.sibling}function x2(o){var c=o.stateNode,h=o.memoizedProps;try{for(var p=o.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);un(c,p,h),c[Zr]=o,c[Nt]=h}catch(N){zt(o,o.return,N)}}var si=!1,Rr=!1,gx=!1,v2=typeof WeakSet=="function"?WeakSet:Set,Jr=null;function BB(o,c){if(o=o.containerInfo,Ix=sm,o=AN(o),ly(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var _=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{h.nodeType,N.nodeType}catch{h=null;break e}var A=0,R=-1,G=-1,ce=0,ye=0,we=o,ue=null;t:for(;;){for(var he;we!==h||_!==0&&we.nodeType!==3||(R=A+_),we!==N||p!==0&&we.nodeType!==3||(G=A+p),we.nodeType===3&&(A+=we.nodeValue.length),(he=we.firstChild)!==null;)ue=we,we=he;for(;;){if(we===o)break t;if(ue===h&&++ce===_&&(R=A),ue===N&&++ye===p&&(G=A),(he=we.nextSibling)!==null)break;we=ue,ue=we.parentNode}we=he}h=R===-1||G===-1?null:{start:R,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(Lx={focusedElem:o,selectionRange:h},sm=!1,Jr=c;Jr!==null;)if(c=Jr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Jr=o;else for(;Jr!==null;){switch(c=Jr,N=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)_=o[h],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,h=c,_=N.memoizedProps,N=N.memoizedState,p=h.stateNode;try{var Me=Jo(h.type,_);o=p.getSnapshotBeforeUpdate(Me,N),p.__reactInternalSnapshotBeforeUpdate=o}catch(Ve){zt(h,h.return,Ve)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)zx(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":zx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Jr=o;break}Jr=c.return}}function b2(o,c,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:oi(o,h),p&4&&ad(5,h);break;case 1:if(oi(o,h),p&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(A){zt(h,h.return,A)}else{var _=Jo(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(_,c,o.__reactInternalSnapshotBeforeUpdate)}catch(A){zt(h,h.return,A)}}p&64&&m2(h),p&512&&sd(h,h.return);break;case 3:if(oi(o,h),p&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{ak(o,c)}catch(A){zt(h,h.return,A)}}break;case 27:c===null&&p&4&&x2(h);case 26:case 5:oi(o,h),c===null&&p&4&&p2(h),p&512&&sd(h,h.return);break;case 12:oi(o,h);break;case 31:oi(o,h),p&4&&_2(o,h);break;case 13:oi(o,h),p&4&&S2(o,h),p&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=VB.bind(null,h),mz(o,h))));break;case 22:if(p=h.memoizedState!==null||si,!p){c=c!==null&&c.memoizedState!==null||Rr,_=si;var N=Rr;si=p,(Rr=c)&&!N?li(o,h,(h.subtreeFlags&8772)!==0):oi(o,h),si=_,Rr=N}break;case 30:break;default:oi(o,h)}}function w2(o){var c=o.alternate;c!==null&&(o.alternate=null,w2(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&sn(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var cr=null,qn=!1;function ii(o,c,h){for(h=h.child;h!==null;)j2(o,c,h),h=h.sibling}function j2(o,c,h){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Yt,h)}catch{}switch(h.tag){case 26:Rr||Cs(h,c),ii(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Rr||Cs(h,c);var p=cr,_=qn;eo(h.type)&&(cr=h.stateNode,qn=!1),ii(o,c,h),md(h.stateNode),cr=p,qn=_;break;case 5:Rr||Cs(h,c);case 6:if(p=cr,_=qn,cr=null,ii(o,c,h),cr=p,qn=_,cr!==null)if(qn)try{(cr.nodeType===9?cr.body:cr.nodeName==="HTML"?cr.ownerDocument.body:cr).removeChild(h.stateNode)}catch(N){zt(h,c,N)}else try{cr.removeChild(h.stateNode)}catch(N){zt(h,c,N)}break;case 18:cr!==null&&(qn?(o=cr,mC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),kc(o)):mC(cr,h.stateNode));break;case 4:p=cr,_=qn,cr=h.stateNode.containerInfo,qn=!0,ii(o,c,h),cr=p,qn=_;break;case 0:case 11:case 14:case 15:Ki(2,h,c),Rr||Ki(4,h,c),ii(o,c,h);break;case 1:Rr||(Cs(h,c),p=h.stateNode,typeof p.componentWillUnmount=="function"&&g2(h,c,p)),ii(o,c,h);break;case 21:ii(o,c,h);break;case 22:Rr=(p=Rr)||h.memoizedState!==null,ii(o,c,h),Rr=p;break;default:ii(o,c,h)}}function _2(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{kc(o)}catch(h){zt(c,c.return,h)}}}function S2(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{kc(o)}catch(h){zt(c,c.return,h)}}function zB(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new v2),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new v2),c;default:throw Error(n(435,o.tag))}}function Bh(o,c){var h=zB(o);c.forEach(function(p){if(!h.has(p)){h.add(p);var _=GB.bind(null,o,p);p.then(_,_)}})}function Hn(o,c){var h=c.deletions;if(h!==null)for(var p=0;p<h.length;p++){var _=h[p],N=o,A=c,R=A;e:for(;R!==null;){switch(R.tag){case 27:if(eo(R.type)){cr=R.stateNode,qn=!1;break e}break;case 5:cr=R.stateNode,qn=!1;break e;case 3:case 4:cr=R.stateNode.containerInfo,qn=!0;break e}R=R.return}if(cr===null)throw Error(n(160));j2(N,A,_),cr=null,qn=!1,N=_.alternate,N!==null&&(N.return=null),_.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)N2(c,o),c=c.sibling}var ss=null;function N2(o,c){var h=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Hn(c,o),Wn(o),p&4&&(Ki(3,o,o.return),ad(3,o),Ki(5,o,o.return));break;case 1:Hn(c,o),Wn(o),p&512&&(Rr||h===null||Cs(h,h.return)),p&64&&si&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var _=ss;if(Hn(c,o),Wn(o),p&512&&(Rr||h===null||Cs(h,h.return)),p&4){var N=h!==null?h.memoizedState:null;if(p=o.memoizedState,h===null)if(p===null)if(o.stateNode===null){e:{p=o.type,h=o.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":N=_.getElementsByTagName("title")[0],(!N||N[lt]||N[Zr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=_.createElement(p),_.head.insertBefore(N,_.querySelector("head > title"))),un(N,p,h),N[Zr]=o,xr(N),p=N;break e;case"link":var A=NC("link","href",_).get(p+(h.href||""));if(A){for(var R=0;R<A.length;R++)if(N=A[R],N.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&N.getAttribute("rel")===(h.rel==null?null:h.rel)&&N.getAttribute("title")===(h.title==null?null:h.title)&&N.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){A.splice(R,1);break t}}N=_.createElement(p),un(N,p,h),_.head.appendChild(N);break;case"meta":if(A=NC("meta","content",_).get(p+(h.content||""))){for(R=0;R<A.length;R++)if(N=A[R],N.getAttribute("content")===(h.content==null?null:""+h.content)&&N.getAttribute("name")===(h.name==null?null:h.name)&&N.getAttribute("property")===(h.property==null?null:h.property)&&N.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&N.getAttribute("charset")===(h.charSet==null?null:h.charSet)){A.splice(R,1);break t}}N=_.createElement(p),un(N,p,h),_.head.appendChild(N);break;default:throw Error(n(468,p))}N[Zr]=o,xr(N),p=N}o.stateNode=p}else kC(_,o.type,o.stateNode);else o.stateNode=SC(_,p,o.memoizedProps);else N!==p?(N===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):N.count--,p===null?kC(_,o.type,o.stateNode):SC(_,p,o.memoizedProps)):p===null&&o.stateNode!==null&&fx(o,o.memoizedProps,h.memoizedProps)}break;case 27:Hn(c,o),Wn(o),p&512&&(Rr||h===null||Cs(h,h.return)),h!==null&&p&4&&fx(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Hn(c,o),Wn(o),p&512&&(Rr||h===null||Cs(h,h.return)),o.flags&32){_=o.stateNode;try{Gl(_,"")}catch(Me){zt(o,o.return,Me)}}p&4&&o.stateNode!=null&&(_=o.memoizedProps,fx(o,_,h!==null?h.memoizedProps:_)),p&1024&&(gx=!0);break;case 6:if(Hn(c,o),Wn(o),p&4){if(o.stateNode===null)throw Error(n(162));p=o.memoizedProps,h=o.stateNode;try{h.nodeValue=p}catch(Me){zt(o,o.return,Me)}}break;case 3:if(tm=null,_=ss,ss=Jh(c.containerInfo),Hn(c,o),ss=_,Wn(o),p&4&&h!==null&&h.memoizedState.isDehydrated)try{kc(c.containerInfo)}catch(Me){zt(o,o.return,Me)}gx&&(gx=!1,k2(o));break;case 4:p=ss,ss=Jh(o.stateNode.containerInfo),Hn(c,o),Wn(o),ss=p;break;case 12:Hn(c,o),Wn(o);break;case 31:Hn(c,o),Wn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Bh(o,p)));break;case 13:Hn(c,o),Wn(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Fh=ae()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Bh(o,p)));break;case 22:_=o.memoizedState!==null;var G=h!==null&&h.memoizedState!==null,ce=si,ye=Rr;if(si=ce||_,Rr=ye||G,Hn(c,o),Rr=ye,si=ce,Wn(o),p&8192)e:for(c=o.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(h===null||G||si||Rr||el(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){G=h=c;try{if(N=G.stateNode,_)A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=G.stateNode;var we=G.memoizedProps.style,ue=we!=null&&we.hasOwnProperty("display")?we.display:null;R.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Me){zt(G,G.return,Me)}}}else if(c.tag===6){if(h===null){G=c;try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(Me){zt(G,G.return,Me)}}}else if(c.tag===18){if(h===null){G=c;try{var he=G.stateNode;_?gC(he,!0):gC(G.stateNode,!1)}catch(Me){zt(G,G.return,Me)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=o.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,Bh(o,h))));break;case 19:Hn(c,o),Wn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Bh(o,p)));break;case 30:break;case 21:break;default:Hn(c,o),Wn(o)}}function Wn(o){var c=o.flags;if(c&2){try{for(var h,p=o.return;p!==null;){if(y2(p)){h=p;break}p=p.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var _=h.stateNode,N=hx(o);$h(o,N,_);break;case 5:var A=h.stateNode;h.flags&32&&(Gl(A,""),h.flags&=-33);var R=hx(o);$h(o,R,A);break;case 3:case 4:var G=h.stateNode.containerInfo,ce=hx(o);mx(o,ce,G);break;default:throw Error(n(161))}}catch(ye){zt(o,o.return,ye)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function k2(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;k2(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function oi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)b2(o,c.alternate,c),c=c.sibling}function el(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ki(4,c,c.return),el(c);break;case 1:Cs(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&g2(c,c.return,h),el(c);break;case 27:md(c.stateNode);case 26:case 5:Cs(c,c.return),el(c);break;case 22:c.memoizedState===null&&el(c);break;case 30:el(c);break;default:el(c)}o=o.sibling}}function li(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,_=o,N=c,A=N.flags;switch(N.tag){case 0:case 11:case 15:li(_,N,h),ad(4,N);break;case 1:if(li(_,N,h),p=N,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ce){zt(p,p.return,ce)}if(p=N,_=p.updateQueue,_!==null){var R=p.stateNode;try{var G=_.shared.hiddenCallbacks;if(G!==null)for(_.shared.hiddenCallbacks=null,_=0;_<G.length;_++)nk(G[_],R)}catch(ce){zt(p,p.return,ce)}}h&&A&64&&m2(N),sd(N,N.return);break;case 27:x2(N);case 26:case 5:li(_,N,h),h&&p===null&&A&4&&p2(N),sd(N,N.return);break;case 12:li(_,N,h);break;case 31:li(_,N,h),h&&A&4&&_2(_,N);break;case 13:li(_,N,h),h&&A&4&&S2(_,N);break;case 22:N.memoizedState===null&&li(_,N,h),sd(N,N.return);break;case 30:break;default:li(_,N,h)}c=c.sibling}}function px(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Wu(h))}function yx(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wu(o))}function is(o,c,h,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)C2(o,c,h,p),c=c.sibling}function C2(o,c,h,p){var _=c.flags;switch(c.tag){case 0:case 11:case 15:is(o,c,h,p),_&2048&&ad(9,c);break;case 1:is(o,c,h,p);break;case 3:is(o,c,h,p),_&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wu(o)));break;case 12:if(_&2048){is(o,c,h,p),o=c.stateNode;try{var N=c.memoizedProps,A=N.id,R=N.onPostCommit;typeof R=="function"&&R(A,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(G){zt(c,c.return,G)}}else is(o,c,h,p);break;case 31:is(o,c,h,p);break;case 13:is(o,c,h,p);break;case 23:break;case 22:N=c.stateNode,A=c.alternate,c.memoizedState!==null?N._visibility&2?is(o,c,h,p):id(o,c):N._visibility&2?is(o,c,h,p):(N._visibility|=2,gc(o,c,h,p,(c.subtreeFlags&10256)!==0||!1)),_&2048&&px(A,c);break;case 24:is(o,c,h,p),_&2048&&yx(c.alternate,c);break;default:is(o,c,h,p)}}function gc(o,c,h,p,_){for(_=_&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=o,A=c,R=h,G=p,ce=A.flags;switch(A.tag){case 0:case 11:case 15:gc(N,A,R,G,_),ad(8,A);break;case 23:break;case 22:var ye=A.stateNode;A.memoizedState!==null?ye._visibility&2?gc(N,A,R,G,_):id(N,A):(ye._visibility|=2,gc(N,A,R,G,_)),_&&ce&2048&&px(A.alternate,A);break;case 24:gc(N,A,R,G,_),_&&ce&2048&&yx(A.alternate,A);break;default:gc(N,A,R,G,_)}c=c.sibling}}function id(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,p=c,_=p.flags;switch(p.tag){case 22:id(h,p),_&2048&&px(p.alternate,p);break;case 24:id(h,p),_&2048&&yx(p.alternate,p);break;default:id(h,p)}c=c.sibling}}var od=8192;function pc(o,c,h){if(o.subtreeFlags&od)for(o=o.child;o!==null;)T2(o,c,h),o=o.sibling}function T2(o,c,h){switch(o.tag){case 26:pc(o,c,h),o.flags&od&&o.memoizedState!==null&&kz(h,ss,o.memoizedState,o.memoizedProps);break;case 5:pc(o,c,h);break;case 3:case 4:var p=ss;ss=Jh(o.stateNode.containerInfo),pc(o,c,h),ss=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=od,od=16777216,pc(o,c,h),od=p):pc(o,c,h));break;default:pc(o,c,h)}}function E2(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function ld(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Jr=p,A2(p,o)}E2(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)O2(o),o=o.sibling}function O2(o){switch(o.tag){case 0:case 11:case 15:ld(o),o.flags&2048&&Ki(9,o,o.return);break;case 3:ld(o);break;case 12:ld(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,zh(o)):ld(o);break;default:ld(o)}}function zh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Jr=p,A2(p,o)}E2(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ki(8,c,c.return),zh(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,zh(c));break;default:zh(c)}o=o.sibling}}function A2(o,c){for(;Jr!==null;){var h=Jr;switch(h.tag){case 0:case 11:case 15:Ki(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Wu(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Jr=p;else e:for(h=o;Jr!==null;){p=Jr;var _=p.sibling,N=p.return;if(w2(p),p===h){Jr=null;break e}if(_!==null){_.return=N,Jr=_;break e}Jr=N}}}var FB={getCacheForType:function(o){var c=ln(Dr),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return ln(Dr).controller.signal}},UB=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Xt=null,gt=null,vt=0,Bt=0,la=null,Vi=!1,yc=!1,xx=!1,ci=0,br=0,Gi=0,tl=0,vx=0,ca=0,xc=0,cd=null,Yn=null,bx=!1,Fh=0,D2=0,Uh=1/0,qh=null,Qi=null,Fr=0,Xi=null,vc=null,ui=0,wx=0,jx=null,M2=null,ud=0,_x=null;function ua(){return(Pt&2)!==0&&vt!==0?vt&-vt:F.T!==null?Ex():zn()}function P2(){if(ca===0)if((vt&536870912)===0||kt){var o=Oe;Oe<<=1,(Oe&3932160)===0&&(Oe=262144),ca=o}else ca=536870912;return o=ia.current,o!==null&&(o.flags|=32),ca}function Kn(o,c,h){(o===Xt&&(Bt===2||Bt===9)||o.cancelPendingCommit!==null)&&(bc(o,0),Zi(o,vt,ca,!1)),Bn(o,h),((Pt&2)===0||o!==Xt)&&(o===Xt&&((Pt&2)===0&&(tl|=h),br===4&&Zi(o,vt,ca,!1)),Ts(o))}function R2(o,c,h){if((Pt&6)!==0)throw Error(n(327));var p=!h&&(c&127)===0&&(c&o.expiredLanes)===0||ar(o,c),_=p?WB(o,c):Nx(o,c,!0),N=p;do{if(_===0){yc&&!p&&Zi(o,c,0,!1);break}else{if(h=o.current.alternate,N&&!qB(h)){_=Nx(o,c,!1),N=!1;continue}if(_===2){if(N=c,o.errorRecoveryDisabledLanes&N)var A=0;else A=o.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){c=A;e:{var R=o;_=cd;var G=R.current.memoizedState.isDehydrated;if(G&&(bc(R,A).flags|=256),A=Nx(R,A,!1),A!==2){if(xx&&!G){R.errorRecoveryDisabledLanes|=N,tl|=N,_=4;break e}N=Yn,Yn=_,N!==null&&(Yn===null?Yn=N:Yn.push.apply(Yn,N))}_=A}if(N=!1,_!==2)continue}}if(_===1){bc(o,0),Zi(o,c,0,!0);break}e:{switch(p=o,N=_,N){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Zi(p,c,ca,!Vi);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(_=Fh+300-ae(),10<_)){if(Zi(p,c,ca,!Vi),ct(p,0,!0)!==0)break e;ui=c,p.timeoutHandle=fC(I2.bind(null,p,h,Yn,qh,bx,c,ca,tl,xc,Vi,N,"Throttled",-0,0),_);break e}I2(p,h,Yn,qh,bx,c,ca,tl,xc,Vi,N,null,-0,0)}}break}while(!0);Ts(o)}function I2(o,c,h,p,_,N,A,R,G,ce,ye,we,ue,he){if(o.timeoutHandle=-1,we=c.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gs},T2(c,N,we);var Me=(N&62914560)===N?Fh-ae():(N&4194048)===N?D2-ae():0;if(Me=Cz(we,Me),Me!==null){ui=N,o.cancelPendingCommit=Me(H2.bind(null,o,c,N,h,p,_,A,R,G,ye,we,null,ue,he)),Zi(o,N,A,!ce);return}}H2(o,c,N,h,p,_,A,R,G)}function qB(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var _=h[p],N=_.getSnapshot;_=_.value;try{if(!aa(N(),_))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Zi(o,c,h,p){c&=~vx,c&=~tl,o.suspendedLanes|=c,o.pingedLanes&=~c,p&&(o.warmLanes|=c),p=o.expirationTimes;for(var _=c;0<_;){var N=31-xt(_),A=1<<N;p[N]=-1,_&=~A}h!==0&&na(o,h,c)}function Hh(){return(Pt&6)===0?(dd(0),!1):!0}function Sx(){if(gt!==null){if(Bt===0)var o=gt.return;else o=gt,Js=Yo=null,zy(o),uc=null,Ku=0,o=gt;for(;o!==null;)h2(o.alternate,o),o=o.return;gt=null}}function bc(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,cz(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),ui=0,Sx(),Xt=o,gt=h=Xs(o.current,null),vt=c,Bt=0,la=null,Vi=!1,yc=ar(o,c),xx=!1,xc=ca=vx=tl=Gi=br=0,Yn=cd=null,bx=!1,(c&8)!==0&&(c|=c&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=c;0<p;){var _=31-xt(p),N=1<<_;c|=o[_],p&=~N}return ci=c,dh(),h}function L2(o,c){at=null,F.H=td,c===cc||c===vh?(c=JN(),Bt=3):c===Ty?(c=JN(),Bt=4):Bt=c===rx?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,la=c,gt===null&&(br=1,Mh(o,Ma(c,o.current)))}function $2(){var o=ia.current;return o===null?!0:(vt&4194048)===vt?La===null:(vt&62914560)===vt||(vt&536870912)!==0?o===La:!1}function B2(){var o=F.H;return F.H=td,o===null?td:o}function z2(){var o=F.A;return F.A=FB,o}function Wh(){br=4,Vi||(vt&4194048)!==vt&&ia.current!==null||(yc=!0),(Gi&134217727)===0&&(tl&134217727)===0||Xt===null||Zi(Xt,vt,ca,!1)}function Nx(o,c,h){var p=Pt;Pt|=2;var _=B2(),N=z2();(Xt!==o||vt!==c)&&(qh=null,bc(o,c)),c=!1;var A=br;e:do try{if(Bt!==0&&gt!==null){var R=gt,G=la;switch(Bt){case 8:Sx(),A=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(c=!0);var ce=Bt;if(Bt=0,la=null,wc(o,R,G,ce),h&&yc){A=0;break e}break;default:ce=Bt,Bt=0,la=null,wc(o,R,G,ce)}}HB(),A=br;break}catch(ye){L2(o,ye)}while(!0);return c&&o.shellSuspendCounter++,Js=Yo=null,Pt=p,F.H=_,F.A=N,gt===null&&(Xt=null,vt=0,dh()),A}function HB(){for(;gt!==null;)F2(gt)}function WB(o,c){var h=Pt;Pt|=2;var p=B2(),_=z2();Xt!==o||vt!==c?(qh=null,Uh=ae()+500,bc(o,c)):yc=ar(o,c);e:do try{if(Bt!==0&&gt!==null){c=gt;var N=la;t:switch(Bt){case 1:Bt=0,la=null,wc(o,c,N,1);break;case 2:case 9:if(XN(N)){Bt=0,la=null,U2(c);break}c=function(){Bt!==2&&Bt!==9||Xt!==o||(Bt=7),Ts(o)},N.then(c,c);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:XN(N)?(Bt=0,la=null,U2(c)):(Bt=0,la=null,wc(o,c,N,7));break;case 5:var A=null;switch(gt.tag){case 26:A=gt.memoizedState;case 5:case 27:var R=gt;if(A?CC(A):R.stateNode.complete){Bt=0,la=null;var G=R.sibling;if(G!==null)gt=G;else{var ce=R.return;ce!==null?(gt=ce,Yh(ce)):gt=null}break t}}Bt=0,la=null,wc(o,c,N,5);break;case 6:Bt=0,la=null,wc(o,c,N,6);break;case 8:Sx(),br=6;break e;default:throw Error(n(462))}}YB();break}catch(ye){L2(o,ye)}while(!0);return Js=Yo=null,F.H=p,F.A=_,Pt=h,gt!==null?0:(Xt=null,vt=0,dh(),br)}function YB(){for(;gt!==null&&!yr();)F2(gt)}function F2(o){var c=d2(o.alternate,o,ci);o.memoizedProps=o.pendingProps,c===null?Yh(o):gt=c}function U2(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=s2(h,c,c.pendingProps,c.type,void 0,vt);break;case 11:c=s2(h,c,c.pendingProps,c.type.render,c.ref,vt);break;case 5:zy(c);default:h2(h,c),c=gt=zN(c,ci),c=d2(h,c,ci)}o.memoizedProps=o.pendingProps,c===null?Yh(o):gt=c}function wc(o,c,h,p){Js=Yo=null,zy(c),uc=null,Ku=0;var _=c.return;try{if(PB(o,_,c,h,vt)){br=1,Mh(o,Ma(h,o.current)),gt=null;return}}catch(N){if(_!==null)throw gt=_,N;br=1,Mh(o,Ma(h,o.current)),gt=null;return}c.flags&32768?(kt||p===1?o=!0:yc||(vt&536870912)!==0?o=!1:(Vi=o=!0,(p===2||p===9||p===3||p===6)&&(p=ia.current,p!==null&&p.tag===13&&(p.flags|=16384))),q2(c,o)):Yh(c)}function Yh(o){var c=o;do{if((c.flags&32768)!==0){q2(c,Vi);return}o=c.return;var h=LB(c.alternate,c,ci);if(h!==null){gt=h;return}if(c=c.sibling,c!==null){gt=c;return}gt=c=o}while(c!==null);br===0&&(br=5)}function q2(o,c){do{var h=$B(o.alternate,o);if(h!==null){h.flags&=32767,gt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){gt=o;return}gt=o=h}while(o!==null);br=6,gt=null}function H2(o,c,h,p,_,N,A,R,G){o.cancelPendingCommit=null;do Kh();while(Fr!==0);if((Pt&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(N=c.lanes|c.childLanes,N|=hy,hr(o,h,N,A,R,G),o===Xt&&(gt=Xt=null,vt=0),vc=c,Xi=o,ui=h,wx=N,jx=_,M2=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,QB(Te,function(){return G2(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=F.T,F.T=null,_=Z.p,Z.p=2,A=Pt,Pt|=4;try{BB(o,c,h)}finally{Pt=A,Z.p=_,F.T=p}}Fr=1,W2(),Y2(),K2()}}function W2(){if(Fr===1){Fr=0;var o=Xi,c=vc,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=F.T,F.T=null;var p=Z.p;Z.p=2;var _=Pt;Pt|=4;try{N2(c,o);var N=Lx,A=AN(o.containerInfo),R=N.focusedElem,G=N.selectionRange;if(A!==R&&R&&R.ownerDocument&&ON(R.ownerDocument.documentElement,R)){if(G!==null&&ly(R)){var ce=G.start,ye=G.end;if(ye===void 0&&(ye=ce),"selectionStart"in R)R.selectionStart=ce,R.selectionEnd=Math.min(ye,R.value.length);else{var we=R.ownerDocument||document,ue=we&&we.defaultView||window;if(ue.getSelection){var he=ue.getSelection(),Me=R.textContent.length,Ve=Math.min(G.start,Me),Gt=G.end===void 0?Ve:Math.min(G.end,Me);!he.extend&&Ve>Gt&&(A=Gt,Gt=Ve,Ve=A);var ie=EN(R,Ve),te=EN(R,Gt);if(ie&&te&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==te.node||he.focusOffset!==te.offset)){var le=we.createRange();le.setStart(ie.node,ie.offset),he.removeAllRanges(),Ve>Gt?(he.addRange(le),he.extend(te.node,te.offset)):(le.setEnd(te.node,te.offset),he.addRange(le))}}}}for(we=[],he=R;he=he.parentNode;)he.nodeType===1&&we.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<we.length;R++){var be=we[R];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}sm=!!Ix,Lx=Ix=null}finally{Pt=_,Z.p=p,F.T=h}}o.current=c,Fr=2}}function Y2(){if(Fr===2){Fr=0;var o=Xi,c=vc,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=F.T,F.T=null;var p=Z.p;Z.p=2;var _=Pt;Pt|=4;try{b2(o,c.alternate,c)}finally{Pt=_,Z.p=p,F.T=h}}Fr=3}}function K2(){if(Fr===4||Fr===3){Fr=0,K();var o=Xi,c=vc,h=ui,p=M2;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Fr=5:(Fr=0,vc=Xi=null,V2(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(Qi=null),Ea(h),c=c.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Yt,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=F.T,_=Z.p,Z.p=2,F.T=null;try{for(var N=o.onRecoverableError,A=0;A<p.length;A++){var R=p[A];N(R.value,{componentStack:R.stack})}}finally{F.T=c,Z.p=_}}(ui&3)!==0&&Kh(),Ts(o),_=o.pendingLanes,(h&261930)!==0&&(_&42)!==0?o===_x?ud++:(ud=0,_x=o):ud=0,dd(0)}}function V2(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Wu(c)))}function Kh(){return W2(),Y2(),K2(),G2()}function G2(){if(Fr!==5)return!1;var o=Xi,c=wx;wx=0;var h=Ea(ui),p=F.T,_=Z.p;try{Z.p=32>h?32:h,F.T=null,h=jx,jx=null;var N=Xi,A=ui;if(Fr=0,vc=Xi=null,ui=0,(Pt&6)!==0)throw Error(n(331));var R=Pt;if(Pt|=4,O2(N.current),C2(N,N.current,A,h),Pt=R,dd(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Yt,N)}catch{}return!0}finally{Z.p=_,F.T=p,V2(o,c)}}function Q2(o,c,h){c=Ma(h,c),c=tx(o.stateNode,c,2),o=Hi(o,c,2),o!==null&&(Bn(o,2),Ts(o))}function zt(o,c,h){if(o.tag===3)Q2(o,o,h);else for(;c!==null;){if(c.tag===3){Q2(c,o,h);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Qi===null||!Qi.has(p))){o=Ma(h,o),h=Xk(2),p=Hi(c,h,2),p!==null&&(Zk(h,p,c,o),Bn(p,2),Ts(p));break}}c=c.return}}function kx(o,c,h){var p=o.pingCache;if(p===null){p=o.pingCache=new UB;var _=new Set;p.set(c,_)}else _=p.get(c),_===void 0&&(_=new Set,p.set(c,_));_.has(h)||(xx=!0,_.add(h),o=KB.bind(null,o,c,h),c.then(o,o))}function KB(o,c,h){var p=o.pingCache;p!==null&&p.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Xt===o&&(vt&h)===h&&(br===4||br===3&&(vt&62914560)===vt&&300>ae()-Fh?(Pt&2)===0&&bc(o,0):vx|=h,xc===vt&&(xc=0)),Ts(o)}function X2(o,c){c===0&&(c=ot()),o=qo(o,c),o!==null&&(Bn(o,c),Ts(o))}function VB(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),X2(o,h)}function GB(o,c){var h=0;switch(o.tag){case 31:case 13:var p=o.stateNode,_=o.memoizedState;_!==null&&(h=_.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(c),X2(o,h)}function QB(o,c){return Jt(o,c)}var Vh=null,jc=null,Cx=!1,Gh=!1,Tx=!1,Ji=0;function Ts(o){o!==jc&&o.next===null&&(jc===null?Vh=jc=o:jc=jc.next=o),Gh=!0,Cx||(Cx=!0,ZB())}function dd(o,c){if(!Tx&&Gh){Tx=!0;do for(var h=!1,p=Vh;p!==null;){if(o!==0){var _=p.pendingLanes;if(_===0)var N=0;else{var A=p.suspendedLanes,R=p.pingedLanes;N=(1<<31-xt(42|o)+1)-1,N&=_&~(A&~R),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(h=!0,tC(p,N))}else N=vt,N=ct(p,p===Xt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||ar(p,N)||(h=!0,tC(p,N));p=p.next}while(h);Tx=!1}}function XB(){Z2()}function Z2(){Gh=Cx=!1;var o=0;Ji!==0&&lz()&&(o=Ji);for(var c=ae(),h=null,p=Vh;p!==null;){var _=p.next,N=J2(p,c);N===0?(p.next=null,h===null?Vh=_:h.next=_,_===null&&(jc=h)):(h=p,(o!==0||(N&3)!==0)&&(Gh=!0)),p=_}Fr!==0&&Fr!==5||dd(o),Ji!==0&&(Ji=0)}function J2(o,c){for(var h=o.suspendedLanes,p=o.pingedLanes,_=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var A=31-xt(N),R=1<<A,G=_[A];G===-1?((R&h)===0||(R&p)!==0)&&(_[A]=ut(R,c)):G<=c&&(o.expiredLanes|=R),N&=~R}if(c=Xt,h=vt,h=ct(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,h===0||o===c&&(Bt===2||Bt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&zr(p),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||ar(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(p!==null&&zr(p),Ea(h)){case 2:case 8:h=ve;break;case 32:h=Te;break;case 268435456:h=jt;break;default:h=Te}return p=eC.bind(null,o),h=Jt(h,p),o.callbackPriority=c,o.callbackNode=h,c}return p!==null&&p!==null&&zr(p),o.callbackPriority=2,o.callbackNode=null,2}function eC(o,c){if(Fr!==0&&Fr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Kh()&&o.callbackNode!==h)return null;var p=vt;return p=ct(o,o===Xt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(R2(o,p,c),J2(o,ae()),o.callbackNode!=null&&o.callbackNode===h?eC.bind(null,o):null)}function tC(o,c){if(Kh())return null;R2(o,c,!0)}function ZB(){uz(function(){(Pt&6)!==0?Jt(oe,XB):Z2()})}function Ex(){if(Ji===0){var o=oc;o===0&&(o=je,je<<=1,(je&261888)===0&&(je=256)),Ji=o}return Ji}function rC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:nh(""+o)}function nC(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function JB(o,c,h,p,_){if(c==="submit"&&h&&h.stateNode===_){var N=rC((_[Nt]||null).action),A=p.submitter;A&&(c=(c=A[Nt]||null)?rC(c.formAction):A.getAttribute("formAction"),c!==null&&(N=c,A=null));var R=new oh("action","action",null,p,_);o.push({event:R,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ji!==0){var G=A?nC(_,A):new FormData(_);Gy(h,{pending:!0,data:G,method:_.method,action:N},null,G)}}else typeof N=="function"&&(R.preventDefault(),G=A?nC(_,A):new FormData(_),Gy(h,{pending:!0,data:G,method:_.method,action:N},N,G))},currentTarget:_}]})}}for(var Ox=0;Ox<fy.length;Ox++){var Ax=fy[Ox],ez=Ax.toLowerCase(),tz=Ax[0].toUpperCase()+Ax.slice(1);as(ez,"on"+tz)}as(PN,"onAnimationEnd"),as(RN,"onAnimationIteration"),as(IN,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(yB,"onTransitionRun"),as(xB,"onTransitionStart"),as(vB,"onTransitionCancel"),as(LN,"onTransitionEnd"),Kl("onMouseEnter",["mouseout","mouseover"]),Kl("onMouseLeave",["mouseout","mouseover"]),Kl("onPointerEnter",["pointerout","pointerover"]),Kl("onPointerLeave",["pointerout","pointerover"]),Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fd));function aC(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var p=o[h],_=p.event;p=p.listeners;e:{var N=void 0;if(c)for(var A=p.length-1;0<=A;A--){var R=p[A],G=R.instance,ce=R.currentTarget;if(R=R.listener,G!==N&&_.isPropagationStopped())break e;N=R,_.currentTarget=ce;try{N(_)}catch(ye){uh(ye)}_.currentTarget=null,N=G}else for(A=0;A<p.length;A++){if(R=p[A],G=R.instance,ce=R.currentTarget,R=R.listener,G!==N&&_.isPropagationStopped())break e;N=R,_.currentTarget=ce;try{N(_)}catch(ye){uh(ye)}_.currentTarget=null,N=G}}}}function pt(o,c){var h=c[Ks];h===void 0&&(h=c[Ks]=new Set);var p=o+"__bubble";h.has(p)||(sC(c,o,2,!1),h.add(p))}function Dx(o,c,h){var p=0;c&&(p|=4),sC(h,o,p,c)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function Mx(o){if(!o[Qh]){o[Qh]=!0,ZS.forEach(function(h){h!=="selectionchange"&&(rz.has(h)||Dx(h,!1,o),Dx(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Qh]||(c[Qh]=!0,Dx("selectionchange",!1,c))}}function sC(o,c,h,p){switch(PC(c)){case 2:var _=Oz;break;case 8:_=Az;break;default:_=Vx}h=_.bind(null,c,h,o),_=void 0,!J0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),p?_!==void 0?o.addEventListener(c,h,{capture:!0,passive:_}):o.addEventListener(c,h,!0):_!==void 0?o.addEventListener(c,h,{passive:_}):o.addEventListener(c,h,!1)}function Px(o,c,h,p,_){var N=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var R=p.stateNode.containerInfo;if(R===_)break;if(A===4)for(A=p.return;A!==null;){var G=A.tag;if((G===3||G===4)&&A.stateNode.containerInfo===_)return;A=A.return}for(;R!==null;){if(A=tr(R),A===null)return;if(G=A.tag,G===5||G===6||G===26||G===27){p=N=A;continue e}R=R.parentNode}}p=p.return}uN(function(){var ce=N,ye=X0(h),we=[];e:{var ue=$N.get(o);if(ue!==void 0){var he=oh,Me=o;switch(o){case"keypress":if(sh(h)===0)break e;case"keydown":case"keyup":he=G7;break;case"focusin":Me="focus",he=ny;break;case"focusout":Me="blur",he=ny;break;case"beforeblur":case"afterblur":he=ny;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=hN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=L7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Z7;break;case PN:case RN:case IN:he=z7;break;case LN:he=eB;break;case"scroll":case"scrollend":he=R7;break;case"wheel":he=rB;break;case"copy":case"cut":case"paste":he=U7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=gN;break;case"toggle":case"beforetoggle":he=aB}var Ve=(c&4)!==0,Gt=!Ve&&(o==="scroll"||o==="scrollend"),ie=Ve?ue!==null?ue+"Capture":null:ue;Ve=[];for(var te=ce,le;te!==null;){var be=te;if(le=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||le===null||ie===null||(be=Pu(te,ie),be!=null&&Ve.push(hd(te,be,le))),Gt)break;te=te.return}0<Ve.length&&(ue=new he(ue,Me,null,h,ye),we.push({event:ue,listeners:Ve}))}}if((c&7)===0){e:{if(ue=o==="mouseover"||o==="pointerover",he=o==="mouseout"||o==="pointerout",ue&&h!==Q0&&(Me=h.relatedTarget||h.fromElement)&&(tr(Me)||Me[Ys]))break e;if((he||ue)&&(ue=ye.window===ye?ye:(ue=ye.ownerDocument)?ue.defaultView||ue.parentWindow:window,he?(Me=h.relatedTarget||h.toElement,he=ce,Me=Me?tr(Me):null,Me!==null&&(Gt=i(Me),Ve=Me.tag,Me!==Gt||Ve!==5&&Ve!==27&&Ve!==6)&&(Me=null)):(he=null,Me=ce),he!==Me)){if(Ve=hN,be="onMouseLeave",ie="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(Ve=gN,be="onPointerLeave",ie="onPointerEnter",te="pointer"),Gt=he==null?ue:Tn(he),le=Me==null?ue:Tn(Me),ue=new Ve(be,te+"leave",he,h,ye),ue.target=Gt,ue.relatedTarget=le,be=null,tr(ye)===ce&&(Ve=new Ve(ie,te+"enter",Me,h,ye),Ve.target=le,Ve.relatedTarget=Gt,be=Ve),Gt=be,he&&Me)t:{for(Ve=nz,ie=he,te=Me,le=0,be=ie;be;be=Ve(be))le++;be=0;for(var Ke=te;Ke;Ke=Ve(Ke))be++;for(;0<le-be;)ie=Ve(ie),le--;for(;0<be-le;)te=Ve(te),be--;for(;le--;){if(ie===te||te!==null&&ie===te.alternate){Ve=ie;break t}ie=Ve(ie),te=Ve(te)}Ve=null}else Ve=null;he!==null&&iC(we,ue,he,Ve,!1),Me!==null&&Gt!==null&&iC(we,Gt,Me,Ve,!0)}}e:{if(ue=ce?Tn(ce):window,he=ue.nodeName&&ue.nodeName.toLowerCase(),he==="select"||he==="input"&&ue.type==="file")var Ot=_N;else if(wN(ue))if(SN)Ot=mB;else{Ot=fB;var $e=dB}else he=ue.nodeName,!he||he.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?ce&&G0(ce.elementType)&&(Ot=_N):Ot=hB;if(Ot&&(Ot=Ot(o,ce))){jN(we,Ot,h,ye);break e}$e&&$e(o,ue,ce),o==="focusout"&&ce&&ue.type==="number"&&ce.memoizedProps.value!=null&&V0(ue,"number",ue.value)}switch($e=ce?Tn(ce):window,o){case"focusin":(wN($e)||$e.contentEditable==="true")&&(Jl=$e,cy=ce,Uu=null);break;case"focusout":Uu=cy=Jl=null;break;case"mousedown":uy=!0;break;case"contextmenu":case"mouseup":case"dragend":uy=!1,DN(we,h,ye);break;case"selectionchange":if(pB)break;case"keydown":case"keyup":DN(we,h,ye)}var st;if(sy)e:{switch(o){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else Zl?vN(o,h)&&(bt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(bt="onCompositionStart");bt&&(pN&&h.locale!=="ko"&&(Zl||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Zl&&(st=dN()):(Li=ye,ey="value"in Li?Li.value:Li.textContent,Zl=!0)),$e=Xh(ce,bt),0<$e.length&&(bt=new mN(bt,o,null,h,ye),we.push({event:bt,listeners:$e}),st?bt.data=st:(st=bN(h),st!==null&&(bt.data=st)))),(st=iB?oB(o,h):lB(o,h))&&(bt=Xh(ce,"onBeforeInput"),0<bt.length&&($e=new mN("onBeforeInput","beforeinput",null,h,ye),we.push({event:$e,listeners:bt}),$e.data=st)),JB(we,o,ce,h,ye)}aC(we,c)})}function hd(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Xh(o,c){for(var h=c+"Capture",p=[];o!==null;){var _=o,N=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||N===null||(_=Pu(o,h),_!=null&&p.unshift(hd(o,_,N)),_=Pu(o,c),_!=null&&p.push(hd(o,_,N))),o.tag===3)return p;o=o.return}return[]}function nz(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function iC(o,c,h,p,_){for(var N=c._reactName,A=[];h!==null&&h!==p;){var R=h,G=R.alternate,ce=R.stateNode;if(R=R.tag,G!==null&&G===p)break;R!==5&&R!==26&&R!==27||ce===null||(G=ce,_?(ce=Pu(h,N),ce!=null&&A.unshift(hd(h,ce,G))):_||(ce=Pu(h,N),ce!=null&&A.push(hd(h,ce,G)))),h=h.return}A.length!==0&&o.push({event:c,listeners:A})}var az=/\r\n?/g,sz=/\u0000|\uFFFD/g;function oC(o){return(typeof o=="string"?o:""+o).replace(az,`
`).replace(sz,"")}function lC(o,c){return c=oC(c),oC(o)===c}function Vt(o,c,h,p,_,N){switch(h){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||Gl(o,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&Gl(o,""+p);break;case"className":th(o,"class",p);break;case"tabIndex":th(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":th(o,h,p);break;case"style":lN(o,p,N);break;case"data":if(c!=="object"){th(o,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=nh(""+p),o.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(h==="formAction"?(c!=="input"&&Vt(o,c,"name",_.name,_,null),Vt(o,c,"formEncType",_.formEncType,_,null),Vt(o,c,"formMethod",_.formMethod,_,null),Vt(o,c,"formTarget",_.formTarget,_,null)):(Vt(o,c,"encType",_.encType,_,null),Vt(o,c,"method",_.method,_,null),Vt(o,c,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=nh(""+p),o.setAttribute(h,p);break;case"onClick":p!=null&&(o.onclick=Gs);break;case"onScroll":p!=null&&pt("scroll",o);break;case"onScrollEnd":p!=null&&pt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(_.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}h=nh(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""+p):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":p===!0?o.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,p):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(h,p):o.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(h):o.setAttribute(h,p);break;case"popover":pt("beforetoggle",o),pt("toggle",o),eh(o,"popover",p);break;case"xlinkActuate":Vs(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Vs(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Vs(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Vs(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Vs(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Vs(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Vs(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Vs(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Vs(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":eh(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=M7.get(h)||h,eh(o,h,p))}}function Rx(o,c,h,p,_,N){switch(h){case"style":lN(o,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(_.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"children":typeof p=="string"?Gl(o,p):(typeof p=="number"||typeof p=="bigint")&&Gl(o,""+p);break;case"onScroll":p!=null&&pt("scroll",o);break;case"onScrollEnd":p!=null&&pt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!JS.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),c=h.slice(2,_?h.length-7:void 0),N=o[Nt]||null,N=N!=null?N[h]:null,typeof N=="function"&&o.removeEventListener(c,N,_),typeof p=="function")){typeof N!="function"&&N!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,p,_);break e}h in o?o[h]=p:p===!0?o.setAttribute(h,""):eh(o,h,p)}}}function un(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",o),pt("load",o);var p=!1,_=!1,N;for(N in h)if(h.hasOwnProperty(N)){var A=h[N];if(A!=null)switch(N){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Vt(o,c,N,A,h,null)}}_&&Vt(o,c,"srcSet",h.srcSet,h,null),p&&Vt(o,c,"src",h.src,h,null);return;case"input":pt("invalid",o);var R=N=A=_=null,G=null,ce=null;for(p in h)if(h.hasOwnProperty(p)){var ye=h[p];if(ye!=null)switch(p){case"name":_=ye;break;case"type":A=ye;break;case"checked":G=ye;break;case"defaultChecked":ce=ye;break;case"value":N=ye;break;case"defaultValue":R=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,c));break;default:Vt(o,c,p,ye,h,null)}}aN(o,N,R,G,ce,A,_,!1);return;case"select":pt("invalid",o),p=A=N=null;for(_ in h)if(h.hasOwnProperty(_)&&(R=h[_],R!=null))switch(_){case"value":N=R;break;case"defaultValue":A=R;break;case"multiple":p=R;default:Vt(o,c,_,R,h,null)}c=N,h=A,o.multiple=!!p,c!=null?Vl(o,!!p,c,!1):h!=null&&Vl(o,!!p,h,!0);return;case"textarea":pt("invalid",o),N=_=p=null;for(A in h)if(h.hasOwnProperty(A)&&(R=h[A],R!=null))switch(A){case"value":p=R;break;case"defaultValue":_=R;break;case"children":N=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:Vt(o,c,A,R,h,null)}iN(o,p,_,N);return;case"option":for(G in h)if(h.hasOwnProperty(G)&&(p=h[G],p!=null))switch(G){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Vt(o,c,G,p,h,null)}return;case"dialog":pt("beforetoggle",o),pt("toggle",o),pt("cancel",o),pt("close",o);break;case"iframe":case"object":pt("load",o);break;case"video":case"audio":for(p=0;p<fd.length;p++)pt(fd[p],o);break;case"image":pt("error",o),pt("load",o);break;case"details":pt("toggle",o);break;case"embed":case"source":case"link":pt("error",o),pt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in h)if(h.hasOwnProperty(ce)&&(p=h[ce],p!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Vt(o,c,ce,p,h,null)}return;default:if(G0(c)){for(ye in h)h.hasOwnProperty(ye)&&(p=h[ye],p!==void 0&&Rx(o,c,ye,p,h,void 0));return}}for(R in h)h.hasOwnProperty(R)&&(p=h[R],p!=null&&Vt(o,c,R,p,h,null))}function iz(o,c,h,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,N=null,A=null,R=null,G=null,ce=null,ye=null;for(he in h){var we=h[he];if(h.hasOwnProperty(he)&&we!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":G=we;default:p.hasOwnProperty(he)||Vt(o,c,he,null,p,we)}}for(var ue in p){var he=p[ue];if(we=h[ue],p.hasOwnProperty(ue)&&(he!=null||we!=null))switch(ue){case"type":N=he;break;case"name":_=he;break;case"checked":ce=he;break;case"defaultChecked":ye=he;break;case"value":A=he;break;case"defaultValue":R=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,c));break;default:he!==we&&Vt(o,c,ue,he,p,we)}}K0(o,A,R,G,ce,ye,N,_);return;case"select":he=A=R=ue=null;for(N in h)if(G=h[N],h.hasOwnProperty(N)&&G!=null)switch(N){case"value":break;case"multiple":he=G;default:p.hasOwnProperty(N)||Vt(o,c,N,null,p,G)}for(_ in p)if(N=p[_],G=h[_],p.hasOwnProperty(_)&&(N!=null||G!=null))switch(_){case"value":ue=N;break;case"defaultValue":R=N;break;case"multiple":A=N;default:N!==G&&Vt(o,c,_,N,p,G)}c=R,h=A,p=he,ue!=null?Vl(o,!!h,ue,!1):!!p!=!!h&&(c!=null?Vl(o,!!h,c,!0):Vl(o,!!h,h?[]:"",!1));return;case"textarea":he=ue=null;for(R in h)if(_=h[R],h.hasOwnProperty(R)&&_!=null&&!p.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Vt(o,c,R,null,p,_)}for(A in p)if(_=p[A],N=h[A],p.hasOwnProperty(A)&&(_!=null||N!=null))switch(A){case"value":ue=_;break;case"defaultValue":he=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(n(91));break;default:_!==N&&Vt(o,c,A,_,p,N)}sN(o,ue,he);return;case"option":for(var Me in h)if(ue=h[Me],h.hasOwnProperty(Me)&&ue!=null&&!p.hasOwnProperty(Me))switch(Me){case"selected":o.selected=!1;break;default:Vt(o,c,Me,null,p,ue)}for(G in p)if(ue=p[G],he=h[G],p.hasOwnProperty(G)&&ue!==he&&(ue!=null||he!=null))switch(G){case"selected":o.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Vt(o,c,G,ue,p,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in h)ue=h[Ve],h.hasOwnProperty(Ve)&&ue!=null&&!p.hasOwnProperty(Ve)&&Vt(o,c,Ve,null,p,ue);for(ce in p)if(ue=p[ce],he=h[ce],p.hasOwnProperty(ce)&&ue!==he&&(ue!=null||he!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,c));break;default:Vt(o,c,ce,ue,p,he)}return;default:if(G0(c)){for(var Gt in h)ue=h[Gt],h.hasOwnProperty(Gt)&&ue!==void 0&&!p.hasOwnProperty(Gt)&&Rx(o,c,Gt,void 0,p,ue);for(ye in p)ue=p[ye],he=h[ye],!p.hasOwnProperty(ye)||ue===he||ue===void 0&&he===void 0||Rx(o,c,ye,ue,p,he);return}}for(var ie in h)ue=h[ie],h.hasOwnProperty(ie)&&ue!=null&&!p.hasOwnProperty(ie)&&Vt(o,c,ie,null,p,ue);for(we in p)ue=p[we],he=h[we],!p.hasOwnProperty(we)||ue===he||ue==null&&he==null||Vt(o,c,we,ue,p,he)}function cC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oz(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var _=h[p],N=_.transferSize,A=_.initiatorType,R=_.duration;if(N&&R&&cC(A)){for(A=0,R=_.responseEnd,p+=1;p<h.length;p++){var G=h[p],ce=G.startTime;if(ce>R)break;var ye=G.transferSize,we=G.initiatorType;ye&&cC(we)&&(G=G.responseEnd,A+=ye*(G<R?1:(R-ce)/(G-ce)))}if(--p,c+=8*(N+A)/(_.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Ix=null,Lx=null;function Zh(o){return o.nodeType===9?o:o.ownerDocument}function uC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dC(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function $x(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Bx=null;function lz(){var o=window.event;return o&&o.type==="popstate"?o===Bx?!1:(Bx=o,!0):(Bx=null,!1)}var fC=typeof setTimeout=="function"?setTimeout:void 0,cz=typeof clearTimeout=="function"?clearTimeout:void 0,hC=typeof Promise=="function"?Promise:void 0,uz=typeof queueMicrotask=="function"?queueMicrotask:typeof hC<"u"?function(o){return hC.resolve(null).then(o).catch(dz)}:fC;function dz(o){setTimeout(function(){throw o})}function eo(o){return o==="head"}function mC(o,c){var h=c,p=0;do{var _=h.nextSibling;if(o.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"||h==="/&"){if(p===0){o.removeChild(_),kc(c);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")md(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,md(h);for(var N=h.firstChild;N;){var A=N.nextSibling,R=N.nodeName;N[lt]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&N.rel.toLowerCase()==="stylesheet"||h.removeChild(N),N=A}}else h==="body"&&md(o.ownerDocument.body);h=_}while(h);kc(c)}function gC(o,c){var h=o;o=0;do{var p=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=p}while(h)}function zx(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":zx(h),sn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function fz(o,c,h,p){for(;o.nodeType===1;){var _=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[lt])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var N=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=$a(o.nextSibling),o===null)break}return null}function hz(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=$a(o.nextSibling),o===null))return null;return o}function pC(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=$a(o.nextSibling),o===null))return null;return o}function Fx(o){return o.data==="$?"||o.data==="$~"}function Ux(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function mz(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var p=function(){c(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function $a(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var qx=null;function yC(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return $a(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function xC(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function vC(o,c,h){switch(c=Zh(h),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function md(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);sn(o)}var Ba=new Map,bC=new Set;function Jh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var di=Z.d;Z.d={f:gz,r:pz,D:yz,C:xz,L:vz,m:bz,X:jz,S:wz,M:_z};function gz(){var o=di.f(),c=Hh();return o||c}function pz(o){var c=Fn(o);c!==null&&c.tag===5&&c.type==="form"?Lk(c):di.r(o)}var _c=typeof document>"u"?null:document;function wC(o,c,h){var p=_c;if(p&&typeof c=="string"&&c){var _=Aa(c);_='link[rel="'+o+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),bC.has(_)||(bC.add(_),o={rel:o,crossOrigin:h,href:c},p.querySelector(_)===null&&(c=p.createElement("link"),un(c,"link",o),xr(c),p.head.appendChild(c)))}}function yz(o){di.D(o),wC("dns-prefetch",o,null)}function xz(o,c){di.C(o,c),wC("preconnect",o,c)}function vz(o,c,h){di.L(o,c,h);var p=_c;if(p&&o&&c){var _='link[rel="preload"][as="'+Aa(c)+'"]';c==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+Aa(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+Aa(h.imageSizes)+'"]')):_+='[href="'+Aa(o)+'"]';var N=_;switch(c){case"style":N=Sc(o);break;case"script":N=Nc(o)}Ba.has(N)||(o=g({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),Ba.set(N,o),p.querySelector(_)!==null||c==="style"&&p.querySelector(gd(N))||c==="script"&&p.querySelector(pd(N))||(c=p.createElement("link"),un(c,"link",o),xr(c),p.head.appendChild(c)))}}function bz(o,c){di.m(o,c);var h=_c;if(h&&o){var p=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+Aa(p)+'"][href="'+Aa(o)+'"]',N=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Nc(o)}if(!Ba.has(N)&&(o=g({rel:"modulepreload",href:o},c),Ba.set(N,o),h.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(pd(N)))return}p=h.createElement("link"),un(p,"link",o),xr(p),h.head.appendChild(p)}}}function wz(o,c,h){di.S(o,c,h);var p=_c;if(p&&o){var _=Ss(p).hoistableStyles,N=Sc(o);c=c||"default";var A=_.get(N);if(!A){var R={loading:0,preload:null};if(A=p.querySelector(gd(N)))R.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},h),(h=Ba.get(N))&&Hx(o,h);var G=A=p.createElement("link");xr(G),un(G,"link",o),G._p=new Promise(function(ce,ye){G.onload=ce,G.onerror=ye}),G.addEventListener("load",function(){R.loading|=1}),G.addEventListener("error",function(){R.loading|=2}),R.loading|=4,em(A,c,p)}A={type:"stylesheet",instance:A,count:1,state:R},_.set(N,A)}}}function jz(o,c){di.X(o,c);var h=_c;if(h&&o){var p=Ss(h).hoistableScripts,_=Nc(o),N=p.get(_);N||(N=h.querySelector(pd(_)),N||(o=g({src:o,async:!0},c),(c=Ba.get(_))&&Wx(o,c),N=h.createElement("script"),xr(N),un(N,"link",o),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(_,N))}}function _z(o,c){di.M(o,c);var h=_c;if(h&&o){var p=Ss(h).hoistableScripts,_=Nc(o),N=p.get(_);N||(N=h.querySelector(pd(_)),N||(o=g({src:o,async:!0,type:"module"},c),(c=Ba.get(_))&&Wx(o,c),N=h.createElement("script"),xr(N),un(N,"link",o),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(_,N))}}function jC(o,c,h,p){var _=(_=ge.current)?Jh(_):null;if(!_)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Sc(h.href),h=Ss(_).hoistableStyles,p=h.get(c),p||(p={type:"style",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Sc(h.href);var N=Ss(_).hoistableStyles,A=N.get(o);if(A||(_=_.ownerDocument||_,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,A),(N=_.querySelector(gd(o)))&&!N._p&&(A.instance=N,A.state.loading=5),Ba.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ba.set(o,h),N||Sz(_,o,h,A.state))),c&&p===null)throw Error(n(528,""));return A}if(c&&p!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Nc(h),h=Ss(_).hoistableScripts,p=h.get(c),p||(p={type:"script",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Sc(o){return'href="'+Aa(o)+'"'}function gd(o){return'link[rel="stylesheet"]['+o+"]"}function _C(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function Sz(o,c,h,p){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=o.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),un(c,"link",h),xr(c),o.head.appendChild(c))}function Nc(o){return'[src="'+Aa(o)+'"]'}function pd(o){return"script[async]"+o}function SC(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var p=o.querySelector('style[data-href~="'+Aa(h.href)+'"]');if(p)return c.instance=p,xr(p),p;var _=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),xr(p),un(p,"style",_),em(p,h.precedence,o),c.instance=p;case"stylesheet":_=Sc(h.href);var N=o.querySelector(gd(_));if(N)return c.state.loading|=4,c.instance=N,xr(N),N;p=_C(h),(_=Ba.get(_))&&Hx(p,_),N=(o.ownerDocument||o).createElement("link"),xr(N);var A=N;return A._p=new Promise(function(R,G){A.onload=R,A.onerror=G}),un(N,"link",p),c.state.loading|=4,em(N,h.precedence,o),c.instance=N;case"script":return N=Nc(h.src),(_=o.querySelector(pd(N)))?(c.instance=_,xr(_),_):(p=h,(_=Ba.get(N))&&(p=g({},h),Wx(p,_)),o=o.ownerDocument||o,_=o.createElement("script"),xr(_),un(_,"link",p),o.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,em(p,h.precedence,o));return c.instance}function em(o,c,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,N=_,A=0;A<p.length;A++){var R=p[A];if(R.dataset.precedence===c)N=R;else if(N!==_)break}N?N.parentNode.insertBefore(o,N.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function Hx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Wx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var tm=null;function NC(o,c,h){if(tm===null){var p=new Map,_=tm=new Map;_.set(h,p)}else _=tm,p=_.get(h),p||(p=new Map,_.set(h,p));if(p.has(o))return p;for(p.set(o,null),h=h.getElementsByTagName(o),_=0;_<h.length;_++){var N=h[_];if(!(N[lt]||N[Zr]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var A=N.getAttribute(c)||"";A=o+A;var R=p.get(A);R?R.push(N):p.set(A,[N])}}return p}function kC(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function Nz(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function CC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function kz(o,c,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=Sc(p.href),N=c.querySelector(gd(_));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=rm.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=N,xr(N);return}N=c.ownerDocument||c,p=_C(p),(_=Ba.get(_))&&Hx(p,_),N=N.createElement("link"),xr(N);var A=N;A._p=new Promise(function(R,G){A.onload=R,A.onerror=G}),un(N,"link",p),h.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=rm.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var Yx=0;function Cz(o,c){return o.stylesheets&&o.count===0&&am(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var p=setTimeout(function(){if(o.stylesheets&&am(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+c);0<o.imgBytes&&Yx===0&&(Yx=62500*oz());var _=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&am(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>Yx?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function rm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)am(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var nm=null;function am(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,nm=new Map,c.forEach(Tz,o),nm=null,rm.call(o))}function Tz(o,c){if(!(c.state.loading&4)){var h=nm.get(o);if(h)var p=h.get(null);else{h=new Map,nm.set(o,h);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<_.length;N++){var A=_[N];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(h.set(A.dataset.precedence,A),p=A)}p&&h.set(null,p)}_=c.instance,A=_.getAttribute("data-precedence"),N=h.get(A)||p,N===p&&h.set(null,_),h.set(A,_),this.count++,p=rm.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),N?N.parentNode.insertBefore(_,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),c.state.loading|=4}}var yd={$$typeof:C,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Ez(o,c,h,p,_,N,A,R,G){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=N,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function TC(o,c,h,p,_,N,A,R,G,ce,ye,we){return o=new Ez(o,c,h,A,G,ce,ye,we,R),c=1,N===!0&&(c|=24),N=sa(3,null,null,c),o.current=N,N.stateNode=o,c=Ny(),c.refCount++,o.pooledCache=c,c.refCount++,N.memoizedState={element:p,isDehydrated:h,cache:c},Ey(N),o}function EC(o){return o?(o=rc,o):rc}function OC(o,c,h,p,_,N){_=EC(_),p.context===null?p.context=_:p.pendingContext=_,p=qi(c),p.payload={element:h},N=N===void 0?null:N,N!==null&&(p.callback=N),h=Hi(o,p,c),h!==null&&(Kn(h,o,c),Gu(h,o,c))}function AC(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Kx(o,c){AC(o,c),(o=o.alternate)&&AC(o,c)}function DC(o){if(o.tag===13||o.tag===31){var c=qo(o,67108864);c!==null&&Kn(c,o,67108864),Kx(o,67108864)}}function MC(o){if(o.tag===13||o.tag===31){var c=ua();c=kn(c);var h=qo(o,c);h!==null&&Kn(h,o,c),Kx(o,c)}}var sm=!0;function Oz(o,c,h,p){var _=F.T;F.T=null;var N=Z.p;try{Z.p=2,Vx(o,c,h,p)}finally{Z.p=N,F.T=_}}function Az(o,c,h,p){var _=F.T;F.T=null;var N=Z.p;try{Z.p=8,Vx(o,c,h,p)}finally{Z.p=N,F.T=_}}function Vx(o,c,h,p){if(sm){var _=Gx(p);if(_===null)Px(o,c,p,im,h),RC(o,p);else if(Mz(_,o,c,h,p))p.stopPropagation();else if(RC(o,p),c&4&&-1<Dz.indexOf(o)){for(;_!==null;){var N=Fn(_);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var A=Se(N.pendingLanes);if(A!==0){var R=N;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var G=1<<31-xt(A);R.entanglements[1]|=G,A&=~G}Ts(N),(Pt&6)===0&&(Uh=ae()+500,dd(0))}}break;case 31:case 13:R=qo(N,2),R!==null&&Kn(R,N,2),Hh(),Kx(N,2)}if(N=Gx(p),N===null&&Px(o,c,p,im,h),N===_)break;_=N}_!==null&&p.stopPropagation()}else Px(o,c,p,null,h)}}function Gx(o){return o=X0(o),Qx(o)}var im=null;function Qx(o){if(im=null,o=tr(o),o!==null){var c=i(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=l(c),o!==null)return o;o=null}else if(h===31){if(o=u(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return im=o,null}function PC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(P()){case oe:return 2;case ve:return 8;case Te:case tt:return 32;case jt:return 268435456;default:return 32}default:return 32}}var Xx=!1,to=null,ro=null,no=null,xd=new Map,vd=new Map,ao=[],Dz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RC(o,c){switch(o){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":xd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(c.pointerId)}}function bd(o,c,h,p,_,N){return o===null||o.nativeEvent!==N?(o={blockedOn:c,domEventName:h,eventSystemFlags:p,nativeEvent:N,targetContainers:[_]},c!==null&&(c=Fn(c),c!==null&&DC(c)),o):(o.eventSystemFlags|=p,c=o.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),o)}function Mz(o,c,h,p,_){switch(c){case"focusin":return to=bd(to,o,c,h,p,_),!0;case"dragenter":return ro=bd(ro,o,c,h,p,_),!0;case"mouseover":return no=bd(no,o,c,h,p,_),!0;case"pointerover":var N=_.pointerId;return xd.set(N,bd(xd.get(N)||null,o,c,h,p,_)),!0;case"gotpointercapture":return N=_.pointerId,vd.set(N,bd(vd.get(N)||null,o,c,h,p,_)),!0}return!1}function IC(o){var c=tr(o.target);if(c!==null){var h=i(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){o.blockedOn=c,dt(o.priority,function(){MC(h)});return}}else if(c===31){if(c=u(h),c!==null){o.blockedOn=c,dt(o.priority,function(){MC(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function om(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Gx(o.nativeEvent);if(h===null){h=o.nativeEvent;var p=new h.constructor(h.type,h);Q0=p,h.target.dispatchEvent(p),Q0=null}else return c=Fn(h),c!==null&&DC(c),o.blockedOn=h,!1;c.shift()}return!0}function LC(o,c,h){om(o)&&h.delete(c)}function Pz(){Xx=!1,to!==null&&om(to)&&(to=null),ro!==null&&om(ro)&&(ro=null),no!==null&&om(no)&&(no=null),xd.forEach(LC),vd.forEach(LC)}function lm(o,c){o.blockedOn===c&&(o.blockedOn=null,Xx||(Xx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pz)))}var cm=null;function $C(o){cm!==o&&(cm=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cm===o&&(cm=null);for(var c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],_=o[c+2];if(typeof p!="function"){if(Qx(p||h)===null)continue;break}var N=Fn(h);N!==null&&(o.splice(c,3),c-=3,Gy(N,{pending:!0,data:_,method:h.method,action:p},p,_))}}))}function kc(o){function c(G){return lm(G,o)}to!==null&&lm(to,o),ro!==null&&lm(ro,o),no!==null&&lm(no,o),xd.forEach(c),vd.forEach(c);for(var h=0;h<ao.length;h++){var p=ao[h];p.blockedOn===o&&(p.blockedOn=null)}for(;0<ao.length&&(h=ao[0],h.blockedOn===null);)IC(h),h.blockedOn===null&&ao.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var _=h[p],N=h[p+1],A=_[Nt]||null;if(typeof N=="function")A||$C(h);else if(A){var R=null;if(N&&N.hasAttribute("formAction")){if(_=N,A=N[Nt]||null)R=A.formAction;else if(Qx(_)!==null)continue}else R=A.action;typeof R=="function"?h[p+1]=R:(h.splice(p,3),p-=3),$C(h)}}}function BC(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(A){return _=A})},focusReset:"manual",scroll:"manual"})}function c(){_!==null&&(_(),_=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),_!==null&&(_(),_=null)}}}function Zx(o){this._internalRoot=o}um.prototype.render=Zx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,p=ua();OC(h,p,o,c,null,null)},um.prototype.unmount=Zx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;OC(o.current,2,null,o,null,null),Hh(),c[Ys]=null}};function um(o){this._internalRoot=o}um.prototype.unstable_scheduleHydration=function(o){if(o){var c=zn();o={blockedOn:null,target:o,priority:c};for(var h=0;h<ao.length&&c!==0&&c<ao[h].priority;h++);ao.splice(h,0,o),h===0&&IC(o)}};var zC=t.version;if(zC!=="19.2.0")throw Error(n(527,zC,"19.2.0"));Z.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var Rz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{Yt=dm.inject(Rz),_t=dm}catch{}}return jd.createRoot=function(o,c){if(!a(o))throw Error(n(299));var h=!1,p="",_=Kk,N=Vk,A=Gk;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=TC(o,1,!1,null,null,h,p,null,_,N,A,BC),o[Ys]=c.current,Mx(o),new Zx(c)},jd.hydrateRoot=function(o,c,h){if(!a(o))throw Error(n(299));var p=!1,_="",N=Kk,A=Vk,R=Gk,G=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(A=h.onCaughtError),h.onRecoverableError!==void 0&&(R=h.onRecoverableError),h.formState!==void 0&&(G=h.formState)),c=TC(o,1,!0,c,h??null,p,_,G,N,A,R,BC),c.context=EC(null),h=c.current,p=ua(),p=kn(p),_=qi(p),_.callback=null,Hi(h,_,p),h=p,c.current.lanes=h,Bn(c,h),Ts(c),o[Ys]=c.current,Mx(o),new um(c)},jd.version="19.2.0",jd}var QC;function Wz(){if(QC)return tv.exports;QC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tv.exports=Hz(),tv.exports}var Yz=Wz(),uu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Vz=class{#e=Kz;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},hl=new Vz;function Gz(e){setTimeout(e,0)}var Sl=typeof window>"u"||"Deno"in globalThis;function On(){}function Qz(e,t){return typeof e=="function"?e(t):e}function vw(e){return typeof e=="number"&&e>=0&&e!==1/0}function bP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function po(e,t){return typeof e=="function"?e(t):e}function Wa(e,t){return typeof e=="function"?e(t):e}function XC(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==rj(l,t.options))return!1}else if(!Vd(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||i&&!i(t))}function ZC(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Nl(t.options.mutationKey)!==Nl(i))return!1}else if(!Vd(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function rj(e,t){return(t?.queryKeyHashFn||Nl)(e)}function Nl(e){return JSON.stringify(e,(t,r)=>bw(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Vd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Vd(e[r],t[r])):!1}var Xz=Object.prototype.hasOwnProperty;function wP(e,t){if(e===t)return e;const r=JC(e)&&JC(t);if(!r&&!(bw(e)&&bw(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),l=i.length,u=r?new Array(l):{};let d=0;for(let f=0;f<l;f++){const m=r?f:i[f],g=e[m],x=t[m];if(g===x){u[m]=g,(r?f<a:Xz.call(e,m))&&d++;continue}if(g===null||x===null||typeof g!="object"||typeof x!="object"){u[m]=x;continue}const v=wP(g,x);u[m]=v,v===g&&d++}return a===l&&d===a?e:u}function lg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function JC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bw(e){if(!eT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!eT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function eT(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zz(e){return new Promise(t=>{hl.setTimeout(t,e)})}function ww(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?wP(e,t):t}function Jz(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function eF(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var nj=Symbol();function jP(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===nj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _P(e,t){return typeof e=="function"?e(...t):!!e}var tF=class extends uu{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Sl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},aj=new tF;function jw(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var rF=Gz;function nF(){let e=[],t=0,r=u=>{u()},n=u=>{u()},a=rF;const i=u=>{t?e.push(u):a(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&a(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{i(()=>{u(...d)})},schedule:i,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{a=u}}}var Yr=nF(),aF=class extends uu{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Sl&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},cg=new aF;function sF(e){return Math.min(1e3*2**e,3e4)}function SP(e){return(e??"online")==="online"?cg.isOnline():!0}var _w=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function NP(e){let t=!1,r=0,n;const a=jw(),i=()=>a.status!=="pending",l=w=>{if(!i()){const b=new _w(w);x(b),e.onCancel?.(b)}},u=()=>{t=!0},d=()=>{t=!1},f=()=>aj.isFocused()&&(e.networkMode==="always"||cg.isOnline())&&e.canRun(),m=()=>SP(e.networkMode)&&e.canRun(),g=w=>{i()||(n?.(),a.resolve(w))},x=w=>{i()||(n?.(),a.reject(w))},v=()=>new Promise(w=>{n=b=>{(i()||f())&&w(b)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),j=()=>{if(i())return;let w;const b=r===0?e.initialPromise:void 0;try{w=b??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(g).catch(S=>{if(i())return;const k=e.retry??(Sl?0:3),C=e.retryDelay??sF,E=typeof C=="function"?C(r,S):C,O=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,S);if(t||!O){x(S);return}r++,e.onFail?.(r,S),Zz(E).then(()=>f()?void 0:v()).then(()=>{t?x(S):j()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n?.(),a),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?j():v().then(j),a)}}var kP=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vw(this.gcTime)&&(this.#e=hl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(hl.clearTimeout(this.#e),this.#e=void 0)}},iF=class extends kP{#e;#t;#r;#a;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=rT(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=rT(this.options);t.data!==void 0&&(this.setState(tT(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=ww(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Wa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>po(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!bP(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const u=jP(this.options,t),f=(()=>{const m={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(m),m})();return this.#o=!1,this.options.persister?this.options.persister(u,f,this):u(f)},l=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(u),u})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=NP({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:u=>{u instanceof _w&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const u=await this.#n.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof _w){if(u.silent)return this.#n.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#s({type:"error",error:u}),this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...CP(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...tT(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Yr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function CP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tT(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function rT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var oF=class extends uu{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=jw(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#i;#o;#s;#g;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),nT(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sw(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sw(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),t._defaulted&&!lg(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&aT(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||Wa(this.options.enabled,this.#t)!==Wa(t.enabled,this.#t)||po(this.options.staleTime,this.#t)!==po(t.staleTime,this.#t))&&this.#p();const a=this.#y();n&&(this.#t!==r||Wa(this.options.enabled,this.#t)!==Wa(t.enabled,this.#t)||a!==this.#l)&&this.#x(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return cF(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(On)),t}#p(){this.#b();const e=po(this.options.staleTime,this.#t);if(Sl||this.#a.isStale||!vw(e))return;const r=bP(this.#a.dataUpdatedAt,e)+1;this.#c=hl.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#w(),this.#l=e,!(Sl||Wa(this.options.enabled,this.#t)===!1||!vw(this.#l)||this.#l===0)&&(this.#u=hl.setInterval(()=>{(this.options.refetchIntervalInBackground||aj.isFocused())&&this.#d()},this.#l))}#v(){this.#p(),this.#x(this.#y())}#b(){this.#c&&(hl.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(hl.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,l=this.#i,d=e!==r?e.state:this.#r,{state:f}=e;let m={...f},g=!1,x;if(t._optimisticResults){const M=this.hasListeners(),I=!M&&nT(e,t),$=M&&aT(e,r,t,n);(I||$)&&(m={...m,...CP(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:j,status:w}=m;x=m.data;let b=!1;if(t.placeholderData!==void 0&&x===void 0&&w==="pending"){let M;a?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(M=a.data,b=!0):M=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,M!==void 0&&(w="success",x=ww(a?.data,M,t),g=!0)}if(t.select&&x!==void 0&&!b)if(a&&x===i?.data&&t.select===this.#g)x=this.#f;else try{this.#g=t.select,x=t.select(x),x=ww(a?.data,x,t),this.#f=x,this.#s=null}catch(M){this.#s=M}this.#s&&(v=this.#s,x=this.#f,j=Date.now(),w="error");const S=m.fetchStatus==="fetching",k=w==="pending",C=w==="error",E=k&&S,O=x!==void 0,T={status:w,fetchStatus:m.fetchStatus,isPending:k,isSuccess:w==="success",isError:C,isInitialLoading:E,isLoading:E,data:x,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:j,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:C&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&O,isStale:sj(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Wa(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=B=>{T.status==="error"?B.reject(T.error):T.data!==void 0&&B.resolve(T.data)},I=()=>{const B=this.#o=T.promise=jw();M(B)},$=this.#o;switch($.status){case"pending":e.queryHash===r.queryHash&&M($);break;case"fulfilled":(T.status==="error"||T.data!==$.value)&&I();break;case"rejected":(T.status!=="error"||T.error!==$.reason)&&I();break}}return T}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#h=this.#t),lg(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(l=>{const u=l;return this.#a[u]!==e[u]&&i.has(u)})};this.#_({listeners:r()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#_(e){Yr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function lF(e,t){return Wa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function nT(e,t){return lF(e,t)||e.state.data!==void 0&&Sw(e,t,t.refetchOnMount)}function Sw(e,t,r){if(Wa(t.enabled,e)!==!1&&po(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&sj(e,t)}return!1}function aT(e,t,r,n){return(e!==t||Wa(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&sj(e,r)}function sj(e,t){return Wa(t.enabled,e)!==!1&&e.isStaleByTime(po(t.staleTime,e))}function cF(e,t){return!lg(e.getCurrentResult(),t)}function sT(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let m=!1;const g=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=jP(t.options,t.fetchOptions),v=async(j,w,b)=>{if(m)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const k=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:w,direction:b?"backward":"forward",meta:t.options.meta};return g(D),D})(),C=await x(k),{maxPages:E}=t.options,O=b?eF:Jz;return{pages:O(j.pages,C,E),pageParams:O(j.pageParams,w,E)}};if(a&&i.length){const j=a==="backward",w=j?uF:iT,b={pages:i,pageParams:l},S=w(n,b);u=await v(b,S,j)}else{const j=e??i.length;do{const w=d===0?l[0]??n.initialPageParam:iT(n,u);if(d>0&&w==null)break;u=await v(u,w),d++}while(d<j)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function iT(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function uF(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var dF=class extends kP{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||TP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=NP({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const l=await this.options.onMutate?.(e,r);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Yr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function TP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fF=class extends uu{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new dF({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=fm(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=fm(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=fm(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=fm(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Yr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ZC(t,r))}findAll(e={}){return this.getAll().filter(t=>ZC(e,t))}notify(e){Yr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Yr.batch(()=>Promise.all(e.map(t=>t.continue().catch(On))))}};function fm(e){return e.options.scope?.id}var hF=class extends uu{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),lg(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Nl(r.mutationKey)!==Nl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??TP();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Yr.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},mF=class extends uu{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??rj(n,t);let i=this.get(a);return i||(i=new iF({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>XC(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>XC(e,r)):t}notify(e){Yr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Yr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gF=class{#e;#t;#r;#a;#n;#i;#o;#s;constructor(e={}){this.#e=e.queryCache||new mF,this.#t=e.mutationCache||new fF,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=aj.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=cg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(po(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,l=Qz(t,i);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Yr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Yr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Yr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Yr.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(On).catch(On)}invalidateQueries(e,t={}){return Yr.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Yr.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(On)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(On)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(po(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(On).catch(On)}fetchInfiniteQuery(e){return e.behavior=sT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(On).catch(On)}ensureInfiniteQueryData(e){return e.behavior=sT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return cg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(Nl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Vd(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(Nl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Vd(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nj&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},EP=y.createContext(void 0),mt=e=>{const t=y.useContext(EP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pF=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(EP.Provider,{value:e,children:t})),OP=y.createContext(!1),yF=()=>y.useContext(OP);OP.Provider;function xF(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vF=y.createContext(xF()),bF=()=>y.useContext(vF),wF=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},jF=e=>{y.useEffect(()=>{e.clearReset()},[e])},_F=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||_P(r,[e.error,n])),SF=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},NF=(e,t)=>e.isLoading&&e.isFetching&&!t,kF=(e,t)=>e?.suspense&&t.isPending,oT=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function CF(e,t,r){const n=yF(),a=bF(),i=mt(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",SF(l),wF(l,a),jF(a);const u=!i.getQueryCache().get(l.queryHash),[d]=y.useState(()=>new t(i,l)),f=d.getOptimisticResult(l),m=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(g=>{const x=m?d.subscribe(Yr.batchCalls(g)):On;return d.updateResult(),x},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),y.useEffect(()=>{d.setOptions(l)},[l,d]),kF(l,f))throw oT(l,d,a);if(_F({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!Sl&&NF(f,n)&&(u?oT(l,d,a):i.getQueryCache().get(l.queryHash)?.promise)?.catch(On).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?f:d.trackResult(f)}function Be(e,t){return CF(e,oF)}function wt(e,t){const r=mt(),[n]=y.useState(()=>new hF(r,e));y.useEffect(()=>{n.setOptions(e)},[n,e]);const a=y.useSyncExternalStore(y.useCallback(l=>n.subscribe(Yr.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=y.useCallback((l,u)=>{n.mutate(l,u).catch(On)},[n]);if(a.error&&_P(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var Nw=function(e,t){return Nw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Nw(e,t)};function AP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Va=function(){return Va=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Va.apply(this,arguments)};function To(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function DP(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(i=(a<3?l(i):a>3?l(t,r,i):l(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function MP(e,t){return function(r,n){t(r,n,e)}}function PP(e,t,r,n,a,i){function l(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),g,x=!1,v=r.length-1;v>=0;v--){var j={};for(var w in n)j[w]=w==="access"?{}:n[w];for(var w in n.access)j.access[w]=n.access[w];j.addInitializer=function(S){if(x)throw new TypeError("Cannot add initializers after decoration has completed");i.push(l(S||null))};var b=(0,r[v])(u==="accessor"?{get:m.get,set:m.set}:m[d],j);if(u==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(g=l(b.get))&&(m.get=g),(g=l(b.set))&&(m.set=g),(g=l(b.init))&&a.unshift(g)}else(g=l(b))&&(u==="field"?a.unshift(g):m[d]=g)}f&&Object.defineProperty(f,n.name,m),x=!0}function RP(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function IP(e){return typeof e=="symbol"?e:"".concat(e)}function LP(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function $P(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ze(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(m){try{f(n.next(m))}catch(g){l(g)}}function d(m){try{f(n.throw(m))}catch(g){l(g)}}function f(m){m.done?i(m.value):a(m.value).then(u,d)}f((n=n.apply(e,t||[])).next())})}function BP(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(r=0)),r;)try{if(n=1,a&&(i=f[0]&2?a.return:f[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,f[1])).done)return i;switch(a=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){r.label=f[1];break}if(f[0]===6&&r.label<i[1]){r.label=i[1],i=f;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(f);break}i[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],a=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var jp=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function zP(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jp(t,e,r)}function ug(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ij(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i}function FP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ij(arguments[t]));return e}function UP(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],l=0,u=i.length;l<u;l++,a++)n[a]=i[l];return n}function oj(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Gc(e){return this instanceof Gc?(this.v=e,this):new Gc(e)}function qP(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(v){return function(j){return Promise.resolve(j).then(v,g)}}function u(v,j){n[v]&&(a[v]=function(w){return new Promise(function(b,S){i.push([v,w,b,S])>1||d(v,w)})},j&&(a[v]=j(a[v])))}function d(v,j){try{f(n[v](j))}catch(w){x(i[0][3],w)}}function f(v){v.value instanceof Gc?Promise.resolve(v.value.v).then(m,g):x(i[0][2],v)}function m(v){d("next",v)}function g(v){d("throw",v)}function x(v,j){v(j),i.shift(),i.length&&d(i[0][0],i[0][1])}}function HP(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(l){return(r=!r)?{value:Gc(e[a](l)),done:!1}:i?i(l):l}:i}}function WP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ug=="function"?ug(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(l){return new Promise(function(u,d){l=e[i](l),a(u,d,l.done,l.value)})}}function a(i,l,u,d){Promise.resolve(d).then(function(f){i({value:f,done:u})},l)}}function YP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var TF=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},kw=function(e){return kw=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},kw(e)};function KP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=kw(e),n=0;n<r.length;n++)r[n]!=="default"&&jp(t,e,r[n]);return TF(t,e),t}function VP(e){return e&&e.__esModule?e:{default:e}}function GP(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function QP(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function XP(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ZP(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var EF=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function JP(e){function t(i){e.error=e.hasError?new EF(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(l){return t(l),a()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function e4(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,l){return n?t?".jsx":".js":a&&(!i||!l)?r:a+i+"."+l.toLowerCase()+"js"}):e}const OF={__extends:AP,__assign:Va,__rest:To,__decorate:DP,__param:MP,__esDecorate:PP,__runInitializers:RP,__propKey:IP,__setFunctionName:LP,__metadata:$P,__awaiter:ze,__generator:BP,__createBinding:jp,__exportStar:zP,__values:ug,__read:ij,__spread:FP,__spreadArrays:UP,__spreadArray:oj,__await:Gc,__asyncGenerator:qP,__asyncDelegator:HP,__asyncValues:WP,__makeTemplateObject:YP,__importStar:KP,__importDefault:VP,__classPrivateFieldGet:GP,__classPrivateFieldSet:QP,__classPrivateFieldIn:XP,__addDisposableResource:ZP,__disposeResources:JP,__rewriteRelativeImportExtension:e4},AF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ZP,get __assign(){return Va},__asyncDelegator:HP,__asyncGenerator:qP,__asyncValues:WP,__await:Gc,__awaiter:ze,__classPrivateFieldGet:GP,__classPrivateFieldIn:XP,__classPrivateFieldSet:QP,__createBinding:jp,__decorate:DP,__disposeResources:JP,__esDecorate:PP,__exportStar:zP,__extends:AP,__generator:BP,__importDefault:VP,__importStar:KP,__makeTemplateObject:YP,__metadata:$P,__param:MP,__propKey:IP,__read:ij,__rest:To,__rewriteRelativeImportExtension:e4,__runInitializers:RP,__setFunctionName:LP,__spread:FP,__spreadArray:oj,__spreadArrays:UP,__values:ug,default:OF},Symbol.toStringTag,{value:"Module"})),DF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class lj extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lT extends lj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cT extends lj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uT extends lj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cw||(Cw={}));class MF{constructor(t,{headers:r={},customFetch:n,region:a=Cw.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=DF(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ze(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:l,body:u,signal:d}=n;let f={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let x;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(f["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(f["Content-Type"]="application/json",x=JSON.stringify(u)):x=u;const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),i),body:x,signal:d}).catch(S=>{throw S.name==="AbortError"?S:new lT(S)}),j=v.headers.get("x-relay-error");if(j&&j==="true")throw new cT(v);if(!v.ok)throw new uT(v);let w=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),b;return w==="application/json"?b=yield v.json():w==="application/octet-stream"||w==="application/pdf"?b=yield v.blob():w==="text/event-stream"?b=v:w==="multipart/form-data"?b=yield v.formData():b=yield v.text(),{data:b,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new lT(i)}:{data:null,error:i,response:i instanceof uT||i instanceof cT?i.context:void 0}}})}}var pn={};const du=Lz(AF);var hm={},mm={},gm={},pm={},ym={},xm={},dT;function t4(){if(dT)return xm;dT=1,Object.defineProperty(xm,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return xm.default=e,xm}var fT;function r4(){if(fT)return ym;fT=1,Object.defineProperty(ym,"__esModule",{value:!0});const t=du.__importDefault(t4());class r{constructor(a){var i,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,g,x;let v=null,j=null,w=null,b=d.status,S=d.statusText;if(d.ok){if(this.method!=="HEAD"){const O=await d.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?j=O:j=JSON.parse(O))}const C=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),E=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");C&&E&&E.length>1&&(w=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(v={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,b=406,S="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const C=await d.text();try{v=JSON.parse(C),Array.isArray(v)&&d.status===404&&(j=[],v=null,b=200,S="OK")}catch{d.status===404&&C===""?(b=204,S="No Content"):v={message:C}}if(v&&this.isMaybeSingle&&(!((x=v?.details)===null||x===void 0)&&x.includes("0 rows"))&&(v=null,b=200,S="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:j,count:w,status:b,statusText:S}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,m,g;return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:`${(m=d?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=d?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(a,i)}returns(){return this}overrideTypes(){return this}}return ym.default=r,ym}var hT;function n4(){if(hT)return pm;hT=1,Object.defineProperty(pm,"__esModule",{value:!0});const t=du.__importDefault(r4());class r extends t.default{select(a){let i=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${a}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var m;const g=[a?"analyze":null,i?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${x}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return pm.default=r,pm}var mT;function cj(){if(mT)return gm;mT=1,Object.defineProperty(gm,"__esModule",{value:!0});const t=du.__importDefault(n4()),r=new RegExp("[,()]");class n extends t.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${f}fts${m}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return gm.default=n,gm}var gT;function a4(){if(gT)return mm;gT=1,Object.defineProperty(mm,"__esModule",{value:!0});const t=du.__importDefault(cj());class r{constructor(a,{headers:i={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(i),this.schema=l,this.fetch=u}select(a,i){const{head:l=!1,count:u}=i??{},d=l?"HEAD":"GET";let f=!1;const m=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:l=!0}={}){var u;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((x,v)=>x.concat(Object.keys(v)),[]);if(g.length>0){const x=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:i}={}){var l;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var i;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return mm.default=r,mm}var pT;function PF(){if(pT)return hm;pT=1,Object.defineProperty(hm,"__esModule",{value:!0});const e=du,t=e.__importDefault(a4()),r=e.__importDefault(cj());class n{constructor(i,{headers:l={},schema:u,fetch:d}={}){this.url=i,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(i){const l=new URL(`${this.url}/${i}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:u=!1,get:d=!1,count:f}={}){var m;let g;const x=new URL(`${this.url}/rpc/${i}`);let v;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{x.searchParams.append(w,b)})):(g="POST",v=l);const j=new Headers(this.headers);return f&&j.set("Prefer",`count=${f}`),new r.default({method:g,url:x,headers:j,schema:this.schemaName,body:v,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return hm.default=n,hm}var yT;function RF(){if(yT)return pn;yT=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.PostgrestError=pn.PostgrestBuilder=pn.PostgrestTransformBuilder=pn.PostgrestFilterBuilder=pn.PostgrestQueryBuilder=pn.PostgrestClient=void 0;const e=du,t=e.__importDefault(PF());pn.PostgrestClient=t.default;const r=e.__importDefault(a4());pn.PostgrestQueryBuilder=r.default;const n=e.__importDefault(cj());pn.PostgrestFilterBuilder=n.default;const a=e.__importDefault(n4());pn.PostgrestTransformBuilder=a.default;const i=e.__importDefault(r4());pn.PostgrestBuilder=i.default;const l=e.__importDefault(t4());return pn.PostgrestError=l.default,pn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:l.default},pn}var s4=RF();const i4=ts(s4),IF=xP({__proto__:null,default:i4},[s4]),{PostgrestClient:LF,PostgrestQueryBuilder:H1e,PostgrestFilterBuilder:W1e,PostgrestTransformBuilder:Y1e,PostgrestBuilder:K1e,PostgrestError:V1e}=i4||IF;class $F{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const BF="2.80.0",zF=`realtime-js/${BF}`,FF="1.0.0",Tw=1e4,UF=1e3,qF=100;var Fd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fd||(Fd={}));var qr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qr||(qr={}));var ds;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ds||(ds={}));var Ew;(function(e){e.websocket="websocket"})(Ew||(Ew={}));var dl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dl||(dl={}));class HF{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const f=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}let o4=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var rr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rr||(rr={}));const xT=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=WF(l,e,t,a),i),{}):{}},WF=(e,t,r,n)=>{const a=t.find(u=>u.name===e),i=a?.type,l=r[e];return i&&!n.includes(i)?l4(i,l):Ow(l)},l4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return GF(t,r)}switch(e){case rr.bool:return YF(t);case rr.float4:case rr.float8:case rr.int2:case rr.int4:case rr.int8:case rr.numeric:case rr.oid:return KF(t);case rr.json:case rr.jsonb:return VF(t);case rr.timestamp:return QF(t);case rr.abstime:case rr.date:case rr.daterange:case rr.int4range:case rr.int8range:case rr.money:case rr.reltime:case rr.text:case rr.time:case rr.timestamptz:case rr.timetz:case rr.tsrange:case rr.tstzrange:return Ow(t);default:return Ow(t)}},Ow=e=>e,YF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},KF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},GF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(u=>l4(t,u))}return e},QF=e=>typeof e=="string"?e.replace(" ","T"):e,c4=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class sv{constructor(t,r,n={},a=Tw){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vT||(vT={}));class Ud{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ud.syncState(this.state,a,i,l),this.pendingDiffs.forEach(d=>{this.state=Ud.syncDiff(this.state,d,i,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ud.syncDiff(this.state,a,i,l),u())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(i,(f,m)=>{l[f]||(d[f]=m)}),this.map(l,(f,m)=>{const g=i[f];if(g){const x=m.map(b=>b.presence_ref),v=g.map(b=>b.presence_ref),j=m.filter(b=>v.indexOf(b.presence_ref)<0),w=g.filter(b=>x.indexOf(b.presence_ref)<0);j.length>0&&(u[f]=j),w.length>0&&(d[f]=w)}else u[f]=m}),this.syncDiff(i,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var f;const m=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),m.length>0){const g=t[u].map(v=>v.presence_ref),x=m.filter(v=>g.indexOf(v.presence_ref)<0);t[u].unshift(...x)}n(u,m,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const m=d.map(g=>g.presence_ref);f=f.filter(g=>m.indexOf(g.presence_ref)<0),t[u]=f,a(u,f,d),f.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bT||(bT={}));var qd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qd||(qd={}));var hi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hi||(hi={}));class uj{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sv(this,ds.join,this.params,this.timeout),this.rejoinTimer=new o4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ds.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ud(this),this.broadcastEndpointURL=c4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qr.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[qd.PRESENCE]&&this.bindings[qd.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},x={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(hi.CHANNEL_ERROR,v)),this._onClose(()=>t?.(hi.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var j;if(this.socket.setAuth(),v===void 0){t?.(hi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(j=w?.length)!==null&&j!==void 0?j:0,S=[];for(let k=0;k<b;k++){const C=w[k],{filter:{event:E,schema:O,table:D,filter:T}}=C,M=v&&v[k];if(M&&M.event===E&&M.schema===O&&M.table===D&&M.filter===T)S.push(Object.assign(Object.assign({},C),{id:M.id}));else{this.unsubscribe(),this.state=qr.errored,t?.(hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(hi.SUBSCRIBED);return}}).receive("error",v=>{this.state=qr.errored,t?.(hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===qr.joined&&t===qd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,u,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ds.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new sv(this,ds.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new sv(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:m}=ds;if(n&&[u,d,f,m].indexOf(l)>=0&&n!==this._joinRef())return;let x=this._onMessage(l,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var j,w,b;return((j=v.filter)===null||j===void 0?void 0:j.event)==="*"||((b=(w=v.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(v=>v.callback(x,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var j,w,b,S,k,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const E=v.id,O=(j=v.filter)===null||j===void 0?void 0:j.event;return E&&((w=r.ids)===null||w===void 0?void 0:w.includes(E))&&(O==="*"||O?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(k=(S=v?.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return E==="*"||E===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:w,table:b,commit_timestamp:S,type:k,errors:C}=j;x=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:S,eventType:k,new:{},old:{},errors:C}),this._getPayloadRecords(j))}v.callback(x,n)})}_isClosed(){return this.state===qr.closed}_isJoined(){return this.state===qr.joined}_isJoining(){return this.state===qr.joining}_isLeaving(){return this.state===qr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&uj.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ds.close,{},t)}_onError(t){this._on(ds.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=xT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=xT(t.columns,t.old_record)),r}}const iv=()=>{},vm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XF=[1e3,2e3,5e3,1e4],ZF=1e4,JF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eU{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tw,this.transport=null,this.heartbeatIntervalMs=vm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iv,this.ref=0,this.reconnectTimer=null,this.logger=iv,this.conn=null,this.sendBuffer=[],this.serializer=new HF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ew.websocket}`,this.httpEndpoint=c4(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$F.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FF}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fd.connecting:return dl.Connecting;case Fd.open:return dl.Open;case Fd.closing:return dl.Closing;default:return dl.Closed}}isConnected(){return this.connectionState()===dl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new uj(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(UF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:l}=r,u=l?`(${l})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),i),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ds.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([JF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:zF};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(ds.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new o4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,l,u,d,f,m;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Tw,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:vm.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:iv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(g=>XF[g-1]||ZF),this.encode=(f=t?.encode)!==null&&f!==void 0?f:((g,x)=>x(JSON.stringify(g))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class dj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function mr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tU extends dj{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Aw extends dj{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const fj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rU=()=>Response,Dw=e=>{if(Array.isArray(e))return e.map(r=>Dw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Dw(n)}),t},nU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ov=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},aU=(e,t,r)=>ze(void 0,void 0,void 0,function*(){const n=yield rU();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,l=a?.statusCode||i+"";t(new tU(ov(a),i,l))}).catch(a=>{t(new Aw(ov(a),a))}):t(new Aw(ov(e),e))}),sU=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(nU(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function xf(e,t,r,n,a,i){return ze(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,sU(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>aU(d,u,n))})})}function Gd(e,t,r,n){return ze(this,void 0,void 0,function*(){return xf(e,"GET",t,r,n)})}function us(e,t,r,n,a){return ze(this,void 0,void 0,function*(){return xf(e,"POST",t,n,a,r)})}function Mw(e,t,r,n,a){return ze(this,void 0,void 0,function*(){return xf(e,"PUT",t,n,a,r)})}function iU(e,t,r,n){return ze(this,void 0,void 0,function*(){return xf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function hj(e,t,r,n,a){return ze(this,void 0,void 0,function*(){return xf(e,"DELETE",t,n,a,r)})}class oU{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ze(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mr(t))return{data:null,error:t};throw t}})}}var u4;class lU{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[u4]="BlobDownloadBuilder",this.promise=null}asStream(){return new oU(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ze(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mr(t))return{data:null,error:t};throw t}})}}u4=Symbol.toStringTag;const cU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uU{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=fj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ze(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},wT),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),d&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(d))):(i=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(r),m=this._getFinalPath(f),g=yield(t=="PUT"?Mw:us)(this.fetch,`${this.url}/object/${m}`,i,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:wT.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const g=yield Mw(this.fetch,u.toString(),d,{headers:m});return{data:{path:i,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(mr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ze(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield us(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),u=l.searchParams.get("token");if(!u)throw new dj("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mr(n))return{data:null,error:n};throw n}})}update(t,r,n){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ze(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ze(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield us(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ze(this,void 0,void 0,function*(){try{const a=yield us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mr(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),l=i?`?${i}`:"",u=this._getFinalPath(t),d=()=>Gd(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new lU(d,this.shouldThrowOnError)}info(t){return ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Gd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dw(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mr(n))return{data:null,error:n};throw n}})}exists(t){return ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iU(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mr(n)&&n instanceof Aw){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(t){return ze(this,void 0,void 0,function*(){try{return{data:yield hj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}})}list(t,r,n){return ze(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},cU),r),{prefix:t||""});return{data:yield us(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mr(a))return{data:null,error:a};throw a}})}listV2(t,r){return ze(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield us(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const d4="2.80.0",f4={"X-Client-Info":`storage-js/${d4}`};class dU{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},f4),r),this.fetch=fj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ze(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Gd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}})}getBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}})}createBucket(t){return ze(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mr(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ze(this,void 0,void 0,function*(){try{return{data:yield Mw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield hj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class fU{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},f4),r),this.fetch=fj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}})}listBuckets(t){return ze(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Gd(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield hj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mr(r))return{data:null,error:r};throw r}})}}const mj={"X-Client-Info":`storage-js/${d4}`,"Content-Type":"application/json"};class h4 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ya(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class lv extends h4{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hU extends h4{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var jT;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jT||(jT={}));const gj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_T=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gU=(e,t,r)=>ze(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(l=>{const u=l?.statusCode||l?.code||a+"";t(new lv(_T(l),a,u))}).catch(()=>{const l=a+"",u=i.statusText||`HTTP ${a} error`;t(new lv(u,a,l))});else{const l=a+"",u=i.statusText||`HTTP ${a} error`;t(new lv(u,a,l))}}else t(new hU(_T(e),e))}),pU=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(mU(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function yU(e,t,r,n,a,i){return ze(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,pU(t,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>gU(d,u,n))})})}function xa(e,t,r,n,a){return ze(this,void 0,void 0,function*(){return yU(e,"POST",t,n,a,r)})}class xU{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mj),r),this.fetch=gj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ze(this,void 0,void 0,function*(){try{return{data:(yield xa(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ze(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}})}listIndexes(t){return ze(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ze(this,void 0,void 0,function*(){try{return{data:(yield xa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}})}}class vU{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mj),r),this.fetch=gj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ze(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield xa(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}getVectors(t){return ze(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}listVectors(t){return ze(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield xa(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}queryVectors(t){return ze(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ze(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield xa(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}}class bU{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mj),r),this.fetch=gj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:(yield xa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}getBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}listBuckets(){return ze(this,arguments,void 0,function*(t={}){try{return{data:yield xa(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:(yield xa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}})}}class wU extends bU{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new jU(this.url,this.headers,t,this.fetch)}}class jU extends xU{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ze(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ze(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ze(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ze(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _U(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _U extends vU{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ze(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ze(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ze(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ze(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ze(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class SU extends dU{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new uU(this.url,this.headers,t,this.fetch)}get vectors(){return new wU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fU(this.url+"/iceberg",this.headers,this.fetch)}}const NU="2.80.0";let Rd="";typeof Deno<"u"?Rd="deno":typeof document<"u"?Rd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rd="react-native":Rd="node";const kU={"X-Client-Info":`supabase-js-${Rd}/${NU}`},CU={headers:kU},TU={schema:"public"},EU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OU={},AU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DU=()=>Headers,MU=(e,t,r)=>{const n=AU(r),a=DU();return async(i,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new a(l?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},l),{headers:f}))}};function PU(e){return e.endsWith("/")?e:e+"/"}function RU(e,t){var r,n;const{db:a,auth:i,realtime:l,global:u}=e,{db:d,auth:f,realtime:m,global:g}=t,x={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function IU(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PU(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const m4="2.80.0",Bc=30*1e3,Pw=3,cv=Pw*Bc,LU="http://localhost:9999",$U="supabase.auth.token",BU={"X-Client-Info":`gotrue-js/${m4}`},Rw="X-Supabase-Api-Version",g4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FU=600*1e3;class Qd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function He(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UU extends Qd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function qU(e){return He(e)&&e.name==="AuthApiError"}class fl extends Qd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Eo extends Qd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class os extends Eo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HU(e){return He(e)&&e.name==="AuthSessionMissingError"}class Cc extends Eo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bm extends Eo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wm extends Eo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WU(e){return He(e)&&e.name==="AuthImplicitGrantRedirectError"}class ST extends Eo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Iw extends Eo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function uv(e){return He(e)&&e.name==="AuthRetryableFetchError"}class NT extends Eo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Lw extends Eo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const dg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kT=` 	
\r=`.split(""),YU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kT.length;t+=1)e[kT[t].charCodeAt(0)]=-2;for(let t=0;t<dg.length;t+=1)e[dg[t].charCodeAt(0)]=t;return e})();function CT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dg[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dg[n]),t.queuedBits-=6}}function p4(e,t,r){const n=YU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function TT(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{GU(l,n,r)};for(let l=0;l<e.length;l+=1)p4(e.charCodeAt(l),a,i);return t.join("")}function KU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function VU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}KU(n,t)}}function GU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)p4(e.charCodeAt(a),r,n);return new Uint8Array(t)}function QU(e){const t=[];return VU(e,r=>t.push(r)),new Uint8Array(t)}function ml(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>CT(a,r,n)),CT(null,r,n),t.join("")}function XU(e){return Math.round(Date.now()/1e3)+e}function ZU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yn=()=>typeof window<"u"&&typeof document<"u",rl={tested:!1,writable:!1},y4=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rl.tested)return rl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rl.tested=!0,rl.writable=!0}catch{rl.tested=!0,rl.writable=!1}return rl.writable};function JU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const x4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},nl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},io=async(e,t)=>{await e.removeItem(t)};class _p{constructor(){this.promise=new _p.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}_p.promiseConstructor=Promise;function dv(e){const t=e.split(".");if(t.length!==3)throw new Lw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!zU.test(t[n]))throw new Lw("JWT not in base64url format");return{header:JSON.parse(TT(t[0])),payload:JSON.parse(TT(t[1])),signature:qc(t[2]),raw:{header:t[0],payload:t[1]}}}async function tq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rq(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function nq(e){return("0"+e.toString(16)).substr(-2)}function aq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,nq).join("")}async function sq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function iq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await sq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tc(e,t,r=!1){const n=aq();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await zc(e,`${t}-code-verifier`,a);const i=await iq(n);return[i,n===i?"plain":"s256"]}const oq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lq(e){const t=e.headers.get(Rw);if(!t||!t.match(oq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function cq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ec(e){if(!dq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fq(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function ET(e){return JSON.parse(JSON.stringify(e))}const il=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hq=[502,503,504];async function OT(e){var t;if(!eq(e))throw new Iw(il(e),0);if(hq.includes(e.status))throw new Iw(il(e),e.status);let r;try{r=await e.json()}catch(i){throw new fl(il(i),i)}let n;const a=lq(e);if(a&&a.getTime()>=g4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new NT(il(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new os}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new NT(il(r),e.status,r.weak_password.reasons);throw new UU(il(r),e.status||500,n)}const mq=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Xe(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[Rw]||(i[Rw]=g4["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await gq(e,t,r+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function gq(e,t,r,n,a,i){const l=mq(t,n,a,i);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new Iw(il(d),0)}if(u.ok||await OT(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await OT(d)}}function ls(e){var t;let r=null;xq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=XU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function AT(e){const t=ls(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function mo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pq(e){return{data:e,error:null}}function yq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,l=To(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function DT(e){return e}function xq(e){return e.access_token&&e.refresh_token&&e.expires_in}const hv=["global","local","others"];class vq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=x4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=hv[0]){if(hv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hv.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:mo})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=To(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:yq,redirectTo:r?.redirectTo})}catch(r){if(He(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mo})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:DT});if(m.error)throw m.error;const g=await m.json(),x=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(j.split(";")[1].split("=")[1]);f[`${b}Page`]=w}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(He(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ec(t);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mo})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ec(t);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:mo})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ec(t);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:mo})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ec(t.userId);try{const{data:r,error:n}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ec(t.userId),Ec(t.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:DT});if(m.error)throw m.error;const g=await m.json(),x=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(j.split(";")[1].split("=")[1]);f[`${b}Page`]=w}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(He(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}}function MT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Oc={debug:!!(globalThis&&y4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bq extends v4{}async function wq(e,t,r){Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function b4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _q(e){return parseInt(e,16)}function Sq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Nq(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:m,uri:g,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=b4(e.address),j=m?`${m}://${n}`:n,w=e.statement?`${e.statement}
`:"",b=`${j} wants you to sign in with your Ethereum account:
${v}

${w}`;let S=`URI: ${g}
Version: ${x}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(S+=`
Expiration Time: ${a.toISOString()}`),u&&(S+=`
Not Before: ${u.toISOString()}`),d&&(S+=`
Request ID: ${d}`),f){let k=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);k+=`
- ${C}`}S+=k}return`${b}
${S}`}class Ir extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class fg extends Ir{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function kq({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ir({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ir({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ir({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ir({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ir({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ir({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ir({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ir({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(w4(l)){if(i.rp.id!==l)return new Ir({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ir({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Cq({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ir({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ir({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(w4(n)){if(r.rpId!==n)return new Ir({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Tq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Eq=new Tq;function Oq(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=To(e,["challenge","user","excludeCredentials"]),i=qc(t).buffer,l=Object.assign(Object.assign({},r),{id:qc(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:i,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:qc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Aq(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=To(e,["challenge","allowCredentials"]),a=qc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];i.allowCredentials[l]=Object.assign(Object.assign({},u),{id:qc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function Dq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ml(new Uint8Array(e.response.attestationObject)),clientDataJSON:ml(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ml(new Uint8Array(a.authenticatorData)),clientDataJSON:ml(new Uint8Array(a.clientDataJSON)),signature:ml(new Uint8Array(a.signature)),userHandle:a.userHandle?ml(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function w4(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function PT(){var e,t;return!!(yn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Pq(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fg("Browser returned unexpected credential type",t)}:{data:null,error:new fg("Empty credential response",t)}}catch(t){return{data:null,error:kq({error:t,options:e})}}}async function Rq(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fg("Browser returned unexpected credential type",t)}:{data:null,error:new fg("Empty credential response",t)}}catch(t){return{data:null,error:Cq({error:t,options:e})}}}const Iq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Lq={userVerification:"preferred",hints:["security-key"]};function hg(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const l=a[i];if(l!==void 0)if(Array.isArray(l))n[i]=l;else if(r(l))n[i]=l;else if(t(l)){const u=n[i];t(u)?n[i]=hg(u,l):n[i]=hg(l)}else n[i]=l}return n}function $q(e,t){return hg(Iq,e,t||{})}function Bq(e,t){return hg(Lq,e,t||{})}class zq{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const d=a??Eq.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=$q(l.webauthn.credential_options.publicKey,i?.create),{data:m,error:g}=await Pq({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const f=Bq(l.webauthn.credential_options.publicKey,i?.request),{data:m,error:g}=await Rq(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return He(l)?{data:null,error:l}:{data:null,error:new fl("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Qd("rpId is required for WebAuthn authentication")};try{if(!PT())return{data:null,error:new fl("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return He(l)?{data:null,error:l}:{data:null,error:new fl("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Qd("rpId is required for WebAuthn registration")};try{if(!PT())return{data:null,error:new fl("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return He(l)?{data:null,error:l}:{data:null,error:new fl("Unexpected error in register",l)}}}}jq();const Fq={url:LU,storageKey:$U,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function RT(e,t,r){return await r()}const Ac={};class Xd{get jwks(){var t,r;return(r=(t=Ac[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ac[this.storageKey]=Object.assign(Object.assign({},Ac[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ac[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ac[this.storageKey]=Object.assign(Object.assign({},Ac[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Fq),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Xd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Xd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&yn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new vq({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=x4(i.fetch),this.lock=i.lock||RT,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:yn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=wq:this.lock=RT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:y4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=MT(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=MT(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${m4}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(yn()&&(r=JU(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),yn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),WU(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return He(r)?this._returnResult({error:r}):this._returnResult({error:new fl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ls}),{data:l,error:u}=i;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(He(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:m,password:g,options:x}=t;let v=null,j=null;this.flowType==="pkce"&&([v,j]=await Tc(this.storage,this.storageKey)),i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:m,password:g,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:v,code_challenge_method:j},xform:ls})}else if("phone"in t){const{phone:m,password:g,options:x}=t;i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=x?.data)!==null&&n!==void 0?n:{},channel:(a=x?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:ls})}else throw new bm("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(He(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:u}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:AT})}else if("phone"in t){const{phone:i,password:l,options:u}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:AT})}else throw new bm("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Cc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,l,u,d,f,m,g,x;let v,j;if("message"in t)v=t.message,j=t.signature;else{const{chain:w,wallet:b,statement:S,options:k}=t;let C;if(yn())if(typeof b=="object")C=b;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")C=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=b}const E=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),O=await C.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=b4(O[0]);let T=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const I=await C.request({method:"eth_chainId"});T=_q(I)}const M={domain:E.host,address:D,statement:S,uri:E.href,version:"1",chainId:T,nonce:(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=k?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=k?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=Nq(M),j=await C.request({method:"personal_sign",params:[Sq(v),D]})}try{const{data:w,error:b}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:j},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ls});if(b)throw b;if(!w||!w.session||!w.user){const S=new Cc;return this._returnResult({data:{user:null,session:null},error:S})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(He(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,a,i,l,u,d,f,m,g,x,v;let j,w;if("message"in t)j=t.message,w=t.signature;else{const{chain:b,wallet:S,statement:k,options:C}=t;let E;if(yn())if(typeof S=="object")E=S;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))E=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=S}const O=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const D=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),k?{statement:k}:null));let T;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")T=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)T=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)j=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${O.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(a=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=C?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((g=(m=C?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...C.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const D=await E.signMessage(new TextEncoder().encode(j),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=D}}try{const{data:b,error:S}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:ml(w)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ls});if(S)throw S;if(!b||!b.session||!b.user){const k=new Cc;return this._returnResult({data:{user:null,session:null},error:k})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:S})}catch(b){if(He(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await nl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ls});if(await io(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const u=new Cc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(He(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=t,u=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ls}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Cc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Tc(this.storage,this.storageKey));const{error:g}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:m}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new bm("You must provide either an email or phone number.")}catch(u){if(He(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ls});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(He(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Tc(this.storage,this.storageKey));const u=await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:pq});return this._returnResult(u)}catch(i){if(He(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new os;const{error:a}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(He(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:l}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:l,error:u}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new bm("You must provide either an email or phone number and a type")}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await nl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<cv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await nl(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=fv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=fq(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:mo}):await this._useSession(async r=>{var n,a,i;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new os}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:mo})})}catch(r){if(He(r))return HU(r)&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new os;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Tc(this.storage,this.storageKey));const{data:f,error:m}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:mo});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(He(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new os;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=dv(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(He(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new os;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!yn())throw new wm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ST("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ST("No code detected.");const{data:k,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!i||!u||!l||!f)throw new wm("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(u);let x=m+g;d&&(x=parseInt(d));const v=x-m;v*1e3<=Bc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const j=x-g;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,m);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const S={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:g,expires_at:x,refresh_token:l,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:t.type},error:null})}catch(n){if(He(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await nl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(qU(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=ZU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Tc(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(He(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,u,d,f,m;const{data:g,error:x}=i;if(x)throw x;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return yn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(He(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:f,nonce:m}=t,g=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ls}),{data:x,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Cc}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:v}))}catch(a){if(He(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await rq(async a=>(a>0&&await tq(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ls})),(a,i)=>{const l=200*Math.pow(2,a);return i&&uv(i)&&Date.now()+l-n<Bc})}catch(n){if(this._debug(r,"error",n),He(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),yn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await nl(this.storage,this.storageKey);if(a&&this.userStorage){let l=await nl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await zc(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:fv()}else if(a&&!a.user&&!a.user){const l=await nl(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await io(this.storage,this.storageKey+"-user"),await zc(this.storage,this.storageKey,a)):a.user=fv()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<cv;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${cv}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),uv(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new os;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new _p;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new os;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),He(i)){const l={data:null,error:i};return uv(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(l),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=ET(a);await zc(this.storage,this.storageKey,i)}else{const a=ET(r);await zc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await io(this.storage,this.storageKey),await io(this.storage,this.storageKey+"-code-verifier"),await io(this.storage,this.storageKey+"-user"),this.userStorage&&await io(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Bc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Bc}ms, refresh threshold is ${Pw} ticks`),a<=Pw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof v4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Tc(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Dq(t.webauthn.credential_response):Mq(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Oq(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Aq(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=dv(n.access_token);let l=null;i.aal&&(l=i.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=i.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new os})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new os});const l=await Xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&yn()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(He(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new os});const l=await Xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&yn()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(He(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+FU>a)return n;const{data:i,error:l}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:j}=await this.getSession();if(j||!v.session)return this._returnResult({data:null,error:j});n=v.session.access_token}const{header:a,payload:i,signature:l,raw:{header:u,payload:d}}=dv(n);r?.allowExpired||cq(i.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:l},error:null}}const m=uq(a.alg),g=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,QU(`${u}.${d}`)))throw new Lw("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(He(n))return this._returnResult({data:null,error:n});throw n}}}Xd.nextInstanceID={};const Uq=Xd;class qq extends Uq{constructor(t){super(t)}}class Hq{constructor(t,r,n){var a,i,l;this.supabaseUrl=t,this.supabaseKey=r;const u=IU(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:TU,realtime:OU,auth:Object.assign(Object.assign({},EU),{storageKey:d}),global:CU},m=RU(n??{},f);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=MU(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new LF(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new SU(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new MF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:l,flowType:u,lock:d,debug:f,throwOnError:m},g,x){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qq({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:u,lock:d,debug:f,throwOnError:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new eU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wq=(e,t,r)=>new Hq(e,t,r);function Yq(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Yq()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Kq="https://rnlijzolilwweptwbakv.supabase.co",Vq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJubGlqem9saWx3d2VwdHdiYWt2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0NDcxMzAsImV4cCI6MjA3NDAyMzEzMH0.QADxoe2uCEKFRXdfomMQs9RQGPlh-fI_VnrRnbmcJ94",X=Wq(Kq,Vq),Gq=()=>{const[e,t]=y.useState(()=>typeof window<"u"?window.innerWidth<768:!1);return y.useEffect(()=>{const r=()=>{t(window.innerWidth<768)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e};const Qq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),IT=e=>{const t=Xq(e);return t.charAt(0).toUpperCase()+t.slice(1)},j4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Zq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Jq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const e9=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...u},d)=>y.createElement("svg",{ref:d,...Jq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:j4("lucide",a),...!i&&!Zq(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>y.createElement(f,m)),...Array.isArray(i)?i:[i]]));const Le=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(e9,{ref:i,iconNode:t,className:j4(`lucide-${Qq(IT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=IT(e),r};const t9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],r9=Le("activity",t9);const n9=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],a9=Le("archive",n9);const s9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],i9=Le("arrow-left",s9);const o9=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],l9=Le("bold",o9);const c9=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],jm=Le("bookmark-plus",c9);const u9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],pj=Le("briefcase",u9);const d9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$r=Le("calendar",d9);const f9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_4=Le("chart-column",f9);const h9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sp=Le("check",h9);const m9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Oo=Le("chevron-down",m9);const g9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Np=Le("chevron-left",g9);const p9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fs=Le("chevron-right",p9);const y9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yj=Le("chevron-up",y9);const x9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bo=Le("circle-alert",x9);const v9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xj=Le("circle-check-big",v9);const b9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qc=Le("circle-check",b9);const w9=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],S4=Le("circle-play",w9);const j9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_9=Le("circle-x",j9);const S9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mg=Le("circle",S9);const N9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ta=Le("clock",N9);const k9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],LT=Le("credit-card",k9);const C9=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vj=Le("dollar-sign",C9);const T9=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],$T=Le("ellipsis",T9);const E9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],N4=Le("external-link",E9);const O9=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],A9=Le("flag",O9);const D9=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],bj=Le("flame",D9);const M9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],P9=Le("funnel",M9);const R9=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],I9=Le("grip-vertical",R9);const L9=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$9=Le("heart",L9);const B9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],BT=Le("history",B9);const z9=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],F9=Le("house",z9);const U9=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],q9=Le("landmark",U9);const H9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],k4=Le("link",H9);const W9=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Y9=Le("list-ordered",W9);const K9=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],zT=Le("list-todo",K9);const V9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],G9=Le("list",V9);const Q9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$w=Le("loader-circle",Q9);const X9=[["path",{d:"M5 12h14",key:"1ays0h"}]],C4=Le("minus",X9);const Z9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],J9=Le("palette",Z9);const eH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kp=Le("pen",eH);const tH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Na=Le("plus",tH);const rH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nH=Le("refresh-cw",rH);const aH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],T4=Le("rotate-ccw",aH);const sH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cp=Le("save",sH);const iH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],E4=Le("search",iH);const oH=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lH=Le("settings",oH);const cH=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],uH=Le("square-pen",cH);const dH=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yo=Le("star",dH);const fH=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],hH=Le("strikethrough",fH);const mH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kl=Le("target",mH);const gH=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],pH=Le("timer",gH);const yH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qa=Le("trash-2",yH);const xH=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],vf=Le("trending-down",xH);const vH=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ea=Le("trending-up",vH);const bH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xa=Le("triangle-alert",bH);const wH=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],jH=Le("trophy",wH);const _H=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],SH=Le("underline",_H);const NH=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],kH=Le("video",NH);const CH=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],FT=Le("wallet",CH);const TH=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],EH=Le("workflow",TH);const OH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qt=Le("x",OH);const AH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wj=Le("zap",AH),mv=[{id:"Health",name:"Health",color:"#10b981"},{id:"Finance",name:"Finance",color:"#3b82f6"},{id:"Life",name:"Life",color:"#a855f7"},{id:"Golf",name:"Golf",color:"#eab308"}],UT=({selectedAreas:e=[],onChange:t,className:r=""})=>{const[n,a]=y.useState(!1),i=y.useRef(null),{data:l=[]}=Be({queryKey:["businesses"],queryFn:async()=>{const{data:v,error:j}=await X.from("businesses").select("id, name, color").order("name");if(j)throw j;return v||[]}});y.useEffect(()=>{const v=j=>{i.current&&!i.current.contains(j.target)&&a(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const u=[...l.map(v=>({id:v.id,name:v.name,color:v.color,type:"business"})),...mv.map(v=>({id:v.id,name:v.name,color:v.color,type:"life"}))],d=v=>{e.includes(v)?t(e.filter(j=>j!==v)):t([...e,v])},f=v=>{t(e.filter(j=>j!==v))},m=v=>u.find(j=>j.id===v),g=e.filter(v=>l.some(j=>j.id===v)),x=e.filter(v=>mv.some(j=>j.id===v));return s.jsxs("div",{className:`relative ${r}`,ref:i,children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Dashboard Areas"}),s.jsx("div",{className:"min-h-[42px] px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus-within:ring-2 focus-within:ring-blue-500",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.length===0?s.jsx("span",{className:"text-gray-500 text-sm",children:"Select dashboard areas..."}):s.jsxs(s.Fragment,{children:[g.map(v=>{const j=m(v);return j?s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium border transition-colors",style:{backgroundColor:`${j.color}20`,borderColor:j.color,color:j.color},children:[j.name,s.jsx("button",{type:"button",onClick:()=>f(v),className:"hover:bg-black hover:bg-opacity-10 rounded-full p-0.5 transition-colors",children:s.jsx(qt,{className:"w-3 h-3"})})]},v):null}),g.length>0&&x.length>0&&s.jsx("div",{className:"w-px bg-gray-700 self-stretch mx-1"}),x.map(v=>{const j=m(v);return j?s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium border transition-colors",style:{backgroundColor:`${j.color}20`,borderColor:j.color,color:j.color},children:[j.name,s.jsx("button",{type:"button",onClick:()=>f(v),className:"hover:bg-black hover:bg-opacity-10 rounded-full p-0.5 transition-colors",children:s.jsx(qt,{className:"w-3 h-3"})})]},v):null})]}),s.jsx("button",{type:"button",onClick:()=>a(!n),className:"ml-auto p-1 text-gray-400 hover:text-gray-300 transition-colors",children:s.jsx(Oo,{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`})})]})}),n&&s.jsxs("div",{className:"absolute z-10 mt-2 w-full bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-h-80 overflow-y-auto",children:[l.length>0&&s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Businesses"}),s.jsx("div",{className:"space-y-1",children:l.map(v=>s.jsxs("button",{type:"button",onClick:()=>d(v.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-md hover:bg-gray-700 transition-colors text-left",children:[s.jsx("input",{type:"checkbox",checked:e.includes(v.id),onChange:()=>{},className:"rounded border-gray-600 bg-gray-900",style:{accentColor:v.color}}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"text-sm text-gray-200",children:v.name})]},v.id))})]}),l.length>0&&s.jsx("div",{className:"border-t border-gray-700 my-2"}),s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Life Areas"}),s.jsx("div",{className:"space-y-1",children:mv.map(v=>s.jsxs("button",{type:"button",onClick:()=>d(v.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-md hover:bg-gray-700 transition-colors text-left",children:[s.jsx("input",{type:"checkbox",checked:e.includes(v.id),onChange:()=>{},className:"rounded border-gray-600 bg-gray-900",style:{accentColor:v.color}}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"text-sm text-gray-200",children:v.name})]},v.id))})]})]})]})},qT=({value:e,onChange:t,className:r="",readonly:n=!1})=>{const a=l=>{const u=l.target.value;if(u==="")t(null);else{const d=parseInt(u,10);d>=1&&d<=10&&t(d)}},i=l=>l?l>=8?"text-yellow-400":l>=6?"text-yellow-500":l>=4?"text-orange-500":"text-gray-400":"text-gray-500";return n?s.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[s.jsx(yo,{className:`w-5 h-5 ${i(e)} fill-current`}),s.jsx("span",{className:"text-sm font-medium text-gray-200",children:e?`${e}/10`:"Not rated"})]}):s.jsxs("div",{className:r,children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Value Rating (1-10)"}),s.jsx("input",{type:"number",min:"1",max:"10",value:e||"",onChange:a,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1-10"})]})},HT=({selectedAgent:e,onChange:t})=>{const[r,n]=y.useState([]),[a,i]=y.useState(!0),[l,u]=y.useState(!1),[d,f]=y.useState(""),[m,g]=y.useState(""),[x,v]=y.useState(!1);y.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:{session:b}}=await X.auth.getSession();if(!b)return;const{data:S,error:k}=await X.from("agents").select("id, name, description").eq("user_id",b.user.id).order("name");if(k)throw k;n(S||[])}catch(b){console.error("Error fetching agents:",b)}finally{i(!1)}},w=async()=>{if(!d.trim()){alert("Please enter an agent name");return}v(!0);try{const{data:{session:b}}=await X.auth.getSession();if(!b)return;const{data:S,error:k}=await X.from("agents").insert([{user_id:b.user.id,name:d.trim(),description:m.trim()||null}]).select();if(k)throw k;const C=S[0];n([...r,C].sort((E,O)=>E.name.localeCompare(O.name))),t(C.name),f(""),g(""),u(!1)}catch(b){console.error("Error adding agent:",b),alert("Failed to add agent. Please try again.")}finally{v(!1)}};return a?s.jsx("div",{className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-gray-400",children:"Loading agents..."}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:e||"",onChange:b=>t(b.target.value),className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select an agent..."}),r.map(b=>s.jsx("option",{value:b.name,children:b.name},b.id))]}),s.jsx("button",{onClick:()=>u(!l),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",title:"Add new agent",children:s.jsx(Na,{className:"w-4 h-4"})})]}),l&&s.jsxs("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded-lg space-y-2",children:[s.jsx("input",{type:"text",value:d,onChange:b=>f(b.target.value),placeholder:"Agent name",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:b=>b.key==="Enter"&&w()}),s.jsx("textarea",{value:m,onChange:b=>g(b.target.value),placeholder:"Description (optional)",rows:2,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:w,disabled:x||!d.trim(),className:"flex-1 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Adding...":"Add Agent"}),s.jsx("button",{onClick:()=>{u(!1),f(""),g("")},className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:s.jsx(qt,{className:"w-4 h-4"})})]})]})]})},gv={AI:"#1e40af",investing:"#10b981","Full Stack AI":"#22c55e","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Health:"#10b981","Claude Code":"#f97316",Quotes:"#ec4899"},DH=e=>{if(gv[e])return gv[e];const t=e.toLowerCase();for(const[r,n]of Object.entries(gv))if(r.toLowerCase()===t)return n;return"#6b7280"},MH=({content:e,onClick:t,onToggleFavorite:r,onEdit:n,onDelete:a,getSourceIcon:i,getPriorityColor:l})=>{const[u,d]=y.useState(!1),f=e.ai_summary&&e.ai_summary.trim().length>0;return s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 overflow-hidden hover:shadow-xl hover:border-gray-600 transition-all",children:[s.jsxs("div",{className:"cursor-pointer hover:bg-gray-750 transition-colors",onClick:()=>d(!u),children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:[s.jsx("span",{className:"text-6xl opacity-20",children:i(e.source)}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("button",{onClick:m=>{m.stopPropagation(),r(e.id,e.is_favorite)},className:"p-1.5 bg-black bg-opacity-50 rounded-full hover:bg-opacity-70 transition-all",children:s.jsx(yo,{className:`w-5 h-5 ${e.is_favorite?"text-yellow-500 fill-yellow-500":"text-white"}`})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx("span",{className:"text-xl mt-0.5",children:i(e.source)}),s.jsx("h3",{className:"text-base font-semibold text-white line-clamp-2 flex-1",children:e.title}),s.jsx("div",{className:"flex-shrink-0",children:u?s.jsx(yj,{className:"w-5 h-5 text-gray-400"}):s.jsx(Oo,{className:"w-5 h-5 text-gray-400"})})]}),e.creator&&s.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["by ",e.creator]}),f&&s.jsx("div",{className:"mb-3",children:s.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 italic",children:e.ai_summary})}),!f&&e.notes&&s.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:e.notes}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-3",children:[e.time_estimate&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs bg-gray-700 text-gray-300",children:[s.jsx(ta,{className:"w-3 h-3"}),"Time: ",e.time_estimate]}),s.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${l(e.priority)}`,children:e.priority})]}),e.tags&&e.tags.length>0&&s.jsx("div",{className:"flex items-center gap-1.5 flex-wrap mb-3",children:e.tags.map((m,g)=>{const x=DH(m);return s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:x},children:m},g)})})]})]}),u&&s.jsxs("div",{className:"border-t border-gray-700 bg-gray-900 bg-opacity-50 px-4 py-4 space-y-3",children:[f&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"Full Summary"}),s.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:e.ai_summary})]}),e.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"Notes"}),s.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:e.notes})]}),e.dashboard_areas&&e.dashboard_areas.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 mb-2",children:"Dashboard Areas"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.dashboard_areas.map((m,g)=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-700 text-xs font-medium text-gray-300",children:m},g))})]}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1 pt-2 border-t border-gray-700",children:[e.folder&&s.jsxs("p",{children:["Folder: ",s.jsx("span",{className:"text-gray-400",children:e.folder})]}),s.jsxs("p",{children:["Added: ",s.jsx("span",{className:"text-gray-400",children:new Date(e.saved_at).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex gap-2 pt-3",children:[s.jsx("button",{onClick:m=>{m.stopPropagation(),t()},className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors",children:"Full Details"}),n&&s.jsx("button",{onClick:m=>{m.stopPropagation(),n()},className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",title:"Edit",children:s.jsx(kp,{className:"w-4 h-4"})}),a&&s.jsx("button",{onClick:m=>{m.stopPropagation(),a()},className:"px-3 py-2 bg-red-900 hover:bg-red-800 text-white rounded transition-colors",title:"Delete",children:s.jsx(Qa,{className:"w-4 h-4"})}),s.jsx("button",{onClick:m=>{m.stopPropagation(),r(e.id,e.is_favorite)},className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",title:e.is_favorite?"Remove favorite":"Add favorite",children:s.jsx(yo,{className:`w-4 h-4 ${e.is_favorite?"text-yellow-500 fill-yellow-500":"text-gray-300"}`})})]})]})]})};function jj(e){return e?e.replace(/-/g," ").trim().split(/\s+/).map(a=>{if(!a)return"";const i=a.toUpperCase();return["AI","API","UI","UX","CEO","CTO","AWS","GCP","SQL","HTTP","HTTPS","REST","JSON","XML","HTML","CSS","JS","TS"].includes(i)?i:a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()}).join(" "):""}function PH(e){return e.map(jj).filter(Boolean)}function Zd(e){return e.split(",").map(t=>jj(t)).filter(Boolean)}const pv={AI:"#1e40af",investing:"#10b981","Full Stack AI":"#22c55e","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Health:"#10b981","Claude Code":"#f97316",Quotes:"#ec4899"},RH=e=>{if(pv[e])return pv[e];const t=e.toLowerCase();for(const[a,i]of Object.entries(pv))if(a.toLowerCase()===t)return i;let r=0;for(let a=0;a<e.length;a++)r=e.charCodeAt(a)+((r<<5)-r);const n=["#8b5cf6","#10b981","#f59e0b","#3b82f6","#ec4899","#14b8a6","#f97316","#06b6d4","#84cc16","#6366f1"];return n[Math.abs(r)%n.length]},IH=({contents:e,onToggleFavorite:t,onEdit:r,onDelete:n,onOpenDetails:a,onUpdateTGRating:i,onUpdateGoogleLLM:l,onUpdateAgent:u,onUpdateNotes:d,onUpdateCreator:f,onUpdateStatus:m,onUpdateTags:g,getSourceIcon:x})=>{const[v,j]=y.useState([]),[w,b]=y.useState(null),[S,k]=y.useState(""),[C,E]=y.useState(null),[O,D]=y.useState(null),[T,M]=y.useState(""),[I,$]=y.useState(null),[B,z]=y.useState(""),[Y,ne]=y.useState(null),[V,F]=y.useState(""),[Z,q]=y.useState(null),[U,W]=y.useState("");y.useEffect(()=>{L()},[]);const L=async()=>{try{const{data:{session:J}}=await X.auth.getSession();if(!J)return;const{data:Q,error:fe}=await X.from("agents").select("id, name").eq("user_id",J.user.id).order("name");if(fe)throw fe;j(Q||[])}catch(J){console.error("Error fetching agents:",J)}},ee=async J=>{if(S.trim())try{const{data:{session:Q}}=await X.auth.getSession();if(!Q)return;const{data:fe,error:ge}=await X.from("agents").insert([{user_id:Q.user.id,name:S.trim()}]).select();if(ge)throw ge;const re=fe[0];j([...v,re].sort((ke,se)=>ke.name.localeCompare(se.name))),u(J,re.name),k(""),b(null)}catch(Q){console.error("Error adding agent:",Q)}};return e.length===0?s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-12 text-center",children:s.jsx("p",{className:"text-gray-400",children:"No content items found"})}):s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-gray-750 border-b-2 border-gray-700 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-sm font-bold text-gray-100 min-w-[150px] max-w-[300px]",children:"Title"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-12",children:"Platform"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-24",children:"Creator"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-20",children:"Rating"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-24",children:"Notebook"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-40",children:"Agent"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-24",children:"Added"}),s.jsx("th",{className:"px-2 py-3 text-center text-sm font-bold text-gray-100 w-24",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(J=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750 transition-colors",children:[s.jsxs("td",{className:"px-3 py-3 font-medium align-middle break-words min-w-[150px] max-w-[300px]",children:[s.jsx("div",{className:"text-white line-clamp-2 block mb-2 text-base",children:J.title}),Z===J.id?s.jsx("input",{type:"text",value:U,onChange:Q=>W(Q.target.value),onBlur:()=>{const Q=Zd(U);g(J.id,Q),q(null)},onKeyDown:Q=>{if(Q.key==="Enter"){const fe=Zd(U);g(J.id,fe),q(null)}else Q.key==="Escape"&&q(null)},placeholder:"Enter tags separated by commas",className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 mt-1",autoFocus:!0}):s.jsx("div",{className:"flex gap-1 flex-wrap mt-1 cursor-pointer group",onClick:()=>{q(J.id),W(J.tags?.join(", ")||"")},title:"Click to edit tags",children:J.tags&&J.tags.length>0?[...J.tags].sort((Q,fe)=>Q.localeCompare(fe)).map((Q,fe)=>{const ge=Q.toLowerCase();let re;return ge.includes("agent")?re="#991b1b":ge.includes("ai")?re="#2563eb":re=RH(Q),s.jsx("span",{className:"px-1.5 py-0.5 rounded-full text-xs font-medium text-white group-hover:opacity-90 transition-opacity",style:{backgroundColor:re,opacity:.75},children:Q},fe)}):s.jsx("span",{className:"text-xs text-gray-500 italic group-hover:text-gray-400",children:"Click to add tags..."})})]}),s.jsx("td",{className:"px-2 py-3 text-center align-middle",children:s.jsx("a",{href:J.url,target:"_blank",rel:"noopener noreferrer",className:"text-2xl hover:opacity-70 transition-opacity inline-block",style:J.source==="YouTube"?{color:"#FF0000"}:{},title:"Open link",children:x(J.source)})}),s.jsx("td",{className:"px-2 py-3 text-sm align-middle text-center max-w-[96px]",children:I===J.id?s.jsx("input",{type:"text",value:B,onChange:Q=>z(Q.target.value),onBlur:()=>{B!==J.creator&&f(J.id,B),$(null)},onKeyDown:Q=>{Q.key==="Enter"?(B!==J.creator&&f(J.id,B),$(null)):Q.key==="Escape"&&$(null)},className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0}):s.jsx("span",{onClick:()=>{$(J.id),z(J.creator||"")},className:"block cursor-pointer hover:bg-gray-700 px-2 py-1 rounded transition-colors text-gray-300 break-words",children:J.creator||s.jsx("span",{className:"text-gray-500 italic",children:"Click to add"})})}),s.jsx("td",{className:"px-2 py-3 text-sm align-middle text-center",children:s.jsx("input",{type:"text",inputMode:"numeric",maxLength:2,value:J.tg_rating||"",onChange:Q=>{const fe=Q.target.value;(fe===""||fe.match(/^\d+$/)&&parseInt(fe)>=1&&parseInt(fe)<=10)&&i(J.id,fe?parseInt(fe):null)},placeholder:"-",className:"w-10 px-1 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs text-center focus:outline-none focus:ring-1 focus:ring-blue-500"})}),s.jsx("td",{className:"px-2 py-3 text-sm align-middle text-center",children:s.jsxs("select",{value:J.google_llm===!0?"yes":J.google_llm===!1?"no":J.google_llm===null?"should":"no",onChange:async Q=>{Q.stopPropagation();const fe=Q.target.value;console.log("Notebook dropdown changed:",fe,"for content:",J.id),fe==="yes"?await l(J.id,!0):fe==="should"?await l(J.id,null):await l(J.id,!1)},className:"px-1 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"no",children:"No"}),s.jsx("option",{value:"yes",children:"Yes"}),s.jsx("option",{value:"should",children:"Should"})]},`notebook-${J.id}-${J.google_llm}`)}),s.jsx("td",{className:"px-2 py-3 text-sm align-middle text-center",children:w===J.id?s.jsxs("div",{className:"flex gap-1",children:[s.jsx("input",{type:"text",value:S,onChange:Q=>k(Q.target.value),placeholder:"Agent",className:"w-16 px-1 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",onKeyDown:Q=>Q.key==="Enter"&&ee(J.id),autoFocus:!0}),s.jsx("button",{onClick:()=>ee(J.id),className:"px-1 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-xs",children:""}),s.jsx("button",{onClick:()=>{b(null),k("")},className:"px-1 py-1 hover:bg-gray-700 rounded",children:s.jsx(qt,{className:"w-3 h-3 text-gray-400"})})]}):s.jsxs("select",{value:J.agent||"",onChange:Q=>{Q.target.value==="__create_new__"?b(J.id):u(J.id,Q.target.value||void 0)},className:"w-full px-1 py-1 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"-"}),v.map(Q=>s.jsx("option",{value:Q.name,children:Q.name},Q.id)),s.jsx("option",{value:"__create_new__",className:"text-blue-400 font-semibold",children:"+ Create Agent"})]})}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-400 text-center align-middle",children:J.created_at?new Date(J.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"}),s.jsx("td",{className:"px-2 py-3 text-center align-middle",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>E(C===J.id?null:J.id),className:"p-1 hover:bg-gray-700 rounded transition-colors inline-flex",title:"Toggle details",children:C===J.id?s.jsx(yj,{className:"w-3.5 h-3.5 text-gray-400"}):s.jsx(Oo,{className:"w-3.5 h-3.5 text-gray-400"})}),s.jsx("button",{onClick:()=>t(J.id,J.is_favorite),className:"p-1 hover:bg-gray-700 rounded transition-colors inline-flex",title:J.is_favorite?"Remove favorite":"Add favorite",children:s.jsx(yo,{className:`w-3.5 h-3.5 ${J.is_favorite?"text-yellow-500 fill-yellow-500":"text-gray-400"}`})})]})})]},J.id),C===J.id&&s.jsx("tr",{className:"bg-gray-750 border-b border-gray-700",children:s.jsx("td",{colSpan:8,className:"px-3 py-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between pb-3 mb-4 border-b border-gray-700",children:[s.jsxs("div",{className:"flex gap-6 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Time:"}),s.jsx("span",{className:"text-gray-300 ml-2 font-medium",children:J.time_estimate||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"AI Rating:"}),s.jsx("span",{className:"text-gray-300 ml-2 font-medium",children:J.value_rating?Math.round(J.value_rating):"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Status:"}),Y===J.id?s.jsxs("select",{value:V,onChange:Q=>{F(Q.target.value),m(J.id,Q.target.value),ne(null)},onBlur:()=>ne(null),className:"ml-2 px-2 py-0.5 bg-gray-700 border border-gray-600 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0,children:[s.jsx("option",{value:"To Watch",children:"To Watch"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Implementing",children:"Implementing"}),s.jsx("option",{value:"Archived",children:"Archived"}),s.jsx("option",{value:"Vault",children:"Vault"})]}):s.jsx("span",{onClick:()=>{ne(J.id),F(J.status)},className:"ml-2 font-medium cursor-pointer hover:bg-gray-700 px-2 py-0.5 rounded transition-colors text-gray-300",children:J.status})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>r(J),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium flex items-center gap-1.5 transition-colors",children:[s.jsx(kp,{className:"w-3.5 h-3.5"}),"Edit"]}),s.jsxs("button",{onClick:()=>n(J.id),className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded text-xs font-medium flex items-center gap-1.5 transition-colors",children:[s.jsx(Qa,{className:"w-3.5 h-3.5"}),"Delete"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"AI Summary"}),s.jsx("div",{className:"text-sm text-gray-300 leading-relaxed min-h-[120px] max-h-[400px] overflow-y-auto pr-2",children:J.ai_summary?(()=>{const Q=J.ai_summary.split(`
`).filter(ge=>ge.trim());return Q.some(ge=>ge.trim().match(/^[\-\*]/))?s.jsx("ul",{className:"list-disc list-inside space-y-1",children:Q.map((ge,re)=>{const ke=ge.trim().replace(/^[\-\*]\s*/,"");return ke?s.jsx("li",{children:ke},re):null})}):J.ai_summary})():s.jsx("span",{className:"text-gray-500 italic",children:"No AI summary available"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"Notes"}),O===J.id?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("textarea",{value:T,onChange:Q=>M(Q.target.value),className:"w-full min-h-[120px] max-h-[400px] px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y",placeholder:"Add notes...",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{d(J.id,T),D(null)},className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-xs font-medium",children:"Save"}),s.jsx("button",{onClick:()=>{D(null),M("")},className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white rounded text-xs font-medium",children:"Cancel"})]})]}):s.jsx("div",{onClick:()=>{D(J.id),M(J.notes||"")},className:"text-sm text-gray-300 leading-relaxed min-h-[120px] max-h-[400px] overflow-y-auto pl-2 cursor-pointer hover:bg-gray-750 rounded p-2 transition-colors",children:J.notes||s.jsx("span",{className:"text-gray-500 italic",children:"Click to add notes..."})})]})]})]})})})]}))})]})})})};async function O4(e){try{console.log(" AI Analyzer: Starting analysis for:",e);const{data:{session:t}}=await X.auth.getSession();console.log(" Auth session:",t?"Found":"Not found"),console.log(" Calling Edge Function: analyze-content");const{data:r,error:n}=await X.functions.invoke("analyze-content",{body:{url:e},headers:t?.access_token?{Authorization:`Bearer ${t.access_token}`}:{}});return n?(console.error(" Edge function error:",n),console.log(" Falling back to placeholder logic"),WT(e)):(console.log(" AI Analysis successful:",r),{title:r.title||"Untitled Content",ai_summary:r.ai_summary||"No summary available",creator:r.creator,time_estimate:r.time_estimate,tags:r.tags||[],dashboard_areas:r.dashboard_areas||[],value_rating:r.value_rating,thumbnail_url:r.thumbnail_url})}catch(t){return console.error(" Error calling AI analyzer:",t),console.log(" Falling back to placeholder logic"),WT(e)}}function WT(e){let t="";try{t=new URL(e).hostname.replace("www.","")}catch{t="unknown"}const r={title:`Content from ${t}`,ai_summary:`Content from ${t}. AI analysis unavailable - using fallback. Deploy the Supabase Edge Function for full AI analysis.`,creator:void 0,time_estimate:void 0,tags:[],dashboard_areas:[],value_rating:void 0,thumbnail_url:void 0};return t.includes("youtube.com")||t.includes("youtu.be")?(r.creator="YouTube Creator",r.time_estimate="15 min",r.tags=["video","tutorial"],r.value_rating=7):t.includes("twitter.com")||t.includes("x.com")?(r.creator="Twitter User",r.time_estimate="2 min",r.tags=["social","quick-read"],r.value_rating=5):t.includes("medium.com")||t.includes("dev.to")?(r.creator="Blog Author",r.time_estimate="8 min",r.tags=["article","technical"],r.value_rating=7):t.includes("github.com")&&(r.creator="GitHub Repository",r.time_estimate="30 min",r.tags=["code","repository"],r.value_rating=8),r}const yv={AI:"#1e40af",investing:"#10b981","Full Stack AI":"#22c55e","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Health:"#10b981","Claude Code":"#f97316",Quotes:"#ec4899"},YT=e=>{if(yv[e])return yv[e];const t=e.toLowerCase();for(const[r,n]of Object.entries(yv))if(r.toLowerCase()===t)return n;return"#6b7280"},LH=({isOpen:e,onClose:t,onSave:r})=>{const[n,a]=y.useState(""),[i,l]=y.useState(!1),[u,d]=y.useState(!1),[f,m]=y.useState(""),[g,x]=y.useState([]),[v,j]=y.useState(!1),[w,b]=y.useState({title:"",url:"",source:"Website",category:"Full Stack Development",ai_summary:"",status:"To Watch",priority:"Medium",tags:[],dashboard_areas:[],google_llm:!1});if(y.useEffect(()=>{e&&(async()=>{const{data:M}=await X.from("content_library").select("tags");if(M){const I=new Set;M.forEach($=>{$.tags&&Array.isArray($.tags)&&$.tags.forEach(B=>I.add(B))}),x(Array.from(I).sort())}})()},[e]),!e)return null;const S=()=>{const T=jj(f.trim());T&&!(w.tags||[]).includes(T)&&(b({...w,tags:[...w.tags||[],T]}),m(""),j(!1))},k=T=>{b({...w,tags:(w.tags||[]).filter(M=>M!==T)})},C=g.filter(T=>T.toLowerCase().includes(f.toLowerCase())&&!(w.tags||[]).includes(T)),E=async()=>{if(n.trim()){l(!0);try{const T=await O4(n),M=new URL(n);let I="Website";M.hostname.includes("youtube.com")||M.hostname.includes("youtu.be")?I="YouTube":M.hostname.includes("twitter.com")||M.hostname.includes("x.com")?I="Twitter":M.hostname.includes("instagram.com")?I="Instagram":M.hostname.includes("github.com")&&(I="Website"),b({...w,url:n,source:I,title:T.title,ai_summary:T.ai_summary,creator:T.creator,time_estimate:T.time_estimate,tags:PH(T.tags||[]),dashboard_areas:T.dashboard_areas||[],value_rating:T.value_rating,thumbnail_url:T.thumbnail_url,category:w.category||"Full Stack Development"}),d(!0)}catch(T){console.error("Error analyzing URL:",T),alert("Invalid URL. Please enter a valid URL.")}finally{l(!1)}}},O=async()=>{await r(w),D()},D=()=>{a(""),d(!1),b({title:"",url:"",source:"Website",ai_summary:"",status:"To Watch",priority:"Medium",tags:[],dashboard_areas:[]}),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Quick Add by URL"}),s.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-300",children:s.jsx(qt,{className:"w-6 h-6"})})]}),u?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title *"}),s.jsx("input",{type:"text",value:w.title,onChange:T=>b({...w,title:T.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Creator"}),s.jsx("input",{type:"text",value:w.creator||"",onChange:T=>b({...w,creator:T.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Author/Creator name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Source"}),s.jsxs("select",{value:w.source,onChange:T=>b({...w,source:T.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitter",children:"Twitter"}),s.jsx("option",{value:"Instagram",children:"Instagram"}),s.jsx("option",{value:"Website",children:"Website"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),s.jsxs("select",{value:w.priority,onChange:T=>b({...w,priority:T.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags"}),(w.tags||[]).length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(w.tags||[]).map(T=>{const M=YT(T);return s.jsxs("span",{className:"px-3 py-1 text-white rounded-full text-sm flex items-center gap-2",style:{backgroundColor:M},children:[T,s.jsx("button",{onClick:()=>k(T),className:"text-white hover:text-red-200 transition-colors opacity-70 hover:opacity-100",title:"Remove tag",children:s.jsx(qt,{className:"w-3 h-3"})})]},T)})}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:f,onChange:T=>{m(T.target.value),j(T.target.value.length>0)},onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),S())},placeholder:"Add a tag...",className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Add"})]}),v&&C.length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:C.slice(0,10).map(T=>{const M=YT(T);return s.jsx("button",{onClick:()=>{b({...w,tags:[...w.tags||[],T]}),m(""),j(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-700 transition-colors flex items-center gap-2",children:s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs text-white",style:{backgroundColor:M},children:T})},T)})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["AI Summary",s.jsx("span",{className:"ml-2 text-xs bg-blue-500 bg-opacity-20 text-blue-400 px-1.5 py-0.5 rounded",children:"AI"})]}),s.jsx("textarea",{value:w.ai_summary,onChange:T=>b({...w,ai_summary:T.target.value}),rows:9,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 italic text-sm leading-relaxed",placeholder:"AI-generated summary..."})]}),s.jsxs("div",{className:"flex items-center justify-between gap-3 pt-4 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-lg transition-colors",children:" Back"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:D,className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:O,disabled:!w.title||!w.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Content"})]})]})]}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(k4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),s.jsx("input",{type:"url",value:n,onChange:T=>a(T.target.value),placeholder:"https://...",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),s.jsx("button",{onClick:E,disabled:!n.trim()||i,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx($w,{className:"w-5 h-5 animate-spin"}),"Analyzing..."]}):"Analyze"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Paste a URL and click Analyze to extract title and summary"})]})})]})})})},xv={AI:"#1e40af",investing:"#10b981","Full Stack AI":"#22c55e","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Health:"#10b981","Claude Code":"#f97316",Quotes:"#ec4899"},$H=e=>{if(xv[e])return xv[e];const t=e.toLowerCase();for(const[r,n]of Object.entries(xv))if(r.toLowerCase()===t)return n;return"#6b7280"},BH=({isOpen:e,onClose:t,content:r,businesses:n,onEdit:a,onDelete:i,onUpdate:l})=>{const[u,d]=y.useState(!1),[f,m]=y.useState(!1),[g,x]=y.useState(""),[v,j]=y.useState([]);if(y.useEffect(()=>{r&&r.tags?j(r.tags):j([])},[r?.id,r?.tags]),!e||!r)return null;const w=()=>{if(g.trim()){const E=[...v,g.trim()];j(E),l(r.id,{tags:E}),x("")}},b=E=>{const O=v.filter((D,T)=>T!==E);j(O),l(r.id,{tags:O})},S=E=>{switch(E){case"To Watch":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"In Progress":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"Completed":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},k=E=>{switch(E){case"High":return"bg-red-500/20 text-red-400 border-red-500/30";case"Medium":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"Low":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},C=E=>E?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center gap-1",children:[...Array(10)].map((O,D)=>s.jsx(yo,{className:`w-4 h-4 ${D<E?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},D))}),s.jsxs("span",{className:"text-lg font-semibold text-white",children:[E,"/10"]})]}):null;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("h2",{className:"text-2xl font-bold text-white",children:r.title})}),s.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[r.value_rating&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-400 uppercase mb-1",children:"Value Rating"}),C(r.value_rating)]}),u?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm text-red-400 font-medium",children:"Delete this?"}),s.jsx("button",{onClick:()=>{i(r.id),t()},className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg transition-all",children:"Yes"}),s.jsx("button",{onClick:()=>d(!1),className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded-lg transition-all",children:"No"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:a,className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-gray-700 rounded-lg transition-all",title:"Edit content",children:s.jsx(uH,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>d(!0),className:"p-2 text-red-400 hover:text-red-300 hover:bg-gray-700 rounded-lg transition-all",title:"Delete content",children:s.jsx(Qa,{className:"w-5 h-5"})}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300",children:s.jsx(qt,{className:"w-6 h-6"})})]})]})]}),s.jsxs("div",{className:"mb-6",children:[r.creator&&s.jsxs("p",{className:"text-gray-400 mb-2",children:["by ",r.creator]}),s.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-1",children:[s.jsx(N4,{className:"w-4 h-4"}),r.url]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Source"}),s.jsx("p",{className:"text-white font-medium",children:r.source})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Status"}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium border ${S(r.status)}`,children:r.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Priority"}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium border ${k(r.priority)}`,children:r.priority})]}),r.time_estimate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Time Estimate"}),s.jsxs("div",{className:"flex items-center gap-1 text-white font-medium",children:[s.jsx(ta,{className:"w-4 h-4"}),s.jsx("span",{children:r.time_estimate})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.map((E,O)=>{const D=$H(E);return s.jsxs("span",{className:"px-3 py-1 text-white rounded-full text-sm flex items-center gap-2 group",style:{backgroundColor:D},children:[E,s.jsx("button",{onClick:()=>b(O),className:"text-white hover:text-red-200 transition-colors opacity-70 hover:opacity-100",title:"Remove tag",children:s.jsx(qt,{className:"w-3 h-3"})})]},O)})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:g,onChange:E=>x(E.target.value),onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),w())},placeholder:"Add a tag...",className:"flex-1 px-3 py-1.5 bg-gray-900 border border-gray-700 rounded-lg text-white text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:w,className:"px-4 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Add"})]})]}),r.ai_summary&&s.jsxs("div",{className:"mb-6 bg-blue-500/10 border border-blue-500/30 rounded-lg p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"text-sm font-semibold text-blue-400 uppercase tracking-wide",children:"AI Summary"}),s.jsx("span",{className:"text-xs bg-blue-500 bg-opacity-20 text-blue-400 px-2 py-0.5 rounded",children:"AI"})]}),s.jsx("p",{className:"text-gray-200 leading-relaxed italic whitespace-pre-wrap",children:r.ai_summary})]}),r.notes&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3",children:"Notes"}),s.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:r.notes})]}),s.jsx("div",{className:"border-t border-gray-700 pt-4 text-xs text-gray-500",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Created: ",new Date(r.created_at).toLocaleDateString()]}),r.updated_at&&s.jsxs("span",{children:["Updated: ",new Date(r.updated_at).toLocaleDateString()]})]})})]})})})},zH=["Health","Finance","Life","Golf"],FH=["Article","Video","Course","Documentation","Tutorial","Podcast","Book","Other"],UH=["To Watch","In Progress","Completed","Archived"],qH=["Low","Medium","High"],HH=["Full Stack Development","Front-End Development","Back-End Development","DevOps & Cloud","Data & Analytics","Mobile Development","AI & Machine Learning","Career & Growth","Business & Strategy","Tools & Productivity","Other"],WH=({isOpen:e,onClose:t,content:r,businesses:n,onSave:a})=>{const[i,l]=y.useState({});if(y.useEffect(()=>{r&&l({title:r.title,url:r.url,source:r.source,category:r.category,ai_summary:r.ai_summary,status:r.status,priority:r.priority,tags:r.tags||[],dashboard_areas:r.dashboard_areas||[],value_rating:r.value_rating,time_estimate:r.time_estimate,creator:r.creator})},[r]),!e||!r)return null;const u=f=>{f.preventDefault(),a(r.id,i),t()},d=f=>{const m=i.dashboard_areas||[],g=m.includes(f)?m.filter(x=>x!==f):[...m,f];l({...i,dashboard_areas:g})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Content"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300",children:s.jsx(qt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:i.title||"",onChange:f=>l({...i,title:f.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"URL"}),s.jsx("input",{type:"url",value:i.url||"",onChange:f=>l({...i,url:f.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"AI Summary"}),s.jsx("textarea",{value:i.ai_summary||"",onChange:f=>l({...i,ai_summary:f.target.value}),rows:4,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Source"}),s.jsx("select",{value:i.source||"",onChange:f=>l({...i,source:f.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:FH.map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),s.jsx("select",{value:i.category||"",onChange:f=>l({...i,category:f.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:HH.map(f=>s.jsx("option",{value:f,children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),s.jsx("select",{value:i.status||"",onChange:f=>l({...i,status:f.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:UH.map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority"}),s.jsx("select",{value:i.priority||"",onChange:f=>l({...i,priority:f.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:qH.map(f=>s.jsx("option",{value:f,children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Creator"}),s.jsx("input",{type:"text",value:i.creator||"",onChange:f=>l({...i,creator:f.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time Estimate"}),s.jsx("input",{type:"text",value:i.time_estimate||"",onChange:f=>l({...i,time_estimate:f.target.value}),placeholder:"e.g., 5 min, 1 hour",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Value Rating (1-10)"}),s.jsx("input",{type:"number",min:"1",max:"10",value:i.value_rating||5,onChange:f=>l({...i,value_rating:parseInt(f.target.value)}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Dashboard Areas"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Life Areas"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:zH.map(f=>s.jsx("button",{type:"button",onClick:()=>d(f),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${(i.dashboard_areas||[]).includes(f)?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:f},f))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Businesses"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(f=>s.jsx("button",{type:"button",onClick:()=>d(f.id),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${(i.dashboard_areas||[]).includes(f.id)?"text-white":"text-gray-300 hover:opacity-80"}`,style:{backgroundColor:(i.dashboard_areas||[]).includes(f.id)?f.color:"#374151"},children:f.name},f.id))})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:(i.tags||[]).join(", "),onChange:f=>l({...i,tags:Zd(f.target.value)}),placeholder:"react, typescript, tutorial",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[s.jsxs("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx(Cp,{className:"w-5 h-5"}),"Save Changes"]}),s.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]})})},YH=()=>{const[e,t]=y.useState([]),[r,n]=y.useState([]),[a,i]=y.useState(!0),[l,u]=y.useState("table"),{data:d=[]}=Be({queryKey:["businesses"],queryFn:async()=>{const{data:{session:P}}=await X.auth.getSession();if(!P)return[];const{data:oe,error:ve}=await X.from("businesses").select("*").eq("user_id",P.user.id).order("name");if(ve)throw ve;return oe||[]}}),[f,m]=y.useState(""),[g,x]=y.useState(!1),[v,j]=y.useState(!1),[w,b]=y.useState(!1),[S,k]=y.useState(!1),[C,E]=y.useState(null),[O,D]=y.useState(!1),[T,M]=y.useState("saved_at"),[I,$]=y.useState("desc"),[B,z]=y.useState(!1),[Y,ne]=y.useState({source:[],category:[],status:[],priority:[],tags:[],folder:void 0,searchTerm:"",isFavorite:void 0,dashboardAreas:[],minValueRating:null}),[V,F]=y.useState({title:"",url:"",source:"Website",category:"Full Stack Development",status:"To Watch",priority:"Medium",notes:"",ai_summary:"",tags:[],dashboard_areas:[],value_rating:null,tg_rating:null,google_llm:!1,agent:"",is_favorite:!1}),[Z,q]=y.useState(null),[U,W]=y.useState("");y.useEffect(()=>{L()},[]),y.useEffect(()=>{ee()},[e,f,Y,T,I]);const L=async()=>{try{const{data:{session:P}}=await X.auth.getSession();if(!P)return;const{data:oe,error:ve}=await X.from("content_library").select("*").eq("user_id",P.user.id).order("created_at",{ascending:!1});if(ve)throw ve;t(oe||[])}catch(P){console.error("Error fetching contents:",P)}finally{i(!1)}},ee=()=>{let P=[...e];f&&(P=P.filter(oe=>oe.title.toLowerCase().includes(f.toLowerCase())||oe.notes.toLowerCase().includes(f.toLowerCase())||oe.creator?.toLowerCase().includes(f.toLowerCase())||oe.tags.some(ve=>ve.toLowerCase().includes(f.toLowerCase())))),Y.source&&Y.source.length>0&&(P=P.filter(oe=>Y.source.includes(oe.source))),Y.category&&Y.category.length>0&&(P=P.filter(oe=>Y.category.includes(oe.category))),Y.status&&Y.status.length>0&&(P=P.filter(oe=>Y.status.includes(oe.status))),Y.priority&&Y.priority.length>0&&(P=P.filter(oe=>Y.priority.includes(oe.priority))),Y.tags&&Y.tags.length>0&&(P=P.filter(oe=>Y.tags.some(ve=>oe.tags.includes(ve)))),Y.isFavorite!==void 0&&(P=P.filter(oe=>oe.is_favorite===Y.isFavorite)),Y.folder&&(P=P.filter(oe=>oe.folder===Y.folder)),Y.dashboardAreas&&Y.dashboardAreas.length>0&&(P=P.filter(oe=>oe.dashboard_areas?.some(ve=>Y.dashboardAreas.includes(ve)))),Y.minValueRating&&(P=P.filter(oe=>oe.value_rating&&oe.value_rating>=Y.minValueRating)),P.sort((oe,ve)=>{let Te=0;switch(T){case"saved_at":Te=new Date(oe.saved_at).getTime()-new Date(ve.saved_at).getTime();break;case"priority":const tt={High:3,Medium:2,Low:1};Te=tt[oe.priority]-tt[ve.priority];break;case"title":Te=oe.title.localeCompare(ve.title);break;case"status":Te=oe.status.localeCompare(ve.status);break;case"value_rating":const jt=oe.value_rating||0,Et=ve.value_rating||0;Te=jt-Et;break}return I==="asc"?Te:-Te}),n(P)},J=async()=>{if(!V.url){alert("Please enter a URL first");return}z(!0);try{const P=await O4(V.url);F({...V,title:P.title||V.title,ai_summary:P.ai_summary||V.ai_summary,creator:P.creator||V.creator,time_estimate:P.time_estimate||V.time_estimate,tags:P.tags&&P.tags.length>0?P.tags:V.tags,value_rating:P.value_rating!==void 0?P.value_rating:V.value_rating,thumbnail_url:P.thumbnail_url||V.thumbnail_url})}catch(P){console.error("Error analyzing content:",P),alert("Failed to analyze content. Please try again.")}finally{z(!1)}},Q=async()=>{try{const{data:{session:P}}=await X.auth.getSession();if(!P)return;const oe={...V,user_id:P.user.id,saved_at:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:ve,error:Te}=await X.from("content_library").insert([oe]).select();if(Te)throw Te;t([...e,ve[0]]),x(!1),_r()}catch(P){console.error("Error adding content:",P)}},fe=async()=>{if(V.id)try{const P={...V,updated_at:new Date().toISOString()},{error:oe}=await X.from("content_library").update(P).eq("id",V.id);if(oe)throw oe;t(e.map(ve=>ve.id===V.id?{...ve,...P}:ve)),b(!1),_r()}catch(P){console.error("Error updating content:",P)}},ge=async(P,oe)=>{try{const{error:ve}=await X.from("content_library").update({...oe,updated_at:new Date().toISOString()}).eq("id",P);if(ve)throw ve;t(e.map(Te=>Te.id===P?{...Te,...oe}:Te))}catch(ve){console.error("Error updating content:",ve)}},re=async(P,oe)=>{await ge(P,{is_favorite:!oe})},ke=async(P,oe)=>{await ge(P,{tg_rating:oe})},se=async(P,oe)=>{await ge(P,{google_llm:oe||!1})},pe=async(P,oe)=>{await ge(P,{agent:oe||void 0})},Ce=async(P,oe)=>{await ge(P,{notes:oe})},de=async(P,oe)=>{await ge(P,{creator:oe})},Qe=async(P,oe)=>{await ge(P,{status:oe})},Ee=async(P,oe)=>{await ge(P,{tags:oe})},Ue=P=>{if(!P.type.startsWith("image/")){alert("Please upload an image file");return}q(P);const oe=new FileReader;oe.onloadend=()=>{const ve=oe.result;W(ve),F({...V,thumbnail_url:ve})},oe.readAsDataURL(P)},et=P=>{const oe=P.clipboardData?.items;if(oe){for(let ve=0;ve<oe.length;ve++)if(oe[ve].type.indexOf("image")!==-1){const Te=oe[ve].getAsFile();Te&&Ue(Te)}}},Wt=P=>{P.preventDefault();const oe=P.dataTransfer?.files;oe&&oe[0]&&Ue(oe[0])},Xr=P=>{P.preventDefault()},_r=()=>{F({title:"",url:"",source:"Website",category:"Full Stack Development",status:"To Watch",priority:"Medium",notes:"",tags:[],dashboard_areas:[],value_rating:null,tg_rating:null,google_llm:!1,agent:"",is_favorite:!1}),q(null),W("")},Jt=P=>({Twitter:"",YouTube:"",Instagram:"",Website:"",Other:""})[P]||"",zr=P=>{switch(P){case"To Watch":return s.jsx(jm,{className:"w-4 h-4"});case"In Progress":return s.jsx(S4,{className:"w-4 h-4"});case"Completed":return s.jsx(Qc,{className:"w-4 h-4"});case"Implementing":return s.jsx(ea,{className:"w-4 h-4"});case"Archived":return s.jsx(a9,{className:"w-4 h-4"});case"Vault":return s.jsx(jm,{className:"w-4 h-4"});default:return s.jsx(jm,{className:"w-4 h-4"})}},yr=P=>{switch(P){case"High":return"bg-red-900 text-red-300 border-red-700";case"Medium":return"bg-yellow-900 text-yellow-300 border-yellow-700";case"Low":return"bg-green-900 text-green-300 border-green-700";default:return"bg-gray-900 text-gray-300 border-gray-700"}},K=P=>{switch(P){case"To Watch":return"bg-blue-900 text-blue-300";case"In Progress":return"bg-purple-900 text-purple-300";case"Completed":return"bg-green-900 text-green-300";case"Implementing":return"bg-orange-900 text-orange-300";case"Archived":return"bg-gray-700 text-gray-300";case"Vault":return"bg-indigo-900 text-indigo-300";default:return"bg-gray-900 text-gray-300"}},ae={total:e.length,toWatch:e.filter(P=>P.status==="To Watch").length,inProgress:e.filter(P=>P.status==="In Progress").length,completed:e.filter(P=>P.status==="Completed").length,favorites:e.filter(P=>P.is_favorite).length};return a?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"text-gray-500",children:"Loading your content library..."})}):s.jsxs("div",{className:"w-full h-full overflow-y-auto px-6 py-6 space-y-6",style:{minWidth:0},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Content Library"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Your personal knowledge base of learning resources"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(N4,{className:"w-5 h-5"}),"Quick Add URL"]}),s.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Na,{className:"w-5 h-5"}),"Add Content"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-gray-700",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:ae.total}),s.jsx("div",{className:"text-sm text-gray-400",children:"Total Items"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-blue-600",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:ae.toWatch}),s.jsx("div",{className:"text-sm text-blue-300",children:"To Watch"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-purple-600",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:ae.inProgress}),s.jsx("div",{className:"text-sm text-purple-300",children:"In Progress"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-green-600",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:ae.completed}),s.jsx("div",{className:"text-sm text-green-300",children:"Completed"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-yellow-600",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:ae.favorites}),s.jsx("div",{className:"text-sm text-yellow-300",children:"Favorites"})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(E4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by title, notes, creator, or tags...",value:f,onChange:P=>m(P.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("button",{onClick:()=>k(!S),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${S?"bg-blue-600 border-blue-600 text-white":"bg-gray-900 border-gray-700 text-gray-300 hover:bg-gray-700"}`,children:[s.jsx(P9,{className:"w-5 h-5"}),"Filters"]}),s.jsxs("select",{value:T,onChange:P=>M(P.target.value),className:"px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"saved_at",children:"Sort by Date"}),s.jsx("option",{value:"priority",children:"Sort by Priority"}),s.jsx("option",{value:"value_rating",children:"Sort by Value Rating"}),s.jsx("option",{value:"title",children:"Sort by Title"}),s.jsx("option",{value:"status",children:"Sort by Status"})]}),s.jsx("button",{onClick:()=>$(I==="asc"?"desc":"asc"),className:"px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white hover:bg-gray-700",children:I==="asc"?"":""}),s.jsxs("div",{className:"flex gap-2 border border-gray-700 rounded-lg bg-gray-900 p-1",children:[s.jsx("button",{onClick:()=>u("grid"),className:`px-3 py-1 rounded transition-colors ${l==="grid"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-300"}`,title:"Grid view",children:""}),s.jsx("button",{onClick:()=>u("table"),className:`px-3 py-1 rounded transition-colors ${l==="table"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-300"}`,title:"Table view",children:""})]})]}),S&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),s.jsx("div",{className:"space-y-2",children:["Twitter","YouTube","Instagram","Article","Podcast","Video","Book","Course","Other"].map(P=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:Y.source?.includes(P),onChange:oe=>{const ve=oe.target.checked?[...Y.source||[],P]:Y.source?.filter(Te=>Te!==P)||[];ne({...Y,source:ve})},className:"rounded border-gray-300"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[Jt(P)," ",P]})]},P))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:["Full Stack Development","AI Build","Business & Entrepreneurship","Finance & Investing","Marketing & Sales","Personal Development","Health & Fitness","Golf","Productivity","Design","Leadership","Other"].map(P=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:Y.category?.includes(P),onChange:oe=>{const ve=oe.target.checked?[...Y.category||[],P]:Y.category?.filter(Te=>Te!==P)||[];ne({...Y,category:ve})},className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm text-gray-700",children:P})]},P))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsx("div",{className:"space-y-2",children:["To Watch","In Progress","Completed","Implementing","Archived","Vault"].map(P=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:Y.status?.includes(P),onChange:oe=>{const ve=oe.target.checked?[...Y.status||[],P]:Y.status?.filter(Te=>Te!==P)||[];ne({...Y,status:ve})},className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm text-gray-700",children:P})]},P))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),s.jsx("div",{className:"space-y-2",children:["High","Medium","Low"].map(P=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:Y.priority?.includes(P),onChange:oe=>{const ve=oe.target.checked?[...Y.priority||[],P]:Y.priority?.filter(Te=>Te!==P)||[];ne({...Y,priority:ve})},className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm text-gray-700",children:P})]},P))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:Y.isFavorite===!0,onChange:P=>{ne({...Y,isFavorite:P.target.checked?!0:void 0})},className:"rounded border-gray-300"}),s.jsx(yo,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Favorites Only"})]})})]})]})]}),r.length===0?s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-12 text-center",children:[s.jsx(jm,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No content found"}),s.jsx("p",{className:"text-gray-400 mb-4",children:f||Object.values(Y).some(P=>P&&(Array.isArray(P)?P.length>0:!0))?"Try adjusting your filters or search term":"Start building your knowledge base by adding your first piece of content"}),!f&&!Object.values(Y).some(P=>P&&(Array.isArray(P)?P.length>0:!0))&&s.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[s.jsx(Na,{className:"w-5 h-5"}),"Add Your First Content"]})]}):l==="grid"?s.jsx("div",{className:"masonry-grid",children:r.map(P=>s.jsx("div",{className:"masonry-item",children:s.jsx(MH,{content:P,onClick:()=>{E(P),D(!0)},onToggleFavorite:re,onEdit:()=>{E(P),F(P),b(!0)},onDelete:async()=>{if(confirm("Are you sure you want to delete this content?"))try{const{error:oe}=await X.from("content_library").delete().eq("id",P.id);if(oe)throw oe;t(e.filter(ve=>ve.id!==P.id))}catch(oe){console.error("Error deleting content:",oe)}},getSourceIcon:Jt,getStatusIcon:oe=>zr(oe),getStatusColor:oe=>K(oe),getPriorityColor:oe=>yr(oe)})},P.id))}):s.jsx(IH,{contents:r,onToggleFavorite:re,onEdit:P=>{E(P),F(P),b(!0)},onDelete:async P=>{if(confirm("Are you sure you want to delete this content?"))try{const{error:oe}=await X.from("content_library").delete().eq("id",P);if(oe)throw oe;t(e.filter(ve=>ve.id!==P))}catch(oe){console.error("Error deleting content:",oe)}},onOpenDetails:P=>{E(P),D(!0)},onUpdateTGRating:ke,onUpdateGoogleLLM:se,onUpdateAgent:pe,onUpdateNotes:Ce,onUpdateCreator:de,onUpdateStatus:Qe,onUpdateTags:Ee,getSourceIcon:Jt,getStatusColor:P=>K(P),getPriorityColor:P=>yr(P)}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add New Content"}),s.jsx("button",{onClick:()=>{x(!1),_r()},className:"text-gray-400 hover:text-gray-300",children:s.jsx(qt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title *"}),s.jsx("input",{type:"text",value:V.title,onChange:P=>F({...V,title:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter content title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",value:V.url,onChange:P=>F({...V,url:P.target.value}),className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."}),s.jsx("button",{type:"button",onClick:J,disabled:!V.url||B,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors whitespace-nowrap",children:B?s.jsxs(s.Fragment,{children:[s.jsx($w,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ea,{className:"w-4 h-4"}),"Analyze with AI"]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Thumbnail Image"}),s.jsx("div",{onPaste:et,onDrop:Wt,onDragOver:Xr,className:"w-full px-3 py-4 bg-gray-900 border-2 border-dashed border-gray-700 rounded-lg text-gray-400 hover:border-gray-600 transition-colors cursor-pointer",children:U?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:U,alt:"Thumbnail preview",className:"w-full h-40 object-cover rounded"}),s.jsx("button",{onClick:()=>{q(null),W(""),F({...V,thumbnail_url:void 0})},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:s.jsx(qt,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"mb-2",children:"Drag & drop image, paste, or click to upload"}),s.jsx("input",{type:"file",accept:"image/*",onChange:P=>{const oe=P.target.files?.[0];oe&&Ue(oe)},className:"hidden",id:"thumbnail-upload-add"}),s.jsx("label",{htmlFor:"thumbnail-upload-add",className:"inline-block px-4 py-2 bg-gray-800 text-gray-300 rounded hover:bg-gray-700 cursor-pointer",children:"Choose File"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Platform"}),s.jsxs("select",{value:V.source,onChange:P=>F({...V,source:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Website",children:"Website"}),s.jsx("option",{value:"Twitter",children:"Twitter"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Instagram",children:"Instagram"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),s.jsxs("select",{value:V.category,onChange:P=>F({...V,category:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Full Stack Development",children:"Full Stack Development"}),s.jsx("option",{value:"AI Build",children:"AI Build"}),s.jsx("option",{value:"Business & Entrepreneurship",children:"Business & Entrepreneurship"}),s.jsx("option",{value:"Finance & Investing",children:"Finance & Investing"}),s.jsx("option",{value:"Marketing & Sales",children:"Marketing & Sales"}),s.jsx("option",{value:"Personal Development",children:"Personal Development"}),s.jsx("option",{value:"Health & Fitness",children:"Health & Fitness"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Productivity",children:"Productivity"}),s.jsx("option",{value:"Design",children:"Design"}),s.jsx("option",{value:"Leadership",children:"Leadership"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),s.jsxs("select",{value:V.status,onChange:P=>F({...V,status:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"To Watch",children:"To Watch"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Implementing",children:"Implementing"}),s.jsx("option",{value:"Archived",children:"Archived"}),s.jsx("option",{value:"Vault",children:"Vault"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),s.jsxs("select",{value:V.priority,onChange:P=>F({...V,priority:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Time (minutes)"}),s.jsx("input",{type:"number",value:V.time_to_consume||"",onChange:P=>F({...V,time_to_consume:P.target.value?parseInt(P.target.value):null}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"30"})]}),s.jsx(qT,{value:V.value_rating||null,onChange:P=>F({...V,value_rating:P})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"TG Rating (1-10)"}),s.jsx("input",{type:"number",min:"1",max:"10",value:V.tg_rating||"",onChange:P=>F({...V,tg_rating:P.target.value?parseInt(P.target.value):null}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1-10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Google LLM"}),s.jsxs("select",{value:V.google_llm?"yes":"no",onChange:P=>F({...V,google_llm:P.target.value==="yes"}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"no",children:"No"}),s.jsx("option",{value:"yes",children:"Yes"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Creator"}),s.jsx("input",{type:"text",value:V.creator||"",onChange:P=>F({...V,creator:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Author, YouTuber, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Agent"}),s.jsx(HT,{selectedAgent:V.agent,onChange:P=>F({...V,agent:P})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags (comma separated)"}),s.jsx("input",{type:"text",value:V.tags?.join(", ")||"",onChange:P=>F({...V,tags:Zd(P.target.value)}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"react, typescript, tutorial"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Folder"}),s.jsx("input",{type:"text",value:V.folder||"",onChange:P=>F({...V,folder:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional folder name"})]}),s.jsx(UT,{selectedAreas:V.dashboard_areas||[],onChange:P=>F({...V,dashboard_areas:P})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"AI Summary"}),s.jsx("textarea",{value:V.ai_summary||"",onChange:P=>F({...V,ai_summary:P.target.value}),rows:3,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 italic",placeholder:"AI-generated summary will appear here, or add your own..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled by AI or manually entered"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),s.jsx("textarea",{value:V.notes,onChange:P=>F({...V,notes:P.target.value}),rows:4,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add notes about this content..."})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:V.is_favorite,onChange:P=>F({...V,is_favorite:P.target.checked}),className:"rounded border-gray-600"}),s.jsx(yo,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Mark as favorite"})]})})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-6 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>{x(!1),_r()},className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Q,disabled:!V.title||!V.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Content"})]})]})})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Content"}),s.jsx("button",{onClick:()=>{b(!1),_r()},className:"text-gray-400 hover:text-gray-300",children:s.jsx(qt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title *"}),s.jsx("input",{type:"text",value:V.title,onChange:P=>F({...V,title:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter content title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",value:V.url,onChange:P=>F({...V,url:P.target.value}),className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."}),s.jsx("button",{type:"button",onClick:J,disabled:!V.url||B,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors whitespace-nowrap",children:B?s.jsxs(s.Fragment,{children:[s.jsx($w,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ea,{className:"w-4 h-4"}),"Analyze with AI"]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Thumbnail Image"}),s.jsx("div",{onPaste:et,onDrop:Wt,onDragOver:Xr,className:"w-full px-3 py-4 bg-gray-900 border-2 border-dashed border-gray-700 rounded-lg text-gray-400 hover:border-gray-600 transition-colors cursor-pointer",children:U?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:U,alt:"Thumbnail preview",className:"w-full h-40 object-cover rounded"}),s.jsx("button",{onClick:()=>{q(null),W(""),F({...V,thumbnail_url:void 0})},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:s.jsx(qt,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"mb-2",children:"Drag & drop image, paste, or click to upload"}),s.jsx("input",{type:"file",accept:"image/*",onChange:P=>{const oe=P.target.files?.[0];oe&&Ue(oe)},className:"hidden",id:"thumbnail-upload-edit"}),s.jsx("label",{htmlFor:"thumbnail-upload-edit",className:"inline-block px-4 py-2 bg-gray-800 text-gray-300 rounded hover:bg-gray-700 cursor-pointer",children:"Choose File"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Platform"}),s.jsxs("select",{value:V.source,onChange:P=>F({...V,source:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Website",children:"Website"}),s.jsx("option",{value:"Twitter",children:"Twitter"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Instagram",children:"Instagram"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),s.jsxs("select",{value:V.category,onChange:P=>F({...V,category:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Full Stack Development",children:"Full Stack Development"}),s.jsx("option",{value:"AI Build",children:"AI Build"}),s.jsx("option",{value:"Business & Entrepreneurship",children:"Business & Entrepreneurship"}),s.jsx("option",{value:"Finance & Investing",children:"Finance & Investing"}),s.jsx("option",{value:"Marketing & Sales",children:"Marketing & Sales"}),s.jsx("option",{value:"Personal Development",children:"Personal Development"}),s.jsx("option",{value:"Health & Fitness",children:"Health & Fitness"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Productivity",children:"Productivity"}),s.jsx("option",{value:"Design",children:"Design"}),s.jsx("option",{value:"Leadership",children:"Leadership"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),s.jsxs("select",{value:V.status,onChange:P=>F({...V,status:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"To Watch",children:"To Watch"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Implementing",children:"Implementing"}),s.jsx("option",{value:"Archived",children:"Archived"}),s.jsx("option",{value:"Vault",children:"Vault"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),s.jsxs("select",{value:V.priority,onChange:P=>F({...V,priority:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Time (minutes)"}),s.jsx("input",{type:"number",value:V.time_to_consume||"",onChange:P=>F({...V,time_to_consume:P.target.value?parseInt(P.target.value):null}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"30"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Creator"}),s.jsx("input",{type:"text",value:V.creator||"",onChange:P=>F({...V,creator:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Author, YouTuber, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Agent"}),s.jsx(HT,{selectedAgent:V.agent,onChange:P=>F({...V,agent:P})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags (comma separated)"}),s.jsx("input",{type:"text",value:V.tags?.join(", ")||"",onChange:P=>F({...V,tags:Zd(P.target.value)}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"react, typescript, tutorial"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Folder"}),s.jsx("input",{type:"text",value:V.folder||"",onChange:P=>F({...V,folder:P.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional folder name"})]}),s.jsx(UT,{selectedAreas:V.dashboard_areas||[],onChange:P=>F({...V,dashboard_areas:P})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"AI Summary"}),s.jsx("textarea",{value:V.ai_summary||"",onChange:P=>F({...V,ai_summary:P.target.value}),rows:3,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 italic",placeholder:"AI-generated summary will appear here, or add your own..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled by AI or manually entered"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),s.jsx("textarea",{value:V.notes,onChange:P=>F({...V,notes:P.target.value}),rows:4,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add notes about this content..."})]}),s.jsx(qT,{value:V.value_rating||null,onChange:P=>F({...V,value_rating:P})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"TG Rating (1-10)"}),s.jsx("input",{type:"number",min:"1",max:"10",value:V.tg_rating||"",onChange:P=>F({...V,tg_rating:P.target.value?parseInt(P.target.value):null}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1-10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Google LLM"}),s.jsxs("select",{value:V.google_llm?"yes":"no",onChange:P=>F({...V,google_llm:P.target.value==="yes"}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"no",children:"No"}),s.jsx("option",{value:"yes",children:"Yes"})]})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:V.is_favorite,onChange:P=>F({...V,is_favorite:P.target.checked}),className:"rounded border-gray-600"}),s.jsx(yo,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Mark as favorite"})]})})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-6 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>{b(!1),_r()},className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:fe,disabled:!V.title||!V.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})]})]})})}),s.jsx(BH,{isOpen:O,onClose:()=>D(!1),content:C,businesses:d,onEdit:()=>{D(!1),b(!0)},onDelete:async P=>{try{const{error:oe}=await X.from("content_library").delete().eq("id",P);if(oe)throw oe;L(),D(!1)}catch(oe){console.error("Error deleting content:",oe),alert("Failed to delete content")}},onUpdate:async(P,oe)=>{try{const{error:ve}=await X.from("content_library").update(oe).eq("id",P);if(ve)throw ve;L(),C?.id===P&&E({...C,...oe})}catch(ve){console.error("Error updating content:",ve),alert("Failed to update content")}}}),s.jsx(WH,{isOpen:w,onClose:()=>b(!1),content:C,businesses:d,onSave:async(P,oe)=>{try{const{error:ve}=await X.from("content_library").update(oe).eq("id",P);if(ve)throw ve;L(),C?.id===P&&E({...C,...oe})}catch(ve){console.error("Error updating content:",ve),alert("Failed to update content")}}}),s.jsx(LH,{isOpen:v,onClose:()=>j(!1),onSave:async P=>{const{data:{session:oe}}=await X.auth.getSession();if(!oe)return;const ve={...P,user_id:oe.user.id,saved_at:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log(" Saving content:",ve);const{data:Te,error:tt}=await X.from("content_library").insert([ve]).select();if(tt)throw console.error(" Error adding content:",tt),console.error("Error details:",tt.message,tt.details,tt.hint),tt;console.log(" Content saved successfully:",Te),t([...e,Te[0]])}})]})},Fl=()=>Be({queryKey:["tasks"],queryFn:async()=>{const{data:e,error:t}=await X.from("tasks").select(`
          *,
          businesses(id, name, color, slug),
          projects(id, name, description),
          phases(id, name, description),
          life_areas(id, name, color, category)
        `).order("created_at",{ascending:!1});if(t)throw t;return e},staleTime:300*1e3}),A4=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("You must be logged in to create a task");const n={...t,user_id:r.id},{data:a,error:i}=await X.from("tasks").insert(n).select(`
          *,
          businesses(id, name, color, slug),
          projects(id, name, description),
          phases(id, name, description),
          life_areas(id, name, color, category)
        `).single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]})}})},Ul=()=>{const e=mt();return wt({mutationFn:async({id:t,updates:r,skipConflictCheck:n})=>{const a={...r};if(r.progress_percentage===100){const{data:u,error:d}=await X.from("tasks").select("hours_projected, hours_worked").eq("id",t).single();if(d)throw d;const f=u?.hours_projected||0,m=u?.hours_worked||0;a.hours_accuracy=Math.abs(f-m),f>0&&(m>f*1.1?a.estimation_accuracy="Underestimated":m<f*.9?a.estimation_accuracy="Overestimated":a.estimation_accuracy="Accurate")}const{data:i,error:l}=await X.from("tasks").update(a).eq("id",t).select().single();if(l)throw l;return i},onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["tasks"]});const n=e.getQueryData(["tasks"]);return e.setQueriesData({queryKey:["tasks"]},a=>a?.map(i=>i.id===t?{...i,...r}:i)),{previousTasks:n}},onError:(t,r,n)=>{n?.previousTasks&&e.setQueryData(["tasks"],n.previousTasks)},onSettled:()=>{e.invalidateQueries({queryKey:["tasks"]})}})},D4=()=>{const e=mt();return wt({mutationFn:async t=>{const{error:r}=await X.from("tasks").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]})}})},M4=6048e5,KH=864e5,bf=6e4,Tp=36e5,VH=1e3,_m=43200,KT=1440,VT=Symbol.for("constructDateFrom");function Dt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&VT in e?e[VT](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ze(e,t){return Dt(t||e,e)}function Ls(e,t,r){const n=Ze(e,r?.in);return isNaN(t)?Dt(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function P4(e,t,r){const n=Ze(e,r?.in);if(isNaN(t))return Dt(e,NaN);if(!t)return n;const a=n.getDate(),i=Dt(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const l=i.getDate();return a>=l?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function GH(e,t,r){return Dt(e,+Ze(e)+t)}function GT(e,t,r){return GH(e,t*Tp)}let QH={};function Ao(){return QH}function Er(e,t){const r=Ao(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Ze(e,t?.in),i=a.getDay(),l=(i<n?7:0)+i-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Cl(e,t){return Er(e,{...t,weekStartsOn:1})}function R4(e,t){const r=Ze(e,t?.in),n=r.getFullYear(),a=Dt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Cl(a),l=Dt(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=Cl(l);return r.getTime()>=i.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Xc(e){const t=Ze(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Oi(e,...t){const r=Dt.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Mn(e,t){const r=Ze(e,t?.in);return r.setHours(0,0,0,0),r}function _j(e,t,r){const[n,a]=Oi(r?.in,e,t),i=Mn(n),l=Mn(a),u=+i-Xc(i),d=+l-Xc(l);return Math.round((u-d)/KH)}function XH(e,t){const r=R4(e,t),n=Dt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Cl(n)}function Ep(e,t,r){const n=Ze(e,r?.in);return n.setTime(n.getTime()+t*bf),n}function Sj(e,t,r){return Ls(e,t*7,r)}function ZH(e,t,r){return P4(e,t*12,r)}function JH(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Dt.bind(null,a));const i=Ze(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Dt(n,r||NaN)}function eW(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Dt.bind(null,a));const i=Ze(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Dt(n,r||NaN)}function eg(e,t){const r=+Ze(e)-+Ze(t);return r<0?-1:r>0?1:r}function tW(e){return Dt(e,Date.now())}function I4(e,t,r){const[n,a]=Oi(r?.in,e,t);return+Mn(n)==+Mn(a)}function L4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rW(e){return!(!L4(e)&&typeof e!="number"||isNaN(+Ze(e)))}function $4(e,t,r){const[n,a]=Oi(r?.in,e,t),i=n.getFullYear()-a.getFullYear(),l=n.getMonth()-a.getMonth();return i*12+l}function nW(e,t,r){const[n,a]=Oi(r?.in,e,t),i=QT(n,a),l=Math.abs(_j(n,a));n.setDate(n.getDate()-i*l);const u=+(QT(n,a)===-i),d=i*(l-u);return d===0?0:d}function QT(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function B4(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function z4(e,t){return+Ze(e)-+Ze(t)}function Op(e,t,r){const n=z4(e,t)/bf;return B4(r?.roundingMethod)(n)}function Ap(e,t){const r=Ze(e,t?.in);return r.setHours(23,59,59,999),r}function Nj(e,t){const r=Ze(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function aW(e,t){const r=Ze(e,t?.in);return+Ap(r,t)==+Nj(r,t)}function sW(e,t,r){const[n,a,i]=Oi(r?.in,e,e,t),l=eg(a,i),u=Math.abs($4(a,i));if(u<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*u);let d=eg(a,i)===-l;aW(n)&&u===1&&eg(n,i)===1&&(d=!1);const f=l*(u-+d);return f===0?0:f}function iW(e,t,r){const n=z4(e,t)/1e3;return B4(r?.roundingMethod)(n)}function F4(e,t){const[r,n]=Oi(e,t.start,t.end);return{start:r,end:n}}function oW(e,t){const{start:r,end:n}=F4(t?.in,e);let a=+r>+n;const i=a?+r:+n,l=a?n:r;l.setHours(0,0,0,0),l.setDate(1);let u=1;const d=[];for(;+l<=i;)d.push(Dt(r,l)),l.setMonth(l.getMonth()+u);return a?d.reverse():d}function U4(e,t){const r=Ze(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function lW(e,t){const r=Ze(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function q4(e,t){const r=Ze(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function cW(e,t){const{start:r,end:n}=F4(t?.in,e);let a=+r>+n;const i=a?+r:+n,l=a?n:r;l.setHours(0,0,0,0),l.setMonth(0,1);let u=1;const d=[];for(;+l<=i;)d.push(Dt(r,l)),l.setFullYear(l.getFullYear()+u);return a?d.reverse():d}function xo(e,t){const r=Ao(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Ze(e,t?.in),i=a.getDay(),l=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function uW(e,t){return xo(e,{...t,weekStartsOn:1})}const dW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fW=(e,t,r)=>{let n;const a=dW[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const hW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pW={date:vv({formats:hW,defaultWidth:"full"}),time:vv({formats:mW,defaultWidth:"full"}),dateTime:vv({formats:gW,defaultWidth:"full"})},yW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xW=(e,t,r,n)=>yW[e];function _d(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):l;a=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const vW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_W={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NW=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kW={ordinalNumber:NW,era:_d({values:vW,defaultWidth:"wide"}),quarter:_d({values:bW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_d({values:wW,defaultWidth:"wide"}),day:_d({values:jW,defaultWidth:"wide"}),dayPeriod:_d({values:_W,defaultWidth:"wide",formattingValues:SW,defaultFormattingWidth:"wide"})};function Sd(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const l=i[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?TW(u,g=>g.test(l)):CW(u,g=>g.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(l.length);return{value:f,rest:m}}}function CW(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function TW(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function EW(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(a.length);return{value:l,rest:u}}}const OW=/^(\d+)(th|st|nd|rd)?/i,AW=/\d+/i,DW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MW={any:[/^b/i,/^(a|c)/i]},PW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RW={any:[/1/i,/2/i,/3/i,/4/i]},IW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$W={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},UW={ordinalNumber:EW({matchPattern:OW,parsePattern:AW,valueCallback:e=>parseInt(e,10)}),era:Sd({matchPatterns:DW,defaultMatchWidth:"wide",parsePatterns:MW,defaultParseWidth:"any"}),quarter:Sd({matchPatterns:PW,defaultMatchWidth:"wide",parsePatterns:RW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sd({matchPatterns:IW,defaultMatchWidth:"wide",parsePatterns:LW,defaultParseWidth:"any"}),day:Sd({matchPatterns:$W,defaultMatchWidth:"wide",parsePatterns:BW,defaultParseWidth:"any"}),dayPeriod:Sd({matchPatterns:zW,defaultMatchWidth:"any",parsePatterns:FW,defaultParseWidth:"any"})},wf={code:"en-US",formatDistance:fW,formatLong:pW,formatRelative:xW,localize:kW,match:UW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qW(e,t){const r=Ze(e,t?.in);return _j(r,q4(r))+1}function kj(e,t){const r=Ze(e,t?.in),n=+Cl(r)-+XH(r);return Math.round(n/M4)+1}function Cj(e,t){const r=Ze(e,t?.in),n=r.getFullYear(),a=Ao(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Dt(t?.in||e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const u=Er(l,t),d=Dt(t?.in||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const f=Er(d,t);return+r>=+u?n+1:+r>=+f?n:n-1}function HW(e,t){const r=Ao(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Cj(e,t),i=Dt(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Er(i,t)}function Tj(e,t){const r=Ze(e,t?.in),n=+Er(r,t)-+HW(r,t);return Math.round(n/M4)+1}function Ft(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const oo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ft(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ft(r+1,2)},d(e,t){return Ft(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ft(e.getHours()%12||12,t.length)},H(e,t){return Ft(e.getHours(),t.length)},m(e,t){return Ft(e.getMinutes(),t.length)},s(e,t){return Ft(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ft(a,t.length)}},Dc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XT={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return oo.y(e,t)},Y:function(e,t,r,n){const a=Cj(e,n),i=a>0?a:1-a;if(t==="YY"){const l=i%100;return Ft(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ft(i,t.length)},R:function(e,t){const r=R4(e);return Ft(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ft(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ft(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ft(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return oo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ft(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Tj(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ft(a,t.length)},I:function(e,t,r){const n=kj(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ft(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):oo.d(e,t)},D:function(e,t,r){const n=qW(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ft(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ft(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ft(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ft(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Dc.noon:n===0?a=Dc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Dc.evening:n>=12?a=Dc.afternoon:n>=4?a=Dc.morning:a=Dc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return oo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):oo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ft(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ft(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):oo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):oo.s(e,t)},S:function(e,t){return oo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return JT(n);case"XXXX":case"XX":return ol(n);case"XXXXX":case"XXX":default:return ol(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return JT(n);case"xxxx":case"xx":return ol(n);case"xxxxx":case"xxx":default:return ol(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ZT(n,":");case"OOOO":default:return"GMT"+ol(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ZT(n,":");case"zzzz":default:return"GMT"+ol(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ft(n,t.length)},T:function(e,t,r){return Ft(+e,t.length)}};function ZT(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Ft(i,2)}function JT(e,t){return e%60===0?(e>0?"-":"+")+Ft(Math.abs(e)/60,2):ol(e,t)}function ol(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ft(Math.trunc(n/60),2),i=Ft(n%60,2);return r+a+t+i}const eE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},H4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},WW=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return eE(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",eE(n,t)).replace("{{time}}",H4(a,t))},Bw={p:H4,P:WW},YW=/^D+$/,KW=/^Y+$/,VW=["D","DD","YY","YYYY"];function W4(e){return YW.test(e)}function Y4(e){return KW.test(e)}function zw(e,t,r){const n=GW(e,t,r);if(console.warn(n),VW.includes(e))throw new RangeError(n)}function GW(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZW=/^'([^]*?)'?$/,JW=/''/g,eY=/[a-zA-Z]/;function Ne(e,t,r){const n=Ao(),a=r?.locale??n.locale??wf,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Ze(e,r?.in);if(!rW(u))throw new RangeError("Invalid time value");let d=t.match(XW).map(m=>{const g=m[0];if(g==="p"||g==="P"){const x=Bw[g];return x(m,a.formatLong)}return m}).join("").match(QW).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:tY(m)};if(XT[g])return{isToken:!0,value:m};if(g.match(eY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return d.map(m=>{if(!m.isToken)return m.value;const g=m.value;(!r?.useAdditionalWeekYearTokens&&Y4(g)||!r?.useAdditionalDayOfYearTokens&&W4(g))&&zw(g,t,String(e));const x=XT[g[0]];return x(u,g,a.localize,f)}).join("")}function tY(e){const t=e.match(ZW);return t?t[1].replace(JW,"'"):e}function rY(e,t,r){const n=Ao(),a=r?.locale??n.locale??wf,i=2520,l=eg(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:l}),[d,f]=Oi(r?.in,...l>0?[t,e]:[e,t]),m=iW(f,d),g=(Xc(f)-Xc(d))/1e3,x=Math.round((m-g)/60);let v;if(x<2)return r?.includeSeconds?m<5?a.formatDistance("lessThanXSeconds",5,u):m<10?a.formatDistance("lessThanXSeconds",10,u):m<20?a.formatDistance("lessThanXSeconds",20,u):m<40?a.formatDistance("halfAMinute",0,u):m<60?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",1,u):x===0?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",x,u);if(x<45)return a.formatDistance("xMinutes",x,u);if(x<90)return a.formatDistance("aboutXHours",1,u);if(x<KT){const j=Math.round(x/60);return a.formatDistance("aboutXHours",j,u)}else{if(x<i)return a.formatDistance("xDays",1,u);if(x<_m){const j=Math.round(x/KT);return a.formatDistance("xDays",j,u)}else if(x<_m*2)return v=Math.round(x/_m),a.formatDistance("aboutXMonths",v,u)}if(v=sW(f,d),v<12){const j=Math.round(x/_m);return a.formatDistance("xMonths",j,u)}else{const j=v%12,w=Math.trunc(v/12);return j<3?a.formatDistance("aboutXYears",w,u):j<9?a.formatDistance("overXYears",w,u):a.formatDistance("almostXYears",w+1,u)}}function Ej(e,t){return rY(e,tW(e),t)}function nY(e,t){const r=Ze(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=Dt(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function aY(){return Object.assign({},Ao())}function sY(e,t){const r=Ze(e,t?.in).getDay();return r===0?7:r}function iY(e,t){return Ze(e,t?.in).getMonth()}function oY(e,t){return Ze(e,t?.in).getFullYear()}function lY(e,t){return+Ze(e)>+Ze(t)}function cY(e,t){return+Ze(e)<+Ze(t)}function uY(e,t){const r=dY(t)?new t(0):Dt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function dY(e){return typeof e=="function"&&e.prototype?.constructor===e}const fY=10;class K4{subPriority=0;validate(t,r){return!0}}class hY extends K4{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class mY extends K4{priority=fY;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>Dt(r,n))}set(t,r){return r.timestampIsSet?t:Dt(t,uY(t,this.context))}}class Lt{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new hY(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class gY extends Lt{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Cr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Os={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tr(e,t){return e&&{value:t(e.value),rest:e.rest}}function pr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function As(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,l=r[5]?parseInt(r[5],10):0;return{value:n*(a*Tp+i*bf+l*VH),rest:t.slice(r[0].length)}}function V4(e){return pr(Cr.anyDigitsSigned,e)}function jr(e,t){switch(e){case 1:return pr(Cr.singleDigit,t);case 2:return pr(Cr.twoDigits,t);case 3:return pr(Cr.threeDigits,t);case 4:return pr(Cr.fourDigits,t);default:return pr(new RegExp("^\\d{1,"+e+"}"),t)}}function gg(e,t){switch(e){case 1:return pr(Cr.singleDigitSigned,t);case 2:return pr(Cr.twoDigitsSigned,t);case 3:return pr(Cr.threeDigitsSigned,t);case 4:return pr(Cr.fourDigitsSigned,t);default:return pr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Oj(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function G4(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,l=Math.trunc(i/100)*100,u=e>=i%100;a=e+l-(u?100:0)}return r?a:1-a}function Q4(e){return e%400===0||e%4===0&&e%100!==0}class pY extends Lt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const a=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return Tr(jr(4,t),a);case"yo":return Tr(n.ordinalNumber(t,{unit:"year"}),a);default:return Tr(jr(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const a=t.getFullYear();if(n.isTwoDigitYear){const l=G4(n.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const i=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class yY extends Lt{priority=130;parse(t,r,n){const a=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Tr(jr(4,t),a);case"Yo":return Tr(n.ordinalNumber(t,{unit:"year"}),a);default:return Tr(jr(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,a){const i=Cj(t,a);if(n.isTwoDigitYear){const u=G4(n.year,i);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Er(t,a)}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Er(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class xY extends Lt{priority=130;parse(t,r){return gg(r==="R"?4:r.length,t)}set(t,r,n){const a=Dt(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Cl(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class vY extends Lt{priority=130;parse(t,r){return gg(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class bY extends Lt{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return jr(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class wY extends Lt{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return jr(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class jY extends Lt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const a=i=>i-1;switch(r){case"M":return Tr(pr(Cr.month,t),a);case"MM":return Tr(jr(2,t),a);case"Mo":return Tr(n.ordinalNumber(t,{unit:"month"}),a);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class _Y extends Lt{priority=110;parse(t,r,n){const a=i=>i-1;switch(r){case"L":return Tr(pr(Cr.month,t),a);case"LL":return Tr(jr(2,t),a);case"Lo":return Tr(n.ordinalNumber(t,{unit:"month"}),a);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function SY(e,t,r){const n=Ze(e,r?.in),a=Tj(n,r)-t;return n.setDate(n.getDate()-a*7),Ze(n,r?.in)}class NY extends Lt{priority=100;parse(t,r,n){switch(r){case"w":return pr(Cr.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return jr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,a){return Er(SY(t,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function kY(e,t,r){const n=Ze(e,r?.in),a=kj(n,r)-t;return n.setDate(n.getDate()-a*7),n}class CY extends Lt{priority=100;parse(t,r,n){switch(r){case"I":return pr(Cr.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return jr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return Cl(kY(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const TY=[31,28,31,30,31,30,31,31,30,31,30,31],EY=[31,29,31,30,31,30,31,31,30,31,30,31];class OY extends Lt{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return pr(Cr.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return jr(r.length,t)}}validate(t,r){const n=t.getFullYear(),a=Q4(n),i=t.getMonth();return a?r>=1&&r<=EY[i]:r>=1&&r<=TY[i]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class AY extends Lt{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return pr(Cr.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return jr(r.length,t)}}validate(t,r){const n=t.getFullYear();return Q4(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Aj(e,t,r){const n=Ao(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Ze(e,r?.in),l=i.getDay(),d=(t%7+7)%7,f=7-a,m=t<0||t>6?t-(l+f)%7:(d+f)%7-(l+f)%7;return Ls(i,m,r)}class DY extends Lt{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=Aj(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class MY extends Lt{priority=90;parse(t,r,n,a){const i=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return Tr(jr(r.length,t),i);case"eo":return Tr(n.ordinalNumber(t,{unit:"day"}),i);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=Aj(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class PY extends Lt{priority=90;parse(t,r,n,a){const i=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return Tr(jr(r.length,t),i);case"co":return Tr(n.ordinalNumber(t,{unit:"day"}),i);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=Aj(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function RY(e,t,r){const n=Ze(e,r?.in),a=sY(n,r),i=t-a;return Ls(n,i,r)}class IY extends Lt{priority=90;parse(t,r,n){const a=i=>i===0?7:i;switch(r){case"i":case"ii":return jr(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return Tr(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Tr(n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Tr(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Tr(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=RY(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class LY extends Lt{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(Oj(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class $Y extends Lt{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(Oj(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class BY extends Lt{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(Oj(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class zY extends Lt{priority=70;parse(t,r,n){switch(r){case"h":return pr(Cr.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return jr(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const a=t.getHours()>=12;return a&&n<12?t.setHours(n+12,0,0,0):!a&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class FY extends Lt{priority=70;parse(t,r,n){switch(r){case"H":return pr(Cr.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return jr(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class UY extends Lt{priority=70;parse(t,r,n){switch(r){case"K":return pr(Cr.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return jr(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class qY extends Lt{priority=70;parse(t,r,n){switch(r){case"k":return pr(Cr.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return jr(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const a=n<=24?n%24:n;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class HY extends Lt{priority=60;parse(t,r,n){switch(r){case"m":return pr(Cr.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return jr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class WY extends Lt{priority=50;parse(t,r,n){switch(r){case"s":return pr(Cr.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return jr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class YY extends Lt{priority=30;parse(t,r){const n=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Tr(jr(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class KY extends Lt{priority=10;parse(t,r){switch(r){case"X":return As(Os.basicOptionalMinutes,t);case"XX":return As(Os.basic,t);case"XXXX":return As(Os.basicOptionalSeconds,t);case"XXXXX":return As(Os.extendedOptionalSeconds,t);case"XXX":default:return As(Os.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Dt(t,t.getTime()-Xc(t)-n)}incompatibleTokens=["t","T","x"]}class VY extends Lt{priority=10;parse(t,r){switch(r){case"x":return As(Os.basicOptionalMinutes,t);case"xx":return As(Os.basic,t);case"xxxx":return As(Os.basicOptionalSeconds,t);case"xxxxx":return As(Os.extendedOptionalSeconds,t);case"xxx":default:return As(Os.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Dt(t,t.getTime()-Xc(t)-n)}incompatibleTokens=["t","T","X"]}class GY extends Lt{priority=40;parse(t){return V4(t)}set(t,r,n){return[Dt(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class QY extends Lt{priority=20;parse(t){return V4(t)}set(t,r,n){return[Dt(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const XY={G:new gY,y:new pY,Y:new yY,R:new xY,u:new vY,Q:new bY,q:new wY,M:new jY,L:new _Y,w:new NY,I:new CY,d:new OY,D:new AY,E:new DY,e:new MY,c:new PY,i:new IY,a:new LY,b:new $Y,B:new BY,h:new zY,H:new FY,K:new UY,k:new qY,m:new HY,s:new WY,S:new YY,X:new KY,x:new VY,t:new GY,T:new QY},ZY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eK=/^'([^]*?)'?$/,tK=/''/g,rK=/\S/,nK=/[a-zA-Z]/;function tE(e,t,r,n){const a=()=>Dt(r,NaN),i=aY(),l=i.locale??wf,u=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f={firstWeekContainsDate:u,weekStartsOn:d,locale:l},m=[new mY(n?.in,r)],g=t.match(JY).map(b=>{const S=b[0];if(S in Bw){const k=Bw[S];return k(b,l.formatLong)}return b}).join("").match(ZY),x=[];for(let b of g){Y4(b)&&zw(b,t,e),W4(b)&&zw(b,t,e);const S=b[0],k=XY[S];if(k){const{incompatibleTokens:C}=k;if(Array.isArray(C)){const O=x.find(D=>C.includes(D.token)||D.token===S);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${b}\` at the same time`)}else if(k.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);x.push({token:S,fullToken:b});const E=k.run(e,b,l.match,f);if(!E)return a();m.push(E.setter),e=E.rest}else{if(S.match(nK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(b==="''"?b="'":S==="'"&&(b=aK(b)),e.indexOf(b)===0)e=e.slice(b.length);else return a()}}if(e.length>0&&rK.test(e))return a();const v=m.map(b=>b.priority).sort((b,S)=>S-b).filter((b,S,k)=>k.indexOf(b)===S).map(b=>m.filter(S=>S.priority===b).sort((S,k)=>k.subPriority-S.subPriority)).map(b=>b[0]);let j=Ze(r,n?.in);if(isNaN(+j))return a();const w={};for(const b of v){if(!b.validate(j,f))return a();const S=b.set(j,w,f);Array.isArray(S)?(j=S[0],Object.assign(w,S[1])):j=S}return j}function aK(e){return e.match(eK)[1].replace(tK,"'")}function sK(e,t,r){const[n,a]=Oi(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function iK(e,t,r){const[n,a]=Oi(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function Sm(e,t,r){const n=+Ze(e,r?.in),[a,i]=[+Ze(t.start,r?.in),+Ze(t.end,r?.in)].sort((l,u)=>l-u);return n>=a&&n<=i}function pg(e,t,r){return Ls(e,-t,r)}function Ct(e,t){const r=()=>Dt(t?.in,NaN),a=uK(e);let i;if(a.date){const f=dK(a.date,2);i=fK(f.restDateString,f.year)}if(!i||isNaN(+i))return r();const l=+i;let u=0,d;if(a.time&&(u=hK(a.time),isNaN(u)))return r();if(a.timezone){if(d=mK(a.timezone),isNaN(d))return r()}else{const f=new Date(l+u),m=Ze(0,t?.in);return m.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),m.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),m}return Ze(l+u+d,t?.in)}const Nm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},oK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function uK(e){const t={},r=e.split(Nm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Nm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Nm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Nm.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function dK(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function fK(e,t){if(t===null)return new Date(NaN);const r=e.match(oK);if(!r)return new Date(NaN);const n=!!r[4],a=Nd(r[1]),i=Nd(r[2])-1,l=Nd(r[3]),u=Nd(r[4]),d=Nd(r[5])-1;if(n)return vK(t,u,d)?gK(t,u,d):new Date(NaN);{const f=new Date(0);return!yK(t,i,l)||!xK(t,a)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(a,l)),f)}}function Nd(e){return e?parseInt(e):1}function hK(e){const t=e.match(lK);if(!t)return NaN;const r=bv(t[1]),n=bv(t[2]),a=bv(t[3]);return bK(r,n,a)?r*Tp+n*bf+a*1e3:NaN}function bv(e){return e&&parseFloat(e.replace(",","."))||0}function mK(e){if(e==="Z")return 0;const t=e.match(cK);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return wK(n,a)?r*(n*Tp+a*bf):NaN}function gK(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const pK=[31,null,31,30,31,30,31,31,30,31,30,31];function X4(e){return e%400===0||e%4===0&&e%100!==0}function yK(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(pK[t]||(X4(e)?29:28))}function xK(e,t){return t>=1&&t<=(X4(e)?366:365)}function vK(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function bK(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function wK(e,t){return t>=0&&t<=59}function jK(e,t,r){const n=Ze(e,r?.in),a=n.getFullYear(),i=n.getDate(),l=Dt(e,0);l.setFullYear(a,t,15),l.setHours(0,0,0,0);const u=nY(l);return n.setMonth(t,Math.min(i,u)),n}function _K(e,t,r){const n=Ze(e,r?.in);return isNaN(+n)?Dt(e,NaN):(n.setFullYear(t),n)}function SK(e,t,r){return Sj(e,-1,r)}const NK=(e,t)=>Be({queryKey:["calendar-view",Ne(e,"yyyy-MM-dd"),Ne(t,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.rpc("get_calendar_view",{p_user_id:r.id,p_start_date:Ne(e,"yyyy-MM-dd"),p_end_date:Ne(t,"yyyy-MM-dd")});if(a)throw a;return n||[]},staleTime:120*1e3,refetchInterval:120*1e3}),Z4=e=>Be({queryKey:["daily-schedule",Ne(e,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("get_daily_schedule",{p_user_id:t.id,p_date:Ne(e,"yyyy-MM-dd")});if(n)throw n;return r||[]},staleTime:60*1e3,refetchInterval:60*1e3}),kK=e=>Be({queryKey:["weekly-calendar-summary",Ne(e,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("get_weekly_calendar_summary",{p_user_id:t.id,p_week_start:Ne(e,"yyyy-MM-dd")});if(n)throw n;return r||[]},staleTime:120*1e3,refetchInterval:120*1e3}),CK=e=>Be({queryKey:["unscheduled-tasks",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");console.log("[useUnscheduledTasks] Fetching for user:",t.id,"area:",e);const{data:r,error:n}=await X.rpc("get_unscheduled_tasks",{p_user_id:t.id,p_area:e||null});if(n)throw console.error("[useUnscheduledTasks] Error:",n),n;return console.log("[useUnscheduledTasks] Received data:",r),r||[]},staleTime:60*1e3,refetchInterval:60*1e3}),TK=(e,t,r,n)=>Be({queryKey:["time-block-conflicts",Ne(e,"yyyy-MM-dd"),t,r,n],queryFn:async()=>{const{data:{user:a}}=await X.auth.getUser();if(!a)throw new Error("Not authenticated");const{data:i,error:l}=await X.rpc("check_time_block_conflicts",{p_user_id:a.id,p_scheduled_date:Ne(e,"yyyy-MM-dd"),p_start_time:t,p_end_time:r,p_exclude_block_id:null});if(l)throw l;return i||[]},enabled:!!t&&!!r}),EK=(e,t)=>Be({queryKey:["task-scheduling-analytics",Ne(e,"yyyy-MM-dd"),Ne(t,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.rpc("get_task_scheduling_analytics",{p_user_id:r.id,p_start_date:Ne(e,"yyyy-MM-dd"),p_end_date:Ne(t,"yyyy-MM-dd")});if(a)throw a;return n||[]},staleTime:300*1e3}),Dp=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.from("task_time_blocks").insert({user_id:r.id,task_id:t.taskId,scheduled_date:Ne(t.scheduledDate,"yyyy-MM-dd"),start_time:t.startTime,end_time:t.endTime,planned_duration_minutes:t.plannedDurationMinutes,notes:t.notes||null,status:"scheduled"}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["weekly-calendar-summary"]}),e.invalidateQueries({queryKey:["unscheduled-tasks"]}),e.invalidateQueries({queryKey:["task-time-blocks"]}),e.invalidateQueries({queryKey:["task-has-time-blocks"]})}})},Dj=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:r,error:n}=await X.from("task_time_blocks").update(t.updates).eq("id",t.blockId).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["weekly-calendar-summary"]}),e.invalidateQueries({queryKey:["task-scheduling-analytics"]}),e.invalidateQueries({queryKey:["task-time-blocks"]}),e.invalidateQueries({queryKey:["task-has-time-blocks"]})}})},J4=()=>{const e=mt();return wt({mutationFn:async t=>{const{error:r}=await X.from("task_time_blocks").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["weekly-calendar-summary"]}),e.invalidateQueries({queryKey:["unscheduled-tasks"]}),e.invalidateQueries({queryKey:["task-time-blocks"]}),e.invalidateQueries({queryKey:["task-has-time-blocks"]})}})},OK=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:r,error:n}=await X.from("task_time_blocks").update({status:"completed",actual_duration_minutes:t.actualDurationMinutes}).eq("id",t.blockId).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["task-scheduling-analytics"]})}})},AK=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:r,error:n}=await X.from("task_time_blocks").update({status:"in_progress"}).eq("id",t).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]})}})},DK=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:r,error:n}=await X.from("task_time_blocks").update({status:"cancelled"}).eq("id",t).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-view"]}),e.invalidateQueries({queryKey:["daily-schedule"]}),e.invalidateQueries({queryKey:["unscheduled-tasks"]})}})};class MK{logs=[];maxLogs=100;log(t){const r={...t,timestamp:new Date().toISOString()};this.logs.unshift(r),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(0,this.maxLogs))}logSuccess(t,r,n){this.log({taskId:r,operation:t,success:!0,details:n})}logError(t,r,n,a){this.log({taskId:r,operation:t,success:!1,error:n,details:a})}getLogs(){return[...this.logs]}getRecentErrors(t=10){return this.logs.filter(r=>!r.success).slice(0,t)}clearLogs(){this.logs=[]}}const za=new MK,e3=e=>{const t=mt();y.useEffect(()=>{if(!e)return;const r=X.channel("tasks-changes").on("postgres_changes",{event:"*",schema:"public",table:"tasks",filter:`user_id=eq.${e}`},i=>{console.log("[Real-time] Tasks change detected:",i);try{const l=i.new,u=i.old,d=l?.id||u?.id||null,f=i.eventType;za.logSuccess(f,d,{table:i.table,eventType:i.eventType}),t.invalidateQueries({queryKey:["tasks"]}),(i.eventType==="UPDATE"||i.eventType==="DELETE")&&d&&t.invalidateQueries({queryKey:["tasks",d]})}catch(l){const u=i.new,d=i.old;za.logError("SYNC_ERROR",u?.id||d?.id||null,l?.message||"Unknown sync error",{payload:i,error:l}),console.error("[Real-time] Sync error:",l)}}).subscribe(i=>{console.log("[Real-time] Tasks subscription status:",i),i==="SUBSCRIBED"?za.logSuccess("INSERT","system",{message:"Tasks real-time subscription active"}):(i==="CHANNEL_ERROR"||i==="TIMED_OUT"||i==="CLOSED")&&za.logError("SYNC_ERROR",null,`Tasks subscription status: ${i}`,{status:i})}),n=X.channel("deep-work-sessions-changes").on("postgres_changes",{event:"*",schema:"public",table:"deep_work_sessions",filter:`user_id=eq.${e}`},i=>{console.log("[Real-time] Deep Work Sessions change detected:",i);try{const l=i.new,u=i.old,d=l?.id||u?.id||null,f=i.eventType;if(za.logSuccess(f,d,{table:i.table,eventType:i.eventType}),t.invalidateQueries({queryKey:["deep-work-sessions"]}),t.invalidateQueries({queryKey:["time-allocation"]}),f==="UPDATE"&&l?.status==="completed"){const m=new Date(l.start_time);t.invalidateQueries({queryKey:["time-allocation","daily"]}),t.invalidateQueries({queryKey:["time-allocation","weekly"]}),t.invalidateQueries({queryKey:["time-allocation","monthly"]})}}catch(l){const u=i.new,d=i.old;za.logError("SYNC_ERROR",u?.id||d?.id||null,l?.message||"Unknown sync error",{payload:i,error:l}),console.error("[Real-time] Deep Work sync error:",l)}}).subscribe(i=>{console.log("[Real-time] Deep Work subscription status:",i),i==="SUBSCRIBED"?za.logSuccess("INSERT","system",{message:"Deep Work Sessions real-time subscription active"}):(i==="CHANNEL_ERROR"||i==="TIMED_OUT"||i==="CLOSED")&&za.logError("SYNC_ERROR",null,`Deep Work subscription status: ${i}`,{status:i})}),a=X.channel("task-time-blocks-changes").on("postgres_changes",{event:"*",schema:"public",table:"task_time_blocks",filter:`user_id=eq.${e}`},i=>{console.log("[Real-time] Task Time Blocks change detected:",i);try{const l=i.new,u=i.old,d=l?.id||u?.id||null,f=i.eventType;za.logSuccess(f,d,{table:i.table,eventType:i.eventType}),t.invalidateQueries({queryKey:["calendar-view"]}),t.invalidateQueries({queryKey:["weekly-calendar-summary"]}),t.invalidateQueries({queryKey:["daily-schedule"]}),(i.eventType==="UPDATE"||i.eventType==="DELETE")&&d&&t.invalidateQueries({queryKey:["time-block",d]});const m=l?.task_id||u?.task_id;m&&t.invalidateQueries({queryKey:["tasks",m]})}catch(l){const u=i.new,d=i.old;za.logError("SYNC_ERROR",u?.id||d?.id||null,l?.message||"Unknown sync error",{payload:i,error:l}),console.error("[Real-time] Task Time Blocks sync error:",l)}}).subscribe(i=>{console.log("[Real-time] Task Time Blocks subscription status:",i),i==="SUBSCRIBED"?za.logSuccess("INSERT","system",{message:"Task Time Blocks real-time subscription active"}):(i==="CHANNEL_ERROR"||i==="TIMED_OUT"||i==="CLOSED")&&za.logError("SYNC_ERROR",null,`Task Time Blocks subscription status: ${i}`,{status:i})});return()=>{console.log("[Real-time] Unsubscribing from all channels"),X.removeChannel(r),X.removeChannel(n),X.removeChannel(a)}},[e,t])};function rE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ql(...e){return t=>{let r=!1;const n=e.map(a=>{const i=rE(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():rE(e[a],null)}}}}function Ht(...e){return y.useCallback(ql(...e),e)}var PK=Symbol.for("react.lazy"),yg=wp[" use ".trim().toString()];function RK(e){return typeof e=="object"&&e!==null&&"then"in e}function t3(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===PK&&"_payload"in e&&RK(e._payload)}function r3(e){const t=LK(e),r=y.forwardRef((n,a)=>{let{children:i,...l}=n;t3(i)&&typeof yg=="function"&&(i=yg(i._payload));const u=y.Children.toArray(i),d=u.find(BK);if(d){const f=d.props.children,m=u.map(g=>g===d?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return s.jsx(t,{...l,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,m):null})}return s.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var IK=r3("Slot");function LK(e){const t=y.forwardRef((r,n)=>{let{children:a,...i}=r;if(t3(a)&&typeof yg=="function"&&(a=yg(a._payload)),y.isValidElement(a)){const l=FK(a),u=zK(i,a.props);return a.type!==y.Fragment&&(u.ref=n?ql(n,l):l),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $K=Symbol("radix.slottable");function BK(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$K}function zK(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const d=i(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function FK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function n3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=n3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=n3(e))&&(n&&(n+=" "),n+=t);return n}const nE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aE=It,a3=(e,t)=>r=>{var n;if(t?.variants==null)return aE(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,l=Object.keys(a).map(f=>{const m=r?.[f],g=i?.[f];if(m===null)return null;const x=nE(m)||nE(g);return a[f][x]}),u=r&&Object.entries(r).reduce((f,m)=>{let[g,x]=m;return x===void 0||(f[g]=x),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,m)=>{let{class:g,className:x,...v}=m;return Object.entries(v).every(j=>{let[w,b]=j;return Array.isArray(b)?b.includes({...i,...u}[w]):{...i,...u}[w]===b})?[...f,g,x]:f},[]);return aE(e,l,d,r?.class,r?.className)},Mj="-",UK=e=>{const t=HK(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const u=l.split(Mj);return u[0]===""&&u.length!==1&&u.shift(),s3(u,t)||qK(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},s3=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?s3(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Mj);return t.validators.find(({validator:l})=>l(i))?.classGroupId},sE=/^\[(.+)\]$/,qK=e=>{if(sE.test(e)){const t=sE.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},HK=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)Fw(r[a],n,a,t);return n},Fw=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:iE(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(WK(a)){Fw(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,l])=>{Fw(l,iE(t,i),r,n)})})},iE=(e,t)=>{let r=e;return t.split(Mj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},WK=e=>e.isThemeGetter,YK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set(i,l){r.has(i)?r.set(i,l):a(i,l)}}},Uw="!",qw=":",KK=qw.length,VK=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let l=0,u=0,d=0,f;for(let j=0;j<a.length;j++){let w=a[j];if(l===0&&u===0){if(w===qw){i.push(a.slice(d,j)),d=j+KK;continue}if(w==="/"){f=j;continue}}w==="["?l++:w==="]"?l--:w==="("?u++:w===")"&&u--}const m=i.length===0?a:a.substring(d),g=GK(m),x=g!==m,v=f&&f>d?f-d:void 0;return{modifiers:i,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:v}};if(t){const a=t+qw,i=n;n=l=>l.startsWith(a)?i(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},GK=e=>e.endsWith(Uw)?e.substring(0,e.length-1):e.startsWith(Uw)?e.substring(1):e,QK=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(l=>{l[0]==="["||t[l]?(a.push(...i.sort(),l),i=[]):i.push(l)}),a.push(...i.sort()),a}},XK=e=>({cache:YK(e.cacheSize),parseClassName:VK(e),sortModifiers:QK(e),...UK(e)}),ZK=/\s+/,JK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,l=[],u=e.trim().split(ZK);let d="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{isExternal:g,modifiers:x,hasImportantModifier:v,baseClassName:j,maybePostfixModifierPosition:w}=r(m);if(g){d=m+(d.length>0?" "+d:d);continue}let b=!!w,S=n(b?j.substring(0,w):j);if(!S){if(!b){d=m+(d.length>0?" "+d:d);continue}if(S=n(j),!S){d=m+(d.length>0?" "+d:d);continue}b=!1}const k=i(x).join(":"),C=v?k+Uw:k,E=C+S;if(l.includes(E))continue;l.push(E);const O=a(S,b);for(let D=0;D<O.length;++D){const T=O[D];l.push(C+T)}d=m+(d.length>0?" "+d:d)}return d};function eV(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=i3(t))&&(n&&(n+=" "),n+=r);return n}const i3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=i3(e[n]))&&(r&&(r+=" "),r+=t);return r};function tV(e,...t){let r,n,a,i=l;function l(d){const f=t.reduce((m,g)=>g(m),e());return r=XK(f),n=r.cache.get,a=r.cache.set,i=u,u(d)}function u(d){const f=n(d);if(f)return f;const m=JK(d,r);return a(d,m),m}return function(){return i(eV.apply(null,arguments))}}const Ur=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},o3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,l3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rV=/^\d+\/\d+$/,nV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mc=e=>rV.test(e),ft=e=>!!e&&!Number.isNaN(Number(e)),lo=e=>!!e&&Number.isInteger(Number(e)),wv=e=>e.endsWith("%")&&ft(e.slice(0,-1)),fi=e=>nV.test(e),lV=()=>!0,cV=e=>aV.test(e)&&!sV.test(e),c3=()=>!1,uV=e=>iV.test(e),dV=e=>oV.test(e),fV=e=>!Pe(e)&&!Re(e),hV=e=>fu(e,f3,c3),Pe=e=>o3.test(e),al=e=>fu(e,h3,cV),jv=e=>fu(e,xV,ft),oE=e=>fu(e,u3,c3),mV=e=>fu(e,d3,dV),km=e=>fu(e,m3,uV),Re=e=>l3.test(e),kd=e=>hu(e,h3),gV=e=>hu(e,vV),lE=e=>hu(e,u3),pV=e=>hu(e,f3),yV=e=>hu(e,d3),Cm=e=>hu(e,m3,!0),fu=(e,t,r)=>{const n=o3.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},hu=(e,t,r=!1)=>{const n=l3.exec(e);return n?n[1]?t(n[1]):r:!1},u3=e=>e==="position"||e==="percentage",d3=e=>e==="image"||e==="url",f3=e=>e==="length"||e==="size"||e==="bg-size",h3=e=>e==="length",xV=e=>e==="number",vV=e=>e==="family-name",m3=e=>e==="shadow",bV=()=>{const e=Ur("color"),t=Ur("font"),r=Ur("text"),n=Ur("font-weight"),a=Ur("tracking"),i=Ur("leading"),l=Ur("breakpoint"),u=Ur("container"),d=Ur("spacing"),f=Ur("radius"),m=Ur("shadow"),g=Ur("inset-shadow"),x=Ur("text-shadow"),v=Ur("drop-shadow"),j=Ur("blur"),w=Ur("perspective"),b=Ur("aspect"),S=Ur("ease"),k=Ur("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...E(),Re,Pe],D=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],M=()=>[Re,Pe,d],I=()=>[Mc,"full","auto",...M()],$=()=>[lo,"none","subgrid",Re,Pe],B=()=>["auto",{span:["full",lo,Re,Pe]},lo,Re,Pe],z=()=>[lo,"auto",Re,Pe],Y=()=>["auto","min","max","fr",Re,Pe],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...M()],Z=()=>[Mc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],q=()=>[e,Re,Pe],U=()=>[...E(),lE,oE,{position:[Re,Pe]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",pV,hV,{size:[Re,Pe]}],ee=()=>[wv,kd,al],J=()=>["","none","full",f,Re,Pe],Q=()=>["",ft,kd,al],fe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[ft,wv,lE,oE],ke=()=>["","none",j,Re,Pe],se=()=>["none",ft,Re,Pe],pe=()=>["none",ft,Re,Pe],Ce=()=>[ft,Re,Pe],de=()=>[Mc,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fi],breakpoint:[fi],color:[lV],container:[fi],"drop-shadow":[fi],ease:["in","out","in-out"],font:[fV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fi],shadow:[fi],spacing:["px",ft],text:[fi],"text-shadow":[fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mc,Pe,Re,b]}],container:["container"],columns:[{columns:[ft,Pe,Re,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[lo,"auto",Re,Pe]}],basis:[{basis:[Mc,"full","auto",u,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Mc,"auto","initial","none",Pe]}],grow:[{grow:["",ft,Re,Pe]}],shrink:[{shrink:["",ft,Re,Pe]}],order:[{order:[lo,"first","last","none",Re,Pe]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[u,"screen",...Z()]}],"min-w":[{"min-w":[u,"screen","none",...Z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",r,kd,al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Re,jv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wv,Pe]}],"font-family":[{font:[gV,Pe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Re,Pe]}],"line-clamp":[{"line-clamp":[ft,"none",Re,jv]}],leading:[{leading:[i,...M()]}],"list-image":[{"list-image":["none",Re,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",Re,al]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[ft,"auto",Re,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lo,Re,Pe],radial:["",Re,Pe],conic:[lo,Re,Pe]},yV,mV]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,Re,Pe]}],"outline-w":[{outline:["",ft,kd,al]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",m,Cm,km]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",g,Cm,km]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[ft,al]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",x,Cm,km]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[ft,Re,Pe]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Re,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Pe]}],filter:[{filter:["","none",Re,Pe]}],blur:[{blur:ke()}],brightness:[{brightness:[ft,Re,Pe]}],contrast:[{contrast:[ft,Re,Pe]}],"drop-shadow":[{"drop-shadow":["","none",v,Cm,km]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",ft,Re,Pe]}],"hue-rotate":[{"hue-rotate":[ft,Re,Pe]}],invert:[{invert:["",ft,Re,Pe]}],saturate:[{saturate:[ft,Re,Pe]}],sepia:[{sepia:["",ft,Re,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Pe]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[ft,Re,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[ft,Re,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,Re,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,Re,Pe]}],"backdrop-invert":[{"backdrop-invert":["",ft,Re,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[ft,Re,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[ft,Re,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,Re,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",Re,Pe]}],ease:[{ease:["linear","initial",S,Re,Pe]}],delay:[{delay:[ft,Re,Pe]}],animate:[{animate:["none",k,Re,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Re,Pe]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[Re,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Pe]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[ft,kd,al,jv]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wV=tV(bV);function Ie(...e){return wV(It(e))}const Hw=a3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ae=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const l=n?IK:"button";return s.jsx(l,{className:Ie(Hw({variant:t,size:r,className:e})),ref:i,...a})});Ae.displayName="Button";const jn=y.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ie("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));jn.displayName="Input";var ja=vP();const jV=ts(ja);function Ww(e,[t,r]){return Math.min(r,Math.max(t,e))}function yt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function _V(e,t){const r=y.createContext(t),n=i=>{const{children:l,...u}=i,d=y.useMemo(()=>u,Object.values(u));return s.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function a(i){const l=y.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function mu(e,t=[]){let r=[];function n(i,l){const u=y.createContext(l),d=r.length;r=[...r,l];const f=g=>{const{scope:x,children:v,...j}=g,w=x?.[e]?.[d]||u,b=y.useMemo(()=>j,Object.values(j));return s.jsx(w.Provider,{value:b,children:v})};f.displayName=i+"Provider";function m(g,x){const v=x?.[e]?.[d]||u,j=y.useContext(v);if(j)return j;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[f,m]}const a=()=>{const i=r.map(l=>y.createContext(l));return function(u){const d=u?.[e]||i;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return a.scopeName=e,[n,SV(a,...t)]}function SV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((u,{useScope:d,scopeName:f})=>{const g=d(i)[`__scope${f}`];return{...u,...g}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function cE(e){const t=NV(e),r=y.forwardRef((n,a)=>{const{children:i,...l}=n,u=y.Children.toArray(i),d=u.find(CV);if(d){const f=d.props.children,m=u.map(g=>g===d?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return s.jsx(t,{...l,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,m):null})}return s.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function NV(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const l=EV(a),u=TV(i,a.props);return a.type!==y.Fragment&&(u.ref=n?ql(n,l):l),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kV=Symbol("radix.slottable");function CV(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kV}function TV(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const d=i(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function EV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function OV(e){const t=e+"CollectionProvider",[r,n]=mu(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:b,children:S}=w,k=_e.useRef(null),C=_e.useRef(new Map).current;return s.jsx(a,{scope:b,itemMap:C,collectionRef:k,children:S})};l.displayName=t;const u=e+"CollectionSlot",d=cE(u),f=_e.forwardRef((w,b)=>{const{scope:S,children:k}=w,C=i(u,S),E=Ht(b,C.collectionRef);return s.jsx(d,{ref:E,children:k})});f.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",x=cE(m),v=_e.forwardRef((w,b)=>{const{scope:S,children:k,...C}=w,E=_e.useRef(null),O=Ht(b,E),D=i(m,S);return _e.useEffect(()=>(D.itemMap.set(E,{ref:E,...C}),()=>void D.itemMap.delete(E))),s.jsx(x,{[g]:"",ref:O,children:k})});v.displayName=m;function j(w){const b=i(e+"CollectionConsumer",w);return _e.useCallback(()=>{const k=b.collectionRef.current;if(!k)return[];const C=Array.from(k.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((D,T)=>C.indexOf(D.ref.current)-C.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:f,ItemSlot:v},j,n]}var AV=y.createContext(void 0);function g3(e){const t=y.useContext(AV);return e||t||"ltr"}function DV(e){const t=MV(e),r=y.forwardRef((n,a)=>{const{children:i,...l}=n,u=y.Children.toArray(i),d=u.find(RV);if(d){const f=d.props.children,m=u.map(g=>g===d?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return s.jsx(t,{...l,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,m):null})}return s.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function MV(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const l=LV(a),u=IV(i,a.props);return a.type!==y.Fragment&&(u.ref=n?ql(n,l):l),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PV=Symbol("radix.slottable");function RV(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PV}function IV(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const d=i(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function LV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $V=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tt=$V.reduce((e,t)=>{const r=DV(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:l,...u}=a,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function BV(e,t){e&&ja.flushSync(()=>e.dispatchEvent(t))}function Gn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>t.current?.(...r),[])}function zV(e,t=globalThis?.document){const r=Gn(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var FV="DismissableLayer",Yw="dismissableLayer.update",UV="dismissableLayer.pointerDownOutside",qV="dismissableLayer.focusOutside",uE,p3=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mp=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...d}=e,f=y.useContext(p3),[m,g]=y.useState(null),x=m?.ownerDocument??globalThis?.document,[,v]=y.useState({}),j=Ht(t,T=>g(T)),w=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(b),k=m?w.indexOf(m):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,E=k>=S,O=YV(T=>{const M=T.target,I=[...f.branches].some($=>$.contains(M));!E||I||(a?.(T),l?.(T),T.defaultPrevented||u?.())},x),D=KV(T=>{const M=T.target;[...f.branches].some($=>$.contains(M))||(i?.(T),l?.(T),T.defaultPrevented||u?.())},x);return zV(T=>{k===f.layers.size-1&&(n?.(T),!T.defaultPrevented&&u&&(T.preventDefault(),u()))},x),y.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(uE=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),dE(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=uE)}},[m,x,r,f]),y.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),dE())},[m,f]),y.useEffect(()=>{const T=()=>v({});return document.addEventListener(Yw,T),()=>document.removeEventListener(Yw,T)},[]),s.jsx(Tt.div,{...d,ref:j,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:yt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:yt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:yt(e.onPointerDownCapture,O.onPointerDownCapture)})});Mp.displayName=FV;var HV="DismissableLayerBranch",WV=y.forwardRef((e,t)=>{const r=y.useContext(p3),n=y.useRef(null),a=Ht(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Tt.div,{...e,ref:a})});WV.displayName=HV;function YV(e,t=globalThis?.document){const r=Gn(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=u=>{if(u.target&&!n.current){let d=function(){y3(UV,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function KV(e,t=globalThis?.document){const r=Gn(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&y3(qV,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function dE(){const e=new CustomEvent(Yw);document.dispatchEvent(e)}function y3(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?BV(a,i):a.dispatchEvent(i)}var _v=0;function Pj(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fE()),document.body.insertAdjacentElement("beforeend",e[1]??fE()),_v++,()=>{_v===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_v--}},[])}function fE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sv="focusScope.autoFocusOnMount",Nv="focusScope.autoFocusOnUnmount",hE={bubbles:!1,cancelable:!0},VV="FocusScope",Pp=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[u,d]=y.useState(null),f=Gn(a),m=Gn(i),g=y.useRef(null),x=Ht(t,w=>d(w)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let w=function(C){if(v.paused||!u)return;const E=C.target;u.contains(E)?g.current=E:co(g.current,{select:!0})},b=function(C){if(v.paused||!u)return;const E=C.relatedTarget;E!==null&&(u.contains(E)||co(g.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&co(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const k=new MutationObserver(S);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),k.disconnect()}}},[n,u,v.paused]),y.useEffect(()=>{if(u){gE.add(v);const w=document.activeElement;if(!u.contains(w)){const S=new CustomEvent(Sv,hE);u.addEventListener(Sv,f),u.dispatchEvent(S),S.defaultPrevented||(GV(eG(x3(u)),{select:!0}),document.activeElement===w&&co(u))}return()=>{u.removeEventListener(Sv,f),setTimeout(()=>{const S=new CustomEvent(Nv,hE);u.addEventListener(Nv,m),u.dispatchEvent(S),S.defaultPrevented||co(w??document.body,{select:!0}),u.removeEventListener(Nv,m),gE.remove(v)},0)}}},[u,f,m,v]);const j=y.useCallback(w=>{if(!r&&!n||v.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,S=document.activeElement;if(b&&S){const k=w.currentTarget,[C,E]=QV(k);C&&E?!w.shiftKey&&S===E?(w.preventDefault(),r&&co(C,{select:!0})):w.shiftKey&&S===C&&(w.preventDefault(),r&&co(E,{select:!0})):S===k&&w.preventDefault()}},[r,n,v.paused]);return s.jsx(Tt.div,{tabIndex:-1,...l,ref:x,onKeyDown:j})});Pp.displayName=VV;function GV(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(co(n,{select:t}),document.activeElement!==r)return}function QV(e){const t=x3(e),r=mE(t,e),n=mE(t.reverse(),e);return[r,n]}function x3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mE(e,t){for(const r of e)if(!XV(r,{upTo:t}))return r}function XV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZV(e){return e instanceof HTMLInputElement&&"select"in e}function co(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ZV(e)&&t&&e.select()}}var gE=JV();function JV(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=pE(e,t),e.unshift(t)},remove(t){e=pE(e,t),e[0]?.resume()}}}function pE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function eG(e){return e.filter(t=>t.tagName!=="A")}var mn=globalThis?.document?y.useLayoutEffect:()=>{},tG=wp[" useId ".trim().toString()]||(()=>{}),rG=0;function vl(e){const[t,r]=y.useState(tG());return mn(()=>{r(n=>n??String(rG++))},[e]),t?`radix-${t}`:""}const nG=["top","right","bottom","left"],wo=Math.min,ga=Math.max,xg=Math.round,Tm=Math.floor,Rs=e=>({x:e,y:e}),aG={left:"right",right:"left",bottom:"top",top:"bottom"},sG={start:"end",end:"start"};function Kw(e,t,r){return ga(e,wo(t,r))}function _i(e,t){return typeof e=="function"?e(t):e}function Si(e){return e.split("-")[0]}function gu(e){return e.split("-")[1]}function Rj(e){return e==="x"?"y":"x"}function Ij(e){return e==="y"?"height":"width"}const iG=new Set(["top","bottom"]);function Ds(e){return iG.has(Si(e))?"y":"x"}function Lj(e){return Rj(Ds(e))}function oG(e,t,r){r===void 0&&(r=!1);const n=gu(e),a=Lj(e),i=Ij(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=vg(l)),[l,vg(l)]}function lG(e){const t=vg(e);return[Vw(e),t,Vw(t)]}function Vw(e){return e.replace(/start|end/g,t=>sG[t])}const yE=["left","right"],xE=["right","left"],cG=["top","bottom"],uG=["bottom","top"];function dG(e,t,r){switch(e){case"top":case"bottom":return r?t?xE:yE:t?yE:xE;case"left":case"right":return t?cG:uG;default:return[]}}function fG(e,t,r,n){const a=gu(e);let i=dG(Si(e),r==="start",n);return a&&(i=i.map(l=>l+"-"+a),t&&(i=i.concat(i.map(Vw)))),i}function vg(e){return e.replace(/left|right|bottom|top/g,t=>aG[t])}function hG(e){return{top:0,right:0,bottom:0,left:0,...e}}function v3(e){return typeof e!="number"?hG(e):{top:e,right:e,bottom:e,left:e}}function bg(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function vE(e,t,r){let{reference:n,floating:a}=e;const i=Ds(t),l=Lj(t),u=Ij(l),d=Si(t),f=i==="y",m=n.x+n.width/2-a.width/2,g=n.y+n.height/2-a.height/2,x=n[u]/2-a[u]/2;let v;switch(d){case"top":v={x:m,y:n.y-a.height};break;case"bottom":v={x:m,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:g};break;case"left":v={x:n.x-a.width,y:g};break;default:v={x:n.x,y:n.y}}switch(gu(t)){case"start":v[l]-=x*(r&&f?-1:1);break;case"end":v[l]+=x*(r&&f?-1:1);break}return v}const mG=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:l}=r,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:g}=vE(f,n,d),x=n,v={},j=0;for(let w=0;w<u.length;w++){const{name:b,fn:S}=u[w],{x:k,y:C,data:E,reset:O}=await S({x:m,y:g,initialPlacement:n,placement:x,strategy:a,middlewareData:v,rects:f,platform:l,elements:{reference:e,floating:t}});m=k??m,g=C??g,v={...v,[b]:{...v[b],...E}},O&&j<=50&&(j++,typeof O=="object"&&(O.placement&&(x=O.placement),O.rects&&(f=O.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):O.rects),{x:m,y:g}=vE(f,x,d)),w=-1)}return{x:m,y:g,placement:x,strategy:a,middlewareData:v}};async function Jd(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:x=!1,padding:v=0}=_i(t,e),j=v3(v),b=u[x?g==="floating"?"reference":"floating":g],S=bg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:d})),k=g==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),E=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},O=bg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:C,strategy:d}):k);return{top:(S.top-O.top+j.top)/E.y,bottom:(O.bottom-S.bottom+j.bottom)/E.y,left:(S.left-O.left+j.left)/E.x,right:(O.right-S.right+j.right)/E.x}}const gG=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:m=0}=_i(e,t)||{};if(f==null)return{};const g=v3(m),x={x:r,y:n},v=Lj(a),j=Ij(v),w=await l.getDimensions(f),b=v==="y",S=b?"top":"left",k=b?"bottom":"right",C=b?"clientHeight":"clientWidth",E=i.reference[j]+i.reference[v]-x[v]-i.floating[j],O=x[v]-i.reference[v],D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let T=D?D[C]:0;(!T||!await(l.isElement==null?void 0:l.isElement(D)))&&(T=u.floating[C]||i.floating[j]);const M=E/2-O/2,I=T/2-w[j]/2-1,$=wo(g[S],I),B=wo(g[k],I),z=$,Y=T-w[j]-B,ne=T/2-w[j]/2+M,V=Kw(z,ne,Y),F=!d.arrow&&gu(a)!=null&&ne!==V&&i.reference[j]/2-(ne<z?$:B)-w[j]/2<0,Z=F?ne<z?ne-z:ne-Y:0;return{[v]:x[v]+Z,data:{[v]:V,centerOffset:ne-V-Z,...F&&{alignmentOffset:Z}},reset:F}}}),pG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,...b}=_i(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const S=Si(a),k=Ds(u),C=Si(u)===u,E=await(d.isRTL==null?void 0:d.isRTL(f.floating)),O=x||(C||!w?[vg(u)]:lG(u)),D=j!=="none";!x&&D&&O.push(...fG(u,w,j,E));const T=[u,...O],M=await Jd(t,b),I=[];let $=((n=i.flip)==null?void 0:n.overflows)||[];if(m&&I.push(M[S]),g){const ne=oG(a,l,E);I.push(M[ne[0]],M[ne[1]])}if($=[...$,{placement:a,overflows:I}],!I.every(ne=>ne<=0)){var B,z;const ne=(((B=i.flip)==null?void 0:B.index)||0)+1,V=T[ne];if(V&&(!(g==="alignment"?k!==Ds(V):!1)||$.every(q=>Ds(q.placement)===k?q.overflows[0]>0:!0)))return{data:{index:ne,overflows:$},reset:{placement:V}};let F=(z=$.filter(Z=>Z.overflows[0]<=0).sort((Z,q)=>Z.overflows[1]-q.overflows[1])[0])==null?void 0:z.placement;if(!F)switch(v){case"bestFit":{var Y;const Z=(Y=$.filter(q=>{if(D){const U=Ds(q.placement);return U===k||U==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(U=>U>0).reduce((U,W)=>U+W,0)]).sort((q,U)=>q[1]-U[1])[0])==null?void 0:Y[0];Z&&(F=Z);break}case"initialPlacement":F=u;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function bE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wE(e){return nG.some(t=>e[t]>=0)}const yG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=_i(e,t);switch(n){case"referenceHidden":{const i=await Jd(t,{...a,elementContext:"reference"}),l=bE(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:wE(l)}}}case"escaped":{const i=await Jd(t,{...a,altBoundary:!0}),l=bE(i,r.floating);return{data:{escapedOffsets:l,escaped:wE(l)}}}default:return{}}}}},b3=new Set(["left","top"]);async function xG(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=Si(r),u=gu(r),d=Ds(r)==="y",f=b3.has(l)?-1:1,m=i&&d?-1:1,g=_i(t,e);let{mainAxis:x,crossAxis:v,alignmentAxis:j}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof j=="number"&&(v=u==="end"?j*-1:j),d?{x:v*m,y:x*f}:{x:x*f,y:v*m}}const vG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:l,middlewareData:u}=t,d=await xG(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:l}}}}},bG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:b=>{let{x:S,y:k}=b;return{x:S,y:k}}},...d}=_i(e,t),f={x:r,y:n},m=await Jd(t,d),g=Ds(Si(a)),x=Rj(g);let v=f[x],j=f[g];if(i){const b=x==="y"?"top":"left",S=x==="y"?"bottom":"right",k=v+m[b],C=v-m[S];v=Kw(k,v,C)}if(l){const b=g==="y"?"top":"left",S=g==="y"?"bottom":"right",k=j+m[b],C=j-m[S];j=Kw(k,j,C)}const w=u.fn({...t,[x]:v,[g]:j});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[x]:i,[g]:l}}}}}},wG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=_i(e,t),m={x:r,y:n},g=Ds(a),x=Rj(g);let v=m[x],j=m[g];const w=_i(u,t),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const C=x==="y"?"height":"width",E=i.reference[x]-i.floating[C]+b.mainAxis,O=i.reference[x]+i.reference[C]-b.mainAxis;v<E?v=E:v>O&&(v=O)}if(f){var S,k;const C=x==="y"?"width":"height",E=b3.has(Si(a)),O=i.reference[g]-i.floating[C]+(E&&((S=l.offset)==null?void 0:S[g])||0)+(E?0:b.crossAxis),D=i.reference[g]+i.reference[C]+(E?0:((k=l.offset)==null?void 0:k[g])||0)-(E?b.crossAxis:0);j<O?j=O:j>D&&(j=D)}return{[x]:v,[g]:j}}}},jG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...f}=_i(e,t),m=await Jd(t,f),g=Si(a),x=gu(a),v=Ds(a)==="y",{width:j,height:w}=i.floating;let b,S;g==="top"||g==="bottom"?(b=g,S=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(S=g,b=x==="end"?"top":"bottom");const k=w-m.top-m.bottom,C=j-m.left-m.right,E=wo(w-m[b],k),O=wo(j-m[S],C),D=!t.middlewareData.shift;let T=E,M=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=k),D&&!x){const $=ga(m.left,0),B=ga(m.right,0),z=ga(m.top,0),Y=ga(m.bottom,0);v?M=j-2*($!==0||B!==0?$+B:ga(m.left,m.right)):T=w-2*(z!==0||Y!==0?z+Y:ga(m.top,m.bottom))}await d({...t,availableWidth:M,availableHeight:T});const I=await l.getDimensions(u.floating);return j!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function Rp(){return typeof window<"u"}function pu(e){return w3(e)?(e.nodeName||"").toLowerCase():"#document"}function _a(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Us(e){var t;return(t=(w3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function w3(e){return Rp()?e instanceof Node||e instanceof _a(e).Node:!1}function gs(e){return Rp()?e instanceof Element||e instanceof _a(e).Element:!1}function $s(e){return Rp()?e instanceof HTMLElement||e instanceof _a(e).HTMLElement:!1}function jE(e){return!Rp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _a(e).ShadowRoot}const _G=new Set(["inline","contents"]);function jf(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ps(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!_G.has(a)}const SG=new Set(["table","td","th"]);function NG(e){return SG.has(pu(e))}const kG=[":popover-open",":modal"];function Ip(e){return kG.some(t=>{try{return e.matches(t)}catch{return!1}})}const CG=["transform","translate","scale","rotate","perspective"],TG=["transform","translate","scale","rotate","perspective","filter"],EG=["paint","layout","strict","content"];function $j(e){const t=Bj(),r=gs(e)?ps(e):e;return CG.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||TG.some(n=>(r.willChange||"").includes(n))||EG.some(n=>(r.contain||"").includes(n))}function OG(e){let t=jo(e);for(;$s(t)&&!Zc(t);){if($j(t))return t;if(Ip(t))return null;t=jo(t)}return null}function Bj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const AG=new Set(["html","body","#document"]);function Zc(e){return AG.has(pu(e))}function ps(e){return _a(e).getComputedStyle(e)}function Lp(e){return gs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function jo(e){if(pu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jE(e)&&e.host||Us(e);return jE(t)?t.host:t}function j3(e){const t=jo(e);return Zc(t)?e.ownerDocument?e.ownerDocument.body:e.body:$s(t)&&jf(t)?t:j3(t)}function ef(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=j3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),l=_a(a);if(i){const u=Gw(l);return t.concat(l,l.visualViewport||[],jf(a)?a:[],u&&r?ef(u):[])}return t.concat(a,ef(a,[],r))}function Gw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _3(e){const t=ps(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=$s(e),i=a?e.offsetWidth:r,l=a?e.offsetHeight:n,u=xg(r)!==i||xg(n)!==l;return u&&(r=i,n=l),{width:r,height:n,$:u}}function zj(e){return gs(e)?e:e.contextElement}function Hc(e){const t=zj(e);if(!$s(t))return Rs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=_3(t);let l=(i?xg(r.width):r.width)/n,u=(i?xg(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const DG=Rs(0);function S3(e){const t=_a(e);return!Bj()||!t.visualViewport?DG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MG(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==_a(e)?!1:t}function Tl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=zj(e);let l=Rs(1);t&&(n?gs(n)&&(l=Hc(n)):l=Hc(e));const u=MG(i,r,n)?S3(i):Rs(0);let d=(a.left+u.x)/l.x,f=(a.top+u.y)/l.y,m=a.width/l.x,g=a.height/l.y;if(i){const x=_a(i),v=n&&gs(n)?_a(n):n;let j=x,w=Gw(j);for(;w&&n&&v!==j;){const b=Hc(w),S=w.getBoundingClientRect(),k=ps(w),C=S.left+(w.clientLeft+parseFloat(k.paddingLeft))*b.x,E=S.top+(w.clientTop+parseFloat(k.paddingTop))*b.y;d*=b.x,f*=b.y,m*=b.x,g*=b.y,d+=C,f+=E,j=_a(w),w=Gw(j)}}return bg({width:m,height:g,x:d,y:f})}function $p(e,t){const r=Lp(e).scrollLeft;return t?t.left+r:Tl(Us(e)).left+r}function N3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-$p(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function PG(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",l=Us(n),u=t?Ip(t.floating):!1;if(n===l||u&&i)return r;let d={scrollLeft:0,scrollTop:0},f=Rs(1);const m=Rs(0),g=$s(n);if((g||!g&&!i)&&((pu(n)!=="body"||jf(l))&&(d=Lp(n)),$s(n))){const v=Tl(n);f=Hc(n),m.x=v.x+n.clientLeft,m.y=v.y+n.clientTop}const x=l&&!g&&!i?N3(l,d):Rs(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+m.x+x.x,y:r.y*f.y-d.scrollTop*f.y+m.y+x.y}}function RG(e){return Array.from(e.getClientRects())}function IG(e){const t=Us(e),r=Lp(e),n=e.ownerDocument.body,a=ga(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ga(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+$p(e);const u=-r.scrollTop;return ps(n).direction==="rtl"&&(l+=ga(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:l,y:u}}const _E=25;function LG(e,t){const r=_a(e),n=Us(e),a=r.visualViewport;let i=n.clientWidth,l=n.clientHeight,u=0,d=0;if(a){i=a.width,l=a.height;const m=Bj();(!m||m&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}const f=$p(n);if(f<=0){const m=n.ownerDocument,g=m.body,x=getComputedStyle(g),v=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(n.clientWidth-g.clientWidth-v);j<=_E&&(i-=j)}else f<=_E&&(i+=f);return{width:i,height:l,x:u,y:d}}const $G=new Set(["absolute","fixed"]);function BG(e,t){const r=Tl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=$s(e)?Hc(e):Rs(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=a*i.x,f=n*i.y;return{width:l,height:u,x:d,y:f}}function SE(e,t,r){let n;if(t==="viewport")n=LG(e,r);else if(t==="document")n=IG(Us(e));else if(gs(t))n=BG(t,r);else{const a=S3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return bg(n)}function k3(e,t){const r=jo(e);return r===t||!gs(r)||Zc(r)?!1:ps(r).position==="fixed"||k3(r,t)}function zG(e,t){const r=t.get(e);if(r)return r;let n=ef(e,[],!1).filter(u=>gs(u)&&pu(u)!=="body"),a=null;const i=ps(e).position==="fixed";let l=i?jo(e):e;for(;gs(l)&&!Zc(l);){const u=ps(l),d=$j(l);!d&&u.position==="fixed"&&(a=null),(i?!d&&!a:!d&&u.position==="static"&&!!a&&$G.has(a.position)||jf(l)&&!d&&k3(e,l))?n=n.filter(m=>m!==l):a=u,l=jo(l)}return t.set(e,n),n}function FG(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const l=[...r==="clippingAncestors"?Ip(t)?[]:zG(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((f,m)=>{const g=SE(t,m,a);return f.top=ga(g.top,f.top),f.right=wo(g.right,f.right),f.bottom=wo(g.bottom,f.bottom),f.left=ga(g.left,f.left),f},SE(t,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function UG(e){const{width:t,height:r}=_3(e);return{width:t,height:r}}function qG(e,t,r){const n=$s(t),a=Us(t),i=r==="fixed",l=Tl(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=Rs(0);function f(){d.x=$p(a)}if(n||!n&&!i)if((pu(t)!=="body"||jf(a))&&(u=Lp(t)),n){const v=Tl(t,!0,i,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else a&&f();i&&!n&&a&&f();const m=a&&!n&&!i?N3(a,u):Rs(0),g=l.left+u.scrollLeft-d.x-m.x,x=l.top+u.scrollTop-d.y-m.y;return{x:g,y:x,width:l.width,height:l.height}}function kv(e){return ps(e).position==="static"}function NE(e,t){if(!$s(e)||ps(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Us(e)===r&&(r=r.ownerDocument.body),r}function C3(e,t){const r=_a(e);if(Ip(e))return r;if(!$s(e)){let a=jo(e);for(;a&&!Zc(a);){if(gs(a)&&!kv(a))return a;a=jo(a)}return r}let n=NE(e,t);for(;n&&NG(n)&&kv(n);)n=NE(n,t);return n&&Zc(n)&&kv(n)&&!$j(n)?r:n||OG(e)||r}const HG=async function(e){const t=this.getOffsetParent||C3,r=this.getDimensions,n=await r(e.floating);return{reference:qG(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function WG(e){return ps(e).direction==="rtl"}const YG={convertOffsetParentRelativeRectToViewportRelativeRect:PG,getDocumentElement:Us,getClippingRect:FG,getOffsetParent:C3,getElementRects:HG,getClientRects:RG,getDimensions:UG,getScale:Hc,isElement:gs,isRTL:WG};function T3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function KG(e,t){let r=null,n;const a=Us(e);function i(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:g,width:x,height:v}=f;if(u||t(),!x||!v)return;const j=Tm(g),w=Tm(a.clientWidth-(m+x)),b=Tm(a.clientHeight-(g+v)),S=Tm(m),C={rootMargin:-j+"px "+-w+"px "+-b+"px "+-S+"px",threshold:ga(0,wo(1,d))||1};let E=!0;function O(D){const T=D[0].intersectionRatio;if(T!==d){if(!E)return l();T?l(!1,T):n=setTimeout(()=>{l(!1,1e-7)},1e3)}T===1&&!T3(f,e.getBoundingClientRect())&&l(),E=!1}try{r=new IntersectionObserver(O,{...C,root:a.ownerDocument})}catch{r=new IntersectionObserver(O,C)}r.observe(e)}return l(!0),i}function VG(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=zj(e),m=a||i?[...f?ef(f):[],...ef(t)]:[];m.forEach(S=>{a&&S.addEventListener("scroll",r,{passive:!0}),i&&S.addEventListener("resize",r)});const g=f&&u?KG(f,r):null;let x=-1,v=null;l&&(v=new ResizeObserver(S=>{let[k]=S;k&&k.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),r()}),f&&!d&&v.observe(f),v.observe(t));let j,w=d?Tl(e):null;d&&b();function b(){const S=Tl(e);w&&!T3(w,S)&&r(),w=S,j=requestAnimationFrame(b)}return r(),()=>{var S;m.forEach(k=>{a&&k.removeEventListener("scroll",r),i&&k.removeEventListener("resize",r)}),g?.(),(S=v)==null||S.disconnect(),v=null,d&&cancelAnimationFrame(j)}}const GG=vG,QG=bG,XG=pG,ZG=jG,JG=yG,kE=gG,eQ=wG,tQ=(e,t,r)=>{const n=new Map,a={platform:YG,...r},i={...a.platform,_c:n};return mG(e,t,{...a,platform:i})};var rQ=typeof document<"u",nQ=function(){},tg=rQ?y.useLayoutEffect:nQ;function wg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wg(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!wg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function E3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function CE(e,t){const r=E3(e);return Math.round(t*r)/r}function Cv(e){const t=y.useRef(e);return tg(()=>{t.current=e}),t}function aQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[m,g]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,v]=y.useState(n);wg(x,n)||v(n);const[j,w]=y.useState(null),[b,S]=y.useState(null),k=y.useCallback(q=>{q!==D.current&&(D.current=q,w(q))},[]),C=y.useCallback(q=>{q!==T.current&&(T.current=q,S(q))},[]),E=i||j,O=l||b,D=y.useRef(null),T=y.useRef(null),M=y.useRef(m),I=d!=null,$=Cv(d),B=Cv(a),z=Cv(f),Y=y.useCallback(()=>{if(!D.current||!T.current)return;const q={placement:t,strategy:r,middleware:x};B.current&&(q.platform=B.current),tQ(D.current,T.current,q).then(U=>{const W={...U,isPositioned:z.current!==!1};ne.current&&!wg(M.current,W)&&(M.current=W,ja.flushSync(()=>{g(W)}))})},[x,t,r,B,z]);tg(()=>{f===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,g(q=>({...q,isPositioned:!1})))},[f]);const ne=y.useRef(!1);tg(()=>(ne.current=!0,()=>{ne.current=!1}),[]),tg(()=>{if(E&&(D.current=E),O&&(T.current=O),E&&O){if($.current)return $.current(E,O,Y);Y()}},[E,O,Y,$,I]);const V=y.useMemo(()=>({reference:D,floating:T,setReference:k,setFloating:C}),[k,C]),F=y.useMemo(()=>({reference:E,floating:O}),[E,O]),Z=y.useMemo(()=>{const q={position:r,left:0,top:0};if(!F.floating)return q;const U=CE(F.floating,m.x),W=CE(F.floating,m.y);return u?{...q,transform:"translate("+U+"px, "+W+"px)",...E3(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:W}},[r,u,F.floating,m.x,m.y]);return y.useMemo(()=>({...m,update:Y,refs:V,elements:F,floatingStyles:Z}),[m,Y,V,F,Z])}const sQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?kE({element:n.current,padding:a}).fn(r):{}:n?kE({element:n,padding:a}).fn(r):{}}}},iQ=(e,t)=>({...GG(e),options:[e,t]}),oQ=(e,t)=>({...QG(e),options:[e,t]}),lQ=(e,t)=>({...eQ(e),options:[e,t]}),cQ=(e,t)=>({...XG(e),options:[e,t]}),uQ=(e,t)=>({...ZG(e),options:[e,t]}),dQ=(e,t)=>({...JG(e),options:[e,t]}),fQ=(e,t)=>({...sQ(e),options:[e,t]});var hQ="Arrow",O3=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Tt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});O3.displayName=hQ;var mQ=O3;function gQ(e){const[t,r]=y.useState(void 0);return mn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,u;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Fj="Popper",[A3,Bp]=mu(Fj),[pQ,D3]=A3(Fj),M3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return s.jsx(pQ,{scope:t,anchor:n,onAnchorChange:a,children:r})};M3.displayName=Fj;var P3="PopperAnchor",R3=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=D3(P3,r),l=y.useRef(null),u=Ht(t,l),d=y.useRef(null);return y.useEffect(()=>{const f=d.current;d.current=n?.current||l.current,f!==d.current&&i.onAnchorChange(d.current)}),n?null:s.jsx(Tt.div,{...a,ref:u})});R3.displayName=P3;var Uj="PopperContent",[yQ,xQ]=A3(Uj),I3=y.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:j,...w}=e,b=D3(Uj,r),[S,k]=y.useState(null),C=Ht(t,re=>k(re)),[E,O]=y.useState(null),D=gQ(E),T=D?.width??0,M=D?.height??0,I=n+(i!=="center"?"-"+i:""),$=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(f)?f:[f],z=B.length>0,Y={padding:$,boundary:B.filter(bQ),altBoundary:z},{refs:ne,floatingStyles:V,placement:F,isPositioned:Z,middlewareData:q}=aQ({strategy:"fixed",placement:I,whileElementsMounted:(...re)=>VG(...re,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[iQ({mainAxis:a+M,alignmentAxis:l}),d&&oQ({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?lQ():void 0,...Y}),d&&cQ({...Y}),uQ({...Y,apply:({elements:re,rects:ke,availableWidth:se,availableHeight:pe})=>{const{width:Ce,height:de}=ke.reference,Qe=re.floating.style;Qe.setProperty("--radix-popper-available-width",`${se}px`),Qe.setProperty("--radix-popper-available-height",`${pe}px`),Qe.setProperty("--radix-popper-anchor-width",`${Ce}px`),Qe.setProperty("--radix-popper-anchor-height",`${de}px`)}}),E&&fQ({element:E,padding:u}),wQ({arrowWidth:T,arrowHeight:M}),x&&dQ({strategy:"referenceHidden",...Y})]}),[U,W]=B3(F),L=Gn(j);mn(()=>{Z&&L?.()},[Z,L]);const ee=q.arrow?.x,J=q.arrow?.y,Q=q.arrow?.centerOffset!==0,[fe,ge]=y.useState();return mn(()=>{S&&ge(window.getComputedStyle(S).zIndex)},[S]),s.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:Z?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(yQ,{scope:r,placedSide:U,onArrowChange:O,arrowX:ee,arrowY:J,shouldHideArrow:Q,children:s.jsx(Tt.div,{"data-side":U,"data-align":W,...w,ref:C,style:{...w.style,animation:Z?void 0:"none"}})})})});I3.displayName=Uj;var L3="PopperArrow",vQ={top:"bottom",right:"left",bottom:"top",left:"right"},$3=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=xQ(L3,n),l=vQ[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(mQ,{...a,ref:r,style:{...a.style,display:"block"}})})});$3.displayName=L3;function bQ(e){return e!==null}var wQ=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,l=a.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=B3(r),g={start:"0%",center:"50%",end:"100%"}[m],x=(a.arrow?.x??0)+u/2,v=(a.arrow?.y??0)+d/2;let j="",w="";return f==="bottom"?(j=l?g:`${x}px`,w=`${-d}px`):f==="top"?(j=l?g:`${x}px`,w=`${n.floating.height+d}px`):f==="right"?(j=`${-d}px`,w=l?g:`${v}px`):f==="left"&&(j=`${n.floating.width+d}px`,w=l?g:`${v}px`),{data:{x:j,y:w}}}});function B3(e){const[t,r="center"]=e.split("-");return[t,r]}var z3=M3,qj=R3,F3=I3,U3=$3,jQ="Portal",zp=y.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=y.useState(!1);mn(()=>i(!0),[]);const l=r||a&&globalThis?.document?.body;return l?jV.createPortal(s.jsx(Tt.div,{...n,ref:t}),l):null});zp.displayName=jQ;function _Q(e){const t=SQ(e),r=y.forwardRef((n,a)=>{const{children:i,...l}=n,u=y.Children.toArray(i),d=u.find(kQ);if(d){const f=d.props.children,m=u.map(g=>g===d?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return s.jsx(t,{...l,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,m):null})}return s.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function SQ(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const l=TQ(a),u=CQ(i,a.props);return a.type!==y.Fragment&&(u.ref=n?ql(n,l):l),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NQ=Symbol("radix.slottable");function kQ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NQ}function CQ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const d=i(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function TQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EQ=wp[" useInsertionEffect ".trim().toString()]||mn;function jg({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,l]=OQ({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:a;{const m=y.useRef(e!==void 0);y.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,n])}const f=y.useCallback(m=>{if(u){const g=AQ(m)?m(e):m;g!==e&&l.current?.(g)}else i(m)},[u,e,i,l]);return[d,f]}function OQ({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return EQ(()=>{i.current=t},[t]),y.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function AQ(e){return typeof e=="function"}function DQ(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var q3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MQ="VisuallyHidden",PQ=y.forwardRef((e,t)=>s.jsx(Tt.span,{...e,ref:t,style:{...q3,...e.style}}));PQ.displayName=MQ;var RQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pc=new WeakMap,Em=new WeakMap,Om={},Tv=0,H3=function(e){return e&&(e.host||H3(e.parentNode))},IQ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=H3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},LQ=function(e,t,r,n){var a=IQ(t,Array.isArray(e)?e:[e]);Om[r]||(Om[r]=new WeakMap);var i=Om[r],l=[],u=new Set,d=new Set(a),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};a.forEach(f);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(x){if(u.has(x))m(x);else try{var v=x.getAttribute(n),j=v!==null&&v!=="false",w=(Pc.get(x)||0)+1,b=(i.get(x)||0)+1;Pc.set(x,w),i.set(x,b),l.push(x),w===1&&j&&Em.set(x,!0),b===1&&x.setAttribute(r,"true"),j||x.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",x,S)}})};return m(t),u.clear(),Tv++,function(){l.forEach(function(g){var x=Pc.get(g)-1,v=i.get(g)-1;Pc.set(g,x),i.set(g,v),x||(Em.has(g)||g.removeAttribute(n),Em.delete(g)),v||g.removeAttribute(r)}),Tv--,Tv||(Pc=new WeakMap,Pc=new WeakMap,Em=new WeakMap,Om={})}},Hj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=RQ(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),LQ(n,a,r,"aria-hidden")):function(){return null}},rg="right-scroll-bar-position",ng="width-before-scroll-bar",$Q="with-scroll-bars-hidden",BQ="--removed-body-scroll-bar-size";function Ev(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zQ(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var FQ=typeof window<"u"?y.useLayoutEffect:y.useEffect,TE=new WeakMap;function UQ(e,t){var r=zQ(null,function(n){return e.forEach(function(a){return Ev(a,n)})});return FQ(function(){var n=TE.get(r);if(n){var a=new Set(n),i=new Set(e),l=r.current;a.forEach(function(u){i.has(u)||Ev(u,null)}),i.forEach(function(u){a.has(u)||Ev(u,l)})}TE.set(r,e)},[e]),r}function qQ(e){return e}function HQ(e,t){t===void 0&&(t=qQ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(i),l=r}var d=function(){var m=l;l=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),r}}}};return a}function WQ(e){e===void 0&&(e={});var t=HQ(null);return t.options=Va({async:!0,ssr:!1},e),t}var W3=function(e){var t=e.sideCar,r=To(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Va({},r))};W3.isSideCarExport=!0;function YQ(e,t){return e.useMedium(t),W3}var Y3=WQ(),Ov=function(){},Fp=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:Ov,onWheelCapture:Ov,onTouchMoveCapture:Ov}),a=n[0],i=n[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,x=e.sideCar,v=e.noRelative,j=e.noIsolation,w=e.inert,b=e.allowPinchZoom,S=e.as,k=S===void 0?"div":S,C=e.gapMode,E=To(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=x,D=UQ([r,t]),T=Va(Va({},E),a);return y.createElement(y.Fragment,null,m&&y.createElement(O,{sideCar:Y3,removeScrollBar:f,shards:g,noRelative:v,noIsolation:j,inert:w,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:C}),l?y.cloneElement(y.Children.only(u),Va(Va({},T),{ref:D})):y.createElement(k,Va({},T,{className:d,ref:D}),u))});Fp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fp.classNames={fullWidth:ng,zeroRight:rg};var KQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=KQ();return t&&e.setAttribute("nonce",t),e}function GQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function QQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XQ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=VQ())&&(GQ(t,r),QQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZQ=function(){var e=XQ();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},K3=function(){var e=ZQ(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},JQ={left:0,top:0,right:0,gap:0},Av=function(e){return parseInt(e||"",10)||0},eX=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Av(r),Av(n),Av(a)]},tX=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JQ;var t=eX(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},rX=K3(),Wc="data-scroll-locked",nX=function(e,t,r,n){var a=e.left,i=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat($Q,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Wc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rg,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(ng,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(rg," .").concat(rg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ng," .").concat(ng,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Wc,`] {
    `).concat(BQ,": ").concat(u,`px;
  }
`)},EE=function(){var e=parseInt(document.body.getAttribute(Wc)||"0",10);return isFinite(e)?e:0},aX=function(){y.useEffect(function(){return document.body.setAttribute(Wc,(EE()+1).toString()),function(){var e=EE()-1;e<=0?document.body.removeAttribute(Wc):document.body.setAttribute(Wc,e.toString())}},[])},sX=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;aX();var i=y.useMemo(function(){return tX(a)},[a]);return y.createElement(rX,{styles:nX(i,!t,a,r?"":"!important")})},Qw=!1;if(typeof window<"u")try{var Am=Object.defineProperty({},"passive",{get:function(){return Qw=!0,!0}});window.addEventListener("test",Am,Am),window.removeEventListener("test",Am,Am)}catch{Qw=!1}var Rc=Qw?{passive:!1}:!1,iX=function(e){return e.tagName==="TEXTAREA"},V3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!iX(e)&&r[t]==="visible")},oX=function(e){return V3(e,"overflowY")},lX=function(e){return V3(e,"overflowX")},OE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=G3(e,n);if(a){var i=Q3(e,n),l=i[1],u=i[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},cX=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},uX=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},G3=function(e,t){return e==="v"?oX(t):lX(t)},Q3=function(e,t){return e==="v"?cX(t):uX(t)},dX=function(e,t){return e==="h"&&t==="rtl"?-1:1},fX=function(e,t,r,n,a){var i=dX(e,window.getComputedStyle(t).direction),l=i*n,u=r.target,d=t.contains(u),f=!1,m=l>0,g=0,x=0;do{if(!u)break;var v=Q3(e,u),j=v[0],w=v[1],b=v[2],S=w-b-i*j;(j||S)&&G3(e,u)&&(g+=S,x+=j);var k=u.parentNode;u=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(g)<1||!m&&Math.abs(x)<1)&&(f=!0),f},Dm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},AE=function(e){return[e.deltaX,e.deltaY]},DE=function(e){return e&&"current"in e?e.current:e},hX=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mX=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gX=0,Ic=[];function pX(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(gX++)[0],i=y.useState(K3)[0],l=y.useRef(e);y.useEffect(function(){l.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=oj([e.lockRef.current],(e.shards||[]).map(DE),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var S=Dm(w),k=r.current,C="deltaX"in w?w.deltaX:k[0]-S[0],E="deltaY"in w?w.deltaY:k[1]-S[1],O,D=w.target,T=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in w&&T==="h"&&D.type==="range")return!1;var M=OE(T,D);if(!M)return!0;if(M?O=T:(O=T==="v"?"h":"v",M=OE(T,D)),!M)return!1;if(!n.current&&"changedTouches"in w&&(C||E)&&(n.current=O),!O)return!0;var I=n.current||O;return fX(I,b,w,I==="h"?C:E)},[]),d=y.useCallback(function(w){var b=w;if(!(!Ic.length||Ic[Ic.length-1]!==i)){var S="deltaY"in b?AE(b):Dm(b),k=t.current.filter(function(O){return O.name===b.type&&(O.target===b.target||b.target===O.shadowParent)&&hX(O.delta,S)})[0];if(k&&k.should){b.cancelable&&b.preventDefault();return}if(!k){var C=(l.current.shards||[]).map(DE).filter(Boolean).filter(function(O){return O.contains(b.target)}),E=C.length>0?u(b,C[0]):!l.current.noIsolation;E&&b.cancelable&&b.preventDefault()}}},[]),f=y.useCallback(function(w,b,S,k){var C={name:w,delta:b,target:S,should:k,shadowParent:yX(S)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(E){return E!==C})},1)},[]),m=y.useCallback(function(w){r.current=Dm(w),n.current=void 0},[]),g=y.useCallback(function(w){f(w.type,AE(w),w.target,u(w,e.lockRef.current))},[]),x=y.useCallback(function(w){f(w.type,Dm(w),w.target,u(w,e.lockRef.current))},[]);y.useEffect(function(){return Ic.push(i),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Rc),document.addEventListener("touchmove",d,Rc),document.addEventListener("touchstart",m,Rc),function(){Ic=Ic.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,Rc),document.removeEventListener("touchmove",d,Rc),document.removeEventListener("touchstart",m,Rc)}},[]);var v=e.removeScrollBar,j=e.inert;return y.createElement(y.Fragment,null,j?y.createElement(i,{styles:mX(a)}):null,v?y.createElement(sX,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function yX(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xX=YQ(Y3,pX);var Up=y.forwardRef(function(e,t){return y.createElement(Fp,Va({},e,{ref:t,sideCar:xX}))});Up.classNames=Fp.classNames;var vX=[" ","Enter","ArrowUp","ArrowDown"],bX=[" ","Enter"],El="Select",[qp,Hp,wX]=OV(El),[yu]=mu(El,[wX,Bp]),Wp=Bp(),[jX,Do]=yu(El),[_X,SX]=yu(El),X3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:u,onValueChange:d,dir:f,name:m,autoComplete:g,disabled:x,required:v,form:j}=e,w=Wp(t),[b,S]=y.useState(null),[k,C]=y.useState(null),[E,O]=y.useState(!1),D=g3(f),[T,M]=jg({prop:n,defaultProp:a??!1,onChange:i,caller:El}),[I,$]=jg({prop:l,defaultProp:u,onChange:d,caller:El}),B=y.useRef(null),z=b?j||!!b.closest("form"):!0,[Y,ne]=y.useState(new Set),V=Array.from(Y).map(F=>F.props.value).join(";");return s.jsx(z3,{...w,children:s.jsxs(jX,{required:v,scope:t,trigger:b,onTriggerChange:S,valueNode:k,onValueNodeChange:C,valueNodeHasChildren:E,onValueNodeHasChildrenChange:O,contentId:vl(),value:I,onValueChange:$,open:T,onOpenChange:M,dir:D,triggerPointerDownPosRef:B,disabled:x,children:[s.jsx(qp.Provider,{scope:t,children:s.jsx(_X,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(F=>{ne(Z=>new Set(Z).add(F))},[]),onNativeOptionRemove:y.useCallback(F=>{ne(Z=>{const q=new Set(Z);return q.delete(F),q})},[]),children:r})}),z?s.jsxs(wR,{"aria-hidden":!0,required:v,tabIndex:-1,name:m,autoComplete:g,value:I,onChange:F=>$(F.target.value),disabled:x,form:j,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from(Y)]},V):null]})})};X3.displayName=El;var Z3="SelectTrigger",J3=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Wp(r),l=Do(Z3,r),u=l.disabled||n,d=Ht(t,l.onTriggerChange),f=Hp(r),m=y.useRef("touch"),[g,x,v]=_R(w=>{const b=f().filter(C=>!C.disabled),S=b.find(C=>C.value===l.value),k=SR(b,w,S);k!==void 0&&l.onValueChange(k.value)}),j=w=>{u||(l.onOpenChange(!0),v()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(qj,{asChild:!0,...i,children:s.jsx(Tt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":jR(l.value)?"":void 0,...a,ref:d,onClick:yt(a.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&j(w)}),onPointerDown:yt(a.onPointerDown,w=>{m.current=w.pointerType;const b=w.target;b.hasPointerCapture(w.pointerId)&&b.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(j(w),w.preventDefault())}),onKeyDown:yt(a.onKeyDown,w=>{const b=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(b&&w.key===" ")&&vX.includes(w.key)&&(j(),w.preventDefault())})})})});J3.displayName=Z3;var eR="SelectValue",tR=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:l="",...u}=e,d=Do(eR,r),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,g=Ht(t,d.onValueNodeChange);return mn(()=>{f(m)},[f,m]),s.jsx(Tt.span,{...u,ref:g,style:{pointerEvents:"none"},children:jR(d.value)?s.jsx(s.Fragment,{children:l}):i})});tR.displayName=eR;var NX="SelectIcon",rR=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Tt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});rR.displayName=NX;var kX="SelectPortal",nR=e=>s.jsx(zp,{asChild:!0,...e});nR.displayName=kX;var Ol="SelectContent",aR=y.forwardRef((e,t)=>{const r=Do(Ol,e.__scopeSelect),[n,a]=y.useState();if(mn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ja.createPortal(s.jsx(sR,{scope:e.__scopeSelect,children:s.jsx(qp.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(iR,{...e,ref:t})});aR.displayName=Ol;var cs=10,[sR,Mo]=yu(Ol),CX="SelectContentImpl",TX=_Q("SelectContent.RemoveScroll"),iR=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:x,collisionPadding:v,sticky:j,hideWhenDetached:w,avoidCollisions:b,...S}=e,k=Do(Ol,r),[C,E]=y.useState(null),[O,D]=y.useState(null),T=Ht(t,re=>E(re)),[M,I]=y.useState(null),[$,B]=y.useState(null),z=Hp(r),[Y,ne]=y.useState(!1),V=y.useRef(!1);y.useEffect(()=>{if(C)return Hj(C)},[C]),Pj();const F=y.useCallback(re=>{const[ke,...se]=z().map(de=>de.ref.current),[pe]=se.slice(-1),Ce=document.activeElement;for(const de of re)if(de===Ce||(de?.scrollIntoView({block:"nearest"}),de===ke&&O&&(O.scrollTop=0),de===pe&&O&&(O.scrollTop=O.scrollHeight),de?.focus(),document.activeElement!==Ce))return},[z,O]),Z=y.useCallback(()=>F([M,C]),[F,M,C]);y.useEffect(()=>{Y&&Z()},[Y,Z]);const{onOpenChange:q,triggerPointerDownPosRef:U}=k;y.useEffect(()=>{if(C){let re={x:0,y:0};const ke=pe=>{re={x:Math.abs(Math.round(pe.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(U.current?.y??0))}},se=pe=>{re.x<=10&&re.y<=10?pe.preventDefault():C.contains(pe.target)||q(!1),document.removeEventListener("pointermove",ke),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",se,{capture:!0})}}},[C,q,U]),y.useEffect(()=>{const re=()=>q(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[q]);const[W,L]=_R(re=>{const ke=z().filter(Ce=>!Ce.disabled),se=ke.find(Ce=>Ce.ref.current===document.activeElement),pe=SR(ke,re,se);pe&&setTimeout(()=>pe.ref.current.focus())}),ee=y.useCallback((re,ke,se)=>{const pe=!V.current&&!se;(k.value!==void 0&&k.value===ke||pe)&&(I(re),pe&&(V.current=!0))},[k.value]),J=y.useCallback(()=>C?.focus(),[C]),Q=y.useCallback((re,ke,se)=>{const pe=!V.current&&!se;(k.value!==void 0&&k.value===ke||pe)&&B(re)},[k.value]),fe=n==="popper"?Xw:oR,ge=fe===Xw?{side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:x,collisionPadding:v,sticky:j,hideWhenDetached:w,avoidCollisions:b}:{};return s.jsx(sR,{scope:r,content:C,viewport:O,onViewportChange:D,itemRefCallback:ee,selectedItem:M,onItemLeave:J,itemTextRefCallback:Q,focusSelectedItem:Z,selectedItemText:$,position:n,isPositioned:Y,searchRef:W,children:s.jsx(Up,{as:TX,allowPinchZoom:!0,children:s.jsx(Pp,{asChild:!0,trapped:k.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:yt(a,re=>{k.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:s.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:s.jsx(fe,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:re=>re.preventDefault(),...S,...ge,onPlaced:()=>ne(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:yt(S.onKeyDown,re=>{const ke=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ke&&re.key.length===1&&L(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let pe=z().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(re.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ce=re.target,de=pe.indexOf(Ce);pe=pe.slice(de+1)}setTimeout(()=>F(pe)),re.preventDefault()}})})})})})})});iR.displayName=CX;var EX="SelectItemAlignedPosition",oR=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Do(Ol,r),l=Mo(Ol,r),[u,d]=y.useState(null),[f,m]=y.useState(null),g=Ht(t,T=>m(T)),x=Hp(r),v=y.useRef(!1),j=y.useRef(!0),{viewport:w,selectedItem:b,selectedItemText:S,focusSelectedItem:k}=l,C=y.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&f&&w&&b&&S){const T=i.trigger.getBoundingClientRect(),M=f.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),$=S.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=$.left-M.left,de=I.left-Ce,Qe=T.left-de,Ee=T.width+Qe,Ue=Math.max(Ee,M.width),et=window.innerWidth-cs,Wt=Ww(de,[cs,Math.max(cs,et-Ue)]);u.style.minWidth=Ee+"px",u.style.left=Wt+"px"}else{const Ce=M.right-$.right,de=window.innerWidth-I.right-Ce,Qe=window.innerWidth-T.right-de,Ee=T.width+Qe,Ue=Math.max(Ee,M.width),et=window.innerWidth-cs,Wt=Ww(de,[cs,Math.max(cs,et-Ue)]);u.style.minWidth=Ee+"px",u.style.right=Wt+"px"}const B=x(),z=window.innerHeight-cs*2,Y=w.scrollHeight,ne=window.getComputedStyle(f),V=parseInt(ne.borderTopWidth,10),F=parseInt(ne.paddingTop,10),Z=parseInt(ne.borderBottomWidth,10),q=parseInt(ne.paddingBottom,10),U=V+F+Y+q+Z,W=Math.min(b.offsetHeight*5,U),L=window.getComputedStyle(w),ee=parseInt(L.paddingTop,10),J=parseInt(L.paddingBottom,10),Q=T.top+T.height/2-cs,fe=z-Q,ge=b.offsetHeight/2,re=b.offsetTop+ge,ke=V+F+re,se=U-ke;if(ke<=Q){const Ce=B.length>0&&b===B[B.length-1].ref.current;u.style.bottom="0px";const de=f.clientHeight-w.offsetTop-w.offsetHeight,Qe=Math.max(fe,ge+(Ce?J:0)+de+Z),Ee=ke+Qe;u.style.height=Ee+"px"}else{const Ce=B.length>0&&b===B[0].ref.current;u.style.top="0px";const Qe=Math.max(Q,V+w.offsetTop+(Ce?ee:0)+ge)+se;u.style.height=Qe+"px",w.scrollTop=ke-Q+w.offsetTop}u.style.margin=`${cs}px 0`,u.style.minHeight=W+"px",u.style.maxHeight=z+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[x,i.trigger,i.valueNode,u,f,w,b,S,i.dir,n]);mn(()=>C(),[C]);const[E,O]=y.useState();mn(()=>{f&&O(window.getComputedStyle(f).zIndex)},[f]);const D=y.useCallback(T=>{T&&j.current===!0&&(C(),k?.(),j.current=!1)},[C,k]);return s.jsx(AX,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:D,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:s.jsx(Tt.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});oR.displayName=EX;var OX="SelectPopperPosition",Xw=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=cs,...i}=e,l=Wp(r);return s.jsx(F3,{...l,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xw.displayName=OX;var[AX,Wj]=yu(Ol,{}),Zw="SelectViewport",lR=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Mo(Zw,r),l=Wj(Zw,r),u=Ht(t,i.onViewportChange),d=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(qp.Slot,{scope:r,children:s.jsx(Tt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:yt(a.onScroll,f=>{const m=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:x}=l;if(x?.current&&g){const v=Math.abs(d.current-m.scrollTop);if(v>0){const j=window.innerHeight-cs*2,w=parseFloat(g.style.minHeight),b=parseFloat(g.style.height),S=Math.max(w,b);if(S<j){const k=S+v,C=Math.min(j,k),E=k-C;g.style.height=C+"px",g.style.bottom==="0px"&&(m.scrollTop=E>0?E:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});lR.displayName=Zw;var cR="SelectGroup",[DX,MX]=yu(cR),PX=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=vl();return s.jsx(DX,{scope:r,id:a,children:s.jsx(Tt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});PX.displayName=cR;var uR="SelectLabel",dR=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=MX(uR,r);return s.jsx(Tt.div,{id:a.id,...n,ref:t})});dR.displayName=uR;var _g="SelectItem",[RX,fR]=yu(_g),hR=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...l}=e,u=Do(_g,r),d=Mo(_g,r),f=u.value===n,[m,g]=y.useState(i??""),[x,v]=y.useState(!1),j=Ht(t,k=>d.itemRefCallback?.(k,n,a)),w=vl(),b=y.useRef("touch"),S=()=>{a||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(RX,{scope:r,value:n,disabled:a,textId:w,isSelected:f,onItemTextChange:y.useCallback(k=>{g(C=>C||(k?.textContent??"").trim())},[]),children:s.jsx(qp.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:s.jsx(Tt.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:j,onFocus:yt(l.onFocus,()=>v(!0)),onBlur:yt(l.onBlur,()=>v(!1)),onClick:yt(l.onClick,()=>{b.current!=="mouse"&&S()}),onPointerUp:yt(l.onPointerUp,()=>{b.current==="mouse"&&S()}),onPointerDown:yt(l.onPointerDown,k=>{b.current=k.pointerType}),onPointerMove:yt(l.onPointerMove,k=>{b.current=k.pointerType,a?d.onItemLeave?.():b.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yt(l.onPointerLeave,k=>{k.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:yt(l.onKeyDown,k=>{d.searchRef?.current!==""&&k.key===" "||(bX.includes(k.key)&&S(),k.key===" "&&k.preventDefault())})})})})});hR.displayName=_g;var Id="SelectItemText",mR=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,l=Do(Id,r),u=Mo(Id,r),d=fR(Id,r),f=SX(Id,r),[m,g]=y.useState(null),x=Ht(t,S=>g(S),d.onItemTextChange,S=>u.itemTextRefCallback?.(S,d.value,d.disabled)),v=m?.textContent,j=y.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:b}=f;return mn(()=>(w(j),()=>b(j)),[w,b,j]),s.jsxs(s.Fragment,{children:[s.jsx(Tt.span,{id:d.textId,...i,ref:x}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ja.createPortal(i.children,l.valueNode):null]})});mR.displayName=Id;var gR="SelectItemIndicator",pR=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return fR(gR,r).isSelected?s.jsx(Tt.span,{"aria-hidden":!0,...n,ref:t}):null});pR.displayName=gR;var Jw="SelectScrollUpButton",yR=y.forwardRef((e,t)=>{const r=Mo(Jw,e.__scopeSelect),n=Wj(Jw,e.__scopeSelect),[a,i]=y.useState(!1),l=Ht(t,n.onScrollButtonChange);return mn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;i(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?s.jsx(vR,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});yR.displayName=Jw;var e1="SelectScrollDownButton",xR=y.forwardRef((e,t)=>{const r=Mo(e1,e.__scopeSelect),n=Wj(e1,e.__scopeSelect),[a,i]=y.useState(!1),l=Ht(t,n.onScrollButtonChange);return mn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?s.jsx(vR,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});xR.displayName=e1;var vR=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Mo("SelectScrollButton",r),l=y.useRef(null),u=Hp(r),d=y.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return y.useEffect(()=>()=>d(),[d]),mn(()=>{u().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),s.jsx(Tt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:yt(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:yt(a.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:yt(a.onPointerLeave,()=>{d()})})}),IX="SelectSeparator",bR=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Tt.div,{"aria-hidden":!0,...n,ref:t})});bR.displayName=IX;var t1="SelectArrow",LX=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Wp(r),i=Do(t1,r),l=Mo(t1,r);return i.open&&l.position==="popper"?s.jsx(U3,{...a,...n,ref:t}):null});LX.displayName=t1;var $X="SelectBubbleInput",wR=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),i=Ht(n,a),l=DQ(t);return y.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const g=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(g)}},[l,t]),s.jsx(Tt.select,{...r,style:{...q3,...r.style},ref:i,defaultValue:t})});wR.displayName=$X;function jR(e){return e===""||e===void 0}function _R(e){const t=Gn(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function SR(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=BX(e,Math.max(i,0));a.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function BX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zX=X3,NR=J3,FX=tR,UX=rR,qX=nR,kR=aR,HX=lR,CR=dR,TR=hR,WX=mR,YX=pR,ER=yR,OR=xR,AR=bR;const va=zX,ba=FX,Qn=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(NR,{ref:n,className:Ie("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(UX,{asChild:!0,children:s.jsx(Oo,{className:"h-4 w-4 opacity-50"})})]}));Qn.displayName=NR.displayName;const DR=y.forwardRef(({className:e,...t},r)=>s.jsx(ER,{ref:r,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(yj,{className:"h-4 w-4"})}));DR.displayName=ER.displayName;const MR=y.forwardRef(({className:e,...t},r)=>s.jsx(OR,{ref:r,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Oo,{className:"h-4 w-4"})}));MR.displayName=OR.displayName;const Xn=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(qX,{children:s.jsxs(kR,{ref:a,className:Ie("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(DR,{}),s.jsx(HX,{className:Ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(MR,{})]})}));Xn.displayName=kR.displayName;const KX=y.forwardRef(({className:e,...t},r)=>s.jsx(CR,{ref:r,className:Ie("px-2 py-1.5 text-sm font-semibold",e),...t}));KX.displayName=CR.displayName;const ht=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(TR,{ref:n,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(YX,{children:s.jsx(Sp,{className:"h-4 w-4"})})}),s.jsx(WX,{children:t})]}));ht.displayName=TR.displayName;const VX=y.forwardRef(({className:e,...t},r)=>s.jsx(AR,{ref:r,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));VX.displayName=AR.displayName;function GX(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var qs=e=>{const{present:t,children:r}=e,n=QX(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Ht(n.ref,XX(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};qs.displayName="Presence";function QX(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),l=e?"mounted":"unmounted",[u,d]=GX(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const f=Mm(n.current);i.current=u==="mounted"?f:"none"},[u]),mn(()=>{const f=n.current,m=a.current;if(m!==e){const x=i.current,v=Mm(f);e?d("MOUNT"):v==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&x!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),mn(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,g=v=>{const w=Mm(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&w&&(d("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},x=v=>{v.target===t&&(i.current=Mm(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Mm(e){return e?.animationName||"none"}function XX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ZX(e){const t=JX(e),r=y.forwardRef((n,a)=>{const{children:i,...l}=n,u=y.Children.toArray(i),d=u.find(tZ);if(d){const f=d.props.children,m=u.map(g=>g===d?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return s.jsx(t,{...l,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,m):null})}return s.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function JX(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const l=nZ(a),u=rZ(i,a.props);return a.type!==y.Fragment&&(u.ref=n?ql(n,l):l),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eZ=Symbol("radix.slottable");function tZ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eZ}function rZ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const d=i(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function nZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Yp="Popover",[PR]=mu(Yp,[Bp]),_f=Bp(),[aZ,Po]=PR(Yp),RR=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!1}=e,u=_f(t),d=y.useRef(null),[f,m]=y.useState(!1),[g,x]=jg({prop:n,defaultProp:a??!1,onChange:i,caller:Yp});return s.jsx(z3,{...u,children:s.jsx(aZ,{scope:t,contentId:vl(),triggerRef:d,open:g,onOpenChange:x,onOpenToggle:y.useCallback(()=>x(v=>!v),[x]),hasCustomAnchor:f,onCustomAnchorAdd:y.useCallback(()=>m(!0),[]),onCustomAnchorRemove:y.useCallback(()=>m(!1),[]),modal:l,children:r})})};RR.displayName=Yp;var IR="PopoverAnchor",sZ=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Po(IR,r),i=_f(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=a;return y.useEffect(()=>(l(),()=>u()),[l,u]),s.jsx(qj,{...i,...n,ref:t})});sZ.displayName=IR;var LR="PopoverTrigger",$R=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Po(LR,r),i=_f(r),l=Ht(t,a.triggerRef),u=s.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qR(a.open),...n,ref:l,onClick:yt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?u:s.jsx(qj,{asChild:!0,...i,children:u})});$R.displayName=LR;var Yj="PopoverPortal",[iZ,oZ]=PR(Yj,{forceMount:void 0}),BR=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Po(Yj,t);return s.jsx(iZ,{scope:t,forceMount:r,children:s.jsx(qs,{present:r||i.open,children:s.jsx(zp,{asChild:!0,container:a,children:n})})})};BR.displayName=Yj;var Jc="PopoverContent",zR=y.forwardRef((e,t)=>{const r=oZ(Jc,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Po(Jc,e.__scopePopover);return s.jsx(qs,{present:n||i.open,children:i.modal?s.jsx(cZ,{...a,ref:t}):s.jsx(uZ,{...a,ref:t})})});zR.displayName=Jc;var lZ=ZX("PopoverContent.RemoveScroll"),cZ=y.forwardRef((e,t)=>{const r=Po(Jc,e.__scopePopover),n=y.useRef(null),a=Ht(t,n),i=y.useRef(!1);return y.useEffect(()=>{const l=n.current;if(l)return Hj(l)},[]),s.jsx(Up,{as:lZ,allowPinchZoom:!0,children:s.jsx(FR,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(e.onCloseAutoFocus,l=>{l.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:yt(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:yt(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),uZ=y.forwardRef((e,t)=>{const r=Po(Jc,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(FR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),FR=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...g}=e,x=Po(Jc,r),v=_f(r);return Pj(),s.jsx(Pp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(F3,{"data-state":qR(x.open),role:"dialog",id:x.contentId,...v,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),UR="PopoverClose",dZ=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Po(UR,r);return s.jsx(Tt.button,{type:"button",...n,ref:t,onClick:yt(e.onClick,()=>a.onOpenChange(!1))})});dZ.displayName=UR;var fZ="PopoverArrow",hZ=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_f(r);return s.jsx(U3,{...a,...n,ref:t})});hZ.displayName=fZ;function qR(e){return e?"open":"closed"}var mZ=RR,gZ=$R,pZ=BR,HR=zR;const yZ=mZ,xZ=gZ,WR=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(pZ,{children:s.jsx(HR,{ref:a,align:t,sideOffset:r,className:Ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));WR.displayName=HR.displayName;function vZ(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const bZ={},Ld={};function gl(e,t){try{const n=(bZ[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in Ld?Ld[n]:ME(n,n.split(":"))}catch{if(e in Ld)return Ld[e];const r=e?.match(wZ);return r?ME(e,r.slice(1)):NaN}}const wZ=/([+-]\d\d):?(\d\d)?/;function ME(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return Ld[e]=r*60+n>0?r*60+n+a:r*60-n-a}class Ms extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(gl(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),YR(this),r1(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Ms(...r,t):new Ms(Date.now(),t)}withTimeZone(t){return new Ms(+this,t)}getTimezoneOffset(){const t=-gl(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),r1(this),+this}[Symbol.for("constructDateFrom")](t){return new Ms(+new Date(t),this.timeZone)}}const PE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!PE.test(e))return;const t=e.replace(PE,"$1UTC");Ms.prototype[t]&&(e.startsWith("get")?Ms.prototype[e]=function(){return this.internal[t]()}:(Ms.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),jZ(this),+this},Ms.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),r1(this),+this}))});function r1(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-gl(e.timeZone,e)*60))}function jZ(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),YR(e)}function YR(e){const t=gl(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),l=a-i,u=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&u&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const d=a-r;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const f=new Date(+e);f.setUTCSeconds(0);const m=a>0?f.getSeconds():(f.getSeconds()-60)%60,g=Math.round(-(gl(e.timeZone,e)*60))%60;(g||m)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+g+m));const x=gl(e.timeZone,e),v=x>0?Math.floor(x):Math.ceil(x),w=-new Date(+e).getTimezoneOffset()-v,b=v!==r,S=w-d;if(b&&S){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+S);const k=gl(e.timeZone,e),C=k>0?Math.floor(k):Math.ceil(k),E=v-C;E&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+E),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+E))}}class vn extends Ms{static tz(t,...r){return r.length?new vn(...r,t):new vn(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${vZ(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new vn(+this,t)}[Symbol.for("constructDateFrom")](t){return new vn(+new Date(t),this.timeZone)}}const RE=5,_Z=4;function SZ(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,RE*7-1);return t.getMonth(e)===t.getMonth(i)?RE:_Z}function KR(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-6):t.addDays(r,-1*(n-1))}function NZ(e,t){const r=KR(e,t),n=SZ(e,t);return t.addDays(r,n*7-1)}class ka{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?vn.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,i)=>this.overrides?.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new vn(n,a,i,this.options.timeZone):new Date(n,a,i),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):Ls(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):P4(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):Sj(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):ZH(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):_j(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):$4(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):oW(n),this.eachYearOfInterval=n=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):cW(n),i=new Set(a.map(u=>this.getYear(u)));if(i.size===a.length)return a;const l=[];return i.forEach(u=>{l.push(new Date(u,0,1))}),l},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):NZ(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):uW(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):Nj(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):xo(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):lW(n),this.format=(n,a,i)=>{const l=this.overrides?.format?this.overrides.format(n,a,this.options):Ne(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):kj(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):iY(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):oY(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):Tj(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):lY(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):cY(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):L4(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):I4(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):sK(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):iK(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):JH(n),this.min=n=>this.overrides?.min?this.overrides.min(n):eW(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):jK(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):_K(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):KR(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):Mn(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):Cl(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):U4(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Er(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):q4(n),this.options={locale:wf,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&ka.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,i=r?.code;if(i&&ka.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const l=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,l)}}ka.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Hs=new ka;class VR{constructor(t,r,n=Hs){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class kZ{constructor(t,r){this.date=t,this.weeks=r}}class CZ{constructor(t,r){this.days=r,this.weekNumber=t}}function TZ(e){return _e.createElement("button",{...e})}function EZ(e){return _e.createElement("span",{...e})}function OZ(e){const{size:t=24,orientation:r="left",className:n}=e;return _e.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&_e.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&_e.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&_e.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&_e.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function AZ(e){const{day:t,modifiers:r,...n}=e;return _e.createElement("td",{...n})}function DZ(e){const{day:t,modifiers:r,...n}=e,a=_e.useRef(null);return _e.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),_e.createElement("button",{ref:a,...n})}var qe;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(qe||(qe={}));var gr;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(gr||(gr={}));var ms;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(ms||(ms={}));var ha;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(ha||(ha={}));function MZ(e){const{options:t,className:r,components:n,classNames:a,...i}=e,l=[a[qe.Dropdown],r].join(" "),u=t?.find(({value:d})=>d===i.value);return _e.createElement("span",{"data-disabled":i.disabled,className:a[qe.DropdownRoot]},_e.createElement(n.Select,{className:l,...i},t?.map(({value:d,label:f,disabled:m})=>_e.createElement(n.Option,{key:d,value:d,disabled:m},f))),_e.createElement("span",{className:a[qe.CaptionLabel],"aria-hidden":!0},u?.label,_e.createElement(n.Chevron,{orientation:"down",size:18,className:a[qe.Chevron]})))}function PZ(e){return _e.createElement("div",{...e})}function RZ(e){return _e.createElement("div",{...e})}function IZ(e){const{calendarMonth:t,displayIndex:r,...n}=e;return _e.createElement("div",{...n},e.children)}function LZ(e){const{calendarMonth:t,displayIndex:r,...n}=e;return _e.createElement("div",{...n})}function $Z(e){return _e.createElement("table",{...e})}function BZ(e){return _e.createElement("div",{...e})}const GR=y.createContext(void 0);function Sf(){const e=y.useContext(GR);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function zZ(e){const{components:t}=Sf();return _e.createElement(t.Dropdown,{...e})}function FZ(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:l,classNames:u,labels:{labelPrevious:d,labelNext:f}}=Sf(),m=y.useCallback(x=>{a&&r?.(x)},[a,r]),g=y.useCallback(x=>{n&&t?.(x)},[n,t]);return _e.createElement("nav",{...i},_e.createElement(l.PreviousMonthButton,{type:"button",className:u[qe.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":d(n),onClick:g},_e.createElement(l.Chevron,{disabled:n?void 0:!0,className:u[qe.Chevron],orientation:"left"})),_e.createElement(l.NextMonthButton,{type:"button",className:u[qe.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":f(a),onClick:m},_e.createElement(l.Chevron,{disabled:a?void 0:!0,orientation:"right",className:u[qe.Chevron]})))}function UZ(e){const{components:t}=Sf();return _e.createElement(t.Button,{...e})}function qZ(e){return _e.createElement("option",{...e})}function HZ(e){const{components:t}=Sf();return _e.createElement(t.Button,{...e})}function WZ(e){const{rootRef:t,...r}=e;return _e.createElement("div",{...r,ref:t})}function YZ(e){return _e.createElement("select",{...e})}function KZ(e){const{week:t,...r}=e;return _e.createElement("tr",{...r})}function VZ(e){return _e.createElement("th",{...e})}function GZ(e){return _e.createElement("thead",{"aria-hidden":!0},_e.createElement("tr",{...e}))}function QZ(e){const{week:t,...r}=e;return _e.createElement("th",{...r})}function XZ(e){return _e.createElement("th",{...e})}function ZZ(e){return _e.createElement("tbody",{...e})}function JZ(e){const{components:t}=Sf();return _e.createElement(t.Dropdown,{...e})}const eJ=Object.freeze(Object.defineProperty({__proto__:null,Button:TZ,CaptionLabel:EZ,Chevron:OZ,Day:AZ,DayButton:DZ,Dropdown:MZ,DropdownNav:PZ,Footer:RZ,Month:IZ,MonthCaption:LZ,MonthGrid:$Z,Months:BZ,MonthsDropdown:zZ,Nav:FZ,NextMonthButton:UZ,Option:qZ,PreviousMonthButton:HZ,Root:WZ,Select:YZ,Week:KZ,WeekNumber:QZ,WeekNumberHeader:XZ,Weekday:VZ,Weekdays:GZ,Weeks:ZZ,YearsDropdown:JZ},Symbol.toStringTag,{value:"Module"}));function yi(e,t,r=!1,n=Hs){let{from:a,to:i}=e;const{differenceInCalendarDays:l,isSameDay:u}=n;return a&&i?(l(i,a)<0&&([a,i]=[i,a]),l(t,a)>=(r?1:0)&&l(i,t)>=(r?1:0)):!r&&i?u(i,t):!r&&a?u(a,t):!1}function QR(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Kj(e){return!!(e&&typeof e=="object"&&"from"in e)}function XR(e){return!!(e&&typeof e=="object"&&"after"in e)}function ZR(e){return!!(e&&typeof e=="object"&&"before"in e)}function JR(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function e5(e,t){return Array.isArray(e)&&e.every(t.isDate)}function xi(e,t,r=Hs){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:l}=r;return n.some(u=>{if(typeof u=="boolean")return u;if(r.isDate(u))return a(e,u);if(e5(u,r))return u.includes(e);if(Kj(u))return yi(u,e,!1,r);if(JR(u))return Array.isArray(u.dayOfWeek)?u.dayOfWeek.includes(e.getDay()):u.dayOfWeek===e.getDay();if(QR(u)){const d=i(u.before,e),f=i(u.after,e),m=d>0,g=f<0;return l(u.before,u.after)?g&&m:m||g}return XR(u)?i(e,u.after)>0:ZR(u)?i(u.before,e)>0:typeof u=="function"?u(e):!1})}function tJ(e,t,r,n,a){const{disabled:i,hidden:l,modifiers:u,showOutsideDays:d,broadcastCalendar:f,today:m}=t,{isSameDay:g,isSameMonth:x,startOfMonth:v,isBefore:j,endOfMonth:w,isAfter:b}=a,S=r&&v(r),k=n&&w(n),C={[gr.focused]:[],[gr.outside]:[],[gr.disabled]:[],[gr.hidden]:[],[gr.today]:[]},E={};for(const O of e){const{date:D,displayMonth:T}=O,M=!!(T&&!x(D,T)),I=!!(S&&j(D,S)),$=!!(k&&b(D,k)),B=!!(i&&xi(D,i,a)),z=!!(l&&xi(D,l,a))||I||$||!f&&!d&&M||f&&d===!1&&M,Y=g(D,m??a.today());M&&C.outside.push(O),B&&C.disabled.push(O),z&&C.hidden.push(O),Y&&C.today.push(O),u&&Object.keys(u).forEach(ne=>{const V=u?.[ne];V&&xi(D,V,a)&&(E[ne]?E[ne].push(O):E[ne]=[O])})}return O=>{const D={[gr.focused]:!1,[gr.disabled]:!1,[gr.hidden]:!1,[gr.outside]:!1,[gr.today]:!1},T={};for(const M in C){const I=C[M];D[M]=I.some($=>$===O)}for(const M in E)T[M]=E[M].some(I=>I===O);return{...D,...T}}}function rJ(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[gr[i]]?a.push(t[gr[i]]):t[ms[i]]&&a.push(t[ms[i]]),a),[t[qe.Day]])}function nJ(e){return{...eJ,...e}}function aJ(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function Vj(){const e={};for(const t in qe)e[qe[t]]=`rdp-${qe[t]}`;for(const t in gr)e[gr[t]]=`rdp-${gr[t]}`;for(const t in ms)e[ms[t]]=`rdp-${ms[t]}`;for(const t in ha)e[ha[t]]=`rdp-${ha[t]}`;return e}function t5(e,t,r){return(r??new ka(t)).formatMonthYear(e)}const sJ=t5;function iJ(e,t,r){return(r??new ka(t)).format(e,"d")}function oJ(e,t=Hs){return t.format(e,"LLLL")}function lJ(e,t,r){return(r??new ka(t)).format(e,"cccccc")}function cJ(e,t=Hs){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function uJ(){return""}function r5(e,t=Hs){return t.format(e,"yyyy")}const dJ=r5,fJ=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:t5,formatDay:iJ,formatMonthCaption:sJ,formatMonthDropdown:oJ,formatWeekNumber:cJ,formatWeekNumberHeader:uJ,formatWeekdayName:lJ,formatYearCaption:dJ,formatYearDropdown:r5},Symbol.toStringTag,{value:"Module"}));function hJ(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...fJ,...e}}function mJ(e,t,r,n,a){const{startOfMonth:i,startOfYear:l,endOfYear:u,eachMonthOfInterval:d,getMonth:f}=a;return d({start:l(e),end:u(e)}).map(x=>{const v=n.formatMonthDropdown(x,a),j=f(x),w=t&&x<i(t)||r&&x>i(r)||!1;return{value:j,label:v,disabled:w}})}function gJ(e,t={},r={}){let n={...t?.[qe.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function pJ(e,t,r){const n=e.today(),a=t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let l=0;l<7;l++){const u=e.addDays(a,l);i.push(u)}return i}function yJ(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:l,eachYearOfInterval:u,getYear:d}=n,f=i(e),m=l(t),g=u({start:f,end:m});return a&&g.reverse(),g.map(x=>{const v=r.formatYearDropdown(x,n);return{value:d(x),label:v,disabled:!1}})}function n5(e,t,r,n){let a=(n??new ka(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const xJ=n5;function a5(e,t,r){return(r??new ka(t)).formatMonthYear(e)}const vJ=a5;function bJ(e,t,r,n){let a=(n??new ka(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function wJ(e){return"Choose the Month"}function jJ(){return""}function _J(e){return"Go to the Next Month"}function SJ(e){return"Go to the Previous Month"}function NJ(e,t,r){return(r??new ka(t)).format(e,"cccc")}function kJ(e,t){return`Week ${e}`}function CJ(e){return"Week Number"}function TJ(e){return"Choose the Year"}const EJ=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:vJ,labelDay:xJ,labelDayButton:n5,labelGrid:a5,labelGridcell:bJ,labelMonthDropdown:wJ,labelNav:jJ,labelNext:_J,labelPrevious:SJ,labelWeekNumber:kJ,labelWeekNumberHeader:CJ,labelWeekday:NJ,labelYearDropdown:TJ},Symbol.toStringTag,{value:"Module"})),Nf=e=>e instanceof HTMLElement?e:null,Dv=e=>[...e.querySelectorAll("[data-animated-month]")??[]],OJ=e=>Nf(e.querySelector("[data-animated-month]")),Mv=e=>Nf(e.querySelector("[data-animated-caption]")),Pv=e=>Nf(e.querySelector("[data-animated-weeks]")),AJ=e=>Nf(e.querySelector("[data-animated-nav]")),DJ=e=>Nf(e.querySelector("[data-animated-weekdays]"));function MJ(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const l=y.useRef(null),u=y.useRef(n),d=y.useRef(!1);y.useLayoutEffect(()=>{const f=u.current;if(u.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||f.length===0||n.length!==f.length)return;const m=i.isSameMonth(n[0].date,f[0].date),g=i.isAfter(n[0].date,f[0].date),x=g?r[ha.caption_after_enter]:r[ha.caption_before_enter],v=g?r[ha.weeks_after_enter]:r[ha.weeks_before_enter],j=l.current,w=e.current.cloneNode(!0);if(w instanceof HTMLElement?(Dv(w).forEach(C=>{if(!(C instanceof HTMLElement))return;const E=OJ(C);E&&C.contains(E)&&C.removeChild(E);const O=Mv(C);O&&O.classList.remove(x);const D=Pv(C);D&&D.classList.remove(v)}),l.current=w):l.current=null,d.current||m||a)return;const b=j instanceof HTMLElement?Dv(j):[],S=Dv(e.current);if(S?.every(k=>k instanceof HTMLElement)&&b&&b.every(k=>k instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const k=AJ(e.current);k&&(k.style.zIndex="1"),S.forEach((C,E)=>{const O=b[E];if(!O)return;C.style.position="relative",C.style.overflow="hidden";const D=Mv(C);D&&D.classList.add(x);const T=Pv(C);T&&T.classList.add(v);const M=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),k&&(k.style.zIndex=""),D&&D.classList.remove(x),T&&T.classList.remove(v),C.style.position="",C.style.overflow="",C.contains(O)&&C.removeChild(O)};O.style.pointerEvents="none",O.style.position="absolute",O.style.overflow="hidden",O.setAttribute("aria-hidden","true");const I=DJ(O);I&&(I.style.opacity="0");const $=Mv(O);$&&($.classList.add(g?r[ha.caption_before_exit]:r[ha.caption_after_exit]),$.addEventListener("animationend",M));const B=Pv(O);B&&B.classList.add(g?r[ha.weeks_before_exit]:r[ha.weeks_after_exit]),C.insertBefore(O,C.firstChild)})}})}function PJ(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:l,fixedWeeks:u,broadcastCalendar:d}=r??{},{addDays:f,differenceInCalendarDays:m,differenceInCalendarMonths:g,endOfBroadcastWeek:x,endOfISOWeek:v,endOfMonth:j,endOfWeek:w,isAfter:b,startOfBroadcastWeek:S,startOfISOWeek:k,startOfWeek:C}=n,E=d?S(a,n):l?k(a):C(a),O=d?x(i):l?v(j(i)):w(j(i)),D=m(O,E),T=g(i,a)+1,M=[];for(let B=0;B<=D;B++){const z=f(E,B);if(t&&b(z,t))break;M.push(z)}const $=(d?35:42)*T;if(u&&M.length<$){const B=$-M.length;for(let z=0;z<B;z++){const Y=f(M[M.length-1],1);M.push(Y)}}return M}function RJ(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,l)=>i.concat(l.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function IJ(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let l=0;l<a;l++){const u=n.addMonths(e,l);if(t&&u>t)break;i.push(u)}return i}function IE(e,t,r,n){const{month:a,defaultMonth:i,today:l=n.today(),numberOfMonths:u=1}=e;let d=a||i||l;const{differenceInCalendarMonths:f,addMonths:m,startOfMonth:g}=n;if(r&&f(r,d)<u-1){const x=-1*(u-1);d=m(r,x)}return t&&f(d,t)<0&&(d=t),g(d)}function LJ(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:l,endOfMonth:u,endOfWeek:d,getISOWeek:f,getWeek:m,startOfBroadcastWeek:g,startOfISOWeek:x,startOfWeek:v}=n,j=e.reduce((w,b)=>{const S=r.broadcastCalendar?g(b,n):r.ISOWeek?x(b):v(b),k=r.broadcastCalendar?i(b):r.ISOWeek?l(u(b)):d(u(b)),C=t.filter(T=>T>=S&&T<=k),E=r.broadcastCalendar?35:42;if(r.fixedWeeks&&C.length<E){const T=t.filter(M=>{const I=E-C.length;return M>k&&M<=a(k,I)});C.push(...T)}const O=C.reduce((T,M)=>{const I=r.ISOWeek?f(M):m(M),$=T.find(z=>z.weekNumber===I),B=new VR(M,b,n);return $?$.days.push(B):T.push(new CZ(I,[B])),T},[]),D=new kZ(b,O);return w.push(D),w},[]);return r.reverseMonths?j.reverse():j}function $J(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:l,endOfMonth:u,addYears:d,endOfYear:f,newDate:m,today:g}=t,{fromYear:x,toYear:v,fromMonth:j,toMonth:w}=e;!r&&j&&(r=j),!r&&x&&(r=t.newDate(x,0,1)),!n&&w&&(n=w),!n&&v&&(n=m(v,11,31));const b=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=l(r):x?r=m(x,0,1):!r&&b&&(r=a(d(e.today??g(),-100))),n?n=u(n):v?n=m(v,11,31):!n&&b&&(n=f(e.today??g())),[r&&i(r),n&&i(n)]}function BJ(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:d}=n,f=a?i:1,m=l(e);if(!t)return u(m,f);if(!(d(t,e)<i))return u(m,f)}function zJ(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:d}=n,f=a?i??1:1,m=l(e);if(!t)return u(m,-f);if(!(d(m,t)<=0))return u(m,-f)}function FJ(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function Kp(e,t){const[r,n]=y.useState(e);return[t===void 0?r:t,n]}function UJ(e,t){const[r,n]=$J(e,t),{startOfMonth:a,endOfMonth:i}=t,l=IE(e,r,n,t),[u,d]=Kp(l,e.month?l:void 0);y.useEffect(()=>{const D=IE(e,r,n,t);d(D)},[e.timeZone]);const f=IJ(u,n,e,t),m=PJ(f,e.endMonth?i(e.endMonth):void 0,e,t),g=LJ(f,m,e,t),x=FJ(g),v=RJ(g),j=zJ(u,r,e,t),w=BJ(u,n,e,t),{disableNavigation:b,onMonthChange:S}=e,k=D=>x.some(T=>T.days.some(M=>M.isEqualTo(D))),C=D=>{if(b)return;let T=a(D);r&&T<a(r)&&(T=a(r)),n&&T>a(n)&&(T=a(n)),d(T),S?.(T)};return{months:g,weeks:x,days:v,navStart:r,navEnd:n,previousMonth:j,nextMonth:w,goToMonth:C,goToDay:D=>{k(D)||C(D.date)}}}var Es;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Es||(Es={}));function LE(e){return!e[gr.disabled]&&!e[gr.hidden]&&!e[gr.outside]}function qJ(e,t,r,n){let a,i=-1;for(const l of e){const u=t(l);LE(u)&&(u[gr.focused]&&i<Es.FocusedModifier?(a=l,i=Es.FocusedModifier):n?.isEqualTo(l)&&i<Es.LastFocused?(a=l,i=Es.LastFocused):r(l.date)&&i<Es.Selected?(a=l,i=Es.Selected):u[gr.today]&&i<Es.Today&&(a=l,i=Es.Today))}return a||(a=e.find(l=>LE(t(l)))),a}function HJ(e,t,r,n,a,i,l){const{ISOWeek:u,broadcastCalendar:d}=i,{addDays:f,addMonths:m,addWeeks:g,addYears:x,endOfBroadcastWeek:v,endOfISOWeek:j,endOfWeek:w,max:b,min:S,startOfBroadcastWeek:k,startOfISOWeek:C,startOfWeek:E}=l;let D={day:f,week:g,month:m,year:x,startOfWeek:T=>d?k(T,l):u?C(T):E(T),endOfWeek:T=>d?v(T):u?j(T):w(T)}[e](r,t==="after"?1:-1);return t==="before"&&n?D=b([n,D]):t==="after"&&a&&(D=S([a,D])),D}function s5(e,t,r,n,a,i,l,u=0){if(u>365)return;const d=HJ(e,t,r.date,n,a,i,l),f=!!(i.disabled&&xi(d,i.disabled,l)),m=!!(i.hidden&&xi(d,i.hidden,l)),g=d,x=new VR(d,g,l);return!f&&!m?x:s5(e,t,x,n,a,i,l,u+1)}function WJ(e,t,r,n,a){const{autoFocus:i}=e,[l,u]=y.useState(),d=qJ(t.days,r,n||(()=>!1),l),[f,m]=y.useState(i?d:void 0);return{isFocusTarget:w=>!!d?.isEqualTo(w),setFocused:m,focused:f,blur:()=>{u(f),m(void 0)},moveFocus:(w,b)=>{if(!f)return;const S=s5(w,b,f,t.navStart,t.navEnd,e,a);S&&(e.disableNavigation&&!t.days.some(C=>C.isEqualTo(S))||(t.goToDay(S),m(S)))}}}function YJ(e,t){const{selected:r,required:n,onSelect:a}=e,[i,l]=Kp(r,a?r:void 0),u=a?r:i,{isSameDay:d}=t,f=v=>u?.some(j=>d(j,v))??!1,{min:m,max:g}=e;return{selected:u,select:(v,j,w)=>{let b=[...u??[]];if(f(v)){if(u?.length===m||n&&u?.length===1)return;b=u?.filter(S=>!d(S,v))}else u?.length===g?b=[v]:b=[...b,v];return a||l(b),a?.(b,v,j,w),b},isSelected:f}}function KJ(e,t,r=0,n=0,a=!1,i=Hs){const{from:l,to:u}=t||{},{isSameDay:d,isAfter:f,isBefore:m}=i;let g;if(!l&&!u)g={from:e,to:r>0?void 0:e};else if(l&&!u)d(l,e)?r===0?g={from:l,to:e}:a?g={from:l,to:void 0}:g=void 0:m(e,l)?g={from:e,to:l}:g={from:l,to:e};else if(l&&u)if(d(l,e)&&d(u,e))a?g={from:l,to:u}:g=void 0;else if(d(l,e))g={from:l,to:r>0?void 0:e};else if(d(u,e))g={from:e,to:r>0?void 0:e};else if(m(e,l))g={from:e,to:u};else if(f(e,l))g={from:l,to:e};else if(f(e,u))g={from:l,to:e};else throw new Error("Invalid range");if(g?.from&&g?.to){const x=i.differenceInCalendarDays(g.to,g.from);n>0&&x>n?g={from:e,to:void 0}:r>1&&x<r&&(g={from:e,to:void 0})}return g}function VJ(e,t,r=Hs){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),l=Math.min(i,6);for(let u=0;u<=l;u++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function $E(e,t,r=Hs){return yi(e,t.from,!1,r)||yi(e,t.to,!1,r)||yi(t,e.from,!1,r)||yi(t,e.to,!1,r)}function GJ(e,t,r=Hs){const n=Array.isArray(t)?t:[t];if(n.filter(u=>typeof u!="function").some(u=>typeof u=="boolean"?u:r.isDate(u)?yi(e,u,!1,r):e5(u,r)?u.some(d=>yi(e,d,!1,r)):Kj(u)?u.from&&u.to?$E(e,{from:u.from,to:u.to},r):!1:JR(u)?VJ(e,u.dayOfWeek,r):QR(u)?r.isAfter(u.before,u.after)?$E(e,{from:r.addDays(u.after,1),to:r.addDays(u.before,-1)},r):xi(e.from,u,r)||xi(e.to,u,r):XR(u)||ZR(u)?xi(e.from,u,r)||xi(e.to,u,r):!1))return!0;const l=n.filter(u=>typeof u=="function");if(l.length){let u=e.from;const d=r.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=d;f++){if(l.some(m=>m(u)))return!0;u=r.addDays(u,1)}}return!1}function QJ(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:l}=e,[u,d]=Kp(a,l?a:void 0),f=l?a:u;return{selected:f,select:(x,v,j)=>{const{min:w,max:b}=e,S=x?KJ(x,f,w,b,i,t):void 0;return n&&r&&S?.from&&S.to&&GJ({from:S.from,to:S.to},r,t)&&(S.from=x,S.to=void 0),l||d(S),l?.(S,x,v,j),S},isSelected:x=>f&&yi(f,x,!1,t)}}function XJ(e,t){const{selected:r,required:n,onSelect:a}=e,[i,l]=Kp(r,a?r:void 0),u=a?r:i,{isSameDay:d}=t;return{selected:u,select:(g,x,v)=>{let j=g;return!n&&u&&u&&d(g,u)&&(j=void 0),a||l(j),a?.(j,g,x,v),j},isSelected:g=>u?d(u,g):!1}}function ZJ(e,t){const r=XJ(e,t),n=YJ(e,t),a=QJ(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function JJ(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new vn(t.today,t.timeZone)),t.month&&(t.month=new vn(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new vn(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new vn(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new vn(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new vn(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Ye=>new vn(Ye,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new vn(t.selected.from,t.timeZone):void 0,to:t.selected.to?new vn(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:a,dateLib:i,locale:l,classNames:u}=y.useMemo(()=>{const Ye={...wf,...t.locale};return{dateLib:new ka({locale:Ye,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:nJ(t.components),formatters:hJ(t.formatters),labels:{...EJ,...t.labels},locale:Ye,classNames:{...Vj(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:f,navLayout:m,numberOfMonths:g=1,onDayBlur:x,onDayClick:v,onDayFocus:j,onDayKeyDown:w,onDayMouseEnter:b,onDayMouseLeave:S,onNextClick:k,onPrevClick:C,showWeekNumber:E,styles:O}=t,{formatCaption:D,formatDay:T,formatMonthDropdown:M,formatWeekNumber:I,formatWeekNumberHeader:$,formatWeekdayName:B,formatYearDropdown:z}=n,Y=UJ(t,i),{days:ne,months:V,navStart:F,navEnd:Z,previousMonth:q,nextMonth:U,goToMonth:W}=Y,L=tJ(ne,t,F,Z,i),{isSelected:ee,select:J,selected:Q}=ZJ(t,i)??{},{blur:fe,focused:ge,isFocusTarget:re,moveFocus:ke,setFocused:se}=WJ(t,Y,L,ee??(()=>!1),i),{labelDayButton:pe,labelGridcell:Ce,labelGrid:de,labelMonthDropdown:Qe,labelNav:Ee,labelPrevious:Ue,labelNext:et,labelWeekday:Wt,labelWeekNumber:Xr,labelWeekNumberHeader:_r,labelYearDropdown:Jt}=a,zr=y.useMemo(()=>pJ(i,t.ISOWeek),[i,t.ISOWeek]),yr=f!==void 0||v!==void 0,K=y.useCallback(()=>{q&&(W(q),C?.(q))},[q,W,C]),ae=y.useCallback(()=>{U&&(W(U),k?.(U))},[W,U,k]),P=y.useCallback((Ye,St)=>je=>{je.preventDefault(),je.stopPropagation(),se(Ye),J?.(Ye.date,St,je),v?.(Ye.date,St,je)},[J,v,se]),oe=y.useCallback((Ye,St)=>je=>{se(Ye),j?.(Ye.date,St,je)},[j,se]),ve=y.useCallback((Ye,St)=>je=>{fe(),x?.(Ye.date,St,je)},[fe,x]),Te=y.useCallback((Ye,St)=>je=>{const Oe={ArrowLeft:[je.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[je.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[je.shiftKey?"year":"week","after"],ArrowUp:[je.shiftKey?"year":"week","before"],PageUp:[je.shiftKey?"year":"month","before"],PageDown:[je.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Oe[je.key]){je.preventDefault(),je.stopPropagation();const[nt,Se]=Oe[je.key];ke(nt,Se)}w?.(Ye.date,St,je)},[ke,w,t.dir]),tt=y.useCallback((Ye,St)=>je=>{b?.(Ye.date,St,je)},[b]),jt=y.useCallback((Ye,St)=>je=>{S?.(Ye.date,St,je)},[S]),Et=y.useCallback(Ye=>St=>{const je=Number(St.target.value),Oe=i.setMonth(i.startOfMonth(Ye),je);W(Oe)},[i,W]),lr=y.useCallback(Ye=>St=>{const je=Number(St.target.value),Oe=i.setYear(i.startOfMonth(Ye),je);W(Oe)},[i,W]),{className:Yt,style:_t}=y.useMemo(()=>({className:[u[qe.Root],t.className].filter(Boolean).join(" "),style:{...O?.[qe.Root],...t.style}}),[u,t.className,t.style,O]),Je=aJ(t),xt=y.useRef(null);MJ(xt,!!t.animate,{classNames:u,months:V,focused:ge,dateLib:i});const er={dayPickerProps:t,selected:Q,select:J,isSelected:ee,months:V,nextMonth:U,previousMonth:q,goToMonth:W,getModifiers:L,components:r,classNames:u,styles:O,labels:a,formatters:n};return _e.createElement(GR.Provider,{value:er},_e.createElement(r.Root,{rootRef:t.animate?xt:void 0,className:Yt,style:_t,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Je},_e.createElement(r.Months,{className:u[qe.Months],style:O?.[qe.Months]},!t.hideNavigation&&!m&&_e.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:u[qe.Nav],style:O?.[qe.Nav],"aria-label":Ee(),onPreviousClick:K,onNextClick:ae,previousMonth:q,nextMonth:U}),V.map((Ye,St)=>_e.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:u[qe.Month],style:O?.[qe.Month],key:St,displayIndex:St,calendarMonth:Ye},m==="around"&&!t.hideNavigation&&St===0&&_e.createElement(r.PreviousMonthButton,{type:"button",className:u[qe.PreviousMonthButton],tabIndex:q?void 0:-1,"aria-disabled":q?void 0:!0,"aria-label":Ue(q),onClick:K,"data-animated-button":t.animate?"true":void 0},_e.createElement(r.Chevron,{disabled:q?void 0:!0,className:u[qe.Chevron],orientation:t.dir==="rtl"?"right":"left"})),_e.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:u[qe.MonthCaption],style:O?.[qe.MonthCaption],calendarMonth:Ye,displayIndex:St},d?.startsWith("dropdown")?_e.createElement(r.DropdownNav,{className:u[qe.Dropdowns],style:O?.[qe.Dropdowns]},(()=>{const je=d==="dropdown"||d==="dropdown-months"?_e.createElement(r.MonthsDropdown,{key:"month",className:u[qe.MonthsDropdown],"aria-label":Qe(),classNames:u,components:r,disabled:!!t.disableNavigation,onChange:Et(Ye.date),options:mJ(Ye.date,F,Z,n,i),style:O?.[qe.Dropdown],value:i.getMonth(Ye.date)}):_e.createElement("span",{key:"month"},M(Ye.date,i)),Oe=d==="dropdown"||d==="dropdown-years"?_e.createElement(r.YearsDropdown,{key:"year",className:u[qe.YearsDropdown],"aria-label":Jt(i.options),classNames:u,components:r,disabled:!!t.disableNavigation,onChange:lr(Ye.date),options:yJ(F,Z,n,i,!!t.reverseYears),style:O?.[qe.Dropdown],value:i.getYear(Ye.date)}):_e.createElement("span",{key:"year"},z(Ye.date,i));return i.getMonthYearOrder()==="year-first"?[Oe,je]:[je,Oe]})(),_e.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},D(Ye.date,i.options,i))):_e.createElement(r.CaptionLabel,{className:u[qe.CaptionLabel],role:"status","aria-live":"polite"},D(Ye.date,i.options,i))),m==="around"&&!t.hideNavigation&&St===g-1&&_e.createElement(r.NextMonthButton,{type:"button",className:u[qe.NextMonthButton],tabIndex:U?void 0:-1,"aria-disabled":U?void 0:!0,"aria-label":et(U),onClick:ae,"data-animated-button":t.animate?"true":void 0},_e.createElement(r.Chevron,{disabled:U?void 0:!0,className:u[qe.Chevron],orientation:t.dir==="rtl"?"left":"right"})),St===g-1&&m==="after"&&!t.hideNavigation&&_e.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:u[qe.Nav],style:O?.[qe.Nav],"aria-label":Ee(),onPreviousClick:K,onNextClick:ae,previousMonth:q,nextMonth:U}),_e.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":de(Ye.date,i.options,i)||void 0,className:u[qe.MonthGrid],style:O?.[qe.MonthGrid]},!t.hideWeekdays&&_e.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:u[qe.Weekdays],style:O?.[qe.Weekdays]},E&&_e.createElement(r.WeekNumberHeader,{"aria-label":_r(i.options),className:u[qe.WeekNumberHeader],style:O?.[qe.WeekNumberHeader],scope:"col"},$()),zr.map(je=>_e.createElement(r.Weekday,{"aria-label":Wt(je,i.options,i),className:u[qe.Weekday],key:String(je),style:O?.[qe.Weekday],scope:"col"},B(je,i.options,i)))),_e.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:u[qe.Weeks],style:O?.[qe.Weeks]},Ye.weeks.map(je=>_e.createElement(r.Week,{className:u[qe.Week],key:je.weekNumber,style:O?.[qe.Week],week:je},E&&_e.createElement(r.WeekNumber,{week:je,style:O?.[qe.WeekNumber],"aria-label":Xr(je.weekNumber,{locale:l}),className:u[qe.WeekNumber],scope:"row",role:"rowheader"},I(je.weekNumber,i)),je.days.map(Oe=>{const{date:nt}=Oe,Se=L(Oe);if(Se[gr.focused]=!Se.hidden&&!!ge?.isEqualTo(Oe),Se[ms.selected]=ee?.(nt)||Se.selected,Kj(Q)){const{from:ot,to:Ar}=Q;Se[ms.range_start]=!!(ot&&Ar&&i.isSameDay(nt,ot)),Se[ms.range_end]=!!(ot&&Ar&&i.isSameDay(nt,Ar)),Se[ms.range_middle]=yi(Q,nt,!0,i)}const ct=gJ(Se,O,t.modifiersStyles),ar=rJ(Se,u,t.modifiersClassNames),ut=!yr&&!Se.hidden?Ce(nt,Se,i.options,i):void 0;return _e.createElement(r.Day,{key:`${i.format(nt,"yyyy-MM-dd")}_${i.format(Oe.displayMonth,"yyyy-MM")}`,day:Oe,modifiers:Se,className:ar.join(" "),style:ct,role:"gridcell","aria-selected":Se.selected||void 0,"aria-label":ut,"data-day":i.format(nt,"yyyy-MM-dd"),"data-month":Oe.outside?i.format(nt,"yyyy-MM"):void 0,"data-selected":Se.selected||void 0,"data-disabled":Se.disabled||void 0,"data-hidden":Se.hidden||void 0,"data-outside":Oe.outside||void 0,"data-focused":Se.focused||void 0,"data-today":Se.today||void 0},!Se.hidden&&yr?_e.createElement(r.DayButton,{className:u[qe.DayButton],style:O?.[qe.DayButton],type:"button",day:Oe,modifiers:Se,disabled:Se.disabled||void 0,tabIndex:re(Oe)?0:-1,"aria-label":pe(nt,Se,i.options,i),onClick:P(Oe,Se),onBlur:ve(Oe,Se),onFocus:oe(Oe,Se),onKeyDown:Te(Oe,Se),onMouseEnter:tt(Oe,Se),onMouseLeave:jt(Oe,Se)},T(nt,i.options,i)):!Se.hidden&&T(Oe.date,i.options,i))})))))))),t.footer&&_e.createElement(r.Footer,{className:u[qe.Footer],style:O?.[qe.Footer],role:"status","aria-live":"polite"},t.footer)))}function i5({className:e,classNames:t,showOutsideDays:r=!0,captionLayout:n="label",buttonVariant:a="ghost",formatters:i,components:l,...u}){const d=Vj();return s.jsx(JJ,{showOutsideDays:r,className:Ie("bg-transparent group/calendar p-3 [--cell-size:3rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:n,formatters:{formatMonthDropdown:f=>f.toLocaleString("default",{month:"short"}),...i},classNames:{root:Ie("w-fit",d.root),months:Ie("relative flex flex-col gap-4 md:flex-row",d.months),month:Ie("flex w-full flex-col gap-4",d.month),nav:Ie("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",d.nav),button_previous:Ie(Hw({variant:a}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_previous),button_next:Ie(Hw({variant:a}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_next),month_caption:Ie("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",d.month_caption),dropdowns:Ie("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",d.dropdowns),dropdown_root:Ie("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",d.dropdown_root),dropdown:Ie("bg-popover absolute inset-0 opacity-0",d.dropdown),caption_label:Ie("select-none font-medium",n==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",d.caption_label),table:"w-full border-collapse",weekdays:Ie("flex",d.weekdays),weekday:Ie("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",d.weekday),week:Ie("mt-2 flex w-full",d.week),week_number_header:Ie("w-[--cell-size] select-none",d.week_number_header),week_number:Ie("text-muted-foreground select-none text-[0.8rem]",d.week_number),day:Ie("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",d.day),range_start:Ie("bg-accent rounded-l-md",d.range_start),range_middle:Ie("rounded-none",d.range_middle),range_end:Ie("bg-accent rounded-r-md",d.range_end),today:Ie("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",d.today),outside:Ie("text-muted-foreground aria-selected:text-muted-foreground",d.outside),disabled:Ie("text-muted-foreground opacity-50",d.disabled),hidden:Ie("invisible",d.hidden),...t},components:{Root:({className:f,rootRef:m,...g})=>s.jsx("div",{"data-slot":"calendar",ref:m,className:Ie(f),...g}),Chevron:({className:f,orientation:m,...g})=>m==="left"?s.jsx(Np,{className:Ie("size-4",f),...g}):m==="right"?s.jsx(Fs,{className:Ie("size-4",f),...g}):s.jsx(Oo,{className:Ie("size-4",f),...g}),DayButton:eee,WeekNumber:({children:f,...m})=>s.jsx("td",{...m,children:s.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:f})}),...l},...u})}function eee({className:e,day:t,modifiers:r,...n}){Vj();const a=y.useRef(null);return y.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),s.jsx(Ae,{ref:a,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":r.selected&&!r.range_start&&!r.range_end&&!r.range_middle,"data-range-start":r.range_start,"data-range-end":r.range_end,"data-range-middle":r.range_middle,className:Ie("data-[selected-single=true]:bg-white data-[selected-single=true]:text-slate-900 data-[range-middle=true]:bg-slate-700 data-[range-middle=true]:text-slate-100 data-[range-start=true]:bg-white data-[range-start=true]:text-slate-900 data-[range-end=true]:bg-white data-[range-end=true]:text-slate-900 group-data-[focused=true]/day:ring-slate-600 group-data-[focused=true]/day:ring-slate-600/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none text-slate-300 hover:bg-slate-800 hover:text-slate-100 data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",e),...n})}const tee=e=>Be({queryKey:["task-time-logs",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await X.from("task_time_logs").select("*").eq("task_id",e).order("log_date",{ascending:!1});if(r)throw console.error("Error fetching task time logs:",r),r;return t||[]},enabled:!!e,staleTime:3e4}),ree=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.from("task_time_logs").insert({user_id:r.id,task_id:t.taskId,log_date:t.logDate,hours_worked:t.hoursWorked,start_time:t.startTime||null,end_time:t.endTime||null,notes:t.notes||null}).select().single();if(a)throw a;return n},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["task-time-logs",r.taskId]}),e.invalidateQueries({queryKey:["tasks"]})}})},nee=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:r,error:n}=await X.from("task_time_logs").update(t.updates).eq("id",t.id).select().single();if(n)throw n;return r},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["task-time-logs",r.taskId]}),e.invalidateQueries({queryKey:["tasks"]})}})},aee=()=>{const e=mt();return wt({mutationFn:async t=>{const{error:r}=await X.from("task_time_logs").delete().eq("id",t.id);if(r)throw r},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["task-time-logs",r.taskId]}),e.invalidateQueries({queryKey:["tasks"]})}})},it=e=>{if(!e)return null;if(e.includes("T"))return new Date(e);const[t,r,n]=e.split("-").map(Number);return!t||!r||!n?null:new Date(t,r-1,n,12,0,0,0)},wr=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},kf=()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)},Fc=()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0,0)},$d=e=>{if(!e)return!1;const t=it(e);if(!t)return!1;const r=kf();return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime()===r.getTime()},n1=e=>{if(!e)return!1;const t=it(e);if(!t)return!1;const r=kf();return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime()<r.getTime()},BE=e=>{if(!e)return!1;const t=it(e);if(!t)return!1;const r=kf();return r.setDate(r.getDate()+1),new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime()===r.getTime()},see=e=>{if(!e)return null;if(e.includes("T")){const a=new Date(e);return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)}const[t,r,n]=e.split("-").map(Number);return!t||!r||!n?null:new Date(t,r-1,n,0,0,0,0)},Pm=e=>{if(!e)return"";const[t,r]=e.split(":"),n=parseInt(t,10),a=r;return n===0?`12:${a} AM`:n<12?`${n}:${a} AM`:n===12?`12:${a} PM`:`${n-12}:${a} PM`},iee=()=>{const e=[];for(let t=8;t<24;t++)for(let r=0;r<60;r+=15){const n=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`;e.push(n)}for(let t=0;t<8;t++)for(let r=0;r<60;r+=15){const n=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`;e.push(n)}return e},zE=iee(),oee=({taskId:e,hoursProjected:t=0,hoursWorked:r=0})=>{const{data:n=[]}=tee(e),a=ree(),i=nee();aee();const l=Ul(),[u,d]=y.useState([{date:wr(Fc()),startTime:"",endTime:"",notes:""},{date:wr(Fc()),startTime:"",endTime:"",notes:""},{date:wr(Fc()),startTime:"",endTime:"",notes:""},{date:wr(Fc()),startTime:"",endTime:"",notes:""}]),f=(b,S)=>{if(!b||!S)return 0;try{const k=M=>{const I=M.split(":");return`${I[0]}:${I[1]}`},C=k(b),E=k(S),O=tE(C,"HH:mm",new Date),D=tE(E,"HH:mm",new Date),T=Op(D,O);return T>0?T/60:0}catch(k){return console.error("Error calculating hours:",{startTime:b,endTime:S,error:k}),0}},m=u.reduce((b,S)=>b+f(S.startTime,S.endTime),0),g=n.reduce((b,S)=>b+S.hours_worked,0),x=(b,S,k)=>{const C=[...u];C[b]={...C[b],[S]:k},d(C)},v=async()=>{try{const b=[];for(const k of u){if(!k.startTime||!k.endTime){b.push(k);continue}const C=f(k.startTime,k.endTime);if(C<=0){b.push(k);continue}if(k.id){const E=await i.mutateAsync({id:k.id,taskId:e,updates:{log_date:k.date,hours_worked:C,start_time:k.startTime,end_time:k.endTime,notes:k.notes.trim()||null}});b.push({id:E.id,date:E.log_date,startTime:E.start_time||"",endTime:E.end_time||"",notes:E.notes||""})}else{const E=await a.mutateAsync({taskId:e,logDate:k.date,hoursWorked:C,startTime:k.startTime,endTime:k.endTime,notes:k.notes.trim()||void 0});b.push({id:E.id,date:E.log_date,startTime:E.start_time||"",endTime:E.end_time||"",notes:E.notes||""})}}d(b);const S=b.reduce((k,C)=>k+f(C.startTime,C.endTime),0);await l.mutateAsync({id:e,updates:{hours_worked:S}})}catch(b){console.error("Failed to save time logs:",b),alert("Failed to save time logs")}},j=()=>{const k=[...n].sort((C,E)=>{const O=new Date(C.log_date).getTime(),D=new Date(E.log_date).getTime();return O-D}).slice(0,4).map(C=>({id:C.id,date:C.log_date,startTime:C.start_time||"",endTime:C.end_time||"",notes:C.notes||""}));for(;k.length<4;)k.push({date:wr(Fc()),startTime:"",endTime:"",notes:""});d(k)};y.useEffect(()=>{n.length>0&&j()},[n.length]);const w=u.some(b=>{if((b.startTime||b.endTime||b.notes.trim())&&!b.id)return!0;if(b.id){const S=n.find(k=>k.id===b.id);if(S)return b.date!==S.log_date||b.startTime!==(S.start_time||"")||b.endTime!==(S.end_time||"")||b.notes!==(S.notes||"")}return!1});return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide",children:"Time Tracking Log"})}),s.jsxs("div",{className:"grid grid-cols-[95px_90px_90px_65px] gap-2 mb-2 text-xs font-semibold text-gray-300 uppercase tracking-wide",children:[s.jsx("div",{children:"Date"}),s.jsx("div",{children:"Start"}),s.jsx("div",{children:"End"}),s.jsx("div",{className:"text-center",children:"Hours"})]}),s.jsx("div",{className:"space-y-2 mb-4",children:u.map((b,S)=>{const k=f(b.startTime,b.endTime),C=it(b.date);return b.startTime&&b.endTime&&console.log(`Row ${S}:`,{startTime:b.startTime,endTime:b.endTime,calculatedHours:k}),s.jsxs("div",{className:"grid grid-cols-[95px_90px_90px_65px] gap-2 items-center",children:[s.jsxs(yZ,{children:[s.jsx(xZ,{asChild:!0,children:s.jsxs(Ae,{variant:"outline",size:"sm",className:"h-8 px-1 sm:px-2 justify-start text-[10px] sm:text-xs text-white bg-gray-800/50 border-gray-700/50 hover:bg-gray-700/50 overflow-hidden",children:[s.jsx($r,{className:"w-3 h-3 mr-0.5 sm:mr-1 text-white flex-shrink-0"}),s.jsx("span",{className:"truncate",children:C?Ne(C,"M/d/yy"):"Date"})]})}),s.jsx(WR,{className:"w-auto p-0",align:"start",children:s.jsx(i5,{mode:"single",selected:C??void 0,onSelect:E=>{if(E){const O=new Date(E.getFullYear(),E.getMonth(),E.getDate(),0,0,0,0),D=wr(O);x(S,"date",D)}},initialFocus:!0})})]}),s.jsxs(va,{value:b.startTime,onValueChange:E=>x(S,"startTime",E),children:[s.jsx(Qn,{className:"h-8 text-[10px] sm:text-xs text-white bg-gray-800/50 border-gray-700/50 px-1 sm:px-2",children:s.jsx(ba,{placeholder:"Start",children:b.startTime?Pm(b.startTime):"Start"})}),s.jsx(Xn,{className:"max-h-[200px]",children:zE.map(E=>s.jsx(ht,{value:E,className:"text-xs",children:Pm(E)},E))})]}),s.jsxs(va,{value:b.endTime,onValueChange:E=>x(S,"endTime",E),children:[s.jsx(Qn,{className:"h-8 text-[10px] sm:text-xs text-white bg-gray-800/50 border-gray-700/50 px-1 sm:px-2",children:s.jsx(ba,{placeholder:"End",children:b.endTime?Pm(b.endTime):"End"})}),s.jsx(Xn,{className:"max-h-[200px]",children:zE.map(E=>s.jsx(ht,{value:E,className:"text-xs",children:Pm(E)},E))})]}),s.jsx("div",{className:"h-8 flex items-center justify-center text-xs sm:text-sm font-semibold text-green-400",children:k>0?k.toFixed(2):""})]},b.id||`row-${S}`)})}),s.jsx("div",{className:"mb-4",children:s.jsx(Ae,{onClick:v,disabled:m===0,className:`w-full h-9 text-sm text-white font-medium transition-colors ${w?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:"Save Time Logs"})}),s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-800/50 px-4 py-4 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Worked"}),s.jsxs("div",{className:"text-xl font-bold text-green-400",children:[g.toFixed(2),"h"]})]}),s.jsxs("div",{className:"bg-gray-800/50 px-4 py-4 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Projected"}),s.jsxs("div",{className:"text-xl font-bold text-purple-400",children:[t.toFixed(2),"h"]})]}),s.jsxs("div",{className:"bg-gray-800/50 px-4 py-4 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Remaining"}),s.jsxs("div",{className:`text-xl font-bold ${t-g>0?"text-orange-400":"text-green-400"}`,children:[(t-g).toFixed(2),"h"]})]})]})})]})},bn=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("rounded-xl border bg-card text-card-foreground shadow",e),...t}));bn.displayName="Card";const Gj=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));Gj.displayName="CardHeader";const lee=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("font-semibold leading-none tracking-tight",e),...t}));lee.displayName="CardTitle";const cee=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("text-sm text-muted-foreground",e),...t}));cee.displayName="CardDescription";const _o=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("p-6 pt-0",e),...t}));_o.displayName="CardContent";const uee=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("flex items-center p-6 pt-0",e),...t}));uee.displayName="CardFooter";const dee=a3("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ur({className:e,variant:t,...r}){return s.jsx("div",{className:Ie(dee({variant:t}),e),...r})}const Cf=y.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Ie("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Cf.displayName="Textarea";const fee=(e=3e4)=>{const[t,r]=y.useState({previousValue:null,timeoutId:null}),n=y.useRef(null),a=y.useCallback(()=>{t.timeoutId&&clearTimeout(t.timeoutId),r({previousValue:null,timeoutId:null}),n.current=null},[t.timeoutId]),i=y.useCallback((u,d)=>{t.timeoutId&&clearTimeout(t.timeoutId);const f=setTimeout(()=>{r({previousValue:null,timeoutId:null}),n.current=null},e);r({previousValue:u,timeoutId:f}),n.current=d},[e,t.timeoutId]),l=y.useCallback(()=>{n.current&&(n.current(),a())},[a]);return y.useEffect(()=>()=>{t.timeoutId&&clearTimeout(t.timeoutId)},[t.timeoutId]),{canUndo:t.previousValue!==null,previousValue:t.previousValue,setupUndo:i,executeUndo:l,clearUndo:a}},Tf=e=>Be({queryKey:e?["projects","business",e]:["projects"],queryFn:async()=>{let t=X.from("projects").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("business_id",e));const{data:r,error:n}=await t;if(n)throw n;return r},staleTime:300*1e3}),hee=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r},error:n}=await X.auth.getUser();if(n||!r)throw new Error("User not authenticated");const{data:a,error:i}=await X.from("projects").insert([{...t,user_id:r.id,status:t.status||"active"}]).select().single();if(i)throw i;return a},onSuccess:t=>{e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["projects","business",t.business_id]})}})},mee=()=>{const e=mt();return wt({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await X.from("projects").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["projects",t.id]}),e.invalidateQueries({queryKey:["projects","business",t.business_id]})}})},gee=()=>{const e=mt();return wt({mutationFn:async t=>{const{error:r}=await X.from("projects").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})},xu=e=>Be({queryKey:e?["phases","project",e]:["phases"],queryFn:async()=>{let t=X.from("phases").select("*").order("sequence_order",{ascending:!0});e&&(t=t.eq("project_id",e));const{data:r,error:n}=await t;if(n)throw n;return r},staleTime:300*1e3}),pee=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r},error:n}=await X.auth.getUser();if(n||!r)throw new Error("User not authenticated");const{data:a,error:i}=await X.from("phases").insert([{...t,user_id:r.id,status:t.status||"active",sequence_order:t.sequence_order||0}]).select().single();if(i)throw i;return a},onSuccess:t=>{e.invalidateQueries({queryKey:["phases"]}),e.invalidateQueries({queryKey:["phases","project",t.project_id]})}})},yee=()=>{const e=mt();return wt({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await X.from("phases").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["phases"]}),e.invalidateQueries({queryKey:["phases",t.id]}),e.invalidateQueries({queryKey:["phases","project",t.project_id]})}})},o5=e=>Be({queryKey:["task-time-blocks",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await X.from("task_time_blocks").select("*").eq("task_id",e).order("scheduled_date",{ascending:!0}).order("start_time",{ascending:!0});return r?(console.error("Error fetching task time blocks:",r),[]):t||[]},enabled:!!e,staleTime:3e4}),xee=({progress:e,onChange:t,onClose:r,className:n="",onTimeTrack:a,hoursWorked:i})=>{const[l,u]=y.useState(e),[d,f]=y.useState(""),m=w=>{const b=parseInt(w.target.value,10);u(b)},g=()=>{l!==e&&t(l)},x=w=>{u(w),t(w),w===100&&r&&r()},v=w=>{a&&a(w)},j=()=>{const w=parseFloat(d);!isNaN(w)&&w>0&&a&&(a(w),f(""))};return s.jsxs("div",{className:`bg-gray-700 border border-gray-600 rounded-lg p-3 shadow-lg min-w-[280px] relative ${n}`,onMouseDown:w=>w.stopPropagation(),onClick:w=>w.stopPropagation(),children:[r&&s.jsx("button",{onClick:r,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-200 transition-colors",children:s.jsx(qt,{className:"w-4 h-4"})}),a&&s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"text-xs text-gray-400 font-medium block mb-2",children:"Time Spent"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>v(.25),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${i===.25?"bg-green-600 text-white hover:bg-green-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"15m"}),s.jsx("button",{onClick:()=>v(.5),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${i===.5?"bg-green-600 text-white hover:bg-green-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"30m"}),s.jsx("button",{onClick:()=>v(1),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${i===1?"bg-green-600 text-white hover:bg-green-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"1h"}),s.jsx("button",{onClick:()=>v(2),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${i===2?"bg-green-600 text-white hover:bg-green-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"2h"}),s.jsx("input",{type:"text",inputMode:"decimal",value:d,onChange:w=>f(w.target.value),onBlur:j,onKeyDown:w=>{w.key==="Enter"&&j()},placeholder:"hrs",className:"w-14 px-2 py-1 text-xs bg-gray-800 text-gray-200 rounded border border-gray-600 focus:border-orange-500 focus:outline-none text-center [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"text-xs text-gray-400 font-medium block mb-2",children:"% Complete"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>x(0),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===0?"bg-red-600 text-white hover:bg-red-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"0%"}),s.jsx("button",{onClick:()=>x(25),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===25?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"25%"}),s.jsx("button",{onClick:()=>x(50),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===50?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"50%"}),s.jsx("button",{onClick:()=>x(75),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===75?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"75%"}),s.jsx("button",{onClick:()=>x(100),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${l===100?"bg-green-600 text-white hover:bg-green-700 border border-green-400":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"100%"})]})]}),s.jsx("div",{children:s.jsx("input",{type:"range",min:"0",max:"100",value:l,onChange:m,onMouseUp:g,onTouchEnd:g,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-orange-500",style:{background:`linear-gradient(to right,
              ${l<33?"#ef4444":l<67?"#eab308":"#22c55e"} 0%,
              ${l<33?"#ef4444":l<67?"#eab308":"#22c55e"} ${l}%,
              #4b5563 ${l}%,
              #4b5563 100%)`}})})]})};function vee(e){const t=bee(e),r=y.forwardRef((n,a)=>{const{children:i,...l}=n,u=y.Children.toArray(i),d=u.find(jee);if(d){const f=d.props.children,m=u.map(g=>g===d?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:g);return s.jsx(t,{...l,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,m):null})}return s.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function bee(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const l=See(a),u=_ee(i,a.props);return a.type!==y.Fragment&&(u.ref=n?ql(n,l):l),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wee=Symbol("radix.slottable");function jee(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wee}function _ee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const d=i(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function See(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Vp="Dialog",[l5]=mu(Vp),[Nee,js]=l5(Vp),c5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,u=y.useRef(null),d=y.useRef(null),[f,m]=jg({prop:n,defaultProp:a??!1,onChange:i,caller:Vp});return s.jsx(Nee,{scope:t,triggerRef:u,contentRef:d,contentId:vl(),titleId:vl(),descriptionId:vl(),open:f,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(g=>!g),[m]),modal:l,children:r})};c5.displayName=Vp;var u5="DialogTrigger",kee=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=js(u5,r),i=Ht(t,a.triggerRef);return s.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zj(a.open),...n,ref:i,onClick:yt(e.onClick,a.onOpenToggle)})});kee.displayName=u5;var Qj="DialogPortal",[Cee,d5]=l5(Qj,{forceMount:void 0}),f5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=js(Qj,t);return s.jsx(Cee,{scope:t,forceMount:r,children:y.Children.map(n,l=>s.jsx(qs,{present:r||i.open,children:s.jsx(zp,{asChild:!0,container:a,children:l})}))})};f5.displayName=Qj;var Sg="DialogOverlay",h5=y.forwardRef((e,t)=>{const r=d5(Sg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=js(Sg,e.__scopeDialog);return i.modal?s.jsx(qs,{present:n||i.open,children:s.jsx(Eee,{...a,ref:t})}):null});h5.displayName=Sg;var Tee=vee("DialogOverlay.RemoveScroll"),Eee=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=js(Sg,r);return s.jsx(Up,{as:Tee,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Tt.div,{"data-state":Zj(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Al="DialogContent",m5=y.forwardRef((e,t)=>{const r=d5(Al,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=js(Al,e.__scopeDialog);return s.jsx(qs,{present:n||i.open,children:i.modal?s.jsx(Oee,{...a,ref:t}):s.jsx(Aee,{...a,ref:t})})});m5.displayName=Al;var Oee=y.forwardRef((e,t)=>{const r=js(Al,e.__scopeDialog),n=y.useRef(null),a=Ht(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return Hj(i)},[]),s.jsx(g5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:yt(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:yt(e.onFocusOutside,i=>i.preventDefault())})}),Aee=y.forwardRef((e,t)=>{const r=js(Al,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(g5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),g5=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,u=js(Al,r),d=y.useRef(null),f=Ht(t,d);return Pj(),s.jsxs(s.Fragment,{children:[s.jsx(Pp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Zj(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Dee,{titleId:u.titleId}),s.jsx(Pee,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Xj="DialogTitle",p5=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=js(Xj,r);return s.jsx(Tt.h2,{id:a.titleId,...n,ref:t})});p5.displayName=Xj;var y5="DialogDescription",x5=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=js(y5,r);return s.jsx(Tt.p,{id:a.descriptionId,...n,ref:t})});x5.displayName=y5;var v5="DialogClose",b5=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=js(v5,r);return s.jsx(Tt.button,{type:"button",...n,ref:t,onClick:yt(e.onClick,()=>a.onOpenChange(!1))})});b5.displayName=v5;function Zj(e){return e?"open":"closed"}var w5="DialogTitleWarning",[Q1e,j5]=_V(w5,{contentName:Al,titleName:Xj,docsSlug:"dialog"}),Dee=({titleId:e})=>{const t=j5(w5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Mee="DialogDescriptionWarning",Pee=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j5(Mee).contentName}}.`;return y.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Ree=c5,Iee=f5,_5=h5,S5=m5,N5=p5,k5=x5,Lee=b5;const Ef=Ree,$ee=Iee,C5=y.forwardRef(({className:e,...t},r)=>s.jsx(_5,{ref:r,className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));C5.displayName=_5.displayName;const vu=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs($ee,{children:[s.jsx(C5,{}),s.jsxs(S5,{ref:n,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Lee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(qt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vu.displayName=S5.displayName;const bu=({className:e,...t})=>s.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});bu.displayName="DialogHeader";const wu=y.forwardRef(({className:e,...t},r)=>s.jsx(N5,{ref:r,className:Ie("text-lg font-semibold leading-none tracking-tight",e),...t}));wu.displayName=N5.displayName;const Bee=y.forwardRef(({className:e,...t},r)=>s.jsx(k5,{ref:r,className:Ie("text-sm text-muted-foreground",e),...t}));Bee.displayName=k5.displayName;const Jj=({scheduledDate:e,scheduledTime:t,onSchedule:r,onClose:n,hoursProjected:a})=>{const i=see(e)||void 0,[l,u]=y.useState(i),[d,f]=y.useState(t||"09:00"),[m,g]=y.useState(!!t),x=S=>{if(!S)return;const k=new Date(S.getFullYear(),S.getMonth(),S.getDate(),0,0,0,0);u(k)},v=()=>{if(!l)return;const S=wr(l);console.log(" DateTimePicker scheduled with time:",{date:S,time:d,hoursProjected:a}),r(S,d),n()},j=()=>{if(!l)return;const S=wr(l);console.log(" DateTimePicker scheduled (date only):",{date:S}),r(S,null),n()},w=()=>{u(void 0),f("09:00"),g(!1),r(null,null),n()},b=Array.from({length:24},(S,k)=>{const C=k===0?12:k>12?k-12:k,E=k<12?"AM":"PM",D=`${String(C).padStart(2,"0")}:00 ${E}`,T=`${String(k).padStart(2,"0")}:00`;return{display:D,military:T}});return s.jsx(Ef,{open:!0,onOpenChange:n,children:s.jsxs(vu,{className:"w-[95vw] max-w-3xl p-0 bg-slate-950 border-slate-800",children:[s.jsx(bu,{className:"p-4 md:p-6 border-b border-slate-800",children:s.jsx(wu,{className:"text-white text-lg font-semibold",children:"Book Appointment"})}),s.jsxs("div",{className:"p-4 md:p-6 flex flex-col lg:flex-row gap-4 lg:gap-6 max-h-[70vh] overflow-y-auto",children:[s.jsx("div",{className:"flex flex-col shrink-0",children:s.jsx(i5,{mode:"single",selected:l,onSelect:x,classNames:{caption_label:"text-slate-300 font-semibold text-sm",weekday:"text-slate-400 font-medium text-xs",today:"bg-slate-700 text-slate-100",outside:"text-slate-500",disabled:"text-slate-600 opacity-50"}})}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Available Times"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 overflow-y-auto pr-2",children:b.map(S=>s.jsx(Ae,{onClick:()=>{f(S.military),g(!0)},className:`px-2 py-1 text-xs font-medium transition-colors w-full ${d===S.military&&m?"bg-white text-slate-900 hover:bg-gray-100":"bg-slate-900 border border-slate-700 text-slate-300 hover:bg-slate-800 hover:border-slate-600"}`,variant:"ghost",children:S.display},S.military))}),a&&m&&s.jsxs("p",{className:"text-xs text-slate-400 mt-4 pt-3 border-t border-slate-700",children:["Duration: ",a," hour",a!==1?"s":""]})]})]}),s.jsxs("div",{className:"p-4 md:p-6 border-t border-slate-800 space-y-2",children:[l&&m&&s.jsxs(Ae,{onClick:v,className:"w-full bg-slate-900 hover:bg-slate-800 text-white font-medium border border-slate-700 text-sm",children:["Schedule at ",d]}),l&&s.jsx(Ae,{onClick:j,className:`w-full font-medium text-sm ${m?"bg-slate-900 hover:bg-slate-800 text-white border border-slate-700":"bg-white hover:bg-gray-100 text-slate-900"}`,children:m?"Set Date Only":"Set Date"}),s.jsx(Ae,{onClick:w,className:"w-full bg-slate-900 hover:bg-slate-800 text-white border border-slate-700 font-medium text-sm",children:"Clear"})]})]})})},zee=[{label:"15 min",hours:.25},{label:"30 min",hours:.5},{label:"1 hour",hours:1},{label:"2 hours",hours:2}],Fee=({taskName:e,onSave:t,onClose:r})=>{const[n,a]=y.useState(""),[i,l]=y.useState(null),u=m=>{l(m),a("")},d=()=>{const m=i!==null?i:parseFloat(n);m&&m>0?t(m):alert("Please select or enter a valid time")},f=()=>{t(0)};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Task Completed! "}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"How long did this take?"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1 italic",children:e})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-300 transition-colors",children:s.jsx(qt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Quick Select"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:zee.map(m=>s.jsx("button",{onClick:()=>u(m.hours),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${i===m.hours?"bg-orange-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:m.label},m.hours))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Or Enter Custom Hours"}),s.jsx("input",{type:"number",value:n,onChange:m=>{a(m.target.value),l(null)},placeholder:"Enter hours (e.g., 0.5, 1.5, 3)",step:"0.25",min:"0",className:"w-full px-3 py-2 bg-gray-700 text-gray-100 rounded border border-gray-600 focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-gray-300 transition-colors",children:"Skip"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors",children:"Save Time"})]})]})]})})},Uee=e=>{if(e.businesses){const t=e.businesses.slug;if(t==="full-stack"||t==="fullstack")return"var(--color-business-fullstack)";if(t==="huge-capital")return"var(--color-business-hugecapital)";if(t==="s4")return"var(--color-business-s4)";if(t==="808")return"var(--color-business-808)";if(t==="personal")return"var(--color-area-personal)";if(t==="health")return"var(--color-area-health)";if(t==="golf")return"var(--color-area-golf)"}if(e.life_areas){const t=e.life_areas.category.toLowerCase();if(t==="personal")return"var(--color-area-personal)";if(t==="health")return"var(--color-area-health)";if(t==="golf")return"var(--color-area-golf)"}if(e.area){if(e.area==="Full Stack")return"var(--color-business-fullstack)";if(e.area==="Huge Capital")return"var(--color-business-hugecapital)";if(e.area==="S4")return"var(--color-business-s4)";if(e.area==="808")return"var(--color-business-808)";if(e.area==="Personal")return"var(--color-area-personal)";if(e.area==="Health")return"var(--color-area-health)";if(e.area==="Golf")return"var(--color-area-golf)"}return"#6b7280"},qee=e=>e.projects?e.projects.name:e.businesses?e.businesses.name:e.life_areas?e.life_areas.name:e.area?e.area:"Unknown",Hee=e=>!e.due_date||e.progress_percentage===100?!1:n1(e.due_date),Wee=e=>e.due_date?$d(e.due_date):!1,Yee=e=>e?e==="$$$ Printer $$$"?"text-green-500":e==="$ Makes Money $"?"text-green-400":e==="-$ Save Dat $-"?"text-orange-400":e===":( No Money ):"?"text-red-400":e==="8) Vibing (8"?"text-purple-500":"text-gray-100":"text-gray-100",Kee=({task:e,className:t="",scheduleDate:r})=>{const[n,a]=y.useState(!1),[i,l]=y.useState(!1),[u,d]=y.useState(!1),[f,m]=y.useState(e.task_name),[g,x]=y.useState(e.description||""),[v,j]=y.useState(""),[w,b]=y.useState(!1),[S,k]=y.useState(!1),[C,E]=y.useState(null),[O,D]=y.useState(!1),[T,M]=y.useState(!1),[I,$]=y.useState("idle"),[B,z]=y.useState(0),[Y,ne]=y.useState(null),V=y.useRef(null),F=Ul(),Z=D4(),q=Dp(),{setupUndo:U}=fee(3e4),{data:W}=Tf(e.business_id||void 0),{data:L}=xu(e.project_id||void 0),{data:ee=[]}=o5(e.id),Q=Ne(r||new Date,"yyyy-MM-dd"),fe=ee.filter(ae=>ae.scheduled_date===Q),ge=fe.length>0,re=fe.length>0?fe[0]:null,ke=Uee(e),se=qee(e),pe=Hee(e),Ce=Wee(e),de=!e.due_date&&!e.recurring_parent_id;(()=>{if(!e.hours_projected||e.hours_projected===0)return 0;const P=(e.hours_worked||0)/e.hours_projected*100;return Math.min(Math.round(P),100)})();const Ee=e.progress_percentage===100;y.useEffect(()=>{if(!w)return;const ae=P=>{const oe=P.target;V.current&&!V.current.contains(oe)&&b(!1)};return document.addEventListener("mousedown",ae,!0),()=>document.removeEventListener("mousedown",ae,!0)},[w]);const Ue=async ae=>{$("syncing");const P={...e};U(P,()=>{F.mutate({id:e.id,updates:P})});try{await F.mutateAsync({id:e.id,updates:ae}),$("success"),setTimeout(()=>$("idle"),2e3)}catch(oe){$("error"),console.error("Task update failed:",oe),setTimeout(()=>$("idle"),3e3)}},et=()=>{f.trim()&&f!==e.task_name&&Ue({task_name:f.trim()}),l(!1)},Wt=ae=>{ae.key==="Enter"?et():ae.key==="Escape"&&(m(e.task_name),l(!1))},Xr=()=>{g!==(e.description||"")&&Ue({description:g.trim()||null}),d(!1)},_r=ae=>{Ue({hours_worked:ae}),D(!1)},Jt=async(ae,P)=>{if(!ae){Ue({due_date:void 0});return}const[oe,ve,Te]=ae.split("-").map(Number),tt=new Date(oe,ve-1,Te,12,0,0,0);if(Ue({due_date:tt.toISOString()}),P&&e.hours_projected)try{const[jt,Et]=P.split(":").map(Number),lr=`${String(jt).padStart(2,"0")}:${String(Et).padStart(2,"0")}:00`,Yt=new Date(oe,ve-1,Te,jt,Et);Yt.setHours(Yt.getHours()+e.hours_projected);const _t=String(Yt.getHours()).padStart(2,"0"),Je=String(Yt.getMinutes()).padStart(2,"0"),xt=`${_t}:${Je}:00`;await q.mutateAsync({taskId:e.id,scheduledDate:tt,startTime:lr,endTime:xt,plannedDurationMinutes:Math.round(e.hours_projected*60)}),console.log(" Time block created:",{taskId:e.id,date:ae,startTime:lr,endTime:xt,hoursProjected:e.hours_projected})}catch(jt){console.error(" Failed to create time block:",jt)}},zr=()=>{Y&&clearTimeout(Y);const ae=B+1;if(z(ae),ae===2)Z.mutate(e.id),z(0),ne(null);else{const P=setTimeout(()=>{z(0),ne(null)},2e3);ne(P)}},yr=()=>{if(e.businesses)switch(e.businesses.slug){case"full-stack":case"fullstack":return"rgb(25, 95, 75)";case"huge-capital":return"rgb(85, 45, 120)";case"s4":return"rgb(35, 70, 130)";case"808":return"rgb(120, 95, 35)";case"health":return"rgb(25, 90, 85)";case"personal":return"rgb(120, 45, 85)";case"golf":return"rgb(130, 65, 25)";default:return"rgb(31, 41, 55)"}if(e.life_areas)switch(e.life_areas.category.toLowerCase()){case"health":return"rgb(25, 90, 85)";case"personal":return"rgb(120, 45, 85)";case"golf":return"rgb(130, 65, 25)";default:return"rgb(31, 41, 55)"}if(e.area)switch(e.area){case"Full Stack":return"rgb(25, 95, 75)";case"Huge Capital":return"rgb(85, 45, 120)";case"S4":return"rgb(35, 70, 130)";case"808":return"rgb(120, 95, 35)";case"Health":return"rgb(25, 90, 85)";case"Personal":return"rgb(120, 45, 85)";case"Golf":return"rgb(130, 65, 25)";default:return"rgb(31, 41, 55)"}return"rgb(31, 41, 55)"},K=()=>{if(e.businesses)switch(e.businesses.slug){case"full-stack":case"fullstack":return"rgb(60, 130, 105)";case"huge-capital":return"rgb(130, 85, 165)";case"s4":return"rgb(75, 115, 170)";case"808":return"rgb(165, 135, 70)";case"health":return"rgb(60, 130, 120)";case"personal":return"rgb(165, 85, 125)";case"golf":return"rgb(175, 105, 60)";default:return"rgb(31, 41, 55)"}if(e.life_areas)switch(e.life_areas.category.toLowerCase()){case"health":return"rgb(60, 130, 120)";case"personal":return"rgb(165, 85, 125)";case"golf":return"rgb(175, 105, 60)";default:return"rgb(31, 41, 55)"}if(e.area)switch(e.area){case"Full Stack":return"rgb(60, 130, 105)";case"Huge Capital":return"rgb(130, 85, 165)";case"S4":return"rgb(75, 115, 170)";case"808":return"rgb(165, 135, 70)";case"Health":return"rgb(60, 130, 120)";case"Personal":return"rgb(165, 85, 125)";case"Golf":return"rgb(175, 105, 60)";default:return"rgb(31, 41, 55)"}return"rgb(31, 41, 55)"};return s.jsxs(bn,{className:`border-gray-700 group hover:border-gray-600 transition-all duration-200 max-w-full overflow-hidden ${Ee?"opacity-60":""} ${t}`,style:{backgroundColor:yr()},children:[s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:hidden mb-2 justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{if(Ee)Ue({progress_percentage:0,status:"Not started",completed_at:null});else{const ae=[];if((!e.hours_worked||e.hours_worked===0)&&ae.push("Time Tracking Log entries"),e.effort_level||ae.push("Money Maker"),e.automation||ae.push("Automation"),(!e.hours_projected||e.hours_projected===0)&&ae.push("Hours Projected"),ae.length>0){alert(`Please fill out the following fields before marking this task as complete:

${ae.join(`
`)}`);return}Ue({progress_percentage:100,status:"Done",completed_at:new Date().toISOString()})}},className:"w-8 h-8 p-0 relative shrink-0",children:Ee?s.jsx(Qc,{className:"w-5 h-5 text-green-400"}):s.jsx(mg,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"flex-1 min-w-0",children:i?s.jsx(jn,{type:"text",value:f,onChange:ae=>m(ae.target.value),onBlur:et,onKeyDown:Wt,autoFocus:!0,className:"h-9 text-lg text-gray-100 font-medium bg-transparent border-gray-600 focus:border-blue-400"}):s.jsx("div",{children:s.jsx("h3",{onClick:()=>l(!0),className:`text-lg font-medium cursor-pointer hover:text-blue-400 transition-colors line-clamp-2 ${Ee?"line-through text-gray-500":"text-gray-100"}`,children:e.task_name})})})]}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>a(!n),className:"w-6 h-6 p-0 text-white hover:text-white shrink-0",children:s.jsx($T,{className:"w-4 h-4"})})]}),e.description&&s.jsx("div",{className:"sm:hidden mb-2 pl-10",children:s.jsx("p",{className:"text-xs text-gray-300 line-clamp-2",children:e.description})}),s.jsx("div",{className:"sm:hidden flex items-start justify-end gap-2",children:s.jsxs("div",{className:"flex flex-col gap-1 items-end shrink-0",children:[e.due_date?s.jsxs(Ae,{variant:"ghost",size:"sm",onClick:ae=>{E(ae.currentTarget),k(!0)},className:`h-6 px-1.5 text-xs gap-0.5 w-auto justify-center ${pe?"text-red-400 hover:bg-red-500/10":Ce?"text-yellow-400 hover:bg-yellow-500/10":"text-gray-400 hover:bg-gray-700"}`,children:[pe&&s.jsx(bo,{className:"w-2.5 h-2.5"}),s.jsx($r,{className:"w-2.5 h-2.5"}),s.jsx("span",{className:"text-xs",children:Ce?"Today":pe?"Overdue":Ne(it(e.due_date)||new Date,"MMM d")})]}):s.jsx(Ae,{variant:"ghost",size:"sm",onClick:ae=>{E(ae.currentTarget),k(!0)},className:"h-6 px-1.5 text-xs gap-0.5 w-auto justify-center text-gray-500 hover:bg-gray-700 hover:text-gray-300",children:s.jsx($r,{className:"w-2.5 h-2.5"})}),s.jsx("div",{className:`h-6 px-1.5 text-xs font-medium rounded-md w-auto flex items-center justify-center text-white ${Ee?"bg-green-600":ge?"bg-yellow-500":"bg-blue-600"}`,title:re?`Scheduled for ${re.scheduled_date}`:void 0,children:s.jsx("span",{className:"text-xs",children:Ee?"Done":ge&&re?Ne(new Date(`2000-01-01T${re.start_time}`),"h:mm a"):"Schedule"})})]})}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 sm:gap-3 flex-wrap",children:[s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{if(Ee)Ue({progress_percentage:0,status:"Not started",completed_at:null});else{const ae=[];if((!e.hours_worked||e.hours_worked===0)&&ae.push("Time Tracking Log entries"),e.effort_level||ae.push("Money Maker"),e.automation||ae.push("Automation"),(!e.hours_projected||e.hours_projected===0)&&ae.push("Hours Projected"),ae.length>0){alert(`Please fill out the following fields before marking this task as complete:

${ae.join(`
`)}`);return}Ue({progress_percentage:100,status:"Done",completed_at:new Date().toISOString()})}},className:"w-8 h-8 p-0 relative shrink-0",children:Ee?s.jsx(Qc,{className:"w-5 h-5 text-green-400"}):s.jsx(mg,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"flex-1 min-w-0 max-w-[600px]",children:i?s.jsx(jn,{type:"text",value:f,onChange:ae=>m(ae.target.value),onBlur:et,onKeyDown:Wt,autoFocus:!0,className:"h-9 text-xl text-gray-100 font-medium bg-transparent border-gray-600 focus:border-blue-400"}):s.jsxs("div",{children:[s.jsx("h3",{onClick:()=>l(!0),className:`text-xl font-medium cursor-pointer hover:text-blue-400 transition-colors truncate ${Ee?"line-through text-gray-500":"text-gray-100"}`,children:e.task_name}),e.description&&s.jsx("p",{className:"text-xs text-white mt-1 truncate",children:e.description})]})}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0 flex-wrap xl:flex-nowrap ml-auto",children:[s.jsx("div",{className:"hidden sm:flex items-center gap-1",children:e.projects?s.jsx(ur,{className:"text-white border-0 text-xs px-2 sm:px-3 py-0.5 sm:py-1 font-medium whitespace-nowrap",style:{backgroundColor:ke},children:se}):s.jsxs(va,{value:e.project_id||"no-project",onValueChange:ae=>Ue({project_id:ae==="no-project"?null:ae}),children:[s.jsx(Qn,{className:"h-8 sm:h-9 text-sm sm:text-base px-2 sm:px-4 py-0 border-0 gap-1 whitespace-nowrap",style:{backgroundColor:ke,color:"white",minWidth:"120px",width:"120px"},children:s.jsx(ba,{placeholder:"+ Project"})}),s.jsxs(Xn,{children:[s.jsx(ht,{value:"no-project",children:"Unorganized"}),W?.map(ae=>s.jsx(ht,{value:ae.id,children:ae.name},ae.id))||null]})]})}),e.project_id&&e.phase_id&&e.phases&&s.jsx(ur,{className:"hidden sm:inline text-white border-0 text-xs px-2 sm:px-3 py-0.5 sm:py-1 font-medium whitespace-nowrap",style:{backgroundColor:ke},children:e.phases.name}),e.due_date?s.jsxs(Ae,{variant:"ghost",size:"sm",onClick:ae=>{E(ae.currentTarget),k(!0)},className:`h-7 sm:h-8 px-1 sm:px-2 text-xs sm:text-xs gap-0.5 w-auto justify-center ${pe?"text-red-400 hover:bg-red-500/10":Ce?"text-yellow-400 hover:bg-yellow-500/10":"text-gray-400 hover:bg-gray-700"}`,children:[pe&&s.jsx(bo,{className:"w-3 sm:w-3 h-3 sm:h-3"}),s.jsx($r,{className:"w-3 sm:w-3 h-3 sm:h-3"}),s.jsx("span",{className:"text-xs sm:text-xs",children:Ce?"Today":pe?"Overdue":Ne(it(e.due_date)||new Date,"MMM d")})]}):s.jsxs(Ae,{variant:"ghost",size:"sm",onClick:ae=>{E(ae.currentTarget),k(!0)},className:"h-7 sm:h-8 px-1 sm:px-2 text-xs sm:text-xs gap-0.5 w-auto justify-center text-gray-500 hover:bg-gray-700 hover:text-gray-300",children:[s.jsx($r,{className:"w-3 sm:w-3 h-3 sm:h-3"}),s.jsx("span",{className:"hidden sm:inline text-xs",children:"Set Date"})]}),s.jsx("div",{className:`h-7 sm:h-8 px-1 sm:px-2 text-xs sm:text-xs font-medium rounded-md w-auto flex items-center justify-center text-white ${Ee?"bg-green-600":ge?"bg-yellow-500":"bg-blue-600"}`,title:re?`Scheduled for ${re.scheduled_date}`:void 0,children:s.jsx("span",{className:"text-xs sm:text-xs",children:Ee?"Completed":ge&&re?Ne(new Date(`2000-01-01T${re.start_time}`),"h:mm a"):"Schedule"})}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>a(!n),className:"w-6 h-6 p-0 text-white hover:text-white",children:s.jsx($T,{className:"w-4 h-4"})})]})]})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t border-gray-700/30"}),s.jsx("div",{className:"p-3 sm:p-4 lg:p-6 max-w-full overflow-x-auto",style:{backgroundColor:K()},children:s.jsxs("div",{className:"grid grid-cols-1 2xl:grid-cols-[1fr_1.5fr_280px] gap-4 sm:gap-6 min-w-0",children:[!de&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Notes"}),u?s.jsx(Cf,{value:g,onChange:ae=>x(ae.target.value),onBlur:Xr,autoFocus:!0,rows:16,placeholder:"Add notes, thoughts, or details...",className:"text-sm resize-none bg-gray-800/30 border-gray-700/30 focus:bg-gray-800/50 transition-colors flex-1 leading-relaxed text-gray-100 placeholder:text-gray-500"}):s.jsx("div",{onClick:()=>d(!0),className:`text-sm cursor-pointer hover:bg-gray-800/30 transition-all px-4 py-3 rounded-lg border border-gray-700/30 flex-1 leading-relaxed ${e.description?"text-gray-100":"text-white"}`,children:e.description||"Add Notes..."})]}),s.jsx("div",{children:s.jsx(oee,{taskId:e.id,hoursProjected:e.hours_projected||0,hoursWorked:e.hours_worked||0})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Created"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-800/30 rounded-lg text-sm text-gray-100 border border-gray-700/30",children:e.created_at?Ne(new Date(e.created_at),"MMM d, yyyy"):"Unknown"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Automation"}),s.jsxs(va,{value:e.automation||"none",onValueChange:ae=>Ue({automation:ae==="none"?null:ae}),children:[s.jsx(Qn,{className:"h-10 text-sm bg-gray-800/50 border-gray-700/50 hover:bg-gray-800/70 transition-colors text-gray-100",children:s.jsx(ba,{placeholder:"Select type"})}),s.jsxs(Xn,{children:[s.jsx(ht,{value:"none",children:"None"}),s.jsx(ht,{value:"Automate",children:" Automate"}),s.jsx(ht,{value:"Delegate",children:" Delegate"}),s.jsx(ht,{value:"Manual",children:" Manual"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Days Since Creation"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-800/30 rounded-lg text-sm text-gray-100 border border-gray-700/30",children:e.created_at?Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/(1e3*60*60*24)):""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Money Maker"}),s.jsxs(va,{value:e.effort_level||"none",onValueChange:ae=>Ue({effort_level:ae==="none"?null:ae}),children:[s.jsx(Qn,{className:`h-10 text-sm bg-gray-800/50 border-gray-700/50 hover:bg-gray-800/70 transition-colors font-semibold ${Yee(e.effort_level)}`,children:s.jsx(ba,{placeholder:"Select level"})}),s.jsxs(Xn,{children:[s.jsx(ht,{value:"none",children:"None"}),s.jsx(ht,{value:"$$$ Printer $$$",className:"text-green-500 font-semibold",children:"$$$ Printer $$$"}),s.jsx(ht,{value:"$ Makes Money $",className:"text-green-400 font-semibold",children:"$ Makes Money $"}),s.jsx(ht,{value:"-$ Save Dat $-",className:"text-orange-400 font-semibold",children:"-$ Save Dat $-"}),s.jsx(ht,{value:":( No Money ):",className:"text-red-400 font-semibold",children:":( No Money ):"}),s.jsx(ht,{value:"8) Vibing (8",className:"text-purple-500 font-semibold",children:"8) Vibing (8"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Hours Worked"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-800/30 rounded-lg text-sm text-green-400 border border-gray-700/30 font-semibold",children:e.hours_worked?.toFixed(2)||"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-200 uppercase tracking-wide block mb-2",children:"Hours Projected"}),s.jsx(jn,{type:"text",value:v||(e.hours_projected!==null&&e.hours_projected!==void 0?e.hours_projected.toFixed(2):""),onFocus:()=>{j(e.hours_projected?e.hours_projected.toString():"")},onChange:ae=>{const P=ae.target.value.replace(/[^0-9.]/g,"");j(P)},onBlur:()=>{const ae=v.trim();if(ae==="")Ue({hours_projected:null}),j("");else{const P=parseFloat(ae);isNaN(P)||Ue({hours_projected:P}),j("")}},placeholder:"",className:"h-10 text-sm bg-gray-800/50 border-gray-700/50 hover:bg-gray-800/70 transition-colors text-purple-400 font-semibold [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ae,{onClick:()=>{if(Ee)Ue({progress_percentage:0,status:"Not started",completed_at:null});else{const ae=[];if((!e.hours_worked||e.hours_worked===0)&&ae.push("Time Tracking Log entries"),e.effort_level||ae.push("Money Maker"),e.automation||ae.push("Automation"),(!e.hours_projected||e.hours_projected===0)&&ae.push("Hours Projected"),ae.length>0){alert(`Please fill out the following fields before marking this task as complete:

${ae.join(`
`)}`);return}Ue({progress_percentage:100,status:"Done",completed_at:new Date().toISOString()})}},className:`w-full h-12 text-base font-semibold ${Ee?"bg-gray-600 hover:bg-gray-500 text-white":"bg-green-600 hover:bg-green-500 text-white"}`,children:Ee?"Uncomplete Task":"Mark Task Complete"}),s.jsxs("div",{className:"grid grid-cols-[1fr_40px] gap-2",children:[s.jsx("div",{className:"px-4 py-2.5 bg-gray-800/30 rounded-lg text-sm text-gray-100 border border-gray-700/30",children:e.completed_at&&e.completed_at!=="null"?`Completed: ${Ne(new Date(e.completed_at),"MMM d, yyyy  h:mm a")}`:"Completed: "}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>zr(),className:"h-10 w-10 p-0 text-red-500 hover:text-red-400 bg-white hover:bg-gray-100 rounded-lg",title:"Delete task",children:s.jsx(Qa,{className:"w-5 h-5"})})]})]})]})]})})]}),S&&s.jsx(Jj,{scheduledDate:e.due_date,scheduledTime:null,onSchedule:Jt,onClose:()=>k(!1),hoursProjected:e.hours_projected}),O&&s.jsx(Fee,{taskName:e.task_name,onSave:_r,onClose:()=>D(!1)})]})},Vee=[{id:"full-stack",label:"Full Stack",gradient:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},{id:"huge-capital",label:"Huge Capital",gradient:"linear-gradient(135deg, #a855f7 0%, #7e22ce 100%)"},{id:"s4",label:"S4",gradient:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"},{id:"808",label:"808",gradient:"linear-gradient(135deg, #eab308 0%, #ca8a04 100%)"}],Gee=[{id:"personal",label:"Personal",gradient:"linear-gradient(135deg, #ec4899 0%, #be185d 100%)"},{id:"health",label:"Health",gradient:"linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)"},{id:"golf",label:"Golf",gradient:"linear-gradient(135deg, #f97316 0%, #c2410c 100%)"}],Qee=[{id:"due-today",label:"Due Today"},{id:"completed-today",label:"Done Today"},{id:"due-tomorrow",label:"Due Tomorrow"},{id:"overdue",label:"Overdue"},{id:"active",label:"Active"},{id:"completed",label:"Completed"},{id:"recurring",label:"Recurring"}],Xee=({selectedBusiness:e,selectedStatus:t,onBusinessChange:r,onStatusChange:n,tasks:a})=>{const i=f=>{switch(f){case"due-today":return"#eab308";case"completed-today":return"#22c55e";case"due-tomorrow":return"#f97316";case"overdue":return"#ef4444";case"active":return"#3b82f6";case"completed":return"#22c55e";case"recurring":return"#a855f7";default:return"#374151"}},l=f=>!f.due_date&&!f.recurring_parent_id,u=f=>a.filter(m=>{if(f!==null){const g=m.businesses?.slug===f,x=m.life_areas?.category.toLowerCase()===f,v=m.area?.toLowerCase().replace(/\s+/g,"-")===f;if(!g&&!x&&!v)return!1}if(t)switch(t){case"due-today":{if(!$d(m.due_date)||m.status==="Done")return!1;break}case"completed-today":{if(!$d(m.completed_at))return!1;break}case"due-tomorrow":{if(!BE(m.due_date)||m.status==="Done")return!1;break}case"overdue":{if(!n1(m.due_date)||m.status==="Done")return!1;break}case"active":if(m.status==="Done")return!1;break;case"completed":if(m.status!=="Done")return!1;break;case"recurring":if(!l(m))return!1;break}return!0}).length,d=f=>a.filter(m=>{if(e){const g=m.businesses?.slug===e,x=m.life_areas?.category.toLowerCase()===e,v=m.area?.toLowerCase().replace(/\s+/g,"-")===e;if(!g&&!x&&!v)return!1}switch(f){case"due-today":return $d(m.due_date)&&m.status!=="Done";case"completed-today":return $d(m.completed_at);case"due-tomorrow":return BE(m.due_date)&&m.status!=="Done";case"overdue":return n1(m.due_date)&&m.status!=="Done";case"active":return m.status!=="Done"&&!m.completed_at;case"completed":return m.status==="Done";case"recurring":return l(m);default:return!1}}).length;return s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx(bn,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-700/30 shadow-lg",children:s.jsx(_o,{className:"pt-3 pb-3 px-2 sm:pt-4 sm:pb-4",children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-8 gap-2",children:[s.jsxs(ur,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${e===null?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{backgroundColor:"#4b5563"},onClick:()=>r(null),children:[s.jsx("span",{children:"All Areas"}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:u(null)})]}),Vee.map(f=>s.jsxs(ur,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${e===f.id?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:f.gradient},onClick:()=>r(f.id),children:[s.jsx("span",{children:f.label}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:u(f.id)})]},f.id)),Gee.map(f=>s.jsxs(ur,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${e===f.id?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:f.gradient},onClick:()=>r(f.id),children:[s.jsx("span",{children:f.label}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:u(f.id)})]},f.id))]})})}),s.jsx(bn,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-700/30 shadow-lg",children:s.jsx(_o,{className:"pt-3 pb-3 px-2 sm:pt-4 sm:pb-4",children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-8 gap-2",children:[s.jsxs(ur,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${t===null?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{backgroundColor:"#4b5563"},onClick:()=>n(null),children:[s.jsx("span",{children:"All Tasks"}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:a.length})]}),Qee.map(f=>s.jsxs(ur,{variant:"outline",className:`cursor-pointer px-3 sm:px-5 py-2 sm:py-3 text-sm sm:text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center min-h-[48px] sm:min-h-auto justify-center ${t===f.id?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{backgroundColor:i(f.id)},onClick:()=>n(f.id),children:[s.jsx("span",{children:f.label}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:d(f.id)})]},f.id))]})})})]})},Zee=[...Array.from({length:18},(e,t)=>t+6),...Array.from({length:6},(e,t)=>t)],Jee=e=>e==="Full Stack"?"var(--color-business-fullstack)":e==="Huge Capital"?"var(--color-business-hugecapital)":e==="S4"?"var(--color-business-s4)":e==="808"?"var(--color-business-808)":e==="Personal"?"var(--color-area-personal)":e==="Health"?"var(--color-area-health)":e==="Golf"?"var(--color-area-golf)":"#6b7280",ete=e=>{const[t,r]=e.start_time.split(":").map(Number),[n,a]=e.end_time.split(":").map(Number),i=((t-6)*60+r)/60,l=((n-t)*60+(a-r))/60;return{top:`${i*4}rem`,height:`${l*4}rem`}},tte=(e,t)=>{const r=Ct(`2000-01-01T${e}`),n=Ct(`2000-01-01T${t}`),a=Op(n,r);if(a<60)return`${a}m`;const i=a/60;return i===1?"1h":`${i.toFixed(1)}h`},rte=e=>{const t=new Map,r=[...e].sort((n,a)=>n.start_time.localeCompare(a.start_time));return r.forEach((n,a)=>{t.set(n.block_id,r.length-a+10)}),t},nte=({block:e,onRemove:t,onMove:r,stackZIndex:n=10})=>{const[a,i]=y.useState(!1),[l,u]=y.useState(0),[d,f]=y.useState(!1),[m,g]=y.useState(!1),x=ete(e),v=Jee(e.area),j=e.status==="completed"||e.task_status==="Done",w=C=>{i(!0),C.dataTransfer.effectAllowed="move";const E=C.currentTarget.getBoundingClientRect();u(C.clientY-E.top)},b=C=>{i(!1);const E=C.currentTarget.closest(".relative");if(!E)return;const O=E.getBoundingClientRect(),T=(C.clientY-O.top-l)/64,M=Math.round(T*4)*15,I=6+Math.floor(M/60),$=M%60,B=Op(Ct(`2000-01-01T${e.end_time}`),Ct(`2000-01-01T${e.start_time}`)),z=`${String(I).padStart(2,"0")}:${String($).padStart(2,"0")}:00`,Y=Ep(Ct(`2000-01-01T${z}`),B),ne=Ne(Y,"HH:mm:ss");z!==e.start_time&&r(e.block_id,z,ne)},S=C=>{C.preventDefault(),C.stopPropagation(),f(!0);const E=document.querySelector(".discrete-scrollbar");if(!E)return;const O=T=>{const M=E.getBoundingClientRect(),I=E.scrollTop,B=(T.clientY-M.top+I)/64,z=Math.round(B*4)*15,Y=6+Math.floor(z/60),ne=z%60,V=`${String(Y).padStart(2,"0")}:${String(ne).padStart(2,"0")}:00`;V<e.end_time&&r(e.block_id,V,e.end_time)},D=()=>{f(!1),document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",D)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",D)},k=C=>{C.preventDefault(),C.stopPropagation(),g(!0);const E=document.querySelector(".discrete-scrollbar");if(!E)return;const O=T=>{const M=E.getBoundingClientRect(),I=E.scrollTop,B=(T.clientY-M.top+I)/64,z=Math.round(B*4)*15,Y=6+Math.floor(z/60),ne=z%60,V=`${String(Y).padStart(2,"0")}:${String(ne).padStart(2,"0")}:00`;V>e.start_time&&r(e.block_id,e.start_time,V)},D=()=>{g(!1),document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",D)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",D)};return s.jsxs("div",{draggable:!0,onDragStart:w,onDragEnd:b,className:`absolute cursor-move hover:opacity-90 transition-opacity group/block border-2 border-gray-900 ${a||d||m?"opacity-50":""}`,style:{...x,left:"5.5rem",right:"0.5rem",backgroundColor:v,padding:"0.5rem",borderRadius:"0.25rem",zIndex:a||d||m?50:n,opacity:j?.5:1},children:[s.jsx("div",{onMouseDown:S,className:"absolute top-0 left-0 right-0 h-2 cursor-ns-resize hover:bg-white/20 transition-colors",style:{marginTop:"-4px"},title:"Drag to adjust start time"}),s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`text-lg text-white font-semibold truncate ${j?"line-through":""}`,children:e.task_name}),s.jsxs("div",{className:"text-sm text-white/80 whitespace-nowrap",children:[Ne(Ct(`2000-01-01T${e.start_time}`),"h:mm a")," - ",Ne(Ct(`2000-01-01T${e.end_time}`),"h:mm a")," (",tte(e.start_time,e.end_time),")"]})]})}),s.jsx("button",{onClick:C=>{C.stopPropagation(),confirm("Remove this time block? (Task will not be deleted)")&&t(e.block_id)},className:"opacity-0 group-hover/block:opacity-100 transition-opacity p-1 hover:bg-red-500/20 rounded text-red-400 hover:text-red-300 shrink-0",title:"Remove time block",children:s.jsx(qt,{className:"w-5 h-5"})})]}),s.jsx("div",{onMouseDown:k,className:"absolute bottom-0 left-0 right-0 h-2 cursor-ns-resize hover:bg-white/20 transition-colors",style:{marginBottom:"-4px"},title:"Drag to adjust end time"})]})},ate=({onTaskDrop:e,onBlockRemove:t,onDateChange:r,className:n=""})=>{const a=()=>{const S=new Date;return new Date(S.getFullYear(),S.getMonth(),S.getDate())},[i,l]=y.useState(a()),{data:u=[],isLoading:d}=Z4(i),f=rte(u),m=Dj(),g=(S,k,C)=>{m.mutate({blockId:S,updates:{start_time:k,end_time:C}})},x=()=>{l(S=>{const k=new Date(S.getFullYear(),S.getMonth(),S.getDate()-1);return r?.(k),k})},v=()=>{const S=a();l(S),r?.(S)},j=()=>{l(S=>{const k=new Date(S.getFullYear(),S.getMonth(),S.getDate()+1);return r?.(k),k})},w=(()=>{const S=new Date,k=new Date(S.getFullYear(),S.getMonth(),S.getDate()),C=new Date(i.getFullYear(),i.getMonth(),i.getDate());return k.getTime()===C.getTime()?"today":C.getTime()<k.getTime()?"past":"future"})(),b=w==="today";return s.jsxs(bn,{className:`bg-gray-800/60 border-gray-700 flex flex-col ${n}`,children:[s.jsx(Gj,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ae,{variant:"outline",size:"default",onClick:x,className:"border-gray-600 bg-gray-800 text-gray-200 hover:bg-gray-700 hover:border-gray-500 px-4 h-14 transition-all",children:s.jsx(Np,{className:"w-7 h-7"})}),s.jsx(Ae,{variant:"default",size:"default",onClick:v,className:`w-80 text-2xl font-semibold py-3 h-14 text-white border-0 shadow-md transition-all ${w==="today"?"bg-blue-600 hover:bg-blue-700 hover:shadow-lg":w==="past"?"bg-red-600 hover:bg-red-700 hover:shadow-lg":"bg-purple-600 hover:bg-purple-700 hover:shadow-lg"}`,children:b?"Today's Schedule":`${i.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})} Schedule`}),s.jsx(Ae,{variant:"outline",size:"default",onClick:j,className:"border-gray-600 bg-gray-800 text-gray-200 hover:bg-gray-700 hover:border-gray-500 px-4 h-14 transition-all",children:s.jsx(Fs,{className:"w-7 h-7"})})]})}),s.jsx(_o,{className:"flex-1 overflow-y-auto p-0 mt-4 discrete-scrollbar",children:d?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"text-sm text-gray-400",children:"Loading schedule..."})}):s.jsxs("div",{className:"relative",children:[Zee.map(S=>{const k=new Date().getHours()===S;return s.jsx("div",{className:`flex items-start border-b border-gray-700/50 ${k?"bg-yellow-500/5 border-l-2 border-l-yellow-500":""}`,style:{height:"4rem"},onDragOver:C=>C.preventDefault(),onDrop:C=>{C.preventDefault();const E=C.dataTransfer.getData("task");if(E){const O=JSON.parse(E),D=i.getFullYear(),T=String(i.getMonth()+1).padStart(2,"0"),M=String(i.getDate()).padStart(2,"0"),I=`${D}-${T}-${M}`,$=`${String(S).padStart(2,"0")}:00`;e(O.id,I,$)}},children:s.jsx("div",{className:`w-20 text-base font-medium px-3 pt-1 shrink-0 ${k?"text-yellow-400":"text-gray-500"}`,children:Ne(new Date().setHours(S,0),"h a")})},S)}),u.map(S=>s.jsx(nte,{block:S,onRemove:t,onMove:g,stackZIndex:f.get(S.block_id)??10},S.block_id))]})})]})},Gp=()=>Be({queryKey:["businesses"],queryFn:async()=>{const{data:e,error:t}=await X.from("businesses").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},staleTime:30*1e3}),ste=e=>Be({queryKey:["businesses",e],queryFn:async()=>{if(!e)return null;const{data:t,error:r}=await X.from("businesses").select("*").eq("id",e).single();if(r)throw r;return t},enabled:!!e,staleTime:300*1e3}),Rm=e=>{const t=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),n=String(e.getFullYear()).slice(-2);return`${t}/${r}/${n}`},ite=(e=new Date)=>{const t=new Date(e),r=t.getDay(),n=t.getDate()-r;return new Date(t.setDate(n))};function ote(e){const{baseName:t,recurringType:r,startDate:n,taskTemplate:a,dayOfWeek:i=1,monthlyDayOfMonth:l=15}=e,u=[],d=new Date(n);d.setUTCHours(0,0,0,0);const{due_date:f,...m}=a,g={...m,task_name:t,recurring_type:r,recurring_interval:r==="biweekly"?2:1,is_recurring_template:!0};if(r==="weekdays")for(let x=1;x<=5;x++){const v=new Date(d);v.setDate(v.getDate()+x);const j=`${t} ${Rm(v)}`,{due_date:w,...b}=a;u.push({...b,task_name:j,due_date:v.toISOString(),recurring_type:"daily_weekdays",recurring_interval:1,is_recurring_template:!1,recurring_parent_id:void 0})}else if(r==="weekly"){const x=new Date(d);x.setDate(x.getDate()+i);const v=`${t} ${Rm(x)}`,{due_date:j,...w}=a;u.push({...w,task_name:v,due_date:x.toISOString(),recurring_type:"weekly",recurring_interval:1,is_recurring_template:!1,recurring_parent_id:void 0})}else if(r==="biweekly"){const x=new Date(d);x.setDate(x.getDate()+i);const v=`${t} ${Rm(x)}`,{due_date:j,...w}=a;u.push({...w,task_name:v,due_date:x.toISOString(),recurring_type:"weekly",recurring_interval:2,is_recurring_template:!1,recurring_parent_id:void 0})}else if(r==="monthly"){const x=new Date(d),v=x.getMonth(),j=x.getFullYear(),w=new Date(j,v,Math.min(l,new Date(j,v+1,0).getDate()));w.setUTCHours(0,0,0,0);const b=`${t} ${Rm(w)}`,{due_date:S,...k}=a;u.push({...k,task_name:b,due_date:w.toISOString(),recurring_type:"monthly",recurring_interval:1,is_recurring_template:!1,recurring_parent_id:void 0})}return{parentTask:g,childTasks:u}}const lte=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=y.useState("single"),[i,l]=y.useState(""),[u,d]=y.useState(""),[f,m]=y.useState("8) Vibing (8"),[g,x]=y.useState("Manual"),[v,j]=y.useState(""),[w,b]=y.useState(""),[S,k]=y.useState(""),[C,E]=y.useState(""),[O,D]=y.useState(""),[T,M]=y.useState(!1),[I,$]=y.useState("weekly"),[B,z]=y.useState(1),[Y,ne]=y.useState(15),V=A4(),{data:F}=Gp(),{data:Z}=Tf(w||void 0),{data:q}=xu(S||""),U=q||[];y.useEffect(()=>{k(""),E("")},[w]),y.useEffect(()=>{E("")},[S]);const W=async L=>{if(L.preventDefault(),!i.trim()){alert("Please enter a task name");return}try{const ee=i.trim(),J={task_name:ee,description:u.trim()||void 0,status:"Not started",priority:"Medium",effort_level:f||void 0,automation:g||void 0,hours_projected:v?parseFloat(v):0,business_id:w||void 0,project_id:S||void 0,phase_id:C||void 0};if(n==="recurring"){const fe=ite(new Date),{parentTask:ge,childTasks:re}=ote({baseName:ee,recurringType:I,startDate:fe,taskTemplate:J,dayOfWeek:B,monthlyDayOfMonth:I==="monthly"?Y:void 0}),se=(await V.mutateAsync(ge))?.id;if(se)for(const pe of re)pe.recurring_parent_id=se,await V.mutateAsync(pe);else for(const pe of re)await V.mutateAsync(pe)}else{let Q;if(O){const ge=it(O);ge&&(Q=ge.toISOString())}const fe={...J,due_date:Q};await V.mutateAsync(fe)}l(""),d(""),D(""),m("8) Vibing (8"),x("Manual"),j(""),b(""),k(""),E(""),a("single"),$("weekly"),z(1),ne(15),r?.(),t()}catch(ee){console.error("Error creating task:",ee),alert("Failed to create task. Please try again.")}};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Add New Task"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300 text-2xl leading-none",children:""})]}),s.jsxs("form",{onSubmit:W,className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{type:"button",onClick:()=>a("single"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${n==="single"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Single Task"}),s.jsx("button",{type:"button",onClick:()=>a("recurring"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${n==="recurring"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Recurring Task"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"task_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Task Name *"}),s.jsx("input",{type:"text",id:"task_name",value:i,onChange:L=>l(L.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task name",required:!0,autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),s.jsx("textarea",{id:"description",value:u,onChange:L=>d(L.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"business",className:"block text-sm font-medium text-gray-300 mb-1",children:"Area"}),s.jsxs("select",{id:"business",value:w,onChange:L=>b(L.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"None"}),F?.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"project",className:"block text-sm font-medium text-gray-300 mb-1",children:"Project"}),s.jsxs("select",{id:"project",value:S,onChange:L=>k(L.target.value),disabled:!w,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"None"}),Z?.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phase",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phase"}),s.jsxs("select",{id:"phase",value:C,onChange:L=>E(L.target.value),disabled:!S,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"None"}),U.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"effort_level",className:"block text-sm font-medium text-gray-300 mb-1",children:"Effort Level"}),s.jsxs("select",{id:"effort_level",value:f,onChange:L=>m(L.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"None"}),s.jsx("option",{value:"$$$ Printer $$$",style:{color:"#22c55e"},children:"$$$ Printer $$$"}),s.jsx("option",{value:"$ Makes Money $",style:{color:"#84cc16"},children:"$ Makes Money $"}),s.jsx("option",{value:"-$ Save Dat $-",style:{color:"#f97316"},children:"-$ Save Dat $-"}),s.jsx("option",{value:":( No Money ):",style:{color:"#ef4444"},children:":( No Money ):"}),s.jsx("option",{value:"8) Vibing (8",style:{color:"#a855f7"},children:"8) Vibing (8"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"automation",className:"block text-sm font-medium text-gray-300 mb-1",children:"Automation"}),s.jsxs("select",{id:"automation",value:g,onChange:L=>x(L.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"None"}),s.jsx("option",{value:"Automate",style:{color:"#a855f7"},children:" Automate"}),s.jsx("option",{value:"Delegate",style:{color:"#8b5cf6"},children:" Delegate"}),s.jsx("option",{value:"Manual",style:{color:"#f59e0b"},children:" Manual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hours_projected",className:"block text-sm font-medium text-gray-300 mb-1",children:"Hours Projected"}),s.jsx("input",{type:"number",id:"hours_projected",value:v,onChange:L=>j(L.target.value),min:"0",step:"0.5",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),n==="single"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"due_date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date"}),s.jsx("button",{type:"button",onClick:()=>M(!0),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-left",children:O||"Select date..."}),T&&s.jsx(Jj,{scheduledDate:O,onSchedule:(L,ee)=>{D(L||""),M(!1)},onClose:()=>M(!1)})]}),n==="recurring"&&s.jsxs("div",{className:"border-t border-gray-700 pt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Frequency"}),s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsx("button",{type:"button",onClick:()=>$("weekdays"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${I==="weekdays"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Weekdays"}),s.jsx("button",{type:"button",onClick:()=>$("weekly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${I==="weekly"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Weekly"}),s.jsx("button",{type:"button",onClick:()=>$("biweekly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${I==="biweekly"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Bi-Weekly"}),s.jsx("button",{type:"button",onClick:()=>$("monthly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${I==="monthly"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-600 hover:bg-gray-700"}`,children:"Monthly"})]})]}),(I==="weekly"||I==="biweekly")&&s.jsxs("div",{className:"p-3 bg-gray-800/50 border border-gray-700 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Day of Week"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((L,ee)=>s.jsx("button",{type:"button",onClick:()=>z(ee),className:`px-3 py-2 rounded-lg text-xs font-medium transition-colors ${B===ee?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:L},ee))})]}),I==="monthly"&&s.jsxs("div",{className:"p-3 bg-gray-800/50 border border-gray-700 rounded-lg",children:[s.jsx("label",{htmlFor:"recurring_monthly_day",className:"block text-sm font-medium text-gray-300 mb-2",children:"Day of Month"}),s.jsx("input",{type:"number",id:"recurring_monthly_day",value:Y,onChange:L=>ne(Math.max(1,Math.min(31,parseInt(L.target.value)||1))),min:"1",max:"31",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:V.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:V.isPending?"Creating...":"Create Task"})]})]})]})}):null},cte=(e,t,r)=>e.filter(n=>{if(t){const a=n.businesses?.slug===t,i=n.life_areas?.category.toLowerCase()===t,l=n.area?.toLowerCase().replace(" ","-")===t;if(!a&&!i&&!l)return!1}if(r){const a=kf(),i=new Date(a);i.setDate(i.getDate()+1);const l=new Date(a);if(l.setDate(l.getDate()+2),r==="due-today"){if(n.status==="Done")return!1;const u=n.due_date?it(n.due_date):null;if(!u)return!1;const d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0);if(d.getTime()<a.getTime()||d.getTime()>=i.getTime())return!1}if(r==="completed-today"){const u=n.completed_at?new Date(n.completed_at):null;if(!u)return!1;const d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0);if(d.getTime()<a.getTime()||d.getTime()>=i.getTime())return!1}if(r==="due-tomorrow"){if(n.status==="Done")return!1;const u=n.due_date?it(n.due_date):null;if(!u)return!1;const d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0);if(d.getTime()<i.getTime()||d.getTime()>=l.getTime())return!1}if(r==="overdue"){if(n.status==="Done")return!1;const u=n.due_date?it(n.due_date):null;if(!u||new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0).getTime()>=a.getTime())return!1}if(r==="active"&&n.status==="Done"||r==="completed"&&n.status!=="Done"||r==="recurring"&&!(!n.due_date&&!n.recurring_parent_id))return!1}return!0}),ute=()=>{const{data:e,isLoading:t,error:r}=Fl(),n=Dp(),a=J4(),[i,l]=y.useState(null),[u,d]=y.useState("due-today"),[f,m]=y.useState(null),[g,x]=y.useState(!1),[v,j]=y.useState(new Date),[w,b]=y.useState(!1);y.useEffect(()=>{X.auth.getSession().then(({data:{session:D}})=>{m(D?.user?.id||null)})},[]),e3(f);const{data:S=[]}=Be({queryKey:["all-time-blocks"],queryFn:async()=>{const{data:D,error:T}=await X.from("task_time_blocks").select("task_id, scheduled_date, start_time").order("scheduled_date",{ascending:!0}).order("start_time",{ascending:!0});return T?(console.error("Error fetching time blocks:",T),[]):D||[]},staleTime:3e4}),k=y.useMemo(()=>{if(!e)return[];const D=cte(e,i,u),T=Ne(v,"yyyy-MM-dd"),M=S.filter($=>$.scheduled_date===T),I=new Map;return M.forEach($=>{I.has($.task_id)||I.set($.task_id,{scheduled_date:$.scheduled_date,start_time:$.start_time})}),D.sort(($,B)=>{const z=I.get($.id),Y=I.get(B.id);if(z&&Y){const F=z.scheduled_date.localeCompare(Y.scheduled_date);return F!==0?F:z.start_time.localeCompare(Y.start_time)}if(z&&!Y)return-1;if(!z&&Y)return 1;if(!$.due_date&&!B.due_date)return 0;if(!$.due_date)return 1;if(!B.due_date)return-1;const ne=it($.due_date),V=it(B.due_date);return!ne||!V?0:ne.getTime()-V.getTime()})},[e,i,u,S,v]),C=async(D,T,M)=>{try{const I=`${M}:00`,$=Ne(Ep(Ct(`${T}T${M}`),60),"HH:mm:ss");await n.mutateAsync({taskId:D,scheduledDate:Ct(T),startTime:I,endTime:$,plannedDurationMinutes:60}),console.log(" Task scheduled to time block:",{taskId:D,date:T,time:M})}catch(I){console.error(" Failed to schedule task:",I),alert("Failed to schedule task. Please try again.")}},E=async D=>{try{await a.mutateAsync(D),console.log(" Time block removed:",D)}catch(T){console.error(" Failed to remove time block:",T),alert("Failed to remove time block. Please try again.")}},O=async()=>{try{b(!0);const{data:D,error:T}=await X.functions.invoke("generate-recurring-tasks",{body:{}});if(T){console.error("Error generating recurring tasks:",T),alert(`Failed to generate recurring tasks: ${T.message}`);return}console.log(" Recurring tasks generated:",D),alert(`Successfully generated ${D.tasksCreated} recurring task instances!`),window.location.reload()}catch(D){console.error(" Failed to generate recurring tasks:",D),alert(`Failed to generate recurring tasks: ${D instanceof Error?D.message:"Unknown error"}`)}finally{b(!1)}};return t?s.jsxs("div",{className:"py-6 px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6",children:"Tasks Hub"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(D=>s.jsx("div",{className:"animate-pulse bg-gray-800 h-24 rounded-lg"},D))})]}):r?s.jsxs("div",{className:"py-6 px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6",children:"Tasks Hub"}),s.jsx("div",{className:"bg-red-900/20 border border-red-500 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-400",children:["Failed to load tasks: ",r.message]})})]}):s.jsxs("div",{className:"py-4 sm:py-6 px-4 sm:px-8 max-w-full mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-100",children:"Tasks"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:O,disabled:w,className:"px-3 sm:px-4 py-2.5 sm:py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-900 disabled:opacity-50 text-white rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base touch-action-none",title:"Generate next week's recurring task instances",children:[s.jsx("span",{className:"hidden sm:inline",children:w?"Generating...":"Generate Recurring"}),s.jsx("span",{className:"sm:hidden",children:""})]}),s.jsxs("button",{onClick:()=>x(!0),className:"px-4 sm:px-4 py-2.5 sm:py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base touch-action-none",children:[s.jsx("span",{className:"text-xl leading-none",children:"+"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Task"}),s.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),s.jsx(Xee,{selectedBusiness:i,selectedStatus:u,onBusinessChange:l,onStatusChange:d,tasks:e||[]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[1fr,500px] 2xl:grid-cols-[1fr,550px] gap-3 sm:gap-4 mt-4 sm:mt-6",children:[s.jsx("div",{className:"min-w-0",children:k.length===0?s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 sm:p-8 text-center",children:s.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:e&&e.length>0?"No tasks match the selected filters.":"No tasks found. Create your first task to get started!"})}):s.jsx("div",{className:"space-y-2 sm:space-y-3",children:k.map(D=>s.jsx(dte,{task:D,scheduleDate:v},D.id))})}),s.jsx("div",{className:"space-y-4 sm:space-y-6 min-w-0",children:s.jsx(ate,{onTaskDrop:C,onBlockRemove:E,onDateChange:j,className:"h-[calc(100vh-200px)] sm:h-[calc(100vh-120px)] xl:h-[calc(100vh-80px)]"})})]}),s.jsx(lte,{isOpen:g,onClose:()=>x(!1),onSuccess:()=>{console.log(" Task created successfully")}})]})},dte=({task:e,scheduleDate:t})=>s.jsx("div",{draggable:!0,onDragStart:r=>{r.dataTransfer.setData("task",JSON.stringify(e)),r.currentTarget.style.opacity="0.5"},onDragEnd:r=>{r.currentTarget.style.opacity="1"},style:{cursor:"grab"},children:s.jsx(Kee,{task:e,scheduleDate:t})});function fte(e={}){return Be({queryKey:["deep-work-sessions",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");let r=X.from("deep_work_log").select(`
          *,
          tasks:task_id(id, task_name)
        `).eq("user_id",t.id).order("start_time",{ascending:!1});e.dateRange&&(r=r.gte("start_time",e.dateRange.start.toISOString()).lte("start_time",e.dateRange.end.toISOString())),e.area&&(r=r.eq("area",e.area)),e.taskType&&(r=r.eq("task_type",e.taskType)),e.taskId&&(r=r.eq("task_id",e.taskId)),e.status&&(r=r.eq("status",e.status)),e.labels&&e.labels.length>0&&(r=r.overlaps("labels",e.labels));const{data:n,error:a}=await r;if(a)throw a;return n},staleTime:300*1e3})}function hte(){const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.from("deep_work_log").insert({user_id:r.id,...t,status:"active"}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["deep-work-sessions"]}),e.invalidateQueries({queryKey:["time-allocation"]})}})}function mte(){const e=mt();return wt({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await X.from("deep_work_log").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["deep-work-sessions"]}),e.invalidateQueries({queryKey:["time-allocation"]})}})}const mi=y.forwardRef(({className:e,...t},r)=>s.jsx("label",{ref:r,className:Ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));mi.displayName="Label";const gte=["Personal","Full Stack","Huge Capital","808","S4","Golf","Health"],pte=({isOpen:e,onClose:t})=>{const[r,n]=y.useState("Personal"),[a,i]=y.useState("no-task"),[l,u]=y.useState(""),[d,f]=y.useState(new Date().toISOString().slice(0,16)),[m,g]=y.useState(new Date(Date.now()+3600*1e3).toISOString().slice(0,16)),x=hte(),v=mte(),{data:j=[]}=Fl(),w=async S=>{if(S.preventDefault(),!r){alert("Area is required");return}try{const k=new Date(d).toISOString(),C=new Date(m).toISOString(),E=await x.mutateAsync({area:r,task_id:a==="no-task"?null:a,task_type:l||null,start_time:k});await v.mutateAsync({id:E.id,updates:{end_time:C,status:"completed"}}),n("Personal"),i("no-task"),u(""),f(new Date().toISOString().slice(0,16)),g(new Date(Date.now()+3600*1e3).toISOString().slice(0,16)),t()}catch(k){console.error("Failed to create deep work session:",k),alert("Failed to create session. Please try again.")}},b=j.filter(S=>S.area===r||S.businesses?.slug===r||S.life_areas?.name===r);return s.jsx(Ef,{open:e,onOpenChange:t,children:s.jsxs(vu,{className:"bg-gray-800 border-gray-700 text-white max-w-lg",children:[s.jsx(bu,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(wu,{className:"text-xl font-bold",children:"Add Deep Work Session"}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:s.jsx(qt,{className:"w-4 h-4"})})]})}),s.jsxs("form",{onSubmit:w,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(mi,{htmlFor:"area",className:"text-sm font-medium text-gray-200",children:"Area *"}),s.jsxs(va,{value:r,onValueChange:S=>n(S),children:[s.jsx(Qn,{id:"area",className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500",children:s.jsx(ba,{placeholder:"Select area"})}),s.jsx(Xn,{className:"bg-gray-900 border-gray-700",children:gte.map(S=>s.jsx(ht,{value:S,className:"text-white hover:bg-gray-800",children:S},S))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(mi,{htmlFor:"task",className:"text-sm font-medium text-gray-200",children:"Task (Optional)"}),s.jsxs(va,{value:a,onValueChange:i,children:[s.jsx(Qn,{id:"task",className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500",children:s.jsx(ba,{placeholder:"Select task (optional)"})}),s.jsxs(Xn,{className:"bg-gray-900 border-gray-700 max-h-60",children:[s.jsx(ht,{value:"no-task",className:"text-white hover:bg-gray-800",children:"No Task"}),b.map(S=>s.jsx(ht,{value:S.id,className:"text-white hover:bg-gray-800",children:S.task_name},S.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(mi,{htmlFor:"taskType",className:"text-sm font-medium text-gray-200",children:"Task Type (Optional)"}),s.jsx(jn,{id:"taskType",type:"text",value:l,onChange:S=>u(S.target.value),placeholder:"e.g., Planning, Development, Research",className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(mi,{htmlFor:"startDate",className:"text-sm font-medium text-gray-200",children:"Start Date & Time *"}),s.jsx(jn,{id:"startDate",type:"datetime-local",value:d,onChange:S=>f(S.target.value),className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(mi,{htmlFor:"endDate",className:"text-sm font-medium text-gray-200",children:"End Date & Time *"}),s.jsx(jn,{id:"endDate",type:"datetime-local",value:m,onChange:S=>g(S.target.value),className:"bg-gray-900 border-gray-700 text-white focus:border-orange-500",required:!0})]}),s.jsxs("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Duration Preview:"}),s.jsxs("div",{className:"text-lg font-bold text-orange-400",children:[Math.round((new Date(m).getTime()-new Date(d).getTime())/6e4)," minutes"]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Ae,{type:"button",variant:"outline",onClick:t,className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),s.jsx(Ae,{type:"submit",disabled:x.isPending,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white",children:x.isPending?"Adding...":"Add Session"})]})]})]})})},Rv={"All Areas":"bg-blue-500",Personal:"bg-pink-500","Full Stack":"bg-green-500","Huge Capital":"bg-purple-500",808:"bg-yellow-500",S4:"bg-blue-600",Golf:"bg-orange-500",Health:"bg-teal-500"},yte={"All Areas":"text-blue-400",Personal:"text-pink-400","Full Stack":"text-green-400","Huge Capital":"text-purple-400",808:"text-yellow-400",S4:"text-blue-400",Golf:"text-orange-400",Health:"text-teal-400"},xte={"All Levels":"bg-blue-500","$$$ Printer $$$":"bg-green-500","$ Makes Money $":"bg-green-700","-$ Save Dat $-":"bg-orange-500",":( No Money ):":"bg-red-500","8) Vibing (8":"bg-purple-500"},FE=()=>{const[e,t]=y.useState("All Time"),[r,n]=y.useState("All Areas"),[a,i]=y.useState("All Levels"),[l,u]=y.useState(!1),{data:d=[],isLoading:f,error:m}=fte();console.log(" DeepWorkSessions rendering with sessions:",d),console.log(" Sessions length:",d.length),console.log(" Loading:",f,"Error:",m);const g=y.useMemo(()=>{const S=new Date,k=new Date(S.getFullYear(),S.getMonth(),S.getDate()),C=new Date(S);C.setDate(S.getDate()-S.getDay()),C.setHours(0,0,0,0);const E=new Date(S.getFullYear(),S.getMonth(),1);return d.filter(O=>{const D=new Date(O.start_time);switch(e){case"Today":return D>=k;case"This Week":return D>=C;case"This Month":return D>=E;case"All Time":default:return!0}})},[d,e]),x=y.useMemo(()=>{const S=g.length,k=g.reduce((E,O)=>E+(O.duration_minutes||0),0),C=S>0?Math.round(k/S):0;return{totalSessions:S,totalTime:`${Math.floor(k/60)}h ${k%60}m`,avgSession:`${C}m`,percentOfTotal:"100%"}},[g]),v=y.useMemo(()=>{const S={"All Areas":g.length};return g.forEach(k=>{const C=k.area||"Unallocated";S[C]=(S[C]||0)+1}),S},[g]),j=y.useMemo(()=>({"All Levels":g.length}),[g]),w=y.useMemo(()=>{const S=new Map;g.forEach(C=>{const E=C.tasks?.task_name||"Unknown",O=C.area||"Unallocated",D=S.get(E);D?(D.minutes+=C.duration_minutes||0,D.sessions+=1):S.set(E,{area:O,minutes:C.duration_minutes||0,sessions:1,taskName:E})});const k=g.reduce((C,E)=>C+(E.duration_minutes||0),0);return Array.from(S.values()).map(C=>({...C,percent:k>0?Math.round(C.minutes/k*100):0})).sort((C,E)=>E.minutes-C.minutes).slice(0,5)},[g]),b=S=>{const k=Math.floor(S/60),C=S%60;return k>0?`${k}h ${C}m`:`${C}m`};return f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-400 text-lg",children:"Loading sessions..."})}):m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-red-400 text-lg",children:["Error loading sessions: ",m.message]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-100 mb-2",children:"Deep Work Sessions"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Track your focused work sessions and productivity"})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:["All Time","Today","This Week","This Month"].map(S=>s.jsx(Ae,{onClick:()=>t(S),variant:e===S?"default":"outline",className:`h-14 text-base font-semibold transition-all ${e===S?"bg-blue-600 hover:bg-blue-700 border-blue-500 shadow-lg shadow-blue-500/30":"bg-gray-800 hover:bg-gray-750 border-gray-700 text-gray-300"}`,children:S},S))}),s.jsxs("div",{className:"grid grid-cols-4 gap-5",children:[s.jsxs(bn,{className:"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700 p-6 hover:shadow-xl hover:shadow-blue-500/10 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:s.jsx(pH,{className:"w-5 h-5 text-purple-400"})}),s.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Total Sessions"})]}),s.jsx("div",{className:"text-4xl font-bold text-white",children:x.totalSessions})]}),s.jsxs(bn,{className:"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700 p-6 hover:shadow-xl hover:shadow-pink-500/10 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 bg-pink-500/20 rounded-lg",children:s.jsx(ta,{className:"w-5 h-5 text-pink-400"})}),s.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Total Time"})]}),s.jsx("div",{className:"text-4xl font-bold text-white",children:x.totalTime})]}),s.jsxs(bn,{className:"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700 p-6 hover:shadow-xl hover:shadow-green-500/10 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:s.jsx(_4,{className:"w-5 h-5 text-green-400"})}),s.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Avg Session"})]}),s.jsx("div",{className:"text-4xl font-bold text-white",children:x.avgSession})]}),s.jsxs(bn,{className:"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700 p-6 hover:shadow-xl hover:shadow-yellow-500/10 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 bg-yellow-500/20 rounded-lg",children:s.jsx(ea,{className:"w-5 h-5 text-yellow-400"})}),s.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"% Of Total Hours"})]}),s.jsx("div",{className:"text-4xl font-bold text-white",children:x.percentOfTotal})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:Object.entries(v).map(([S,k])=>s.jsx(Ae,{onClick:()=>n(S),variant:"outline",className:`h-auto py-3 px-4 text-sm font-medium transition-all ${r===S?`${Rv[S]} border-transparent text-white shadow-lg`:`bg-gray-800 hover:bg-gray-750 border-gray-700 ${yte[S]}`}`,children:s.jsxs("span",{className:"truncate",children:[S," (",k,")"]})},S))}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:Object.entries(j).map(([S,k])=>s.jsx(Ae,{onClick:()=>i(S),variant:"outline",className:`h-auto py-3 px-4 text-sm font-medium transition-all ${a===S?`${xte[S]} border-transparent text-white shadow-lg`:"bg-gray-800 hover:bg-gray-750 border-gray-700 text-gray-300"}`,children:s.jsxs("span",{className:"truncate",children:[S," (",k,")"]})},S))}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:w.map((S,k)=>s.jsxs(bn,{className:`${Rv[S.area]} border-none p-4 text-white shadow-xl hover:scale-105 transition-transform`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs(ur,{variant:"secondary",className:"bg-black/30 text-white border-none",children:["#",k+1]}),s.jsx(ur,{variant:"secondary",className:"bg-black/30 text-white text-xs border-none",children:S.area})]}),s.jsx("div",{className:"text-2xl font-bold mb-1",children:b(S.minutes)}),s.jsxs("div",{className:"text-sm opacity-90 mb-1",children:[S.percent,"%"]}),s.jsxs("div",{className:"text-sm opacity-90 mb-2",children:[S.sessions," sessions"]}),s.jsx("div",{className:"text-xs opacity-80 truncate",title:S.taskName,children:S.taskName})]},k))}),s.jsxs(bn,{className:"bg-gray-800 border-gray-700 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Deep Work Session Log"}),s.jsxs(Ae,{onClick:()=>u(!0),className:"bg-orange-600 hover:bg-orange-700",children:[s.jsx(Na,{className:"w-4 h-4 mr-2"}),"Add Session"]})]}),s.jsx("div",{className:"space-y-2",children:g.length===0?s.jsx("div",{className:"text-center text-gray-400 py-12",children:"No sessions found for the selected filters"}):g.map(S=>{const k=new Date(S.start_time),C=S.end_time?new Date(S.end_time):null,E=k.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),O=C?`${k.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})} - ${C.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:k.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),D=S.area||"Unallocated",T=Rv[D]||"bg-gray-600";return s.jsxs("div",{className:`${T} rounded-lg p-4 flex items-center gap-4 cursor-pointer hover:opacity-90 transition-opacity`,children:[s.jsxs("div",{className:"flex-none w-28 text-white text-sm",children:[" ",E]}),s.jsxs("div",{className:"flex-none w-36 text-white text-sm",children:[" ",O]}),s.jsxs("div",{className:"flex-none w-20 text-white text-sm font-bold",children:[" ",b(S.duration_minutes||0)]}),s.jsx(ur,{className:`${T} border-white/20`,children:D}),s.jsx(ur,{className:"bg-amber-500 border-none",children:S.labels&&S.labels.length>0?S.labels[0]:"N/A"}),s.jsx(ur,{className:"bg-white text-gray-900 border-none",children:S.tasks?.task_name||"Unknown Task"})]},S.id)})})]}),s.jsx(pte,{isOpen:l,onClose:()=>u(!1)})]})};function vte(e,t=[]){let r=[];function n(i,l){const u=y.createContext(l);u.displayName=i+"Context";const d=r.length;r=[...r,l];const f=g=>{const{scope:x,children:v,...j}=g,w=x?.[e]?.[d]||u,b=y.useMemo(()=>j,Object.values(j));return s.jsx(w.Provider,{value:b,children:v})};f.displayName=i+"Provider";function m(g,x){const v=x?.[e]?.[d]||u,j=y.useContext(v);if(j)return j;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[f,m]}const a=()=>{const i=r.map(l=>y.createContext(l));return function(u){const d=u?.[e]||i;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return a.scopeName=e,[n,bte(a,...t)]}function bte(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((u,{useScope:d,scopeName:f})=>{const g=d(i)[`__scope${f}`];return{...u,...g}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var wte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],T5=wte.reduce((e,t)=>{const r=r3(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:l,...u}=a,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),e_="Progress",t_=100,[jte]=vte(e_),[_te,Ste]=jte(e_),E5=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Nte,...l}=e;(a||a===0)&&!UE(a)&&console.error(kte(`${a}`,"Progress"));const u=UE(a)?a:t_;n!==null&&!qE(n,u)&&console.error(Cte(`${n}`,"Progress"));const d=qE(n,u)?n:null,f=Ng(d)?i(d,u):void 0;return s.jsx(_te,{scope:r,value:d,max:u,children:s.jsx(T5.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Ng(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":D5(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});E5.displayName=e_;var O5="ProgressIndicator",A5=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Ste(O5,r);return s.jsx(T5.div,{"data-state":D5(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});A5.displayName=O5;function Nte(e,t){return`${Math.round(e/t*100)}%`}function D5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ng(e){return typeof e=="number"}function UE(e){return Ng(e)&&!isNaN(e)&&e>0}function qE(e,t){return Ng(e)&&!isNaN(e)&&e<=t&&e>=0}function kte(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${t_}\`.`}function Cte(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${t_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var M5=E5,Tte=A5;const Ete=y.forwardRef(({className:e,value:t,...r},n)=>s.jsx(M5,{ref:n,className:Ie("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:s.jsx(Tte,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ete.displayName=M5.displayName;const Ote=(e,t,r)=>y.useMemo(()=>{if(!e||e.length===0)return{overallCompletion:0,totalProjects:0,activeTasks:0,completedTasks:0,totalTasks:0,lastActivityDate:null,isStalled:!1,daysSinceActivity:1/0};const a=e.map(g=>{const x=t.filter(j=>j.project_id===g.id),v=r.filter(j=>j.project_id===g.id);return x.length>0?x.map(w=>{const b=v.filter(k=>k.phase_id===w.id);return b.length===0?0:b.reduce((k,C)=>k+(C.progress_percentage??0),0)/b.length}).reduce((w,b)=>w+b,0)/x.length:v.length>0?v.reduce((w,b)=>w+(b.progress_percentage??0),0)/v.length:0}).reduce((g,x)=>g+x,0)/e.length,i=r.filter(g=>(g.progress_percentage??0)===100).length,l=r.filter(g=>(g.progress_percentage??0)>0&&(g.progress_percentage??0)<100).length,u=r.length,d=r.length>0?r.reduce((g,x)=>{const v=x.updated_at||x.created_at;return!g||v>g?v:g},null):null,f=d?Math.floor((new Date().getTime()-new Date(d).getTime())/(1440*60*1e3)):1/0,m=f>14;return{overallCompletion:Math.round(a*10)/10,totalProjects:e.length,activeTasks:l,completedTasks:i,totalTasks:u,lastActivityDate:d,isStalled:m,daysSinceActivity:f}},[e,t,r]),Ate=(e,t)=>y.useMemo(()=>{if(e&&e.length>0){const r=e.map(u=>{const d=t.filter(m=>m.phase_id===u.id);return d.length===0?0:d.reduce((m,g)=>m+(g.progress_percentage??0),0)/d.length}),n=r.reduce((u,d)=>u+d,0)/e.length,a=r.filter(u=>u===100).length,i=t.length>0?t.reduce((u,d)=>{const f=d.updated_at||d.created_at;return!u||f>u?f:u},null):null,l=i?new Date().getTime()-new Date(i).getTime()>10080*60*1e3:!1;return{progress:Math.round(n*10)/10,completedPhases:a,totalPhases:e.length,lastActivityDate:i,isStalled:l}}if(t&&t.length>0){const n=t.reduce((u,d)=>u+(d.progress_percentage??0),0)/t.length,a=t.filter(u=>(u.progress_percentage??0)===100).length,i=t.reduce((u,d)=>{const f=d.updated_at||d.created_at;return!u||f>u?f:u},null),l=i?new Date().getTime()-new Date(i).getTime()>10080*60*1e3:!1;return{progress:Math.round(n*10)/10,completedPhases:a,totalPhases:t.length,lastActivityDate:i,isStalled:l}}return{progress:0,completedPhases:0,totalPhases:0,lastActivityDate:null,isStalled:!1}},[e,t]),Dte=e=>y.useMemo(()=>{if(!e||e.length===0)return{progress:0,completedCount:0,totalCount:0};const r=e.reduce((a,i)=>{const l=i.progress_percentage??0;return a+l},0)/e.length,n=e.filter(a=>(a.progress_percentage??0)===100).length;return{progress:Math.round(r*10)/10,completedCount:n,totalCount:e.length}},[e]),Mte=e=>({"full-stack":"Full Stack","huge-capital":"Huge Capital",s4:"S4",808:"808",personal:"Personal",health:"Health",golf:"Golf"})[e]||"Personal",Pte=({businessId:e,projectId:t,phaseId:r,phaseName:n,onSuccess:a,onCancel:i})=>{const[l,u]=y.useState(""),[d,f]=y.useState(""),[m,g]=y.useState(""),[x,v]=y.useState("Not started"),j=A4(),{data:w}=ste(e),b=async S=>{if(S.preventDefault(),!l.trim()){alert("Please enter a task name");return}let k;if(m){const E=it(m);E&&(k=E.toISOString())}const C={task_name:l.trim(),description:d.trim()||void 0,business_id:e,project_id:t,...r&&{phase_id:r},status:x,due_date:k,area:w?Mte(w.slug):void 0,task_type:n||"General",automation:"Manual",effort_level:"8) JusVibin",hours_projected:0};try{await j.mutateAsync(C),u(""),f(""),g(""),v("Not started"),a?.()}catch(E){console.error("Error creating task:",E),E?.code==="23505"||E?.message?.includes("duplicate key")||E?.message?.includes("unique constraint")?alert(`A task named "${l.trim()}" already exists in this phase. Please choose a different name.`):alert("Failed to create task. Please try again.")}};return s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"task_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Task Name *"}),s.jsx("input",{type:"text",id:"task_name",value:l,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),s.jsx("textarea",{id:"description",value:d,onChange:S=>f(S.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),s.jsxs("select",{id:"status",value:x,onChange:S=>v(S.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Not started",children:"Not started"}),s.jsx("option",{value:"In progress",children:"In progress"}),s.jsx("option",{value:"Done",children:"Done"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"due_date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date"}),s.jsx("input",{type:"date",id:"due_date",value:m,onChange:S=>g(S.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[i&&s.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm font-medium",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:j.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:j.isPending?"Creating...":"Create Task"})]})]})},Rte=({task:e,isOpen:t,onClose:r,businessId:n})=>{const[a,i]=y.useState(e.task_name),[l,u]=y.useState(e.description||""),[d,f]=y.useState(e.priority),[m,g]=y.useState(e.effort_level),[x,v]=y.useState(e.automation),[j,w]=y.useState(e.hours_worked),[b,S]=y.useState(e.hours_projected),[k,C]=y.useState(e.progress_percentage??0),[E,O]=y.useState(e.project_id||"no-project"),[D,T]=y.useState(e.phase_id||"no-phase"),[M,I]=y.useState(e.due_date),[$,B]=y.useState(!1),[z,Y]=y.useState(!1),ne=Ul(),{data:V}=Tf(n),{data:F}=xu(E||void 0);y.useEffect(()=>{i(e.task_name),u(e.description||""),f(e.priority),g(e.effort_level),v(e.automation),w(e.hours_worked),S(e.hours_projected),C(e.progress_percentage??0),O(e.project_id||"no-project"),T(e.phase_id||"no-phase"),I(e.due_date)},[e]);const Z=async()=>{try{let W=e.status;k===0?W="Not started":k===100?W="Done":k>0&&k<100&&(W="In progress"),await ne.mutateAsync({id:e.id,updates:{task_name:a.trim(),description:l.trim()||null,priority:d,effort_level:m,automation:x,hours_worked:j,hours_projected:b,progress_percentage:k,status:W,project_id:E==="no-project"?null:E,phase_id:D==="no-phase"?null:D,due_date:M,completed_at:k===100&&e.progress_percentage!==100?new Date().toISOString():void 0}}),r()}catch(W){console.error("Failed to update task:",W)}},q=W=>{C(W),B(!1)},U=(W,L)=>{if(!W){I(null),Y(!1);return}const[ee,J,Q]=W.split("-").map(Number),fe=new Date(ee,J-1,Q,12,0,0,0);I(fe.toISOString()),Y(!1)};return s.jsx(Ef,{open:t,onOpenChange:r,children:s.jsxs(vu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-gray-900 border-gray-700",children:[s.jsx(bu,{children:s.jsxs(wu,{className:"text-xl font-bold text-gray-100 flex items-center justify-between",children:["Edit Task",s.jsx(Ae,{variant:"ghost",size:"sm",onClick:r,className:"w-8 h-8 p-0",children:s.jsx(qt,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Task Name"}),s.jsx(jn,{type:"text",value:a,onChange:W=>i(W.target.value),className:"bg-gray-800 border-gray-700 text-gray-100"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Project"}),s.jsxs(va,{value:E,onValueChange:W=>{O(W),T("no-phase")},children:[s.jsx(Qn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ba,{placeholder:"No Project Identified"})}),s.jsxs(Xn,{children:[s.jsx(ht,{value:"no-project",children:"No Project Identified"}),V?.map(W=>s.jsx(ht,{value:W.id,children:W.name},W.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Phase"}),s.jsxs(va,{value:D||"no-phase",onValueChange:T,disabled:!E||E==="no-project",children:[s.jsx(Qn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ba,{placeholder:"No Phase Identified"})}),s.jsxs(Xn,{children:[s.jsx(ht,{value:"no-phase",children:"No Phase Identified"}),F?.map(W=>s.jsx(ht,{value:W.id,children:W.name},W.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Priority"}),s.jsxs(va,{value:d,onValueChange:W=>f(W),children:[s.jsx(Qn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ba,{})}),s.jsxs(Xn,{children:[s.jsx(ht,{value:"Low",children:"Low"}),s.jsx(ht,{value:"Medium",children:"Medium"}),s.jsx(ht,{value:"High",children:"High"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Money Maker"}),s.jsxs(va,{value:m||"none",onValueChange:W=>g(W==="none"?null:W),children:[s.jsx(Qn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ba,{placeholder:"Select level"})}),s.jsxs(Xn,{children:[s.jsx(ht,{value:"none",children:"None"}),s.jsx(ht,{value:"$$$ Printer $$$",children:"$$$ Printer $$$"}),s.jsx(ht,{value:"$ Makes Money $",children:"$ Makes Money $"}),s.jsx(ht,{value:"-$ Save Dat $-",children:"-$ Save Dat $-"}),s.jsx(ht,{value:":( No Money ):",children:":( No Money ):"}),s.jsx(ht,{value:"8) Vibing (8",children:"8) Vibing (8"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Automation"}),s.jsxs(va,{value:x||"none",onValueChange:W=>v(W==="none"?null:W),children:[s.jsx(Qn,{className:"bg-gray-800 border-gray-700 text-gray-100",children:s.jsx(ba,{placeholder:"Select type"})}),s.jsxs(Xn,{children:[s.jsx(ht,{value:"none",children:"None"}),s.jsx(ht,{value:"Automate",children:" Automate"}),s.jsx(ht,{value:"Delegate",children:" Delegate"}),s.jsx(ht,{value:"Manual",children:" Manual"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Due Date"}),s.jsx(Ae,{variant:"outline",onClick:()=>Y(!0),className:"w-full justify-start bg-gray-800 border-gray-700 text-gray-100 hover:bg-gray-700",children:M?Ne(it(M)||new Date,"MMM d, yyyy"):"Set due date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Hours Worked"}),s.jsx(jn,{type:"number",value:j||"",onChange:W=>w(W.target.value?parseFloat(W.target.value):null),placeholder:"0.00",step:"0.25",className:"bg-gray-800 border-gray-700 text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Hours Projected"}),s.jsx(jn,{type:"number",value:b||"",onChange:W=>S(W.target.value?parseFloat(W.target.value):null),placeholder:"0.00",step:"0.25",className:"bg-gray-800 border-gray-700 text-gray-100"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:["Progress: ",k,"%"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ae,{variant:"outline",onClick:()=>B(!$),className:"w-full bg-gray-800 border-gray-700 text-gray-100 hover:bg-gray-700",children:"Update Progress"}),$&&s.jsx("div",{className:"absolute top-full left-0 mt-2 z-20",children:s.jsx(xee,{progress:k,onChange:q,onClose:()=>B(!1),onTimeTrack:W=>w(W),hoursWorked:j})})]}),s.jsx("div",{className:"mt-2 h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full transition-all duration-300 rounded-full bg-green-500",style:{width:`${k}%`}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-200 block mb-2",children:"Description / Notes"}),s.jsx(Cf,{value:l,onChange:W=>u(W.target.value),rows:6,placeholder:"Add notes, thoughts, or details...",className:"bg-gray-800 border-gray-700 text-gray-100 resize-none"})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4 space-y-2",children:[s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsx("span",{className:"font-semibold",children:"Created:"})," ",e.created_at?Ne(new Date(e.created_at),"MMM d, yyyy  h:mm a"):"Unknown"]}),e.completed_at&&s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsx("span",{className:"font-semibold",children:"Completed:"})," ",Ne(new Date(e.completed_at),"MMM d, yyyy  h:mm a")]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-700 pt-4",children:[s.jsx(Ae,{variant:"outline",onClick:r,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),s.jsx(Ae,{onClick:Z,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Save Changes"})]}),z&&s.jsx(Jj,{scheduledDate:M,scheduledTime:null,onSchedule:U,onClose:()=>Y(!1)})]})})},Ite=({progress:e,size:t="md",showLabel:r=!1,className:n=""})=>{const a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},i=t==="sm"?16:t==="md"?20:24;return e===0?s.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[s.jsx(mg,{className:`${a[t]} text-gray-500`}),r&&s.jsx("span",{className:"text-xs text-gray-500",children:"0%"})]}):e===100?s.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[s.jsx("div",{className:`${a[t]} rounded-full bg-green-500 flex items-center justify-center`,children:s.jsx(Sp,{className:"text-white",size:i-4,strokeWidth:3})}),r&&s.jsx("span",{className:"text-xs text-green-500 font-medium",children:"100%"})]}):s.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[s.jsx("div",{className:`${a[t]} relative`,children:s.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-gray-700"}),s.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${e} ${100-e}`,strokeLinecap:"round",className:`${e<33?"text-red-500":e<67?"text-yellow-500":"text-green-500"} transition-all duration-300`})]})}),r&&s.jsxs("span",{className:`text-xs font-medium ${e<33?"text-red-400":e<67?"text-yellow-400":"text-green-400"}`,children:[e,"%"]})]})},Lte=({tasks:e,phaseName:t,isOpen:r,onClose:n})=>{if(!r)return null;const a=[...e].sort((i,l)=>{const u=i.progress_percentage??0,d=l.progress_percentage??0;return u===100&&d!==100?1:u!==100&&d===100?-1:u-d});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:n}),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl border border-gray-700 max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-700",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:t}),s.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[e.length," ",e.length===1?"task":"tasks"]})]}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-200 transition-colors",children:s.jsx(qt,{size:24})})]}),s.jsx("div",{className:"overflow-y-auto flex-1 px-6 py-4",children:e.length===0?s.jsx("div",{className:"text-center py-12 text-gray-400",children:s.jsx("p",{children:"No tasks in this phase"})}):s.jsx("div",{className:"space-y-3",children:a.map(i=>{let l=!1;if(i.due_date&&(i.progress_percentage??0)<100){const u=it(i.due_date);if(u){const d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0),f=new Date;f.setHours(0,0,0,0),l=d.getTime()<f.getTime()}}return s.jsx("div",{className:`bg-gray-800 rounded-lg p-4 border ${l?"border-red-500/50":"border-gray-700"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"pt-1",children:s.jsx(Ite,{progress:i.progress_percentage??0,size:"md"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-medium ${(i.progress_percentage??0)===100?"line-through text-gray-500":"text-gray-100"}`,children:i.task_name}),i.description&&s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i.description})]}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:`text-sm font-semibold ${(i.progress_percentage??0)<33?"text-red-400":(i.progress_percentage??0)<67?"text-yellow-400":"text-green-400"}`,children:[i.progress_percentage??0,"%"]})})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-400",children:[s.jsx("span",{className:`px-2 py-1 rounded ${i.status==="Done"?"bg-green-600/20 text-green-400":i.status==="In progress"?"bg-yellow-600/20 text-yellow-400":"bg-gray-700 text-gray-400"}`,children:i.status}),i.due_date&&(()=>{const u=it(i.due_date);return u?s.jsxs("span",{className:l?"text-red-400 font-medium":"",children:["Due: ",Ne(u,"MMM d, yyyy"),l&&" (Overdue)"]}):null})(),i.area&&s.jsx("span",{className:"text-gray-500",children:i.area})]})]})]})},i.id)})})}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-700 flex justify-end",children:s.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-100 rounded-lg transition-colors",children:"Close"})})]})})]})},HE=({phase:e,projectId:t,businessId:r})=>{const[n,a]=y.useState(!0),[i,l]=y.useState(!1),[u,d]=y.useState(null),[f,m]=y.useState(null),[g,x]=y.useState(null),[v,j]=y.useState(""),[w,b]=y.useState(!1),[S,k]=y.useState(""),[C,E]=y.useState(!1),{data:O}=Fl(),D=Ul(),T=D4(),M=yee(),I=O?.filter(U=>e.id==="no-phase"?U.project_id===t&&!U.phase_id:U.phase_id===e.id&&U.project_id===t)||[],{progress:$,completedCount:B,totalCount:z}=Dte(I),Y=async(U,W)=>{try{await D.mutateAsync({id:U,updates:{progress_percentage:W===100?0:100,status:W===100?"Not started":"Done"}})}catch(L){console.error("Failed to update task:",L)}},ne=async(U,W)=>{try{let L=null;if(W){const ee=it(W);ee&&(L=ee.toISOString())}await D.mutateAsync({id:U,updates:{due_date:L}})}catch(L){console.error("Failed to update due date:",L)}},V=async(U,W)=>{try{const L=W==="Done"?100:W==="In progress"?50:0;await D.mutateAsync({id:U,updates:{status:W,progress_percentage:L}})}catch(L){console.error("Failed to update status:",L)}},F=async(U,W,L)=>{try{await D.mutateAsync({id:U,updates:{[W]:L}}),x(null),j("")}catch(ee){console.error("Failed to update task:",ee)}},Z=async U=>{if(window.confirm("Are you sure you want to delete this task?"))try{await T.mutateAsync(U)}catch(W){console.error("Failed to delete task:",W)}},q=async U=>{if(e.id==="no-phase"){b(!1);return}try{await M.mutateAsync({id:e.id,updates:{name:U}}),b(!1),k("")}catch(W){console.error("Failed to update phase name:",W),b(!1)}};return s.jsxs("div",{className:"border-t border-gray-700/50",children:[s.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-gray-800/30 transition-colors flex items-center justify-between",onClick:()=>a(!n),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ae,{variant:"ghost",size:"sm",className:"w-5 h-5 p-0",children:n?s.jsx(Oo,{className:"w-4 h-4 text-gray-400"}):s.jsx(Fs,{className:"w-4 h-4 text-gray-400"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[w&&e.id!=="no-phase"?s.jsx("input",{type:"text",value:S,onChange:U=>k(U.target.value),onBlur:()=>q(S),onKeyDown:U=>{U.key==="Enter"?q(S):U.key==="Escape"&&(b(!1),k(""))},className:"text-base font-semibold bg-gray-800 text-gray-100 px-2 py-0.5 rounded border border-blue-500 focus:outline-none",autoFocus:!0,onClick:U=>U.stopPropagation()}):s.jsx("span",{className:`text-base font-semibold text-gray-100 ${e.id!=="no-phase"?"cursor-pointer hover:text-blue-400":""}`,onClick:U=>{e.id!=="no-phase"&&(U.stopPropagation(),b(!0),k(e.name))},children:e.id==="no-phase"?e.name:`Phase ${e.sequence_order}: ${e.name}`}),$===100&&s.jsx(ur,{className:"bg-green-600 text-white text-xs px-2 py-0.5",children:"Completed"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right cursor-pointer hover:text-blue-400 transition-colors",onClick:U=>{U.stopPropagation(),E(!0)},title:"Click to view task details",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Progress: "}),s.jsxs("span",{className:"text-sm font-bold text-gray-100",children:[$.toFixed(0),"%"]}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",B,"/",z,")"]})]}),z>0&&s.jsx(Ae,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-gray-100",onClick:U=>{U.stopPropagation()},children:s.jsx(Qa,{className:"w-4 h-4"})})]})]}),n&&s.jsx("div",{className:"bg-gray-900/20 px-4 pb-4",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-xs text-gray-400 border-b border-gray-700/50",children:[s.jsx("th",{className:"text-left font-normal py-2 pl-2 w-12",children:"Done"}),s.jsx("th",{className:"text-left font-normal py-2 w-32",children:"Due Date"}),s.jsx("th",{className:"text-left font-normal py-2 w-32",children:"Status"}),s.jsx("th",{className:"text-left font-normal py-2",children:"Task Name"}),s.jsx("th",{className:"text-left font-normal py-2",children:"Description"}),s.jsx("th",{className:"text-right font-normal py-2 pr-2 w-10"})]})}),s.jsxs("tbody",{children:[I.map(U=>{const W=U.progress_percentage===100;return s.jsxs("tr",{className:"border-b border-gray-700/30 hover:bg-gray-800/20",children:[s.jsx("td",{className:"py-3 pl-2",children:s.jsx("input",{type:"checkbox",checked:W,onChange:()=>Y(U.id,U.progress_percentage??0),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-blue-600 focus:ring-blue-500"})}),s.jsx("td",{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($r,{className:"w-3 h-3 text-gray-500"}),s.jsx("input",{type:"date",value:U.due_date?wr(it(U.due_date)||new Date):"",onChange:L=>ne(U.id,L.target.value),className:"bg-transparent text-sm text-gray-300 border-none focus:outline-none focus:ring-1 focus:ring-blue-500 rounded px-1"})]})}),s.jsx("td",{className:"py-3",children:s.jsxs("select",{value:U.status,onChange:L=>V(U.id,L.target.value),className:`text-sm px-2 py-1 rounded border ${U.status==="Done"?"bg-green-600/20 border-green-600 text-green-400":U.status==="In progress"?"bg-yellow-600/20 border-yellow-600 text-yellow-400":"bg-gray-700/50 border-gray-600 text-gray-400"} focus:outline-none focus:ring-1 focus:ring-blue-500`,children:[s.jsx("option",{value:"Not started",children:"Not started"}),s.jsx("option",{value:"In progress",children:"In progress"}),s.jsx("option",{value:"Done",children:"Completed"})]})}),s.jsx("td",{className:"py-3",children:g?.taskId===U.id&&g.field==="task_name"?s.jsx("input",{type:"text",value:v,onChange:L=>j(L.target.value),onBlur:()=>F(U.id,"task_name",v),onKeyDown:L=>{L.key==="Enter"?F(U.id,"task_name",v):L.key==="Escape"&&(x(null),j(""))},className:"w-full bg-gray-800 text-gray-100 px-2 py-1 rounded border border-blue-500 focus:outline-none",autoFocus:!0}):s.jsx("span",{onClick:()=>{x({taskId:U.id,field:"task_name"}),j(U.task_name)},className:`cursor-pointer hover:text-blue-400 ${W?"line-through text-gray-500":"text-gray-100"}`,children:U.task_name})}),s.jsx("td",{className:"py-3",children:g?.taskId===U.id&&g.field==="description"?s.jsx("input",{type:"text",value:v,onChange:L=>j(L.target.value),onBlur:()=>F(U.id,"description",v),onKeyDown:L=>{L.key==="Enter"?F(U.id,"description",v):L.key==="Escape"&&(x(null),j(""))},className:"w-full bg-gray-800 text-gray-400 px-2 py-1 rounded border border-blue-500 focus:outline-none",autoFocus:!0}):s.jsx("span",{onClick:()=>{x({taskId:U.id,field:"description"}),j(U.description||"")},className:"text-gray-400 text-sm cursor-pointer hover:text-gray-300",children:U.description||"Description..."})}),s.jsx("td",{className:"py-3 pr-2",children:s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>Z(U.id),className:"w-6 h-6 p-0 text-gray-500 hover:text-red-400",children:s.jsx(Qa,{className:"w-3 h-3"})})})]},U.id)}),i?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-4",children:s.jsx(Pte,{businessId:r,projectId:t,phaseId:e.id==="no-phase"?void 0:e.id,phaseName:e.name,onSuccess:()=>l(!1),onCancel:()=>l(!1)})})}):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-3",children:s.jsxs("button",{onClick:()=>l(!0),className:"w-full py-2 border-2 border-dashed border-gray-700 rounded hover:border-gray-600 hover:bg-gray-800/30 transition-colors flex items-center justify-center gap-2 text-gray-400 hover:text-gray-300",children:[s.jsx(Na,{className:"w-4 h-4"}),"Add Task"]})})})]})]})}),u&&s.jsx(Rte,{task:I.find(U=>U.id===u),isOpen:!!u,onClose:()=>d(null),businessId:r}),s.jsx(Lte,{tasks:I,phaseName:e.name,isOpen:C,onClose:()=>E(!1)})]})},$te=({isOpen:e,onClose:t,projectId:r,projectName:n})=>{const[a,i]=y.useState(""),[l,u]=y.useState(""),[d,f]=y.useState("active"),[m,g]=y.useState(1),x=pee(),{data:v}=xu(r);y.useEffect(()=>{if(e&&v){const w=v.length>0?Math.max(...v.map(b=>b.sequence_order)):0;g(w+1)}},[e,v]);const j=async w=>{if(w.preventDefault(),!a.trim()){alert("Phase name is required");return}try{await x.mutateAsync({project_id:r,name:a.trim(),description:l.trim()||void 0,status:d,sequence_order:m}),i(""),u(""),f("active"),g(1),t()}catch(b){console.error("Failed to create phase:",b),alert("Failed to create phase. Please try again.")}};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-md w-full border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Add Phase"}),s.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["to ",n]})]}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:t,className:"w-8 h-8 p-0 hover:bg-gray-700",children:s.jsx(qt,{className:"w-4 h-4"})})]}),s.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phase Name *"}),s.jsx(jn,{type:"text",value:a,onChange:w=>i(w.target.value),placeholder:"e.g., Planning, Development, Testing",className:"bg-gray-900 border-gray-700 text-white",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (optional)"}),s.jsx(Cf,{value:l,onChange:w=>u(w.target.value),placeholder:"Describe this phase...",rows:3,className:"bg-gray-900 border-gray-700 text-white resize-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),s.jsxs(va,{value:d,onValueChange:w=>f(w),children:[s.jsx(Qn,{className:"bg-gray-900 border-gray-700 text-white",children:s.jsx(ba,{})}),s.jsxs(Xn,{children:[s.jsx(ht,{value:"active",children:"Active"}),s.jsx(ht,{value:"paused",children:"Paused"}),s.jsx(ht,{value:"completed",children:"Completed"}),s.jsx(ht,{value:"archived",children:"Archived"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Order"}),s.jsx(jn,{type:"number",value:m,onChange:w=>g(parseInt(w.target.value)||1),min:"1",className:"bg-gray-900 border-gray-700 text-white"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Ae,{type:"button",variant:"outline",onClick:t,className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-700",children:"Cancel"}),s.jsx(Ae,{type:"submit",disabled:x.isPending||!a.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:x.isPending?"Creating...":"Create Phase"})]})]})]})}):null},Bte=e=>e<33?"red":e<67?"yellow":"green",zte=e=>`bg-${Bte(e)}-500`,tf=({progress:e,size:t="md",showLabel:r=!1,onClick:n,className:a=""})=>{const i={sm:"h-1.5",md:"h-2",lg:"h-3"},l=zte(e),u=!!n;return s.jsxs("div",{className:`w-full ${a}`,children:[s.jsx("div",{className:`w-full bg-gray-700 rounded-full overflow-hidden ${i[t]} ${u?"cursor-pointer hover:bg-gray-600 transition-colors":""}`,onClick:n,children:s.jsx("div",{className:`${l} ${i[t]} rounded-full transition-all duration-300 ease-out`,style:{width:`${Math.min(100,Math.max(0,e))}%`}})}),r&&s.jsx("div",{className:"flex items-center justify-between mt-1 text-xs",children:s.jsxs("span",{className:`font-medium ${e<33?"text-red-400":e<67?"text-yellow-400":"text-green-400"}`,children:[e.toFixed(1),"%"]})})]})},Fte=e=>{const t=new Date(Date.now()-2592e6),r=new Date,n=e.filter(d=>(d.progress_percentage??0)!==100||!d.updated_at?!1:new Date(d.updated_at)>t),a=n.length/30,i=e.filter(d=>(d.progress_percentage??0)<100).length;let l=null,u=null;return a>0&&i>0&&(l=Math.ceil(i/a),u=new Date(r.getTime()+l*24*60*60*1e3)),{velocity:a,completedLast30Days:n.length,estimatedDaysRemaining:l,estimatedCompletionDate:u}},Ute=e=>{if(!e||e.length===0)return{isStalled:!0,daysSinceActivity:1/0,lastActivityDate:null,message:"No tasks in project"};const t=e.reduce((a,i)=>{const l=i.updated_at?new Date(i.updated_at):i.created_at?new Date(i.created_at):null;return l&&(!a||l>a)?l:a},null);if(!t)return{isStalled:!0,daysSinceActivity:1/0,lastActivityDate:null,message:"No activity recorded"};const r=nW(new Date,t),n=r>7;return{isStalled:n,daysSinceActivity:r,lastActivityDate:t,message:n?`Last activity ${r} days ago`:"Active"}},qte=({project:e,businessId:t,businessColor:r})=>{const[n,a]=y.useState(!1),{data:i,isLoading:l}=xu(e.id),{data:u}=Fl(),d=u?.filter(v=>v.project_id===e.id)||[],f=d.filter(v=>!v.phase_id),{progress:m,totalPhases:g,isStalled:x}=Ate(i||[],d);return Fte(d),Ute(d),s.jsxs("div",{className:"rounded-lg overflow-hidden border",style:{backgroundColor:r?`${r}15`:"rgb(17 24 39 / 0.5)",borderColor:r?`${r}40`:"rgb(55 65 81)"},children:[s.jsx("div",{children:l?s.jsx("div",{className:"px-4 py-8 text-gray-400 text-sm text-center",children:"Loading phases..."}):s.jsxs("div",{children:[i&&i.length>0&&i.map(v=>s.jsx(HE,{phase:v,projectId:e.id,businessId:t||e.business_id},v.id)),f.length>0&&s.jsx(HE,{phase:{id:"no-phase",project_id:e.id,name:"No Phase Identified",description:null,status:"active",sequence_order:9999,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),user_id:""},projectId:e.id,businessId:t||e.business_id},"no-phase"),(!i||i.length===0)&&f.length===0&&s.jsx("div",{className:"px-4 py-8 text-center text-gray-400",children:s.jsx("p",{className:"text-sm",children:"No phases yet. Add a phase to organize tasks."})}),s.jsx("div",{className:"px-4 py-3 border-t border-gray-700/50",children:s.jsxs(Ae,{size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 text-white",onClick:v=>{v.stopPropagation(),a(!0)},children:[s.jsx(Na,{className:"w-4 h-4 mr-1"}),"Add Phase"]})})]})}),s.jsx($te,{isOpen:n,onClose:()=>a(!1),projectId:e.id,projectName:e.name})]})},Hte=({isOpen:e,onClose:t,defaultBusinessId:r})=>{const{data:n}=Gp(),a=hee(),[i,l]=y.useState(""),[u,d]=y.useState(""),[f,m]=y.useState(r||""),[g,x]=y.useState(!1),v=async j=>{if(j.preventDefault(),!i.trim()||!f){alert("Please provide a project name and select an area");return}x(!0);try{await a.mutateAsync({name:i.trim(),description:u.trim()||void 0,business_id:f,status:"active"}),l(""),d(""),m(r||""),t()}catch(w){console.error("Failed to create project:",w),alert("Failed to create project. Please try again.")}finally{x(!1)}};return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative bg-gray-900 border border-gray-700 rounded-lg p-6 w-full max-w-2xl shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Create New Project"}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-gray-200",children:s.jsx(qt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(mi,{htmlFor:"area",className:"text-gray-300 mb-2 block",children:["Area ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"area",value:f,onChange:j=>m(j.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select an area..."}),n?.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})]}),s.jsxs("div",{children:[s.jsxs(mi,{htmlFor:"name",className:"text-gray-300 mb-2 block",children:["Project Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(jn,{id:"name",type:"text",value:i,onChange:j=>l(j.target.value),placeholder:"e.g., Dashboard Redesign",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-500",required:!0,autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx(mi,{htmlFor:"description",className:"text-gray-300 mb-2 block",children:"Description (optional)"}),s.jsx(Cf,{id:"description",value:u,onChange:j=>d(j.target.value),placeholder:"Brief description of the project...",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-500 min-h-[100px]",rows:3})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Ae,{type:"button",variant:"outline",onClick:t,className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-800",disabled:g,children:"Cancel"}),s.jsx(Ae,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",disabled:g||!i.trim()||!f,children:g?"Creating...":"Create Project"})]})]})]})]}):null},Wte=({projectCount:e,overallProgress:t,activeTasks:r,completedTasks:n,hoursInvested:a=0,isStalled:i=!1,daysSinceActivity:l=0})=>s.jsxs("div",{className:"mb-8",children:[i&&s.jsx("div",{className:"mb-4 px-6 py-4 bg-orange-900/30 border border-orange-600 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xa,{className:"text-orange-500",size:24}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-orange-400",children:[" No activity in ",l," days - This business needs attention"]}),s.jsx("p",{className:"text-sm text-orange-300 mt-1",children:"Consider adding new tasks or reviewing project priorities"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:s.jsx(pj,{className:"text-blue-500",size:20})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Projects"})]}),s.jsx("div",{className:"text-3xl font-bold text-gray-100",children:e})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-green-600/20 rounded-lg",children:s.jsx(ea,{className:"text-green-500",size:20})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Completion"})]}),s.jsxs("div",{className:"text-3xl font-bold text-gray-100 mb-3",children:[t.toFixed(1),"%"]}),s.jsx(tf,{progress:t,size:"sm",showLabel:!1})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:s.jsx(xj,{className:"text-purple-500",size:20})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Tasks"})]}),s.jsxs("div",{className:"text-xl font-bold text-gray-100",children:[s.jsx("span",{className:"text-yellow-400",children:r}),s.jsx("span",{className:"text-gray-500 text-base mx-2",children:"/"}),s.jsx("span",{className:"text-green-400",children:n})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Active / Completed"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-orange-600/20 rounded-lg",children:s.jsx(ta,{className:"text-orange-500",size:20})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Hours Invested"})]}),s.jsx("div",{className:"text-3xl font-bold text-gray-100",children:a.toFixed(1)}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Deep Work"})]})]})]}),Yte=({selectedBusinessId:e,selectedProjectId:t,onBack:r})=>{const{data:n}=Gp(),{data:a}=Tf(),{data:i}=Fl(),[l,u]=y.useState(null),d=Ul();y.useEffect(()=>{X.auth.getSession().then(({data:{session:w}})=>{u(w?.user?.id||null)})},[]);const f=y.useMemo(()=>{if(!i)return[];let w=i;return e&&(w=w.filter(b=>b.business_id===e)),t&&(w=w.filter(b=>b.project_id===t)),w.sort((b,S)=>b.due_date?S.due_date?new Date(b.due_date).getTime()-new Date(S.due_date).getTime():-1:1)},[i,e,t]),m=n?.find(w=>w.id===e),g=async(w,b)=>{try{await d.mutateAsync({id:w,updates:{due_date:b}})}catch(S){console.error("Failed to update task due date:",S)}},x=y.useMemo(()=>{const w=new Date;w.setHours(0,0,0,0);const b={overdue:[],today:[],upcoming:[],noDate:[],completed:[]};return f.forEach(S=>{if(S.progress_percentage===100)b.completed.push(S);else if(!S.due_date)b.noDate.push(S);else{const k=it(S.due_date);k?k<w?b.overdue.push(S):k.getTime()===w.getTime()?b.today.push(S):b.upcoming.push(S):b.noDate.push(S)}}),b},[f]),v=({task:w})=>{const b=w.due_date?it(w.due_date):null,S=new Date;S.setHours(0,0,0,0);const k=b&&b<S&&w.progress_percentage!==100;return s.jsx("div",{className:"p-4 rounded-lg border transition-colors hover:shadow-md",style:{backgroundColor:`${m?.color}15`,borderColor:`${m?.color}50`},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-semibold text-gray-100 text-base mb-2",children:w.task_name||"Untitled Task"}),w.description&&s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:w.description}),w.phase_name&&s.jsx(ur,{variant:"outline",className:"text-xs",children:w.phase_name})]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("input",{type:"date",id:`schedule-task-date-${w.id}`,value:w.due_date||"",onChange:C=>{g(w.id,C.target.value)},className:"absolute opacity-0 pointer-events-none"}),s.jsxs("button",{onClick:()=>{const C=document.getElementById(`schedule-task-date-${w.id}`);C&&C.showPicker()},className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm font-semibold whitespace-nowrap transition-colors ${k?"bg-red-600 text-white hover:bg-red-700":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:[s.jsx($r,{className:"w-4 h-4"}),s.jsx("span",{children:b?b.toLocaleDateString("en-US",{month:"short",day:"numeric",year:b.getFullYear()!==new Date().getFullYear()?"numeric":void 0}):"Set date"})]})]})]})})},j=({title:w,tasks:b,color:S})=>b.length===0?null:s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:w}),s.jsx(ur,{className:"bg-gray-700 text-gray-200",children:b.length})]}),s.jsx("div",{className:"space-y-3",children:b.map(k=>s.jsx(v,{task:k},k.id))})]});return s.jsxs("div",{className:"p-6 space-y-6 bg-gray-950 min-h-screen",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ae,{variant:"ghost",size:"sm",onClick:r,className:"text-gray-400 hover:text-gray-100 hover:bg-gray-800",children:[s.jsx(i9,{className:"w-5 h-5 mr-2"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Project Scheduling"}),t?s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:a?.find(w=>w.id===t)?.name||"Selected Project"}):s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:m?.name||"All Projects"})]})]})}),f.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400",children:"No tasks to schedule"})}):s.jsxs("div",{children:[x.overdue.length>0&&s.jsx(j,{title:"Overdue",tasks:x.overdue,color:"red"}),x.today.length>0&&s.jsx(j,{title:"Due Today",tasks:x.today,color:"yellow"}),x.upcoming.length>0&&s.jsx(j,{title:"Upcoming",tasks:x.upcoming}),x.noDate.length>0&&s.jsx(j,{title:"No Due Date",tasks:x.noDate}),x.completed.length>0&&s.jsx(j,{title:"Completed",tasks:x.completed})]})]})},Kte=({preselectedBusinessArea:e,onNavigateToScheduling:t})=>{const{data:r,isLoading:n}=Gp(),[a,i]=y.useState(null),[l,u]=y.useState(null),[d,f]=y.useState(null),[m,g]=y.useState(!1),[x,v]=y.useState(null),[j,w]=y.useState(null),[b,S]=y.useState(""),[k,C]=y.useState(null),[E,O]=y.useState(""),[D,T]=y.useState(null),M=gee(),I=mee();Ul(),y.useEffect(()=>{X.auth.getSession().then(({data:{session:U}})=>{f(U?.user?.id||null)})},[]),e3(d);const{data:$}=Tf(),{data:B}=xu(),{data:z}=Fl();y.useEffect(()=>{if(e&&r){const U=r.find(W=>W.name===e);U&&(i(U.id),u(null))}else e===null&&(i(null),u(null))},[e,r]);const Y=U=>{x===U?M.mutate(U,{onSuccess:()=>{v(null)},onError:W=>{console.error("Failed to delete project:",W),alert("Failed to delete project. Please try again."),v(null)}}):(v(U),setTimeout(()=>v(null),3e3))},ne=async(U,W)=>{try{await I.mutateAsync({id:U,updates:{description:W}}),w(null),S("")}catch(L){console.error("Failed to update project description:",L)}},V=y.useMemo(()=>{if(!$)return[];let U=$;return a&&(U=U.filter(W=>W.business_id===a)),l&&(U=U.filter(W=>W.id===l)),U},[$,a,l]),F=y.useMemo(()=>z?a?z.filter(U=>U.business_id===a):z:[],[z,a]),Z=y.useMemo(()=>!B||!a?[]:B.filter(U=>V.some(W=>W.id===U.project_id)),[B,a,V]),q=Ote(a?V:[],a?Z:[],a?F:[]);return n?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-gray-400",children:"Loading businesses..."})}):!r||r.length===0?s.jsx("div",{className:"p-6",children:s.jsx(bn,{className:"bg-gray-800/60 border-gray-700",children:s.jsx(_o,{className:"py-12",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("p",{className:"text-lg mb-2",children:"No businesses yet"}),s.jsx("p",{className:"text-sm",children:"Create your first business to get started"})]})})})}):s.jsxs("div",{className:"p-6 space-y-6 bg-gray-950 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Projects"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ae,{size:"sm",className:"bg-gray-700 hover:bg-gray-600 text-white",onClick:()=>t?.(a,l),children:[s.jsx($r,{className:"w-4 h-4 mr-1"}),"Schedule"]}),s.jsxs(Ae,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>g(!0),children:[s.jsx(Na,{className:"w-4 h-4 mr-1"}),"Add Project"]})]})]}),a&&$&&(()=>{const W=r?.find(L=>L.id===a)?.color||"#a855f7";return s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(Ae,{variant:"outline",className:"h-12 px-6 text-base font-semibold transition-all border-2",style:{backgroundColor:l===null?W:`${W}20`,borderColor:l===null?W:`${W}60`,color:l===null?"white":W,boxShadow:l===null?`0 4px 14px -2px ${W}40`:void 0},onClick:()=>u(null),children:"All Projects"}),$.filter(L=>L.business_id===a).map(L=>{const ee=l===L.id;return s.jsx(Ae,{variant:"outline",className:"h-12 px-6 text-base font-semibold transition-all border-2",style:{backgroundColor:ee?W:`${W}20`,borderColor:ee?W:`${W}60`,color:ee?"white":W,boxShadow:ee?`0 4px 14px -2px ${W}40`:void 0},onClick:()=>u(L.id),children:L.name},L.id)})]})})(),a&&q.totalProjects>0&&(()=>{const U=F.reduce((W,L)=>W+(L.hours_worked||0),0);return s.jsx(Wte,{projectCount:q.totalProjects,overallProgress:q.overallCompletion,activeTasks:q.activeTasks,completedTasks:q.completedTasks,hoursInvested:U,isStalled:q.isStalled,daysSinceActivity:q.daysSinceActivity})})(),s.jsx("div",{children:s.jsx("div",{children:V.length===0?s.jsx(bn,{className:"bg-gray-900/50 border-gray-800",children:s.jsx(_o,{className:"py-12",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("p",{className:"text-lg mb-2",children:"No projects yet"}),s.jsx("p",{className:"text-sm",children:"Create your first project to get started"})]})})}):s.jsx("div",{className:"space-y-6",children:V.map(U=>{const W=r.find(ge=>ge.id===U.business_id),L=B?.filter(ge=>ge.project_id===U.id)||[],ee=F.filter(ge=>ge.project_id===U.id),J=ee.filter(ge=>ge.progress_percentage===100).length,Q=ee.length;let fe=0;if(L.length>0){const ge=L.map(re=>{const ke=ee.filter(se=>se.phase_id===re.id);return ke.length===0?0:ke.reduce((se,pe)=>se+(pe.progress_percentage??0),0)/ke.length});fe=ge.reduce((re,ke)=>re+ke,0)/ge.length}else Q>0&&(fe=ee.reduce((ge,re)=>ge+(re.progress_percentage??0),0)/Q);return s.jsxs(bn,{className:"bg-gray-900/60 border-gray-800 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"p-5",style:{backgroundColor:`${W?.color}30`},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-100",children:U.name}),s.jsx("div",{className:"flex-1",children:j===U.id?s.jsx("input",{type:"text",value:b,onChange:ge=>S(ge.target.value),onBlur:()=>ne(U.id,b),onKeyDown:ge=>{ge.key==="Enter"?ne(U.id,b):ge.key==="Escape"&&(w(null),S(""))},className:"w-full px-2 py-1 rounded focus:outline-none text-sm bg-white/10 text-gray-200 border border-white/30",placeholder:"Add project description...",autoFocus:!0}):s.jsx("p",{onClick:()=>{w(U.id),S(U.description||"")},className:"text-sm cursor-pointer px-2 py-1 text-gray-300 italic",children:U.description||"+"})})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-gray-400 text-xs",children:"Phases"}),s.jsx("span",{className:"font-semibold text-gray-100",children:L.length})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-gray-400 text-xs",children:"Tasks"}),s.jsxs("span",{className:"font-semibold text-gray-100",children:[J," / ",Q]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Progress:"}),s.jsxs(ur,{className:`px-3 py-1 font-bold ${fe===100?"bg-green-600 text-white":"bg-gray-700 text-gray-200"}`,children:[fe.toFixed(0),"%"]})]}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:ge=>{ge.stopPropagation(),Y(U.id)},className:`h-8 w-8 p-0 transition-colors ${x===U.id?"bg-red-600 hover:bg-red-700 text-white":"text-gray-400 hover:text-red-400"}`,title:x===U.id?"Click again to confirm deletion":"Delete project",children:s.jsx(Qa,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"bg-gray-900/30",children:s.jsx(qte,{project:U,businessId:U.business_id,businessColor:W?.color})})]},U.id)})})})}),s.jsx(Hte,{isOpen:m,onClose:()=>g(!1),defaultBusinessId:a||void 0})]})},Vte=e=>Be({queryKey:["finance","accounts-with-balances",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const r=e||new Date().toISOString().split("T")[0],{data:n,error:a}=await X.from("accounts").select("*").eq("user_id",t.id).eq("is_active",!0).order("display_order",{ascending:!0});if(a)throw a;return await Promise.all(n.map(async l=>{const{data:u}=await X.from("balance_snapshots").select("balance").eq("account_id",l.id).lte("snapshot_date",r).order("snapshot_date",{ascending:!1}).limit(1);return{...l,current_balance:u?.[0]?.balance||0}}))}}),Gte=e=>Be({queryKey:["finance","net-worth-summary",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const r=e||new Date().toISOString().split("T")[0],{data:n,error:a}=await X.rpc("get_net_worth_summary",{p_user_id:t.id,p_date:r});if(a)throw a;return n[0]}}),Qte=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const n=t.map(l=>({...l,user_id:r.id})),{data:a,error:i}=await X.from("balance_snapshots").upsert(n,{onConflict:"account_id,snapshot_date"}).select();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["finance"]})}})},WE=(e=30)=>Be({queryKey:["finance","net-worth-log",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.from("net_worth_log").select("*").eq("user_id",t.id).order("snapshot_date",{ascending:!1}).limit(e);if(n)throw n;return r}}),Xte=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.from("net_worth_log").upsert({...t,user_id:r.id},{onConflict:"user_id,snapshot_date"}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["finance","net-worth-log"]})}})},Zte=()=>{const[e,t]=y.useState(wr(Fc())),[r,n]=y.useState({}),[a,i]=y.useState({}),[l,u]=y.useState(null),[d,f]=y.useState(!1),[m,g]=y.useState(new Set),[x,v]=y.useState([]);y.useEffect(()=>{const K=document.createElement("style");return K.textContent=`
      input[type=number]::-webkit-inner-spin-button,
      input[type=number]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      input[type=number] {
        -moz-appearance: textfield;
      }
    `,document.head.appendChild(K),()=>{document.head.removeChild(K)}},[]);const{data:j,isLoading:w}=Vte(e),{data:b,isLoading:S}=Gte(e),{data:k,isLoading:C}=WE(30),{data:E}=WE(365),O=Qte(),D=Xte();y.useEffect(()=>{if(j){const K={},ae={};j.forEach(ve=>{K[ve.id]=ve.current_balance||0,ae[ve.id]=M(ve.current_balance||0)}),n(K),i(ae),g(new Set);const oe=j.filter(ve=>ve.subcategory==="credit_card").sort((ve,Te)=>(K[Te.id]||0)-(K[ve.id]||0)).map(ve=>ve.id);v(oe)}},[j]);const T=K=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(K)),M=K=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(K)),I=(K,ae)=>{const P=k&&k.length>0?k[0]:null,oe=k&&k.length>0?k[k.length-1]:null,ve=E&&E.length>0?E[E.length-1]:null;let Te=0,tt=0,jt=0;if(ae==="netWorth")Te=P?.net_worth||0,tt=oe?.net_worth||0,jt=ve?.net_worth||0;else if(ae==="cash")Te=P?.cash_accounts?.reduce((er,Ye)=>er+(Ye.balance||0),0)||0,tt=oe?.cash_accounts?.reduce((er,Ye)=>er+(Ye.balance||0),0)||0,jt=ve?.cash_accounts?.reduce((er,Ye)=>er+(Ye.balance||0),0)||0;else if(ae==="creditDebt"){const er=P?.credit_card_accounts?.reduce((Se,ct)=>Se+(ct.balance||0),0)||0,Ye=P?.loan_accounts?.filter(Se=>Se.name.includes("Personal")).reduce((Se,ct)=>Se+(ct.balance||0),0)||0;Te=er+Ye;const St=oe?.credit_card_accounts?.reduce((Se,ct)=>Se+(ct.balance||0),0)||0,je=oe?.loan_accounts?.filter(Se=>Se.name.includes("Personal")).reduce((Se,ct)=>Se+(ct.balance||0),0)||0;tt=St+je;const Oe=ve?.credit_card_accounts?.reduce((Se,ct)=>Se+(ct.balance||0),0)||0,nt=ve?.loan_accounts?.filter(Se=>Se.name.includes("Personal")).reduce((Se,ct)=>Se+(ct.balance||0),0)||0;jt=Oe+nt}else if(ae==="totalDebt"){const er=P?.credit_card_accounts?.reduce((ut,ot)=>ut+(ot.balance||0),0)||0,Ye=P?.loan_accounts?.reduce((ut,ot)=>ut+(ot.balance||0),0)||0,St=P?.tax_accounts?.reduce((ut,ot)=>ut+(ot.balance||0),0)||0;Te=er+Ye+St;const je=oe?.credit_card_accounts?.reduce((ut,ot)=>ut+(ot.balance||0),0)||0,Oe=oe?.loan_accounts?.reduce((ut,ot)=>ut+(ot.balance||0),0)||0,nt=oe?.tax_accounts?.reduce((ut,ot)=>ut+(ot.balance||0),0)||0;tt=je+Oe+nt;const Se=ve?.credit_card_accounts?.reduce((ut,ot)=>ut+(ot.balance||0),0)||0,ct=ve?.loan_accounts?.reduce((ut,ot)=>ut+(ot.balance||0),0)||0,ar=ve?.tax_accounts?.reduce((ut,ot)=>ut+(ot.balance||0),0)||0;jt=Se+ct+ar}const Et=K-Te,lr=K-tt,Yt=K-jt,_t=Te!==0?Et/Math.abs(Te)*100:0,Je=tt!==0?lr/Math.abs(tt)*100:0,xt=jt!==0?Yt/Math.abs(jt)*100:0;return{changeLast:Et,percentLast:_t,change30Days:lr,percent30Days:Je,change1Year:Yt,percent1Year:xt}},$=(K,ae)=>{i(ve=>({...ve,[K]:ae}));const P=ae.replace(/,/g,""),oe=parseFloat(P)||0;n(ve=>({...ve,[K]:oe})),g(ve=>new Set(ve).add(K))},B=K=>{u(K),i(ae=>({...ae,[K]:""}))},z=K=>{u(null);const ae=r[K]||0;i(oe=>({...oe,[K]:M(ae)}));const P=Z.sort((oe,ve)=>(r[ve.id]||0)-(r[oe.id]||0)).map(oe=>oe.id);v(P)},Y=K=>l===K?a[K]||"":M(r[K]||0),ne=async()=>{f(!0);try{if(!e){alert("Invalid date selected"),f(!1);return}const K=Object.entries(r).map(([ae,P])=>({account_id:ae,balance:P,snapshot_date:e}));if(await O.mutateAsync(K),j&&b){const ae=j.filter(je=>je.subcategory==="cash"),P=j.filter(je=>je.subcategory==="investment"||je.subcategory==="physical_asset"),oe=j.filter(je=>je.subcategory==="credit_card"),ve=j.filter(je=>je.subcategory==="personal_loan"||je.subcategory==="auto_loan"),Te=j.filter(je=>je.subcategory==="tax"),tt=ae.map(je=>({name:je.account_name,balance:r[je.id]||0})),jt=P.map(je=>({name:je.account_name,balance:r[je.id]||0})),Et=oe.map(je=>({name:je.account_name,balance:r[je.id]||0,limit:je.credit_limit,available:je.credit_limit-(r[je.id]||0)})),lr=ve.map(je=>({name:je.account_name,balance:r[je.id]||0})),Yt=Te.map(je=>({name:je.account_name,balance:r[je.id]||0})),_t=tt.reduce((je,Oe)=>je+Oe.balance,0),Je=jt.reduce((je,Oe)=>je+Oe.balance,0),xt=Et.reduce((je,Oe)=>je+Oe.balance,0),er=Et.reduce((je,Oe)=>je+(Oe.available||0),0),Ye=lr.reduce((je,Oe)=>je+Oe.balance,0),St=Yt.reduce((je,Oe)=>je+Oe.balance,0);await D.mutateAsync({snapshot_date:e,net_worth:b.net_worth,cash_total:_t,investments_total:Je,credit_cards_owed:xt,credit_cards_available:er,loans_total:Ye,taxes_owed:St,cash_accounts:tt,investment_accounts:jt,credit_card_accounts:Et,loan_accounts:lr,tax_accounts:Yt})}alert("Balances saved successfully!")}catch(K){console.error("Error saving balances:",K),alert("Error saving balances. Please try again.")}finally{f(!1)}};if(w||S)return s.jsx("div",{className:"text-white p-8",children:"Loading..."});const V=j?.filter(K=>K.subcategory==="cash")||[],F=j?.filter(K=>K.subcategory==="investment"||K.subcategory==="physical_asset")||[],Z=j?.filter(K=>K.subcategory==="credit_card")||[],q=j?.filter(K=>K.subcategory==="personal_loan")||[],U=j?.filter(K=>K.subcategory==="auto_loan")||[],W=j?.filter(K=>K.subcategory==="tax")||[],L=[...q,...U,...W],ee=V.reduce((K,ae)=>K+(r[ae.id]||0),0),J=F.reduce((K,ae)=>K+(r[ae.id]||0),0),Q=Z.reduce((K,ae)=>K+(r[ae.id]||0),0),fe=Z.reduce((K,ae)=>K+(ae.credit_limit||0),0),ge=fe>0?Q/fe*100:0,re=q.reduce((K,ae)=>K+(r[ae.id]||0),0),ke=q.reduce((K,ae)=>K+(ae.credit_limit||0),0),se=ke>0?re/ke*100:0,pe=U.reduce((K,ae)=>K+(r[ae.id]||0),0),Ce=U.reduce((K,ae)=>K+(ae.credit_limit||0),0),de=W.reduce((K,ae)=>K+(r[ae.id]||0),0),Qe=W.reduce((K,ae)=>K+(ae.credit_limit||0),0),Ee=Qe>0?de/Qe*100:0,Ue=re+pe,et=ke+Ce,Wt=et>0?Ue/et*100:0,Xr=L.reduce((K,ae)=>K+(r[ae.id]||0),0),_r=L.reduce((K,ae)=>K+(ae.credit_limit||0),0),Jt=Q+Xr,zr=fe+_r,yr=zr>0?Jt/zr*100:0;return s.jsx("div",{className:"h-full overflow-y-auto p-4 pr-6 space-y-4",style:{minWidth:0},children:s.jsxs("div",{className:"w-full max-w-5xl mx-auto",style:{minWidth:0},children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Net Worth"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($r,{className:"w-5 h-5 text-yellow-500"}),s.jsx("input",{type:"date",value:e,onChange:K=>t(K.target.value),className:"px-4 py-2 bg-gray-800 text-white border border-gray-700 rounded-lg"}),s.jsxs("button",{onClick:ne,disabled:d,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-semibold flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Cp,{className:"w-4 h-4"}),d?"Saving...":"Save Balances"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-3 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-emerald-700 rounded-xl p-4 text-white min-w-0 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(FT,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("p",{className:"text-xs opacity-90",children:"Net Worth"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-3xl xl:text-4xl font-bold",children:T(b?.net_worth||0)}),(()=>{const K=I(b?.net_worth||0,"netWorth");return s.jsxs("div",{className:"space-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"1y:"}),s.jsxs("span",{className:`${K.change1Year>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change1Year>=0?"+":"",T(K.change1Year)," (",K.percent1Year>=0?"+":"",K.percent1Year.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"30d:"}),s.jsxs("span",{className:`${K.change30Days>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change30Days>=0?"+":"",T(K.change30Days)," (",K.percent30Days>=0?"+":"",K.percent30Days.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"last:"}),s.jsxs("span",{className:`${K.changeLast>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.changeLast>=0?"+":"",T(K.changeLast)," (",K.percentLast>=0?"+":"",K.percentLast.toFixed(0),"%)"]})]})]})})()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-4 text-white min-w-0 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(vj,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("p",{className:"text-xs opacity-90",children:"Cash on Hand"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-3xl xl:text-4xl font-bold",children:T(ee||0)}),(()=>{const K=I(ee,"cash");return s.jsxs("div",{className:"space-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"1y:"}),s.jsxs("span",{className:`${K.change1Year>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change1Year>=0?"+":"",T(K.change1Year)," (",K.percent1Year>=0?"+":"",K.percent1Year.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"30d:"}),s.jsxs("span",{className:`${K.change30Days>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change30Days>=0?"+":"",T(K.change30Days)," (",K.percent30Days>=0?"+":"",K.percent30Days.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"last:"}),s.jsxs("span",{className:`${K.changeLast>=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.changeLast>=0?"+":"",T(K.changeLast)," (",K.percentLast>=0?"+":"",K.percentLast.toFixed(0),"%)"]})]})]})})()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-pink-600 to-pink-700 rounded-xl p-4 text-white min-w-0 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(LT,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("p",{className:"text-xs opacity-90",children:"CC & Personal"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-3xl xl:text-4xl font-bold",children:T(Q+re)}),(()=>{const K=I(Q+re,"creditDebt");return s.jsxs("div",{className:"space-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"1y:"}),s.jsxs("span",{className:`${K.change1Year<=0?"text-green-200":"text-red-200"} flex-1 text-right`,children:[K.change1Year>=0?"+":"",T(K.change1Year)," (",K.percent1Year>=0?"+":"",K.percent1Year.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"30d:"}),s.jsxs("span",{className:`${K.change30Days<=0?"text-green-200":"text-red-200"} flex-1 text-right`,children:[K.change30Days>=0?"+":"",T(K.change30Days)," (",K.percent30Days>=0?"+":"",K.percent30Days.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"last:"}),s.jsxs("span",{className:`${K.changeLast<=0?"text-green-200":"text-red-200"} flex-1 text-right`,children:[K.changeLast>=0?"+":"",T(K.changeLast)," (",K.percentLast>=0?"+":"",K.percentLast.toFixed(0),"%)"]})]})]})})()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl p-4 text-white min-w-0 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ea,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("p",{className:"text-xs opacity-90",children:"Total Debt"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-3xl xl:text-4xl font-bold",children:T(Jt)}),(()=>{const K=I(Jt,"totalDebt");return s.jsxs("div",{className:"space-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"1y:"}),s.jsxs("span",{className:`${K.change1Year<=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change1Year>=0?"+":"",T(K.change1Year)," (",K.percent1Year>=0?"+":"",K.percent1Year.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"30d:"}),s.jsxs("span",{className:`${K.change30Days<=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.change30Days>=0?"+":"",T(K.change30Days)," (",K.percent30Days>=0?"+":"",K.percent30Days.toFixed(0),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-6 text-right font-semibold opacity-80",children:"last:"}),s.jsxs("span",{className:`${K.changeLast<=0?"text-green-300":"text-red-300"} flex-1 text-right`,children:[K.changeLast>=0?"+":"",T(K.changeLast)," (",K.percentLast>=0?"+":"",K.percentLast.toFixed(0),"%)"]})]})]})})()]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 3xl:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-green-500/20 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-green-500/30",children:[s.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-lg",children:s.jsx(FT,{className:"w-6 h-6 text-green-400"})}),s.jsx("h3",{className:"text-lg font-bold text-green-400",children:"Cash & Investments"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"space-y-2.5",children:V.map(K=>{const ae=m.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate flex-1",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-0.5 w-36 justify-end",children:[s.jsx("span",{className:"text-green-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:Y(K.id),onFocus:()=>B(K.id),onBlur:()=>z(K.id),onChange:P=>$(K.id,P.target.value),className:`w-28 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${ae?"text-white":"text-gray-500"}`})]})]},K.id)})}),s.jsx("div",{className:"pt-2 mt-2 border-t border-green-500/30",children:s.jsxs("div",{className:"flex items-center justify-between bg-green-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-lg font-bold text-green-300",children:"Total Cash"}),s.jsx("span",{className:"text-lg font-bold text-green-400 w-28 text-right",children:T(ee)})]})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"space-y-2.5",children:F.map(K=>{const ae=m.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate flex-1",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-0.5 w-36 justify-end",children:[s.jsx("span",{className:"text-blue-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:Y(K.id),onFocus:()=>B(K.id),onBlur:()=>z(K.id),onChange:P=>$(K.id,P.target.value),className:`w-28 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${ae?"text-white":"text-gray-500"}`})]})]},K.id)})}),s.jsx("div",{className:"pt-2 mt-2 border-t border-blue-500/30",children:s.jsxs("div",{className:"flex items-center justify-between bg-blue-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-blue-300",children:"Total Investments"}),s.jsx("span",{className:"text-xl font-bold text-blue-400 w-28 text-right",children:T(J)})]})})]}),s.jsx("div",{className:"pt-2 mt-2 border-t border-green-500/40",children:s.jsxs("div",{className:"flex items-center justify-between bg-green-500/20 p-2 rounded",children:[s.jsx("span",{className:"text-lg font-bold text-green-300",children:"Total Assets"}),s.jsx("span",{className:"text-lg font-bold text-green-400 w-28 text-right",children:T(ee+J)})]})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-orange-500/20 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-orange-500/30",children:[s.jsx("div",{className:"p-1.5 bg-orange-500/10 rounded-lg",children:s.jsx(LT,{className:"w-6 h-6 text-orange-400"})}),s.jsx("h3",{className:"text-xl font-bold text-orange-400",children:"Credit Cards"})]}),s.jsx("div",{className:"space-y-2.5",children:x.length>0?x.map(K=>{const ae=Z.find(tt=>tt.id===K);if(!ae)return null;const P=r[ae.id]||0,oe=ae.credit_limit||0,ve=oe>0?P/oe*100:0,Te=m.has(ae.id);return s.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[s.jsx("label",{className:"text-gray-300 text-lg font-medium truncate",style:{width:"200px"},children:ae.account_name}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("div",{className:"flex items-center gap-0.5 justify-end",style:{width:"125px"},children:[s.jsx("span",{className:"text-orange-400 text-lg font-semibold",children:"$"}),s.jsx("input",{type:"text",value:Y(ae.id),onFocus:()=>B(ae.id),onBlur:()=>z(ae.id),onChange:tt=>$(ae.id,tt.target.value),className:`w-20 px-2 py-1 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-lg font-semibold transition-all focus:outline-none ${Te?"text-white":"text-gray-500"}`})]}),s.jsx("span",{className:"text-gray-400 text-base font-medium text-center",style:{width:"125px"},children:T(oe)}),s.jsxs("span",{className:`text-base font-semibold text-right pr-4 ${ve>70?"text-orange-400":"text-gray-400"}`,style:{width:"50px"},children:[ve.toFixed(0),"%"]})]})]},ae.id)}):Z.map(K=>{const ae=r[K.id]||0,P=K.credit_limit||0,oe=P>0?ae/P*100:0,ve=m.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[s.jsx("label",{className:"text-gray-300 text-lg font-medium truncate",style:{width:"200px"},children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("div",{className:"flex items-center gap-0.5 justify-end",style:{width:"125px"},children:[s.jsx("span",{className:"text-orange-400 text-lg font-semibold",children:"$"}),s.jsx("input",{type:"text",value:Y(K.id),onFocus:()=>B(K.id),onBlur:()=>z(K.id),onChange:Te=>$(K.id,Te.target.value),className:`w-20 px-2 py-1 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-lg font-semibold transition-all focus:outline-none ${ve?"text-white":"text-gray-500"}`})]}),s.jsx("span",{className:"text-gray-400 text-base font-medium text-center",style:{width:"125px"},children:T(P)}),s.jsxs("span",{className:`text-base font-semibold text-right pr-4 ${oe>70?"text-orange-400":"text-gray-400"}`,style:{width:"50px"},children:[oe.toFixed(0),"%"]})]})]},K.id)})}),s.jsx("div",{className:"pt-2 mt-2 border-t border-orange-500/40",children:s.jsxs("div",{className:"flex items-center justify-between bg-orange-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-orange-300 whitespace-nowrap",style:{width:"200px"},children:"Total Credit Cards"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-orange-400 text-right",style:{width:"125px"},children:T(Q)}),s.jsx("span",{className:"text-xl font-bold text-orange-400 text-center",style:{width:"125px"},children:T(fe)}),s.jsxs("span",{className:`text-base font-semibold text-right pr-2 ${ge>70?"text-orange-400":"text-gray-400"}`,style:{width:"50px"},children:[ge.toFixed(0),"%"]})]})]})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-red-500/20 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-red-500/30",children:[s.jsx("div",{className:"p-1.5 bg-red-500/10 rounded-lg",children:s.jsx(q9,{className:"w-6 h-6 text-red-400"})}),s.jsx("h3",{className:"text-xl font-bold text-red-400",children:"Loans & Taxes"})]}),s.jsxs("div",{className:"space-y-3",children:[q.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"space-y-2.5",children:q.map(K=>{const ae=r[K.id]||0,P=K.credit_limit||0,oe=P>0?ae/P*100:0,ve=m.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between px-2",style:{paddingTop:"0.225rem",paddingBottom:"0.225rem"},children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate min-w-[140px]",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"text-red-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:Y(K.id),onFocus:()=>B(K.id),onBlur:()=>z(K.id),onChange:Te=>$(K.id,Te.target.value),className:`w-20 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${ve?"text-white":"text-gray-500"}`}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(P)}),s.jsxs("span",{className:"text-gray-400 text-base font-medium w-12 text-right",children:[oe.toFixed(0),"%"]})]})]},K.id)})}),s.jsx("div",{className:"mt-2 pt-2 border-t border-red-500/30 space-y-1",children:s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Personal Loans"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T(re)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(ke)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[se.toFixed(0),"%"]})]})]})})]}),U.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"space-y-2.5",children:U.map(K=>{const ae=r[K.id]||0,P=K.credit_limit||0,oe=P>0?ae/P*100:0,ve=m.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between px-2",style:{paddingTop:"0.225rem",paddingBottom:"0.225rem"},children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate min-w-[140px]",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"text-red-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:Y(K.id),onFocus:()=>B(K.id),onBlur:()=>z(K.id),onChange:Te=>$(K.id,Te.target.value),className:`w-20 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${ve?"text-white":"text-gray-500"}`}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(P)}),s.jsxs("span",{className:"text-gray-400 text-base font-medium w-12 text-right",children:[oe.toFixed(0),"%"]})]})]},K.id)})}),s.jsx("div",{className:"mt-2 pt-2 border-t border-red-500/30 space-y-1",children:s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Auto Loans"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T(pe)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(Ce)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[(Ce>0?pe/Ce*100:0).toFixed(0),"%"]})]})]})})]}),W.length>0&&s.jsx("div",{children:s.jsx("div",{className:"space-y-2.5",children:W.map(K=>{const ae=r[K.id]||0,P=K.credit_limit||0,oe=P>0?ae/P*100:0,ve=m.has(K.id);return s.jsxs("div",{className:"flex items-center justify-between px-2",style:{paddingTop:"0.225rem",paddingBottom:"0.225rem"},children:[s.jsx("label",{className:"text-gray-300 text-base font-medium truncate min-w-[140px]",children:K.account_name}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"text-red-400 text-base font-semibold",children:"$"}),s.jsx("input",{type:"text",value:Y(K.id),onFocus:()=>B(K.id),onBlur:()=>z(K.id),onChange:Te=>$(K.id,Te.target.value),className:`w-20 px-2 py-2 bg-gray-900 border border-gray-800 focus:border-gray-700 focus:bg-gray-850 rounded text-right text-base font-semibold transition-all focus:outline-none ${ve?"text-white":"text-gray-500"}`}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(P)}),s.jsxs("span",{className:"text-gray-400 text-base font-medium w-12 text-right",children:[oe.toFixed(0),"%"]})]})]},K.id)})})})]}),s.jsxs("div",{className:"pt-2 mt-2 border-t border-red-500/40 space-y-1",children:[W.length>0&&s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Taxes"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T(de)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(Qe)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[Ee.toFixed(0),"%"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Loans"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T(Ue)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(et)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[Wt.toFixed(0),"%"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-xl font-bold text-red-300 min-w-[140px]",children:"Total Debt"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold text-red-400 w-28 text-right",children:T(Jt)}),s.jsx("span",{className:"text-gray-400 text-base font-medium w-20 text-right",children:T(zr)}),s.jsxs("span",{className:"text-gray-400 text-base font-bold w-12 text-right",children:[yr.toFixed(0),"%"]})]})]})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[s.jsx(BT,{className:"text-blue-400",size:28}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Net Worth History"}),s.jsx("span",{className:"text-gray-400 text-sm ml-2",children:"(Last 30 entries)"})]}),C?s.jsx("div",{className:"text-gray-400 p-5 text-center",children:"Loading history..."}):!k||k.length===0?s.jsxs("div",{className:"bg-gray-900 border-2 border-dashed border-gray-700 rounded-xl p-10 text-center text-gray-400",children:[s.jsx(BT,{size:48,className:"mx-auto mb-4 text-gray-600"}),s.jsx("p",{className:"text-base mb-2",children:"No history yet"}),s.jsx("p",{className:"text-sm",children:"Save your balances to start tracking your net worth over time"})]}):s.jsx("div",{className:"bg-gray-900 border-2 border-gray-800 rounded-xl overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-black border-b-2 border-gray-800",children:[s.jsx("th",{className:"px-4 py-4 text-center text-gray-400 text-xs font-semibold uppercase tracking-wide sticky left-0 bg-black z-10",style:{minWidth:"100px"},children:"Date"}),s.jsx("th",{className:"px-3 py-4 text-center text-white text-xs font-semibold uppercase tracking-wide",style:{minWidth:"90px"},children:"Net Worth"}),s.jsx("th",{className:"px-3 py-4 text-center text-white text-xs font-semibold uppercase tracking-wide",style:{minWidth:"80px"},children:"Change"}),s.jsx("th",{className:"px-3 py-4 text-center text-green-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Total Assets"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Total Debt"}),s.jsx("th",{className:"px-3 py-4 text-center text-green-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"80px"},children:"Cash"}),s.jsx("th",{className:"px-3 py-4 text-center text-green-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Investments"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Credit Cards"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Personal Loans"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"90px"},children:"Auto Loans"}),s.jsx("th",{className:"px-3 py-4 text-center text-red-400 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",style:{minWidth:"80px"},children:"Taxes"})]})}),s.jsx("tbody",{children:k.map((K,ae)=>{const P=ae<k.length-1?k[ae+1]:null,oe=P?K.net_worth-P.net_worth:0;P&&P.net_worth!==0&&oe/Math.abs(P.net_worth)*100;const ve=K.cash_total+K.investments_total,Te=K.credit_cards_owed+K.loans_total+K.taxes_owed,tt=K.loan_accounts.filter(Je=>Je.name.toLowerCase().includes("auto")).reduce((Je,xt)=>Je+xt.balance,0),jt=K.loan_accounts.filter(Je=>!Je.name.toLowerCase().includes("auto")).reduce((Je,xt)=>Je+xt.balance,0),Et=P?P.cash_total+P.investments_total:0,lr=P?P.credit_cards_owed+P.loans_total+P.taxes_owed:0,Yt=P?P.loan_accounts.filter(Je=>Je.name.toLowerCase().includes("auto")).reduce((Je,xt)=>Je+xt.balance,0):0,_t=P?P.loan_accounts.filter(Je=>!Je.name.toLowerCase().includes("auto")).reduce((Je,xt)=>Je+xt.balance,0):0;return s.jsxs("tr",{className:`border-b border-gray-800 ${ae===0?"bg-gray-950":""}`,children:[s.jsxs("td",{className:`px-6 py-4 text-center text-white text-sm sticky left-0 ${ae===0?"bg-gray-950 font-semibold":"bg-gray-900"} z-10`,children:[(()=>{const Je=it(K.snapshot_date);return Je?Je.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):K.snapshot_date})(),ae===0&&s.jsx("span",{className:"ml-2 text-xs px-2 py-1 bg-blue-500 text-white rounded font-semibold",children:"LATEST"})]}),s.jsx("td",{className:"px-6 py-4 text-center text-white text-base font-bold whitespace-nowrap",children:T(K.net_worth)}),s.jsx("td",{className:"px-6 py-4 text-center",children:P?s.jsxs("span",{className:`text-sm font-semibold ${oe>=0?"text-green-500":"text-red-500"}`,children:[oe>=0?"+":"",T(oe)]}):s.jsx("span",{className:"text-gray-500 text-xs",children:"-"})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(ve)}),P&&Et!==0&&s.jsxs("span",{className:`text-xs ${ve-Et>=0?"text-green-500":"text-red-500"}`,children:[ve-Et>=0?"+":"",((ve-Et)/Math.abs(Et)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(Te)}),P&&lr!==0&&s.jsxs("span",{className:`text-xs ${Te-lr>=0?"text-red-500":"text-green-500"}`,children:[Te-lr>=0?"+":"",((Te-lr)/Math.abs(lr)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(K.cash_total)}),P&&P.cash_total!==0&&s.jsxs("span",{className:`text-xs ${K.cash_total-P.cash_total>=0?"text-green-500":"text-red-500"}`,children:[K.cash_total-P.cash_total>=0?"+":"",((K.cash_total-P.cash_total)/Math.abs(P.cash_total)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(K.investments_total)}),P&&P.investments_total!==0&&s.jsxs("span",{className:`text-xs ${K.investments_total-P.investments_total>=0?"text-green-500":"text-red-500"}`,children:[K.investments_total-P.investments_total>=0?"+":"",((K.investments_total-P.investments_total)/Math.abs(P.investments_total)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(K.credit_cards_owed)}),P&&P.credit_cards_owed!==0&&s.jsxs("span",{className:`text-xs ${K.credit_cards_owed-P.credit_cards_owed>=0?"text-red-500":"text-green-500"}`,children:[K.credit_cards_owed-P.credit_cards_owed>=0?"+":"",((K.credit_cards_owed-P.credit_cards_owed)/Math.abs(P.credit_cards_owed)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(jt)}),P&&_t!==0&&s.jsxs("span",{className:`text-xs ${jt-_t>=0?"text-red-500":"text-green-500"}`,children:[jt-_t>=0?"+":"",((jt-_t)/Math.abs(_t)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(tt)}),P&&Yt!==0&&s.jsxs("span",{className:`text-xs ${tt-Yt>=0?"text-red-500":"text-green-500"}`,children:[tt-Yt>=0?"+":"",((tt-Yt)/Math.abs(Yt)*100).toFixed(1),"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx("span",{className:"text-white",children:T(K.taxes_owed)}),P&&P.taxes_owed!==0&&s.jsxs("span",{className:`text-xs ${K.taxes_owed-P.taxes_owed>=0?"text-red-500":"text-green-500"}`,children:[K.taxes_owed-P.taxes_owed>=0?"+":"",((K.taxes_owed-P.taxes_owed)/Math.abs(P.taxes_owed)*100).toFixed(1),"%"]})]})})]},K.id)})})]})})})]})]})})},Jte=()=>s.jsx(Zte,{}),Iv=[{name:"Yellow",value:"rgba(234, 179, 8, 0.2)",solid:"#eab308",emoji:""},{name:"Pink",value:"rgba(236, 72, 153, 0.2)",solid:"#ec4899",emoji:""},{name:"Blue",value:"rgba(59, 130, 246, 0.2)",solid:"#3b82f6",emoji:""},{name:"Green",value:"rgba(34, 197, 94, 0.2)",solid:"#22c55e",emoji:""},{name:"Purple",value:"rgba(168, 85, 247, 0.2)",solid:"#a855f7",emoji:""},{name:"Orange",value:"rgba(249, 115, 22, 0.2)",solid:"#f97316",emoji:""}];function ere(){const[e,t]=y.useState([]),[r,n]=y.useState(""),[a,i]=y.useState(null),[l,u]=y.useState(!0),[d,f]=y.useState(null),[m,g]=y.useState(null),x=y.useRef({}),v=y.useRef({});y.useEffect(()=>(j(),()=>{Object.values(x.current).forEach(M=>clearTimeout(M))}),[]),y.useEffect(()=>{e.forEach(M=>{const I=v.current[M.id];if(I&&a!==M.id){const $=I.innerHTML,B=M.content||'<span style="color: #6b7280;">Click to write...</span>';$!==B&&(I.innerHTML=B)}})},[e,a,r]);const j=async()=>{try{const{data:M,error:I}=await X.from("notes").select("*").order("created_at",{ascending:!1});if(I)throw I;t(M||[])}catch(M){console.error("Error fetching notes:",M)}finally{u(!1)}},w=async()=>{try{const{data:{user:M}}=await X.auth.getUser();if(!M)return;const{data:I,error:$}=await X.from("notes").insert([{user_id:M.id,title:"New Note",content:"",color:"rgba(234, 179, 8, 0.2)"}]).select();if($)throw $;I&&(t([I[0],...e]),i(I[0].id))}catch(M){console.error("Error creating note:",M)}},b=y.useCallback((M,I)=>{t($=>$.map(B=>B.id===M?{...B,...I}:B)),x.current[M]&&clearTimeout(x.current[M]),x.current[M]=setTimeout(async()=>{try{const{error:$}=await X.from("notes").update({...I,updated_at:new Date().toISOString()}).eq("id",M);if($)throw $}catch($){console.error("Error saving note:",$)}},500)},[]),S=async(M,I)=>{try{const{error:$}=await X.from("notes").update(I).eq("id",M);if($)throw $;t(e.map(B=>B.id===M?{...B,...I}:B))}catch($){console.error("Error updating note:",$)}},k=async M=>{if(confirm("Delete this note?"))try{const{error:I}=await X.from("notes").delete().eq("id",M);if(I)throw I;t(e.filter($=>$.id!==M))}catch(I){console.error("Error deleting note:",I)}},C=(M,I)=>{const B=I.currentTarget.innerHTML;t(z=>z.map(Y=>Y.id===M?{...Y,content:B}:Y)),x.current[M]&&clearTimeout(x.current[M]),x.current[M]=setTimeout(async()=>{try{const{error:z}=await X.from("notes").update({content:B,updated_at:new Date().toISOString()}).eq("id",M);if(z)throw z}catch(z){console.error("Error saving note:",z)}},500)},E=(M,I)=>{if(I.key==="Enter"){const $=window.getSelection();if(!$||!$.anchorNode)return;let B=$.anchorNode.parentElement;if(!B||B.tagName==="LI"||B.closest("li"))return}},O=(M,I)=>{I.preventDefault();const $=I.clipboardData.getData("text/plain");if(!$)return;const B=window.getSelection();if(!B||!B.rangeCount)return;const z=B.getRangeAt(0);z.deleteContents();const Y=document.createTextNode($);z.insertNode(Y),z.setStartAfter(Y),z.setEndAfter(Y),B.removeAllRanges(),B.addRange(z);const ne=I.currentTarget;C(M,{currentTarget:ne})},D=(M,I)=>{const $=document.querySelector(`[data-note-id="${M}"]`);if(!$)return;if($.focus(),I==="bold")document.execCommand("bold",!1);else if(I==="underline")document.execCommand("underline",!1);else if(I==="strikethrough")document.execCommand("strikeThrough",!1);else if(I==="bullet")document.execCommand("insertUnorderedList",!1);else if(I==="numbered")document.execCommand("insertOrderedList",!1);else if(I==="link"){const z=prompt("Enter URL:");if(z){document.execCommand("createLink",!1,z);const Y=window.getSelection();if(Y&&Y.anchorNode){const ne=Y.anchorNode.parentElement;ne&&ne.tagName==="A"&&(ne.setAttribute("target","_blank"),ne.setAttribute("rel","noopener noreferrer"))}}}const B=$.innerHTML;b(M,{content:B})},T=e.filter(M=>M.title.toLowerCase().includes(r.toLowerCase())||M.content.toLowerCase().includes(r.toLowerCase()));return l?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading notes..."})]})}):s.jsxs("div",{className:"h-full flex flex-col bg-gray-950",children:[s.jsx("div",{className:"flex-none border-b border-gray-800 bg-gray-900/95 backdrop-blur-sm sticky top-0 z-10 shadow-lg",children:s.jsx("div",{className:"max-w-[1800px] mx-auto px-6 py-5",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-xl shadow-purple-500/20",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Notes"}),s.jsx(ur,{variant:"secondary",className:"ml-2 bg-gray-800 text-gray-300 border-gray-700",children:e.length})]}),s.jsxs("div",{className:"flex-1 max-w-md relative",children:[s.jsx(E4,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(jn,{type:"text",placeholder:"Search notes...",value:r,onChange:M=>n(M.target.value),className:"pl-9 bg-gray-900 border-gray-800 text-white placeholder:text-gray-500 focus:border-purple-500/50 focus:ring-purple-500/20"})]}),s.jsxs(Ae,{onClick:w,className:"gap-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-lg shadow-purple-500/20 text-white font-semibold",children:[s.jsx(Na,{className:"h-4 w-4"}),"New Note"]})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"max-w-[1800px] mx-auto p-6",children:T.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-900 flex items-center justify-center mx-auto mb-6 shadow-xl",children:s.jsx("span",{className:"text-5xl opacity-40",children:""})}),s.jsx("p",{className:"text-gray-400 text-xl mb-2",children:r?"No notes found matching your search.":"No notes yet. Create your first note!"}),!r&&s.jsxs(Ae,{onClick:w,variant:"outline",className:"mt-8 gap-2 bg-gray-900 border-gray-800 hover:bg-gray-800 hover:border-purple-500/50 text-gray-300",children:[s.jsx(Na,{className:"h-4 w-4"}),"Create Note"]})]}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-5 animate-in fade-in duration-300",children:T.map(M=>{const I=Iv.find($=>$.value===M.color)||Iv[0];return s.jsxs(bn,{className:"group relative overflow-hidden transition-all duration-200 hover:shadow-2xl hover:-translate-y-1 border-gray-800 backdrop-blur-sm flex flex-col",style:{backgroundColor:I.value,boxShadow:`0 0 20px ${I.solid}20`,height:m===M.id?"600px":"450px"},children:[s.jsx(Gj,{className:"pb-4 pt-6 px-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-3 pb-3 border-b border-gray-800/50",children:[s.jsx(jn,{type:"text",value:M.title,onChange:$=>b(M.id,{title:$.target.value}),onFocus:()=>i(M.id),onBlur:()=>i(null),className:"flex-1 font-bold border-none shadow-none p-0 h-auto focus-visible:ring-0 bg-transparent text-white placeholder:text-gray-600",style:{fontSize:"24px"},placeholder:"Note title..."}),s.jsx(ur,{variant:"outline",className:"text-xs bg-gray-800/50 border-gray-700 text-gray-400 shrink-0",children:new Date(M.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})}),s.jsxs(_o,{className:"px-6 pb-6 flex flex-col flex-1 overflow-hidden",children:[s.jsx("div",{ref:$=>{v.current[M.id]=$,$&&!$.innerHTML&&($.innerHTML=M.content||'<span style="color: #6b7280;">Click to write...</span>')},"data-note-id":M.id,contentEditable:a===M.id,suppressContentEditableWarning:!0,onInput:$=>C(M.id,$),onKeyDown:$=>E(M.id,$),onPaste:$=>O(M.id,$),onClick:$=>{const B=$.target;if(B.tagName==="A"){$.preventDefault();const z=B.href;z&&window.open(z,"_blank","noopener,noreferrer")}else i(M.id),g(M.id)},onBlur:$=>{setTimeout(()=>{$.currentTarget.contains(document.activeElement)||(i(null),g(null))},0)},className:"flex-1 overflow-auto cursor-text p-0 text-white leading-relaxed font-sans focus:outline-none custom-scrollbar",style:{wordBreak:"break-word",fontSize:"18px"}}),s.jsx("style",{children:`
                        /* Custom discrete scrollbar */
                        .custom-scrollbar::-webkit-scrollbar {
                          width: 6px;
                        }
                        .custom-scrollbar::-webkit-scrollbar-track {
                          background: transparent;
                        }
                        .custom-scrollbar::-webkit-scrollbar-thumb {
                          background: rgba(255, 255, 255, 0.1);
                          border-radius: 3px;
                        }
                        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                          background: rgba(255, 255, 255, 0.2);
                        }

                        [data-note-id] {
                          color: #ffffff !important;
                        }
                        [data-note-id] *,
                        [data-note-id] span,
                        [data-note-id] div,
                        [data-note-id] p {
                          color: #ffffff !important;
                        }
                        [data-note-id] b, [data-note-id] strong {
                          font-weight: 700;
                          color: #ffffff !important;
                        }
                        [data-note-id] u {
                          text-decoration: underline;
                          color: #ffffff !important;
                        }
                        [data-note-id] s,
                        [data-note-id] strike,
                        [data-note-id] del {
                          text-decoration: line-through;
                          color: #ffffff !important;
                        }
                        [data-note-id] a {
                          color: #60a5fa !important;
                          text-decoration: underline;
                          cursor: pointer;
                        }
                        [data-note-id] a:hover {
                          color: #93c5fd !important;
                        }
                        [data-note-id] ul, [data-note-id] ol {
                          margin: 0.5rem 0;
                          padding-left: 1.5rem;
                          color: #ffffff !important;
                        }
                        [data-note-id] ul li {
                          list-style-type: disc;
                          margin: 0.25rem 0;
                          color: #ffffff !important;
                        }
                        [data-note-id] ol li {
                          list-style-type: decimal;
                          margin: 0.25rem 0;
                          color: #ffffff !important;
                        }
                        [data-note-id]:empty:before {
                          content: attr(data-placeholder);
                          color: #6b7280;
                          cursor: text;
                        }
                      `}),s.jsxs("div",{className:"flex items-center justify-between gap-2 mt-4 pt-4 border-t border-gray-800/50",onMouseDown:$=>$.preventDefault(),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>D(M.id,"bold"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Bold",children:s.jsx(l9,{className:"h-4 w-4"})}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>D(M.id,"underline"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Underline",children:s.jsx(SH,{className:"h-4 w-4"})}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>D(M.id,"strikethrough"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Strikethrough",children:s.jsx(hH,{className:"h-4 w-4"})}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>D(M.id,"bullet"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Bullet list",children:s.jsx(G9,{className:"h-4 w-4"})}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>D(M.id,"numbered"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Numbered list",children:s.jsx(Y9,{className:"h-4 w-4"})}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>D(M.id,"link"),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Add link",children:s.jsx(k4,{className:"h-4 w-4"})}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>f(d===M.id?null:M.id),className:"h-8 w-8 p-0 hover:bg-gray-800 text-gray-400 hover:text-white",title:"Change color",children:s.jsx(J9,{className:"h-4 w-4"})})]}),s.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>k(M.id),className:"h-8 w-8 p-0 text-red-400 hover:text-red-300 hover:bg-red-950/30",title:"Delete note",children:s.jsx(Qa,{className:"h-4 w-4"})})]}),d===M.id&&s.jsx("div",{className:"flex gap-1.5 pt-3 animate-in fade-in slide-in-from-top-2 duration-200",children:Iv.map($=>s.jsx("button",{onClick:()=>{S(M.id,{color:$.value}),f(null)},className:`w-8 h-8 rounded-full border-2 transition-all hover:scale-110 flex items-center justify-center shadow-lg ${M.color===$.value?"ring-2 ring-offset-2 ring-offset-gray-900 scale-110":""}`,style:{backgroundColor:$.solid,borderColor:M.color===$.value?$.solid:"#374151",boxShadow:`0 0 20px ${$.solid}40`},title:$.name,children:s.jsx("span",{className:"text-sm drop-shadow-lg",children:M.color===$.value?$.emoji:""})},$.value))})]})]},M.id)})})})})]})}var tre=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function r_(e){if(typeof e!="string")return!1;var t=tre;return t.includes(e)}var rre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function P5(e){if(typeof e!="string")return!1;var t=rre;return t.includes(e)}function R5(e){return typeof e=="string"&&e.startsWith("data-")}function ys(e){var t=Object.entries(e).filter(r=>{var[n]=r;return P5(n)||R5(n)});return Object.fromEntries(t)}function Of(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ys(t)}return typeof e=="object"&&!Array.isArray(e)?ys(e):null}function Rn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return P5(n)||R5(n)||r_(n)});return Object.fromEntries(t)}function nre(e){return e==null?null:y.isValidElement(e)?Rn(e.props):typeof e=="object"&&!Array.isArray(e)?Rn(e):null}var are=["children","width","height","viewBox","className","style","title","desc"];function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a1.apply(null,arguments)}function sre(e,t){if(e==null)return{};var r,n,a=ire(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ire(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var n_=y.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:u,title:d,desc:f}=e,m=sre(e,are),g=i||{width:n,height:a,x:0,y:0},x=It("recharts-surface",l);return y.createElement("svg",a1({},Rn(m),{className:x,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),y.createElement("title",null,d),y.createElement("desc",null,f),r)}),ore=["children","className"];function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(null,arguments)}function lre(e,t){if(e==null)return{};var r,n,a=cre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xs=y.forwardRef((e,t)=>{var{children:r,className:n}=e,a=lre(e,ore),i=It("recharts-layer",n);return y.createElement("g",s1({className:i},Rn(a),{ref:t}),r)}),I5=y.createContext(null),ure=()=>y.useContext(I5);function nr(e){return function(){return e}}const L5=Math.cos,kg=Math.sin,_s=Math.sqrt,Cg=Math.PI,Qp=2*Cg,i1=Math.PI,o1=2*i1,ll=1e-6,dre=o1-ll;function $5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function fre(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $5;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class hre{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$5:fre(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=n-t,f=a-r,m=l-t,g=u-r,x=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>ll)if(!(Math.abs(g*d-f*m)>ll)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,j=a-u,w=d*d+f*f,b=v*v+j*j,S=Math.sqrt(w),k=Math.sqrt(x),C=i*Math.tan((i1-Math.acos((w+x-b)/(2*S*k)))/2),E=C/k,O=C/S;Math.abs(E-1)>ll&&this._append`L${t+E*m},${r+E*g}`,this._append`A${i},${i},0,0,${+(g*v>m*j)},${this._x1=t+O*d},${this._y1=r+O*f}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=t+u,m=r+d,g=1^l,x=l?a-i:i-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>ll||Math.abs(this._y1-m)>ll)&&this._append`L${f},${m}`,n&&(x<0&&(x=x%o1+o1),x>dre?this._append`A${n},${n},0,1,${g},${t-u},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=m}`:x>ll&&this._append`A${n},${n},0,${+(x>=i1)},${g},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function a_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new hre(t)}function s_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function B5(e){this._context=e}B5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xp(e){return new B5(e)}function z5(e){return e[0]}function F5(e){return e[1]}function U5(e,t){var r=nr(!0),n=null,a=Xp,i=null,l=a_(u);e=typeof e=="function"?e:e===void 0?z5:nr(e),t=typeof t=="function"?t:t===void 0?F5:nr(t);function u(d){var f,m=(d=s_(d)).length,g,x=!1,v;for(n==null&&(i=a(v=l())),f=0;f<=m;++f)!(f<m&&r(g=d[f],f,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(g,f,d),+t(g,f,d));if(v)return i=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:nr(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:nr(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:nr(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),u):n},u}function Im(e,t,r){var n=null,a=nr(!0),i=null,l=Xp,u=null,d=a_(f);e=typeof e=="function"?e:e===void 0?z5:nr(+e),t=typeof t=="function"?t:nr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?F5:nr(+r);function f(g){var x,v,j,w=(g=s_(g)).length,b,S=!1,k,C=new Array(w),E=new Array(w);for(i==null&&(u=l(k=d())),x=0;x<=w;++x){if(!(x<w&&a(b=g[x],x,g))===S)if(S=!S)v=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=x-1;j>=v;--j)u.point(C[j],E[j]);u.lineEnd(),u.areaEnd()}S&&(C[x]=+e(b,x,g),E[x]=+t(b,x,g),u.point(n?+n(b,x,g):C[x],r?+r(b,x,g):E[x]))}if(k)return u=null,k+""||null}function m(){return U5().defined(a).curve(l).context(i)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:nr(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:nr(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:nr(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:nr(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:nr(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:nr(+g),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:nr(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,i!=null&&(u=l(i)),f):l},f.context=function(g){return arguments.length?(g==null?i=u=null:u=l(i=g),f):i},f}class q5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mre(e){return new q5(e,!0)}function gre(e){return new q5(e,!1)}const i_={draw(e,t){const r=_s(t/Cg);e.moveTo(r,0),e.arc(0,0,r,0,Qp)}},pre={draw(e,t){const r=_s(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},H5=_s(1/3),yre=H5*2,xre={draw(e,t){const r=_s(t/yre),n=r*H5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},vre={draw(e,t){const r=_s(t),n=-r/2;e.rect(n,n,r,r)}},bre=.8908130915292852,W5=kg(Cg/10)/kg(7*Cg/10),wre=kg(Qp/10)*W5,jre=-L5(Qp/10)*W5,_re={draw(e,t){const r=_s(t*bre),n=wre*r,a=jre*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=Qp*i/5,u=L5(l),d=kg(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*a,d*n+u*a)}e.closePath()}},Lv=_s(3),Sre={draw(e,t){const r=-_s(t/(Lv*3));e.moveTo(0,r*2),e.lineTo(-Lv*r,-r),e.lineTo(Lv*r,-r),e.closePath()}},Fa=-.5,Ua=_s(3)/2,l1=1/_s(12),Nre=(l1/2+1)*3,kre={draw(e,t){const r=_s(t/Nre),n=r/2,a=r*l1,i=n,l=r*l1+r,u=-i,d=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(Fa*n-Ua*a,Ua*n+Fa*a),e.lineTo(Fa*i-Ua*l,Ua*i+Fa*l),e.lineTo(Fa*u-Ua*d,Ua*u+Fa*d),e.lineTo(Fa*n+Ua*a,Fa*a-Ua*n),e.lineTo(Fa*i+Ua*l,Fa*l-Ua*i),e.lineTo(Fa*u+Ua*d,Fa*d-Ua*u),e.closePath()}};function Cre(e,t){let r=null,n=a_(a);e=typeof e=="function"?e:nr(e||i_),t=typeof t=="function"?t:nr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:nr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:nr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Tg(){}function Eg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Y5(e){this._context=e}Y5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Eg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Eg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tre(e){return new Y5(e)}function K5(e){this._context=e}K5.prototype={areaStart:Tg,areaEnd:Tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Eg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ere(e){return new K5(e)}function V5(e){this._context=e}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Eg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ore(e){return new V5(e)}function G5(e){this._context=e}G5.prototype={areaStart:Tg,areaEnd:Tg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Are(e){return new G5(e)}function YE(e){return e<0?-1:1}function KE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(i*a+l*n)/(n+a);return(YE(i)+YE(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function VE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $v(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,u=(i-n)/3;e._context.bezierCurveTo(n+u,a+u*t,i-u,l-u*r,i,l)}function Og(e){this._context=e}Og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$v(this,this._t0,VE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$v(this,VE(this,r=KE(this,e,t)),r);break;default:$v(this,this._t0,r=KE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Q5(e){this._context=new X5(e)}(Q5.prototype=Object.create(Og.prototype)).point=function(e,t){Og.prototype.point.call(this,t,e)};function X5(e){this._context=e}X5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Dre(e){return new Og(e)}function Mre(e){return new Q5(e)}function Z5(e){this._context=e}Z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=GE(e),a=GE(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function GE(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Pre(e){return new Z5(e)}function Zp(e,t){this._context=e,this._t=t}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Rre(e){return new Zp(e,.5)}function Ire(e){return new Zp(e,0)}function Lre(e){return new Zp(e,1)}function eu(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,u=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function c1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $re(e,t){return e[t]}function Bre(e){const t=[];return t.key=e,t}function zre(){var e=nr([]),t=c1,r=eu,n=$re;function a(i){var l=Array.from(e.apply(this,arguments),Bre),u,d=l.length,f=-1,m;for(const g of i)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(g,l[u].key,f,i)]).data=g;for(u=0,m=s_(t(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:nr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:nr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?c1:typeof i=="function"?i:nr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??eu,a):r},a}function Fre(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}eu(e,t)}}function Ure(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}eu(e,t)}}function qre(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var u=0,d=0,f=0;u<l;++u){for(var m=e[t[u]],g=m[n][1]||0,x=m[n-1][1]||0,v=(g-x)/2,j=0;j<u;++j){var w=e[t[j]],b=w[n][1]||0,S=w[n-1][1]||0;v+=b-S}d+=g,f+=v*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,eu(e,t)}}var Bv={},zv={},QE;function Hre(){return QE||(QE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(zv)),zv}var Fv={},XE;function J5(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Fv)),Fv}var Uv={},ZE;function o_(){return ZE||(ZE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Uv)),Uv}var qv={},Hv={},JE;function Wre(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Hv)),Hv}var eO;function l_(){return eO||(eO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wre(),r=o_();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let u=0,d="",f="",m=!1;for(a.charCodeAt(0)===46&&(i.push(""),u++);u<l;){const g=a[u];f?g==="\\"&&u+1<l?(u++,d+=a[u]):g===f?f="":d+=g:m?g==='"'||g==="'"?f=g:g==="]"?(m=!1,i.push(d),d=""):d+=g:g==="["?(m=!0,d&&(i.push(d),d="")):g==="."?d&&(i.push(d),d=""):d+=g,u++}return d&&i.push(d),i}e.toPath=n})(qv)),qv}var tO;function c_(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hre(),r=J5(),n=o_(),a=l_();function i(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?r.isDeepKey(d)?i(u,a.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=u[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?f:m}}}function l(u,d,f){if(d.length===0)return f;let m=u;for(let g=0;g<d.length;g++){if(m==null||t.isUnsafeProperty(d[g]))return f;m=m[d[g]]}return m===void 0?f:m}e.get=i})(Bv)),Bv}var Wv,rO;function Yre(){return rO||(rO=1,Wv=c_().get),Wv}var Kre=Yre();const tu=ts(Kre);var Zn=e=>e===0?0:e>0?1:-1,Za=e=>typeof e=="number"&&e!=+e,Ni=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,We=e=>(typeof e=="number"||e instanceof Number)&&!Za(e),Bs=e=>We(e)||typeof e=="string",Vre=0,rf=e=>{var t=++Vre;return"".concat(e||"").concat(t)},vs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&typeof t!="string")return n;var i;if(Ni(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Za(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},e6=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Lr(e,t,r){return We(e)&&We(t)?e+r*(t-e):t}function t6(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):tu(n,t))===r)}var fr=e=>e===null||typeof e>"u",Af=e=>fr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Gre=["type","size","sizeType"];function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u1.apply(null,arguments)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){Qre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qre(e,t,r){return(t=Xre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xre(e){var t=Zre(e,"string");return typeof t=="symbol"?t:t+""}function Zre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jre(e,t){if(e==null)return{};var r,n,a=ene(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ene(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var r6={symbolCircle:i_,symbolCross:pre,symbolDiamond:xre,symbolSquare:vre,symbolStar:_re,symbolTriangle:Sre,symbolWye:kre},tne=Math.PI/180,rne=e=>{var t="symbol".concat(Af(e));return r6[t]||i_},nne=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*tne;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ane=(e,t)=>{r6["symbol".concat(Af(e))]=t},u_=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Jre(e,Gre),i=aO(aO({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var x=rne(l),v=Cre().type(x).size(nne(r,n,l)),j=v();if(j!==null)return j},{className:d,cx:f,cy:m}=i,g=Rn(i);return f===+f&&m===+m&&r===+r?y.createElement("path",u1({},g,{className:It("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};u_.registerSymbol=ane;var d_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{r_(a)&&(n[a]=(i=>r[a](r,i)))}),n},sne=(e,t,r)=>n=>(e(t,r,n),null),Jp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];r_(a)&&typeof i=="function"&&(n||(n={}),n[a]=sne(i,t,r))}),n};function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d1.apply(null,arguments)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ine(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){f_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f_(e,t,r){return(t=one(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function one(e){var t=lne(e,"string");return typeof t=="symbol"?t:t+""}function lne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qa=32;class h_ extends y.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=qa/2,i=qa/6,l=qa/3,u=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return y.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:qa,y2:a,className:"recharts-legend-icon"});if(d==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(qa,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return y.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(qa/8,"h").concat(qa,"v").concat(qa*3/4,"h").concat(-qa,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var f=ine({},t);return delete f.legendIcon,y.cloneElement(t.legendIcon,f)}return y.createElement(u_,{fill:u,cx:a,cy:a,size:qa,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,u={x:0,y:0,width:qa,height:qa},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,g)=>{var x=m.formatter||a,v=It({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:m.inactive});if(m.type==="none")return null;var j=m.inactive?i:m.color,w=x?x(m.value,m,g):m.value;return y.createElement("li",d1({className:v,style:d,key:"legend-item-".concat(g)},Jp(this.props,m,g)),y.createElement(n_,{width:r,height:r,viewBox:u,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(m,l)),y.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}f_(h_,"displayName","Legend");f_(h_,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Yv={},Kv={},iO;function cne(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(Kv)),Kv}var Vv={},oO;function n6(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Vv)),Vv}var Gv={},Qv={},Xv={},lO;function une(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Xv)),Xv}var cO;function m_(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=une();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Qv)),Qv}var Zv={},uO;function dne(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Zv)),Zv}var dO;function fne(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m_(),r=dne();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Gv)),Gv}var Jv={},eb={},fO;function hne(){return fO||(fO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c_();function r(n){return function(a){return t.get(a,n)}}e.property=r})(eb)),eb}var tb={},rb={},nb={},ab={},hO;function a6(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(ab)),ab}var sb={},mO;function s6(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(sb)),sb}var ib={},gO;function i6(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(ib)),ib}var pO;function mne(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a6(),r=s6(),n=i6();function a(m,g,x){return typeof x!="function"?a(m,g,()=>{}):i(m,g,function v(j,w,b,S,k,C){const E=x(j,w,b,S,k,C);return E!==void 0?!!E:i(j,w,v,C)},new Map)}function i(m,g,x,v){if(g===m)return!0;switch(typeof g){case"object":return l(m,g,x,v);case"function":return Object.keys(g).length>0?i(m,{...g},x,v):n.eq(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:n.eq(m,g)}}function l(m,g,x,v){if(g==null)return!0;if(Array.isArray(g))return d(m,g,x,v);if(g instanceof Map)return u(m,g,x,v);if(g instanceof Set)return f(m,g,x,v);const j=Object.keys(g);if(m==null)return j.length===0;if(j.length===0)return!0;if(v?.has(g))return v.get(g)===m;v?.set(g,m);try{for(let w=0;w<j.length;w++){const b=j[w];if(!r.isPrimitive(m)&&!(b in m)||g[b]===void 0&&m[b]!==void 0||g[b]===null&&m[b]!==null||!x(m[b],g[b],b,m,g,v))return!1}return!0}finally{v?.delete(g)}}function u(m,g,x,v){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[j,w]of g.entries()){const b=m.get(j);if(x(b,w,j,m,g,v)===!1)return!1}return!0}function d(m,g,x,v){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const j=new Set;for(let w=0;w<g.length;w++){const b=g[w];let S=!1;for(let k=0;k<m.length;k++){if(j.has(k))continue;const C=m[k];let E=!1;if(x(C,b,w,m,g,v)&&(E=!0),E){j.add(k),S=!0;break}}if(!S)return!1}return!0}function f(m,g,x,v){return g.size===0?!0:m instanceof Set?d([...m],[...g],x,v):!1}e.isMatchWith=a,e.isSetMatch=f})(nb)),nb}var yO;function o6(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mne();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(rb)),rb}var ob={},lb={},cb={},xO;function gne(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(cb)),cb}var ub={},vO;function l6(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ub)),ub}var db={},bO;function c6(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",x="[object ArrayBuffer]",v="[object Object]",j="[object Error]",w="[object DataView]",b="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",C="[object Uint32Array]",E="[object BigUint64Array]",O="[object Int8Array]",D="[object Int16Array]",T="[object Int32Array]",M="[object BigInt64Array]",I="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=m,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=E,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=I,e.float64ArrayTag=$,e.functionTag=g,e.int16ArrayTag=D,e.int32ArrayTag=T,e.int8ArrayTag=O,e.mapTag=d,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=k,e.uint32ArrayTag=C,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=S})(db)),db}var fb={},wO;function pne(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(fb)),fb}var jO;function u6(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gne(),r=l6(),n=c6(),a=s6(),i=pne();function l(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,x,v=new Map,j=void 0){const w=j?.(m,g,x,v);if(w!==void 0)return w;if(a.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const b=new Array(m.length);v.set(m,b);for(let S=0;S<m.length;S++)b[S]=u(m[S],S,x,v,j);return Object.hasOwn(m,"index")&&(b.index=m.index),Object.hasOwn(m,"input")&&(b.input=m.input),b}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const b=new RegExp(m.source,m.flags);return b.lastIndex=m.lastIndex,b}if(m instanceof Map){const b=new Map;v.set(m,b);for(const[S,k]of m)b.set(S,u(k,S,x,v,j));return b}if(m instanceof Set){const b=new Set;v.set(m,b);for(const S of m)b.add(u(S,void 0,x,v,j));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const b=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,b);for(let S=0;S<m.length;S++)b[S]=u(m[S],S,x,v,j);return b}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const b=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,b),d(b,m,x,v,j),b}if(typeof File<"u"&&m instanceof File){const b=new File([m],m.name,{type:m.type});return v.set(m,b),d(b,m,x,v,j),b}if(typeof Blob<"u"&&m instanceof Blob){const b=new Blob([m],{type:m.type});return v.set(m,b),d(b,m,x,v,j),b}if(m instanceof Error){const b=new m.constructor;return v.set(m,b),b.message=m.message,b.name=m.name,b.stack=m.stack,b.cause=m.cause,d(b,m,x,v,j),b}if(m instanceof Boolean){const b=new Boolean(m.valueOf());return v.set(m,b),d(b,m,x,v,j),b}if(m instanceof Number){const b=new Number(m.valueOf());return v.set(m,b),d(b,m,x,v,j),b}if(m instanceof String){const b=new String(m.valueOf());return v.set(m,b),d(b,m,x,v,j),b}if(typeof m=="object"&&f(m)){const b=Object.create(Object.getPrototypeOf(m));return v.set(m,b),d(b,m,x,v,j),b}return m}function d(m,g,x=m,v,j){const w=[...Object.keys(g),...t.getSymbols(g)];for(let b=0;b<w.length;b++){const S=w[b],k=Object.getOwnPropertyDescriptor(m,S);(k==null||k.writable)&&(m[S]=u(g[S],S,x,v,j))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(lb)),lb}var _O;function yne(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u6();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(ob)),ob}var SO;function xne(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o6(),r=yne();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(tb)),tb}var hb={},mb={},gb={},NO;function vne(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u6(),r=c6();function n(a,i){return t.cloneDeepWith(a,(l,u,d,f)=>{const m=i?.(l,u,d,f);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(gb)),gb}var kO;function bne(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vne();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(mb)),mb}var pb={},yb={},CO;function d6(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(yb)),yb}var xb={},TO;function wne(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l6();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(xb)),xb}var EO;function jne(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J5(),r=d6(),n=wne(),a=l_();function i(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const g=d[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=i})(pb)),pb}var OO;function _ne(){return OO||(OO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o6(),r=o_(),n=bne(),a=c_(),i=jne();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(f){const m=a.get(f,u);return m===void 0?i.has(f,u):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=l})(hb)),hb}var AO;function Sne(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n6(),r=hne(),n=xne(),a=_ne();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(Jv)),Jv}var DO;function Nne(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cne(),r=n6(),n=fne(),a=Sne();function i(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(u)):[]}e.uniqBy=i})(Yv)),Yv}var vb,MO;function kne(){return MO||(MO=1,vb=Nne().uniqBy),vb}var Cne=kne();const PO=ts(Cne);function f6(e,t,r){return t===!0?PO(e,r):typeof t=="function"?PO(e,t):e}var bb={exports:{}},wb={},jb={exports:{}},_b={};var RO;function Tne(){if(RO)return _b;RO=1;var e=cu();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function u(g,x){var v=x(),j=n({inst:{value:v,getSnapshot:x}}),w=j[0].inst,b=j[1];return i(function(){w.value=v,w.getSnapshot=x,d(w)&&b({inst:w})},[g,v,x]),a(function(){return d(w)&&b({inst:w}),g(function(){d(w)&&b({inst:w})})},[g]),l(v),v}function d(g){var x=g.getSnapshot;g=g.value;try{var v=x();return!r(g,v)}catch{return!0}}function f(g,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return _b.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,_b}var IO;function Ene(){return IO||(IO=1,jb.exports=Tne()),jb.exports}var LO;function One(){if(LO)return wb;LO=1;var e=cu(),t=Ene();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return wb.useSyncExternalStoreWithSelector=function(f,m,g,x,v){var j=i(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=u(function(){function S(D){if(!k){if(k=!0,C=D,D=x(D),v!==void 0&&w.hasValue){var T=w.value;if(v(T,D))return E=T}return E=D}if(T=E,n(C,D))return T;var M=x(D);return v!==void 0&&v(T,M)?(C=D,T):(C=D,E=M)}var k=!1,C,E,O=g===void 0?null:g;return[function(){return S(m())},O===null?void 0:function(){return S(O())}]},[m,g,x,v]);var b=a(f,j[0],j[1]);return l(function(){w.hasValue=!0,w.value=b},[b]),d(b),b},wb}var $O;function Ane(){return $O||($O=1,bb.exports=One()),bb.exports}var h6=Ane();const Dne=ts(h6);var g_=y.createContext(null),Mne=e=>e,Or=()=>{var e=y.useContext(g_);return e?e.store.dispatch:Mne},ag=()=>{},Pne=()=>ag,Rne=(e,t)=>e===t;function Fe(e){var t=y.useContext(g_);return h6.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Pne,t?t.store.getState:ag,t?t.store.getState:ag,t?e:ag,Rne)}function Ine(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Lne(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $ne(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var BO=e=>Array.isArray(e)?e:[e];function Bne(e){const t=Array.isArray(e[0])?e[0]:e;return $ne(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function zne(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Fne=class{constructor(e){this.value=e}deref(){return this.value}},Une=typeof WeakRef<"u"?WeakRef:Fne,qne=0,zO=1;function Lm(){return{s:qne,v:void 0,o:null,p:null}}function m6(e,t={}){let r=Lm();const{resultEqualityCheck:n}=t;let a,i=0;function l(){let u=r;const{length:d}=arguments;for(let g=0,x=d;g<x;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const w=j.get(v);w===void 0?(u=Lm(),j.set(v,u)):u=w}else{let j=u.p;j===null&&(u.p=j=new Map);const w=j.get(v);w===void 0?(u=Lm(),j.set(v,u)):u=w}}const f=u;let m;if(u.s===zO)m=u.v;else if(m=e.apply(null,arguments),i++,n){const g=a?.deref?.()??a;g!=null&&n(g,m)&&(m=g,i!==0&&i--),a=typeof m=="object"&&m!==null||typeof m=="function"?new Une(m):m}return f.s=zO,f.v=m,m}return l.clearCache=()=>{r=Lm(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Hne(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,u,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),Ine(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:g,memoizeOptions:x=[],argsMemoize:v=m6,argsMemoizeOptions:j=[]}=m,w=BO(x),b=BO(j),S=Bne(a),k=g(function(){return i++,f.apply(null,arguments)},...w),C=v(function(){l++;const O=zne(S,arguments);return u=k.apply(null,O),u},...b);return Object.assign(C,{resultFunc:f,memoizedResultFunc:k,dependencies:S,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:g,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var me=Hne(m6),Wne=Object.assign((e,t=me)=>{Lne(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>Wne}),Sb={},Nb={},kb={},FO;function Yne(){return FO||(FO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?u-l:l-u}return 0};e.compareValues=r})(kb)),kb}var Cb={},Tb={},UO;function g6(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Tb)),Tb}var qO;function Kne(){return qO||(qO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g6(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(Cb)),Cb}var HO;function Vne(){return HO||(HO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yne(),r=Kne(),n=l_();function a(i,l,u,d){if(i==null)return[];u=d?void 0:u,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const f=(v,j)=>{let w=v;for(let b=0;b<j.length&&w!=null;++b)w=w[j[b]];return w},m=(v,j)=>j==null||v==null?j:typeof v=="object"&&"key"in v?Object.hasOwn(j,v.key)?j[v.key]:f(j,v.path):typeof v=="function"?v(j):Array.isArray(v)?f(j,v):typeof j=="object"?j[v]:j,g=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return i.map(v=>({original:v,criteria:g.map(j=>m(j,v))})).slice().sort((v,j)=>{for(let w=0;w<g.length;w++){const b=t.compareValues(v.criteria[w],j.criteria[w],u[w]);if(b!==0)return b}return 0}).map(v=>v.original)}e.orderBy=a})(Nb)),Nb}var Eb={},WO;function Gne(){return WO||(WO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(u,d)=>{for(let f=0;f<u.length;f++){const m=u[f];Array.isArray(m)&&d<i?l(m,d+1):a.push(m)}};return l(r,0),a}e.flatten=t})(Eb)),Eb}var Ob={},YO;function p6(){return YO||(YO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d6(),r=m_(),n=a6(),a=i6();function i(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}e.isIterateeCall=i})(Ob)),Ob}var KO;function Qne(){return KO||(KO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vne(),r=Gne(),n=p6();function a(i,...l){const u=l.length;return u>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(Sb)),Sb}var Ab,VO;function Xne(){return VO||(VO=1,Ab=Qne().sortBy),Ab}var Zne=Xne();const e0=ts(Zne);var y6=e=>e.legend.settings,Jne=e=>e.legend.size,eae=e=>e.legend.payload,tae=me([eae,y6],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?e0(n,r):n});function rae(){return Fe(tae)}var $m=1;function x6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>$m||Math.abs(l.left-t.left)>$m||Math.abs(l.top-t.top)>$m||Math.abs(l.width-t.width)>$m)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function dn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nae=typeof Symbol=="function"&&Symbol.observable||"@@observable",GO=nae,Db=()=>Math.random().toString(36).substring(7).split("").join("."),aae={INIT:`@@redux/INIT${Db()}`,REPLACE:`@@redux/REPLACE${Db()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Db()}`},Ag=aae;function p_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function v6(e,t,r){if(typeof e!="function")throw new Error(dn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(dn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(dn(1));return r(v6)(e,t)}let n=e,a=t,i=new Map,l=i,u=0,d=!1;function f(){l===i&&(l=new Map,i.forEach((b,S)=>{l.set(S,b)}))}function m(){if(d)throw new Error(dn(3));return a}function g(b){if(typeof b!="function")throw new Error(dn(4));if(d)throw new Error(dn(5));let S=!0;f();const k=u++;return l.set(k,b),function(){if(S){if(d)throw new Error(dn(6));S=!1,f(),l.delete(k),i=null}}}function x(b){if(!p_(b))throw new Error(dn(7));if(typeof b.type>"u")throw new Error(dn(8));if(typeof b.type!="string")throw new Error(dn(17));if(d)throw new Error(dn(9));try{d=!0,a=n(a,b)}finally{d=!1}return(i=l).forEach(k=>{k()}),b}function v(b){if(typeof b!="function")throw new Error(dn(10));n=b,x({type:Ag.REPLACE})}function j(){const b=g;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(dn(11));function k(){const E=S;E.next&&E.next(m())}return k(),{unsubscribe:b(k)}},[GO](){return this}}}return x({type:Ag.INIT}),{dispatch:x,subscribe:g,getState:m,replaceReducer:v,[GO]:j}}function sae(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ag.INIT})>"u")throw new Error(dn(12));if(typeof r(void 0,{type:Ag.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dn(13))})}function b6(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{sae(r)}catch(i){a=i}return function(l={},u){if(a)throw a;let d=!1;const f={};for(let m=0;m<n.length;m++){const g=n[m],x=r[g],v=l[g],j=x(v,u);if(typeof j>"u")throw u&&u.type,new Error(dn(14));f[g]=j,d=d||j!==v}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Dg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function iae(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(dn(15))};const l={getState:a.getState,dispatch:(d,...f)=>i(d,...f)},u=e.map(d=>d(l));return i=Dg(...u)(a.dispatch),{...a,dispatch:i}}}function w6(e){return p_(e)&&"type"in e&&typeof e.type=="string"}var j6=Symbol.for("immer-nothing"),QO=Symbol.for("immer-draftable"),Ca=Symbol.for("immer-state");function fs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nf=Object.getPrototypeOf;function Dl(e){return!!e&&!!e[Ca]}function ki(e){return e?_6(e)||Array.isArray(e)||!!e[QO]||!!e.constructor?.[QO]||Df(e)||r0(e):!1}var oae=Object.prototype.constructor.toString(),XO=new WeakMap;function _6(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=XO.get(r);return n===void 0&&(n=Function.toString.call(r),XO.set(r,n)),n===oae}function Mg(e,t,r=!0){t0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function t0(e){const t=e[Ca];return t?t.type_:Array.isArray(e)?1:Df(e)?2:r0(e)?3:0}function f1(e,t){return t0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function S6(e,t,r){const n=t0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function lae(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Df(e){return e instanceof Map}function r0(e){return e instanceof Set}function cl(e){return e.copy_||e.base_}function h1(e,t){if(Df(e))return new Map(e);if(r0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=_6(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ca];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(nf(e),n)}else{const n=nf(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function y_(e,t=!1){return n0(e)||Dl(e)||!ki(e)||(t0(e)>1&&Object.defineProperties(e,{set:Bm,add:Bm,clear:Bm,delete:Bm}),Object.freeze(e),t&&Object.values(e).forEach(r=>y_(r,!0))),e}function cae(){fs(2)}var Bm={value:cae};function n0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var uae={};function Ml(e){const t=uae[e];return t||fs(0,e),t}var af;function N6(){return af}function dae(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZO(e,t){t&&(Ml("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function m1(e){g1(e),e.drafts_.forEach(fae),e.drafts_=null}function g1(e){e===af&&(af=e.parent_)}function JO(e){return af=dae(af,e)}function fae(e){const t=e[Ca];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ca].modified_&&(m1(t),fs(4)),ki(e)&&(e=Pg(t,e),t.parent_||Rg(t,e)),t.patches_&&Ml("Patches").generateReplacementPatches_(r[Ca].base_,e,t.patches_,t.inversePatches_)):e=Pg(t,r,[]),m1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==j6?e:void 0}function Pg(e,t,r){if(n0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ca];if(!a)return Mg(t,(i,l)=>tA(e,a,t,i,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Rg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let l=i,u=!1;a.type_===3&&(l=new Set(i),i.clear(),u=!0),Mg(l,(d,f)=>tA(e,a,i,d,f,r,u),n),Rg(e,i,!1),r&&e.patches_&&Ml("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function tA(e,t,r,n,a,i,l){if(a==null||typeof a!="object"&&!l)return;const u=n0(a);if(!(u&&!l)){if(Dl(a)){const d=i&&t&&t.type_!==3&&!f1(t.assigned_,n)?i.concat(n):void 0,f=Pg(e,a,d);if(S6(r,n,f),Dl(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(ki(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Pg(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Df(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Rg(e,a)}}}function Rg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&y_(t,r)}function hae(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:N6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=x_;r&&(a=[n],i=sf);const{revoke:l,proxy:u}=Proxy.revocable(a,i);return n.draft_=u,n.revoke_=l,u}var x_={get(e,t){if(t===Ca)return e;const r=cl(e);if(!f1(r,t))return mae(e,r,t);const n=r[t];return e.finalized_||!ki(n)?n:n===Mb(e.base_,t)?(Pb(e),e.copy_[t]=y1(n,e)):n},has(e,t){return t in cl(e)},ownKeys(e){return Reflect.ownKeys(cl(e))},set(e,t,r){const n=k6(cl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Mb(cl(e),t),i=a?.[Ca];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(lae(r,a)&&(r!==void 0||f1(e.base_,t)))return!0;Pb(e),p1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Mb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Pb(e),p1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=cl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){fs(11)},getPrototypeOf(e){return nf(e.base_)},setPrototypeOf(){fs(12)}},sf={};Mg(x_,(e,t)=>{sf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sf.deleteProperty=function(e,t){return sf.set.call(this,e,t,void 0)};sf.set=function(e,t,r){return x_.set.call(this,e[0],t,r,e[0])};function Mb(e,t){const r=e[Ca];return(r?cl(r):e)[t]}function mae(e,t,r){const n=k6(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function k6(e,t){if(!(t in e))return;let r=nf(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=nf(r)}}function p1(e){e.modified_||(e.modified_=!0,e.parent_&&p1(e.parent_))}function Pb(e){e.copy_||(e.copy_=h1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(d=i,...f){return l.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&fs(6),n!==void 0&&typeof n!="function"&&fs(7);let a;if(ki(t)){const i=JO(this),l=y1(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?m1(i):g1(i)}return ZO(i,n),eA(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===j6&&(a=void 0),this.autoFreeze_&&y_(a,!0),n){const i=[],l=[];Ml("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else fs(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ki(e)||fs(8),Dl(e)&&(e=wi(e));const t=JO(this),r=y1(e,void 0);return r[Ca].isManual_=!0,g1(t),r}finishDraft(e,t){const r=e&&e[Ca];(!r||!r.isManual_)&&fs(9);const{scope_:n}=r;return ZO(n,t),eA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ml("Patches").applyPatches_;return Dl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function y1(e,t){const r=Df(e)?Ml("MapSet").proxyMap_(e,t):r0(e)?Ml("MapSet").proxySet_(e,t):hae(e,t);return(t?t.scope_:N6()).drafts_.push(r),r}function wi(e){return Dl(e)||fs(10,e),C6(e)}function C6(e){if(!ki(e)||n0(e))return e;const t=e[Ca];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=h1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=h1(e,!0);return Mg(r,(a,i)=>{S6(r,a,C6(i))},n),t&&(t.finalized_=!1),r}var x1=new gae,T6=x1.produce,pae=x1.setUseStrictIteration.bind(x1);function E6(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var yae=E6(),xae=E6,vae=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dg:Dg.apply(null,arguments)};function Ja(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Sa(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>w6(n)&&n.type===e,r}var O6=class Bd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Bd.prototype)}static get[Symbol.species](){return Bd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Bd(...t[0].concat(this)):new Bd(...t.concat(this))}};function rA(e){return ki(e)?T6(e,()=>{}):e}function zm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function bae(e){return typeof e=="boolean"}var wae=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new O6;return r&&(bae(r)?l.push(yae):l.push(xae(r.extraArgument))),l},A6="RTK_autoBatch",An=()=>e=>({payload:e,meta:{[A6]:!0}}),nA=e=>t=>{setTimeout(t,e)},D6=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nA(10):e.type==="callback"?e.queueNotification:nA(e.timeout),f=()=>{l=!1,i&&(i=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>a&&m(),x=n.subscribe(g);return u.add(m),()=>{x(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[A6],i=!a,i&&(l||(l=!0,d(f))),n.dispatch(m)}finally{a=!0}}})},jae=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new O6(e);return n&&a.push(D6(typeof n=="object"?n:void 0)),a};function _ae(e){const t=wae(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(p_(r))u=b6(r);else throw new Error(Sa(1));let d;typeof n=="function"?d=n(t):d=t();let f=Dg;a&&(f=vae({trace:!1,...typeof a=="object"&&a}));const m=iae(...d),g=jae(m);let x=typeof l=="function"?l(g):g();const v=f(...x);return v6(u,i,v)}function M6(e){const t={},r=[];let n;const a={addCase(i,l){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(Sa(28));if(u in t)throw new Error(Sa(29));return t[u]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}pae(!1);function Sae(e){return typeof e=="function"}function Nae(e,t){let[r,n,a]=M6(t),i;if(Sae(e))i=()=>rA(e());else{const u=rA(e);i=()=>u}function l(u=i(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,g)=>{if(g)if(Dl(m)){const v=g(m,d);return v===void 0?m:v}else{if(ki(m))return T6(m,x=>g(x,d));{const x=g(m,d);if(x===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return m},u)}return l.getInitialState=i,l}var kae="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Cae=(e=21)=>{let t="",r=e;for(;r--;)t+=kae[Math.random()*64|0];return t},Tae=Symbol.for("rtk-slice-createasyncthunk");function Eae(e,t){return`${e}/${t}`}function Oae({creators:e}={}){const t=e?.asyncThunk?.[Tae];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Sa(11));const l=(typeof n.reducers=="function"?n.reducers(Dae()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,E){const O=typeof C=="string"?C:C.type;if(!O)throw new Error(Sa(12));if(O in d.sliceCaseReducersByType)throw new Error(Sa(13));return d.sliceCaseReducersByType[O]=E,f},addMatcher(C,E){return d.sliceMatchers.push({matcher:C,reducer:E}),f},exposeAction(C,E){return d.actionCreators[C]=E,f},exposeCaseReducer(C,E){return d.sliceCaseReducersByName[C]=E,f}};u.forEach(C=>{const E=l[C],O={reducerName:C,type:Eae(a,C),createNotation:typeof n.reducers=="function"};Pae(E)?Iae(O,E,f,t):Mae(O,E,f)});function m(){const[C={},E=[],O=void 0]=typeof n.extraReducers=="function"?M6(n.extraReducers):[n.extraReducers],D={...C,...d.sliceCaseReducersByType};return Nae(n.initialState,T=>{for(let M in D)T.addCase(M,D[M]);for(let M of d.sliceMatchers)T.addMatcher(M.matcher,M.reducer);for(let M of E)T.addMatcher(M.matcher,M.reducer);O&&T.addDefaultCase(O)})}const g=C=>C,x=new Map,v=new WeakMap;let j;function w(C,E){return j||(j=m()),j(C,E)}function b(){return j||(j=m()),j.getInitialState()}function S(C,E=!1){function O(T){let M=T[C];return typeof M>"u"&&E&&(M=zm(v,O,b)),M}function D(T=g){const M=zm(x,E,()=>new WeakMap);return zm(M,T,()=>{const I={};for(const[$,B]of Object.entries(n.selectors??{}))I[$]=Aae(B,T,()=>zm(v,T,b),E);return I})}return{reducerPath:C,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const k={name:a,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:b,...S(i),injectInto(C,{reducerPath:E,...O}={}){const D=E??i;return C.inject({reducerPath:D,reducer:w},O),{...k,...S(D,!0)}}};return k}}function Aae(e,t,r,n){function a(i,...l){let u=t(i);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var Ta=Oae();function Dae(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Mae({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!Rae(n))throw new Error(Sa(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Ja(e,l):Ja(e))}function Pae(e){return e._reducerDefinitionType==="asyncThunk"}function Rae(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Iae({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Sa(18));const{payloadCreator:i,fulfilled:l,pending:u,rejected:d,settled:f,options:m}=r,g=a(e,i,m);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||Fm,pending:u||Fm,rejected:d||Fm,settled:f||Fm})}function Fm(){}var Lae="task",P6="listener",R6="completed",v_="cancelled",$ae=`task-${v_}`,Bae=`task-${R6}`,v1=`${P6}-${v_}`,zae=`${P6}-${R6}`,a0=class{constructor(e){this.code=e,this.message=`${Lae} ${v_} (reason: ${e})`}name="TaskAbortError";message},b_=(e,t)=>{if(typeof e!="function")throw new TypeError(Sa(32))},Ig=()=>{},I6=(e,t=Ig)=>(e.catch(t),e),L6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bl=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},wl=e=>{if(e.aborted){const{reason:t}=e;throw new a0(t)}};function $6(e,t){let r=Ig;return new Promise((n,a)=>{const i=()=>a(new a0(e.reason));if(e.aborted){i();return}r=L6(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Ig})}var Fae=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof a0?"cancelled":"rejected",error:r}}finally{t?.()}},Lg=e=>t=>I6($6(e,t).then(r=>(wl(e),r))),B6=e=>{const t=Lg(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Yc}=Object,aA={},s0="listenerMiddleware",Uae=(e,t)=>{const r=n=>L6(e,()=>bl(n,e.reason));return(n,a)=>{b_(n);const i=new AbortController;r(i);const l=Fae(async()=>{wl(e),wl(i.signal);const u=await n({pause:Lg(i.signal),delay:B6(i.signal),signal:i.signal});return wl(i.signal),u},()=>bl(i,Bae));return a?.autoJoin&&t.push(l.catch(Ig)),{result:Lg(e)(l),cancel(){bl(i,$ae)}}}},qae=(e,t)=>{const r=async(n,a)=>{wl(t);let i=()=>{};const u=[new Promise((d,f)=>{let m=e({predicate:n,effect:(g,x)=>{x.unsubscribe(),d([g,x.getState(),x.getOriginalState()])}});i=()=>{m(),f()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await $6(t,Promise.race(u));return wl(t),d}finally{i()}};return(n,a)=>I6(r(n,a))},z6=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Ja(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Sa(21));return b_(i),{predicate:a,type:t,effect:i}},F6=Yc(e=>{const{type:t,predicate:r,effect:n}=z6(e);return{id:Cae(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Sa(22))}}},{withTypes:()=>F6}),sA=(e,t)=>{const{type:r,effect:n,predicate:a}=z6(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},b1=e=>{e.pending.forEach(t=>{bl(t,v1)})},Hae=(e,t)=>()=>{for(const r of t.keys())b1(r);e.clear()},iA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},U6=Yc(Ja(`${s0}/add`),{withTypes:()=>U6}),Wae=Ja(`${s0}/removeAll`),q6=Yc(Ja(`${s0}/remove`),{withTypes:()=>q6}),Yae=(...e)=>{console.error(`${s0}/error`,...e)},Mf=(e={})=>{const t=new Map,r=new Map,n=v=>{const j=r.get(v)??0;r.set(v,j+1)},a=v=>{const j=r.get(v)??1;j===1?r.delete(v):r.set(v,j-1)},{extra:i,onError:l=Yae}=e;b_(l);const u=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),j=>{v.unsubscribe(),j?.cancelActive&&b1(v)}),d=v=>{const j=sA(t,v)??F6(v);return u(j)};Yc(d,{withTypes:()=>d});const f=v=>{const j=sA(t,v);return j&&(j.unsubscribe(),v.cancelActive&&b1(j)),!!j};Yc(f,{withTypes:()=>f});const m=async(v,j,w,b)=>{const S=new AbortController,k=qae(d,S.signal),C=[];try{v.pending.add(S),n(v),await Promise.resolve(v.effect(j,Yc({},w,{getOriginalState:b,condition:(E,O)=>k(E,O).then(Boolean),take:k,delay:B6(S.signal),pause:Lg(S.signal),extra:i,signal:S.signal,fork:Uae(S.signal,C),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((E,O,D)=>{E!==S&&(bl(E,v1),D.delete(E))})},cancel:()=>{bl(S,v1),v.pending.delete(S)},throwIfCancelled:()=>{wl(S.signal)}})))}catch(E){E instanceof a0||iA(l,E,{raisedBy:"effect"})}finally{await Promise.all(C),bl(S,zae),a(v),v.pending.delete(S)}},g=Hae(t,r);return{middleware:v=>j=>w=>{if(!w6(w))return j(w);if(U6.match(w))return d(w.payload);if(Wae.match(w)){g();return}if(q6.match(w))return f(w.payload);let b=v.getState();const S=()=>{if(b===aA)throw new Error(Sa(23));return b};let k;try{if(k=j(w),t.size>0){const C=v.getState(),E=Array.from(t.values());for(const O of E){let D=!1;try{D=O.predicate(w,C,b)}catch(T){D=!1,iA(l,T,{raisedBy:"predicate"})}D&&m(O,w,v,S)}}}finally{b=aA}return k},startListening:d,stopListening:f,clearListeners:g}};function Sa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Kae={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},H6=Ta({name:"chartLayout",initialState:Kae,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Vae,setLayout:Gae,setChartSize:Qae,setScale:Xae}=H6.actions,Zae=H6.reducer;function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){Jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jae(e,t,r){return(t=ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ese(e){var t=tse(e,"string");return typeof t=="symbol"?t:t+""}function tse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $g=Math.PI/180,rse=e=>e*180/Math.PI,hn=(e,t,r,n)=>({x:e+Math.cos(-$g*n)*r,y:t+Math.sin(-$g*n)*r}),nse=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ase=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},sse=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=ase({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>i&&(d=2*Math.PI-d),{radius:l,angle:rse(d),angleInRadian:d}},ise=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},ose=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},lse=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=sse({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:f}=ise(t),m=i,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?lA(lA({},t),{},{radius:a,angle:ose(m,t)}):null};function W6(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cse(e,t,r){return(t=use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function use(e){var t=dse(e,"string");return typeof t=="symbol"?t:t+""}function dse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rn(e,t,r){return fr(e)||fr(t)?r:Bs(t)?tu(e,t,r):typeof t=="function"?t(e):r}var fse=(e,t,r,n,a)=>{var i,l=-1,u=(i=t?.length)!==null&&i!==void 0?i:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?r[d-1].coordinate:r[u-1].coordinate,m=r[d].coordinate,g=d>=u-1?r[0].coordinate:r[d+1].coordinate,x=void 0;if(Zn(m-f)!==Zn(g-m)){var v=[];if(Zn(g-m)===Zn(a[1]-a[0])){x=g;var j=m+a[1]-a[0];v[0]=Math.min(j,(j+f)/2),v[1]=Math.max(j,(j+f)/2)}else{x=f;var w=g+a[1]-a[0];v[0]=Math.min(m,(w+m)/2),v[1]=Math.max(m,(w+m)/2)}var b=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){({index:l}=r[d]);break}}else{var S=Math.min(f,g),k=Math.max(f,g);if(e>(S+m)/2&&e<=(k+m)/2){({index:l}=r[d]);break}}}else if(t){for(var C=0;C<u;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:l}=t[C]);break}}return l},hse=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&i!=="center"&&We(e[i]))return Ka(Ka({},e),{},{[i]:e[i]+(n||0)});if((u==="horizontal"||u==="vertical"&&i==="center")&&l!=="middle"&&We(e[l]))return Ka(Ka({},e),{},{[l]:e[l]+(a||0)})}return e},Ro=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Y6=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,i,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(i=!0),u.coordinate));return a||l.push(t),i||l.push(r),l},K6=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:x,axisType:v}=e;if(!l)return null;var j=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=a==="category"&&l.bandwidth?l.bandwidth()/j:0;if(w=v==="angleAxis"&&i&&i.length>=2?Zn(i[0]-i[1])*2*w:w,g||x){var b=(g||x||[]).map((S,k)=>{var C=n?n.indexOf(S):S;return{coordinate:l(C)+w,value:S,offset:w,index:k}});return b.filter(S=>!Za(S.coordinate))}return d&&f?f.map((S,k)=>({coordinate:l(S)+w,value:S,index:k,offset:w})):l.ticks&&m!=null?l.ticks(m).map((S,k)=>({coordinate:l(S)+w,value:S,offset:w,index:k})):l.domain().map((S,k)=>({coordinate:l(S)+w,value:n?n[S]:S,index:k,offset:w}))},uA=1e-4,mse=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-uA,i=Math.max(n[0],n[1])+uA,l=e(t[0]),u=e(t[r-1]);(l<a||l>i||u<a||u>i)&&e.domain([t[0],t[r-1]])}},gse=(e,t)=>{if(!t||t.length!==2||!We(t[0])||!We(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!We(e[0])||e[0]<r)&&(a[0]=r),(!We(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},pse=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var u=Za(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+u,i=e[l][r][1])}},yse=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=Za(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},xse={sign:pse,expand:Fre,none:eu,silhouette:Ure,wiggle:qre,positive:yse},vse=(e,t,r)=>{var n=xse[r],a=zre().keys(t).value((i,l)=>+rn(i,l,0)).order(c1).offset(n);return a(e)};function bse(e){return e==null?void 0:String(e)}function dA(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fr(a[t.dataKey])){var u=t6(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=rn(a,fr(l)?t.dataKey:l);return fr(d)?null:t.scale(d)}var fA=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var u=rn(i,t.dataKey,t.scale.domain()[l]);return fr(u)?null:t.scale(u)-a/2+n},wse=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},jse=e=>{var t=e.flat(2).filter(We);return[Math.min(...t),Math.max(...t)]},_se=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Sse=(e,t,r)=>{if(e!=null)return _se(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,u=l.reduce((d,f)=>{var m=W6(f,t,r),g=jse(m);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},hA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,of=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=e0(t,m=>m.coordinate),i=1/0,l=1,u=a.length;l<u;l++){var d=a[l],f=a[l-1];i=Math.min((d.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function gA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Ka(Ka({},t),{},{dataKey:r,payload:n,value:a,name:i})}function i0(e,t){if(e)return String(e);if(typeof t=="string")return t}function Nse(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?lse({x:e,y:t},n):null}var kse=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return Ka(Ka(Ka({},n),hn(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var u=a.coordinate,{angle:d}=n;return Ka(Ka(Ka({},n),hn(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},Cse=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ai=e=>e.layout.width,Di=e=>e.layout.height,Tse=e=>e.layout.scale,V6=e=>e.layout.margin,o0=me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),l0=me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ese="data-recharts-item-index",Ose="data-recharts-item-data-key",Pf=60;function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){Ase(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ase(e,t,r){return(t=Dse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dse(e){var t=Mse(e,"string");return typeof t=="symbol"?t:t+""}function Mse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pse=e=>e.brush.height;function Rse(e){var t=l0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Pf;return r+a}return r},0)}function Ise(e){var t=l0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Pf;return r+a}return r},0)}function Lse(e){var t=o0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function $se(e){var t=o0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var nn=me([Ai,Di,V6,Pse,Rse,Ise,Lse,$se,y6,Jne],(e,t,r,n,a,i,l,u,d,f)=>{var m={left:(r.left||0)+a,right:(r.right||0)+i},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},x=Um(Um({},g),m),v=x.bottom;x.bottom+=n,x=hse(x,d,f);var j=e-x.left-x.right,w=t-x.top-x.bottom;return Um(Um({brushBottom:v},x),{},{width:Math.max(j,0),height:Math.max(w,0)})}),Bse=me(nn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),w_=me(Ai,Di,(e,t)=>({x:0,y:0,width:e,height:t})),zse=y.createContext(null),In=()=>y.useContext(zse)!=null,c0=e=>e.brush,u0=me([c0,nn,V6],(e,t,r)=>({height:e.height,x:We(e.x)?e.x:t.left,y:We(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:We(e.width)?e.width:t.width})),Rb={},Ib={},Lb={},yA;function Fse(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,u=null;const d=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),m=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{f&&m(),w()};let x=null;const v=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},n)},j=()=>{x!==null&&(clearTimeout(x),x=null)},w=()=>{j(),l=void 0,u=null},b=()=>{m()},S=function(...k){if(a?.aborted)return;l=this,u=k;const C=x==null;v(),d&&C&&m()};return S.schedule=v,S.cancel=w,S.flush=b,a?.addEventListener("abort",w,{once:!0}),S}e.debounce=t})(Lb)),Lb}var xA;function Use(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fse();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:u=!0,maxWait:d}=i,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let m,g=null;const x=t.debounce(function(...w){m=n.apply(this,w),g=null},a,{edges:f}),v=function(...w){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(m=n.apply(this,w),g=Date.now(),x.cancel(),x.schedule(),m):(x.apply(this,w),m)},j=()=>(x.flush(),m);return v.cancel=x.cancel,v.flush=j,v}e.debounce=r})(Ib)),Ib}var vA;function qse(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Use();function r(n,a=0,i={}){const{leading:l=!0,trailing:u=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(Rb)),Rb}var $b,bA;function Hse(){return bA||(bA=1,$b=qse().throttle),$b}var Wse=Hse();const Yse=ts(Wse);var Bg=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},G6=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:l}=r,u=Ni(n)?e:Number(n),d=Ni(a)?t:Number(a);return i&&i>0&&(u?d=u/i:d&&(u=d*i),l&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},Kse={width:0,height:0,overflow:"visible"},Vse={width:0,overflowX:"visible"},Gse={height:0,overflowY:"visible"},Qse={},Xse=e=>{var{width:t,height:r}=e,n=Ni(t),a=Ni(r);return n&&a?Kse:n?Vse:a?Gse:Qse};function Zse(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function _n(e){return Number.isFinite(e)}function ru(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w1.apply(null,arguments)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){Jse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jse(e,t,r){return(t=eie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eie(e){var t=tie(e,"string");return typeof t=="symbol"?t:t+""}function tie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q6=y.createContext({width:-1,height:-1});function X6(e){var{children:t,width:r,height:n}=e,a=y.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:y.createElement(Q6.Provider,{value:a},t)}var j_=()=>y.useContext(Q6),rie=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:m=0,id:g,className:x,onResize:v,style:j={}}=e,w=y.useRef(null),b=y.useRef();b.current=v,y.useImperativeHandle(t,()=>w.current);var[S,k]=y.useState({containerWidth:n.width,containerHeight:n.height}),C=y.useCallback((M,I)=>{k($=>{var B=Math.round(M),z=Math.round(I);return $.containerWidth===B&&$.containerHeight===z?$:{containerWidth:B,containerHeight:z}})},[]);y.useEffect(()=>{var M=z=>{var Y,{width:ne,height:V}=z[0].contentRect;C(ne,V),(Y=b.current)===null||Y===void 0||Y.call(b,ne,V)};m>0&&(M=Yse(M,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(M),{width:$,height:B}=w.current.getBoundingClientRect();return C($,B),I.observe(w.current),()=>{I.disconnect()}},[C,m]);var{containerWidth:E,containerHeight:O}=S;Bg(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:T}=G6(E,O,{width:a,height:i,aspect:r,maxHeight:d});return Bg(D>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,T,a,i,l,u,r),y.createElement("div",{id:g?"".concat(g):void 0,className:It("recharts-responsive-container",x),style:jA(jA({},j),{},{width:a,height:i,minWidth:l,minHeight:u,maxHeight:d}),ref:w},y.createElement("div",{style:Xse({width:a,height:i})},y.createElement(X6,{width:D,height:T},f)))}),d0=y.forwardRef((e,t)=>{var r=j_();if(ru(r.width)&&ru(r.height))return e.children;var{width:n,height:a}=Zse({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=G6(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return We(i)&&We(l)?y.createElement(X6,{width:i,height:l},e.children):y.createElement(rie,w1({},e,{width:n,height:a,ref:t}))}),f0=()=>{var e,t=In(),r=Fe(Bse),n=Fe(u0),a=(e=Fe(c0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},nie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Z6=()=>{var e;return(e=Fe(nn))!==null&&e!==void 0?e:nie},__=()=>Fe(Ai),S_=()=>Fe(Di),aie=()=>Fe(e=>e.layout.margin),$t=e=>e.layout.layoutType,h0=()=>Fe($t),m0=e=>{var t=Or(),r=In(),{width:n,height:a}=e,i=j_(),l=n,u=a;return i&&(l=i.width>0?i.width:n,u=i.height>0?i.height:a),y.useEffect(()=>{!r&&ru(l)&&ru(u)&&t(Qae({width:l,height:u}))},[t,r,l,u]),null},sie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},J6=Ta({name:"legend",initialState:sie,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:An()},removeLegendPayload:{reducer(e,t){var r=wi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:An()}}}),{setLegendSize:_A,setLegendSettings:iie,addLegendPayload:oie,removeLegendPayload:lie}=J6.actions,cie=J6.reducer,uie=["contextPayload"];function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(null,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){N_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N_(e,t,r){return(t=die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function die(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hie(e,t){if(e==null)return{};var r,n,a=mie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gie(e){return e.value}function pie(e){var{contextPayload:t}=e,r=hie(e,uie),n=f6(t,e.payloadUniqBy,gie),a=nu(nu({},r),{},{payload:n});return y.isValidElement(e.content)?y.cloneElement(e.content,a):typeof e.content=="function"?y.createElement(e.content,a):y.createElement(h_,a)}function yie(e,t,r,n,a,i){var{layout:l,align:u,verticalAlign:d}=t,f,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?f={left:((n||0)-i.width)/2}:f=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?m={top:((a||0)-i.height)/2}:m=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),nu(nu({},f),m)}function xie(e){var t=Or();return y.useEffect(()=>{t(iie(e))},[t,e]),null}function vie(e){var t=Or();return y.useEffect(()=>(t(_A(e)),()=>{t(_A({width:0,height:0}))}),[t,e]),null}function bie(e){var t=rae(),r=ure(),n=aie(),{width:a,height:i,wrapperStyle:l,portal:u}=e,[d,f]=x6([t]),m=__(),g=S_();if(m==null||g==null)return null;var x=m-(n.left||0)-(n.right||0),v=Rf.getWidthOrHeight(e.layout,i,a,x),j=u?l:nu(nu({position:"absolute",width:v?.width||a||"auto",height:v?.height||i||"auto"},yie(l,e,n,m,g,d)),l),w=u??r;if(w==null)return null;var b=y.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:f},y.createElement(xie,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(vie,{width:d.width,height:d.height}),y.createElement(pie,j1({},e,v,{margin:n,chartWidth:m,chartHeight:g,contextPayload:t})));return ja.createPortal(b,w)}class Rf extends y.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&We(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return y.createElement(bie,this.props)}}N_(Rf,"displayName","Legend");N_(Rf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(null,arguments)}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){wie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wie(e,t,r){return(t=jie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jie(e){var t=_ie(e,"string");return typeof t=="symbol"?t:t+""}function _ie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sie(e){return Array.isArray(e)&&Bs(e[0])&&Bs(e[1])?e.join(" ~ "):e}var Nie=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:x=!1}=e,v=()=>{if(i&&i.length){var O={padding:0,margin:0},D=(u?e0(i,u):i).map((T,M)=>{if(T.type==="none")return null;var I=T.formatter||l||Sie,{value:$,name:B}=T,z=$,Y=B;if(I){var ne=I($,B,T,M,i);if(Array.isArray(ne))[z,Y]=ne;else if(ne!=null)z=ne;else return null}var V=Bb({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:V},Bs(Y)?y.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Bs(Y)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},z),y.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},j=Bb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Bb({margin:0},a),b=!fr(m),S=b?m:"",k=It("recharts-default-tooltip",d),C=It("recharts-tooltip-label",f);b&&g&&i!==void 0&&i!==null&&(S=g(m,i));var E=x?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",_1({className:k,style:j},E),y.createElement("p",{className:C,style:w},y.isValidElement(S)?S:"".concat(S)),v())},Cd="recharts-tooltip-wrapper",kie={visibility:"hidden"};function Cie(e){var{coordinate:t,translateX:r,translateY:n}=e;return It(Cd,{["".concat(Cd,"-right")]:We(r)&&t&&We(t.x)&&r>=t.x,["".concat(Cd,"-left")]:We(r)&&t&&We(t.x)&&r<t.x,["".concat(Cd,"-bottom")]:We(n)&&t&&We(t.y)&&n>=t.y,["".concat(Cd,"-top")]:We(n)&&t&&We(t.y)&&n<t.y})}function kA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(i&&We(i[n]))return i[n];var m=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?m:g;var x=d[n];if(x==null)return 0;if(l[n]){var v=m,j=x;return v<j?Math.max(g,x):Math.max(m,x)}if(f==null)return 0;var w=g+u,b=x+f;return w>b?Math.max(m,x):Math.max(g,x)}function Tie(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Eie(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,m,g;return l.height>0&&l.width>0&&r?(m=kA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=kA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Tie({translateX:m,translateY:g,useTranslate3d:u})):f=kie,{cssProperties:f,cssClasses:Cie({translateX:m,translateY:g,coordinate:r})}}function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){S1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S1(e,t,r){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Die extends y.PureComponent{constructor(){super(...arguments),S1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),S1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:m,reverseDirection:g,useTranslate3d:x,viewBox:v,wrapperStyle:j,lastBoundingBox:w,innerRef:b,hasPortalFromProps:S}=this.props,{cssClasses:k,cssProperties:C}=Eie({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:x,viewBox:v}),E=S?{}:qm(qm({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=qm(qm({},E),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:O,ref:b},i)}}var Mie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hl={devToolsEnabled:!1,isSsr:Mie()},eI=()=>Fe(e=>e.rootProps.accessibilityLayer);function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(null,arguments)}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){Pie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pie(e,t,r){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rie(e){var t=Iie(e,"string");return typeof t=="symbol"?t:t+""}function Iie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OA={curveBasisClosed:Ere,curveBasisOpen:Ore,curveBasis:Tre,curveBumpX:mre,curveBumpY:gre,curveLinearClosed:Are,curveLinear:Xp,curveMonotoneX:Dre,curveMonotoneY:Mre,curveNatural:Pre,curveStep:Rre,curveStepAfter:Lre,curveStepBefore:Ire},Hm=e=>_n(e.x)&&_n(e.y),Td=e=>e.x,Ed=e=>e.y,Lie=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Af(e));return(r==="curveMonotone"||r==="curveBump")&&t?OA["".concat(r).concat(t==="vertical"?"Y":"X")]:OA[r]||Xp},$ie=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=Lie(t,a),u=i?r.filter(Hm):r,d;if(Array.isArray(n)){var f=i?n.filter(g=>Hm(g)):n,m=u.map((g,x)=>EA(EA({},g),{},{base:f[x]}));return a==="vertical"?d=Im().y(Ed).x1(Td).x0(g=>g.base.x):d=Im().x(Td).y1(Ed).y0(g=>g.base.y),d.defined(Hm).curve(l),d(m)}return a==="vertical"&&We(n)?d=Im().y(Ed).x1(Td).x0(n):We(n)?d=Im().x(Td).y1(Ed).y0(n):d=U5().x(Td).y(Ed),d.defined(Hm).curve(l),d(u)},tI=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?$ie(e):n;return y.createElement("path",N1({},ys(e),d_(e),{className:It("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Bie=["x","y","top","left","width","height","className"];function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k1.apply(null,arguments)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){Fie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fie(e,t,r){return(t=Uie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hie(e,t){if(e==null)return{};var r,n,a=Wie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yie=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Kie=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:u}=e,d=Hie(e,Bie),f=zie({x:t,y:r,top:n,left:a,width:i,height:l},d);return!We(t)||!We(r)||!We(i)||!We(l)||!We(n)||!We(a)?null:y.createElement("path",k1({},Rn(f),{className:It("recharts-cross",u),d:Yie(t,r,i,l,n,a)}))};function Vie(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){Qie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qie(e,t,r){return(t=Xie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xie(e){var t=Zie(e,"string");return typeof t=="symbol"?t:t+""}function Zie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ra(e,t){var r=Gie({},e),n=t,a=Object.keys(t),i=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return i}function Jie(){}function eoe(e){return e!=null}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function toe(e,t,r){return(t=roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function roe(e){var t=noe(e,"string");return typeof t=="symbol"?t:t+""}function noe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aoe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rI=(e,t,r)=>e.map(n=>"".concat(aoe(n)," ").concat(t,"ms ").concat(r)).join(","),soe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),lf=(e,t)=>Object.keys(t).reduce((r,n)=>PA(PA({},r),{},{[n]:e(n,t[n])}),{});function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(n){ioe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ioe(e,t,r){return(t=ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ooe(e){var t=loe(e,"string");return typeof t=="symbol"?t:t+""}function loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zg=(e,t,r)=>e+(t-e)*r,C1=e=>{var{from:t,to:r}=e;return t!==r},nI=(e,t,r)=>{var n=lf((a,i)=>{if(C1(i)){var[l,u]=e(i.from,i.to,i.velocity);return fn(fn({},i),{},{from:l,velocity:u})}return i},t);return r<1?lf((a,i)=>C1(i)?fn(fn({},i),{},{velocity:zg(i.velocity,n[a].velocity,r),from:zg(i.from,n[a].from,r)}):i,t):nI(e,n,r-1)};function coe(e,t,r,n,a,i){var l,u=n.reduce((x,v)=>fn(fn({},x),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),d=()=>lf((x,v)=>v.from,u),f=()=>!Object.values(u).filter(C1).length,m=null,g=x=>{l||(l=x);var v=x-l,j=v/r.dt;u=nI(r,u,j),a(fn(fn(fn({},e),t),d())),l=x,f()||(m=i.setTimeout(g))};return()=>(m=i.setTimeout(g),()=>{m()})}function uoe(e,t,r,n,a,i,l){var u=null,d=a.reduce((g,x)=>fn(fn({},g),{},{[x]:[e[x],t[x]]}),{}),f,m=g=>{f||(f=g);var x=(g-f)/n,v=lf((w,b)=>zg(...b,r(x)),d);if(i(fn(fn(fn({},e),t),v)),x<1)u=l.setTimeout(m);else{var j=lf((w,b)=>zg(...b,r(1)),d);i(fn(fn(fn({},e),t),j))}};return()=>(u=l.setTimeout(m),()=>{u()})}const doe=(e,t,r,n,a,i)=>{var l=soe(e,t);return r.isStepper===!0?coe(e,t,r,l,a,i):uoe(e,t,r,n,l,a,i)};var Fg=1e-4,aI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],sI=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),IA=(e,t)=>r=>{var n=aI(e,t);return sI(n,r)},foe=(e,t)=>r=>{var n=aI(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return sI(a,r)},LA=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,a]=d[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else l.length===4&&([t,n,r,a]=l);var f=IA(t,r),m=IA(n,a),g=foe(t,r),x=j=>j>1?1:j<0?0:j,v=j=>{for(var w=j>1?1:j,b=w,S=0;S<8;++S){var k=f(b)-w,C=g(b);if(Math.abs(k-w)<Fg||C<Fg)return m(b);b=x(b-k/C)}return m(b)};return v.isStepper=!1,v},hoe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,u,d)=>{var f=-(l-u)*r,m=d*n,g=d+(f-m)*a/1e3,x=d*a/1e3+l;return Math.abs(x-u)<Fg&&Math.abs(g)<Fg?[u,0]:[x,g]};return i.isStepper=!0,i.dt=a,i},moe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LA(e);case"spring":return hoe();default:if(e.split("(")[0]==="cubic-bezier")return LA(e)}return typeof e=="function"?e:null};function goe(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){a=e.setTimeout(i.bind(null,f),d);return}i(d),a=e.setTimeout(i.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class poe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function yoe(){return goe(new poe)}var xoe=y.createContext(yoe);function voe(e,t){var r=y.useContext(xoe);return y.useMemo(()=>t??r(e),[e,t,r])}var boe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$A={t:0},zb={t:1};function g0(e){var t=ra(e,boe),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,m=voe(t.animationId,t.animationManager),[g,x]=y.useState(r?$A:zb),v=y.useRef(null);return y.useEffect(()=>{r||x(zb)},[r]),y.useEffect(()=>{if(!r||!n)return Jie;var j=doe($A,zb,moe(i),a,x,m.getTimeoutController()),w=()=>{v.current=j()};return m.start([d,l,w,a,u]),()=>{m.stop(),v.current&&v.current(),u()}},[r,n,a,i,l,d,u,m]),f(g.t)}function p0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(rf(t)),n=y.useRef(e);return n.current!==e&&(r.current=rf(t),n.current=e),r.current}var woe=["radius"],joe=["radius"];function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){_oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _oe(e,t,r){return(t=Soe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Soe(e){var t=Noe(e,"string");return typeof t=="symbol"?t:t+""}function Noe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(null,arguments)}function FA(e,t){if(e==null)return{};var r,n,a=koe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UA=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(i>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,x=4;g<x;g++)m[g]=a[g]>i?i:a[g];f="M".concat(e,",").concat(t+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+u*m[0],",").concat(t)),f+="L ".concat(e+r-u*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*m[1])),f+="L ".concat(e+r,",").concat(t+n-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-u*m[2],",").concat(t+n)),f+="L ".concat(e+u*m[3],",").concat(t+n),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*m[3])),f+="Z"}else if(i>0&&a===+a&&a>0){var v=Math.min(i,a);f="M ".concat(e,",").concat(t+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+u*v,",").concat(t,`
            L `).concat(e+r-u*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*v,`
            L `).concat(e+r,",").concat(t+n-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r-u*v,",").concat(t+n,`
            L `).concat(e+u*v,",").concat(t+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},Coe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iI=e=>{var t=ra(e,Coe),r=y.useRef(null),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Z=r.current.getTotalLength();Z&&a(Z)}catch{}},[]);var{x:i,y:l,width:u,height:d,radius:f,className:m}=t,{animationEasing:g,animationDuration:x,animationBegin:v,isAnimationActive:j,isUpdateAnimationActive:w}=t,b=y.useRef(u),S=y.useRef(d),k=y.useRef(i),C=y.useRef(l),E=y.useMemo(()=>({x:i,y:l,width:u,height:d,radius:f}),[i,l,u,d,f]),O=p0(E,"rectangle-");if(i!==+i||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var D=It("recharts-rectangle",m);if(!w){var T=Rn(t),{radius:M}=T,I=FA(T,woe);return y.createElement("path",Ug({},I,{radius:typeof f=="number"?f:void 0,className:D,d:UA(i,l,u,d,f)}))}var $=b.current,B=S.current,z=k.current,Y=C.current,ne="0px ".concat(n===-1?1:n,"px"),V="".concat(n,"px 0px"),F=rI(["strokeDasharray"],x,typeof g=="string"?g:void 0);return y.createElement(g0,{animationId:O,key:O,canBegin:n>0,duration:x,easing:g,isActive:w,begin:v},Z=>{var q=Lr($,u,Z),U=Lr(B,d,Z),W=Lr(z,i,Z),L=Lr(Y,l,Z);r.current&&(b.current=q,S.current=U,k.current=W,C.current=L);var ee;j?Z>0?ee={transition:F,strokeDasharray:V}:ee={strokeDasharray:ne}:ee={strokeDasharray:V};var J=Rn(t),{radius:Q}=J,fe=FA(J,joe);return y.createElement("path",Ug({},fe,{radius:typeof f=="number"?f:void 0,className:D,d:UA(W,L,q,U,f),ref:r,style:zA(zA({},ee),t.style)}))})};function oI(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=hn(t,r,n,a),u=hn(t,r,n,i);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(null,arguments)}var Toe=(e,t)=>{var r=Zn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Wm=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+n,m=Math.asin(u/f)/$g,g=d?a:a+i*m,x=hn(t,r,f,g),v=hn(t,r,n,g),j=d?a-i*m:a,w=hn(t,r,f*Math.cos(m*$g),j);return{center:x,circleTangency:v,lineTangency:w,theta:m}},lI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,u=Toe(i,l),d=i+u,f=hn(t,r,a,i),m=hn(t,r,a,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(i>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var x=hn(t,r,n,i),v=hn(t,r,n,d);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(i<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},Eoe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,m=Zn(f-d),{circleTangency:g,lineTangency:x,theta:v}=Wm({cx:t,cy:r,radius:a,angle:d,sign:m,cornerRadius:i,cornerIsExternal:u}),{circleTangency:j,lineTangency:w,theta:b}=Wm({cx:t,cy:r,radius:a,angle:f,sign:-m,cornerRadius:i,cornerIsExternal:u}),S=u?Math.abs(d-f):Math.abs(d-f)-v-b;if(S<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):lI({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var k="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:E,theta:O}=Wm({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),{circleTangency:D,lineTangency:T,theta:M}=Wm({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),I=u?Math.abs(d-f):Math.abs(d-f)-O-M;if(I<0&&i===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,"Z")}else k+="L".concat(t,",").concat(r,"Z");return k},Ooe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cI=e=>{var t=ra(e,Ooe),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m,className:g}=t;if(i<a||f===m)return null;var x=It("recharts-sector",g),v=i-a,j=vs(l,v,0,!0),w;return j>0&&Math.abs(f-m)<360?w=Eoe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(j,v/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}):w=lI({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:m}),y.createElement("path",T1({},Rn(t),{className:x,d:w}))};function Aoe(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:f,outerRadius:m,angle:g}=t,x=hn(u,d,f,g),v=hn(u,d,m,g);n=x.x,a=x.y,i=v.x,l=v.y}else return oI(t);return[{x:n,y:a},{x:i,y:l}]}var Fb={},Ub={},qb={},qA;function Doe(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g6();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(qb)),qb}var HA;function Moe(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Doe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Ub)),Ub}var WA;function Poe(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p6(),r=Moe();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((i-a)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=a,a+=l;return d}e.range=n})(Fb)),Fb}var Hb,YA;function Roe(){return YA||(YA=1,Hb=Poe().range),Hb}var Ioe=Roe();const uI=ts(Ioe);function vo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Loe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k_(e){let t,r,n;e.length!==2?(t=vo,r=(u,d)=>vo(e(u),d),n=(u,d)=>e(u)-d):(t=e===vo||e===Loe?e:$oe,r=e,n=e);function a(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(u[g],d)<0?f=g+1:m=g}while(f<m)}return f}function i(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(u[g],d)<=0?f=g+1:m=g}while(f<m)}return f}function l(u,d,f=0,m=u.length){const g=a(u,d,f,m-1);return g>f&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:a,center:l,right:i}}function $oe(){return 0}function dI(e){return e===null?NaN:+e}function*Boe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zoe=k_(vo),If=zoe.right;k_(dI).center;class KA extends Map{constructor(t,r=qoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(VA(this,t))}has(t){return super.has(VA(this,t))}set(t,r){return super.set(Foe(this,t),r)}delete(t){return super.delete(Uoe(this,t))}}function VA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Foe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Uoe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function qoe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Hoe(e=vo){if(e===vo)return fI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Woe=Math.sqrt(50),Yoe=Math.sqrt(10),Koe=Math.sqrt(2);function qg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=Woe?10:i>=Yoe?5:i>=Koe?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?qg(e,t,r*2):[u,d,f]}function E1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?qg(t,e,r):qg(e,t,r);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(i-f)/-l;else for(let f=0;f<u;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(a+f)/-l;else for(let f=0;f<u;++f)d[f]=(a+f)*l;return d}function O1(e,t,r){return t=+t,e=+e,r=+r,qg(e,t,r)[2]}function A1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?O1(t,e,r):O1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function GA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function QA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hI(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?fI:Hoe(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),g=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*g*(d-g)/d)*(f-d/2<0?-1:1),v=Math.max(r,Math.floor(t-f*g/d+x)),j=Math.min(n,Math.floor(t+(d-f)*g/d+x));hI(e,t,v,j,a)}const i=e[t];let l=r,u=n;for(Od(e,r,t),a(e[n],i)>0&&Od(e,r,n);l<u;){for(Od(e,l,u),++l,--u;a(e[l],i)<0;)++l;for(;a(e[u],i)>0;)--u}a(e[r],i)===0?Od(e,r,u):(++u,Od(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Od(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Voe(e,t,r){if(e=Float64Array.from(Boe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return QA(e);if(t>=1)return GA(e);var n,a=(n-1)*t,i=Math.floor(a),l=GA(hI(e,i).subarray(0,i+1)),u=QA(e.subarray(i+1));return l+(u-l)*(a-i)}}function Goe(e,t,r=dI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(a-i)}}function Qoe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function rs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const D1=Symbol("implicit");function C_(){var e=new KA,t=[],r=[],n=D1;function a(i){let l=e.get(i);if(l===void 0){if(n!==D1)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new KA;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return C_(t,r).unknown(n)},rs.apply(a,arguments),a}function T_(){var e=C_().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,u=!1,d=0,f=0,m=.5;delete e.unknown;function g(){var x=t().length,v=a<n,j=v?a:n,w=v?n:a;i=(w-j)/Math.max(1,x-d+f*2),u&&(i=Math.floor(i)),j+=(w-j-i*(x-d))*m,l=i*(1-d),u&&(j=Math.round(j),l=Math.round(l));var b=Qoe(x).map(function(S){return j+i*S});return r(v?b.reverse():b)}return e.domain=function(x){return arguments.length?(t(x),g()):t()},e.range=function(x){return arguments.length?([n,a]=x,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(x){return[n,a]=x,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(u=!!x,g()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,f=+x),g()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),g()):d},e.paddingOuter=function(x){return arguments.length?(f=+x,g()):f},e.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),g()):m},e.copy=function(){return T_(t(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(m)},rs.apply(g(),arguments)}function mI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mI(t())},e}function Xoe(){return mI(T_.apply(null,arguments).paddingInner(1))}function E_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lf(){}var cf=.7,Hg=1/cf,Kc="\\s*([+-]?\\d+)\\s*",uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zoe=/^#([0-9a-f]{3,8})$/,Joe=new RegExp(`^rgb\\(${Kc},${Kc},${Kc}\\)$`),ele=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),tle=new RegExp(`^rgba\\(${Kc},${Kc},${Kc},${uf}\\)$`),rle=new RegExp(`^rgba\\(${Is},${Is},${Is},${uf}\\)$`),nle=new RegExp(`^hsl\\(${uf},${Is},${Is}\\)$`),ale=new RegExp(`^hsla\\(${uf},${Is},${Is},${uf}\\)$`),XA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E_(Lf,df,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZA,formatHex:ZA,formatHex8:sle,formatHsl:ile,formatRgb:JA,toString:JA});function ZA(){return this.rgb().formatHex()}function sle(){return this.rgb().formatHex8()}function ile(){return pI(this).formatHsl()}function JA(){return this.rgb().formatRgb()}function df(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Zoe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?eD(t):r===3?new Jn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ym(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ym(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Joe.exec(e))?new Jn(t[1],t[2],t[3],1):(t=ele.exec(e))?new Jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tle.exec(e))?Ym(t[1],t[2],t[3],t[4]):(t=rle.exec(e))?Ym(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nle.exec(e))?nD(t[1],t[2]/100,t[3]/100,1):(t=ale.exec(e))?nD(t[1],t[2]/100,t[3]/100,t[4]):XA.hasOwnProperty(e)?eD(XA[e]):e==="transparent"?new Jn(NaN,NaN,NaN,0):null}function eD(e){return new Jn(e>>16&255,e>>8&255,e&255,1)}function Ym(e,t,r,n){return n<=0&&(e=t=r=NaN),new Jn(e,t,r,n)}function ole(e){return e instanceof Lf||(e=df(e)),e?(e=e.rgb(),new Jn(e.r,e.g,e.b,e.opacity)):new Jn}function M1(e,t,r,n){return arguments.length===1?ole(e):new Jn(e,t,r,n??1)}function Jn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}E_(Jn,M1,gI(Lf,{brighter(e){return e=e==null?Hg:Math.pow(Hg,e),new Jn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cf:Math.pow(cf,e),new Jn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Jn(jl(this.r),jl(this.g),jl(this.b),Wg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tD,formatHex:tD,formatHex8:lle,formatRgb:rD,toString:rD}));function tD(){return`#${pl(this.r)}${pl(this.g)}${pl(this.b)}`}function lle(){return`#${pl(this.r)}${pl(this.g)}${pl(this.b)}${pl((isNaN(this.opacity)?1:this.opacity)*255)}`}function rD(){const e=Wg(this.opacity);return`${e===1?"rgb(":"rgba("}${jl(this.r)}, ${jl(this.g)}, ${jl(this.b)}${e===1?")":`, ${e})`}`}function Wg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pl(e){return e=jl(e),(e<16?"0":"")+e.toString(16)}function nD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hs(e,t,r,n)}function pI(e){if(e instanceof hs)return new hs(e.h,e.s,e.l,e.opacity);if(e instanceof Lf||(e=df(e)),!e)return new hs;if(e instanceof hs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,u=i-a,d=(i+a)/2;return u?(t===i?l=(r-n)/u+(r<n)*6:r===i?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+a:2-i-a,l*=60):u=d>0&&d<1?0:l,new hs(l,u,d,e.opacity)}function cle(e,t,r,n){return arguments.length===1?pI(e):new hs(e,t,r,n??1)}function hs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}E_(hs,cle,gI(Lf,{brighter(e){return e=e==null?Hg:Math.pow(Hg,e),new hs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cf:Math.pow(cf,e),new hs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Jn(Wb(e>=240?e-240:e+120,a,n),Wb(e,a,n),Wb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new hs(aD(this.h),Km(this.s),Km(this.l),Wg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wg(this.opacity);return`${e===1?"hsl(":"hsla("}${aD(this.h)}, ${Km(this.s)*100}%, ${Km(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aD(e){return e=(e||0)%360,e<0?e+360:e}function Km(e){return Math.max(0,Math.min(1,e||0))}function Wb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const O_=e=>()=>e;function ule(e,t){return function(r){return e+r*t}}function dle(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function fle(e){return(e=+e)==1?yI:function(t,r){return r-t?dle(t,r,e):O_(isNaN(t)?r:t)}}function yI(e,t){var r=t-e;return r?ule(e,r):O_(isNaN(e)?t:e)}const sD=(function e(t){var r=fle(t);function n(a,i){var l=r((a=M1(a)).r,(i=M1(i)).r),u=r(a.g,i.g),d=r(a.b,i.b),f=yI(a.opacity,i.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=d(m),a.opacity=f(m),a+""}}return n.gamma=e,n})(1);function hle(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function mle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gle(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=ju(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<n;++l)i[l]=a[l](u);return i}}function ple(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Yg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yle(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ju(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var P1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yb=new RegExp(P1.source,"g");function xle(e){return function(){return e}}function vle(e){return function(t){return e(t)+""}}function ble(e,t){var r=P1.lastIndex=Yb.lastIndex=0,n,a,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=P1.exec(e))&&(a=Yb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Yg(n,a)})),r=Yb.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?vle(d[0].x):xle(t):(t=d.length,function(f){for(var m=0,g;m<t;++m)u[(g=d[m]).i]=g.x(f);return u.join("")})}function ju(e,t){var r=typeof t,n;return t==null||r==="boolean"?O_(t):(r==="number"?Yg:r==="string"?(n=df(t))?(t=n,sD):ble:t instanceof df?sD:t instanceof Date?ple:mle(t)?hle:Array.isArray(t)?gle:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yle:Yg)(e,t)}function A_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function wle(e,t){t===void 0&&(t=e,e=ju);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[u](l-u)}}function jle(e){return function(){return e}}function Kg(e){return+e}var iD=[0,1];function Pn(e){return e}function R1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:jle(isNaN(t)?NaN:.5)}function _le(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Sle(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=R1(a,n),i=r(l,i)):(n=R1(n,a),i=r(i,l)),function(u){return i(n(u))}}function Nle(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=R1(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=If(e,u,1,n)-1;return i[d](a[d](u))}}function $f(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function y0(){var e=iD,t=iD,r=ju,n,a,i,l=Pn,u,d,f;function m(){var x=Math.min(e.length,t.length);return l!==Pn&&(l=_le(e[0],e[x-1])),u=x>2?Nle:Sle,d=f=null,g}function g(x){return x==null||isNaN(x=+x)?i:(d||(d=u(e.map(n),t,r)))(n(l(x)))}return g.invert=function(x){return l(a((f||(f=u(t,e.map(n),Yg)))(x)))},g.domain=function(x){return arguments.length?(e=Array.from(x,Kg),m()):e.slice()},g.range=function(x){return arguments.length?(t=Array.from(x),m()):t.slice()},g.rangeRound=function(x){return t=Array.from(x),r=A_,m()},g.clamp=function(x){return arguments.length?(l=x?!0:Pn,m()):l!==Pn},g.interpolate=function(x){return arguments.length?(r=x,m()):r},g.unknown=function(x){return arguments.length?(i=x,g):i},function(x,v){return n=x,a=v,m()}}function D_(){return y0()(Pn,Pn)}function kle(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function au(e){return e=Vg(Math.abs(e)),e?e[1]:NaN}function Cle(e,t){return function(r,n){for(var a=r.length,i=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Tle(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Ele=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ff(e){if(!(t=Ele.exec(e)))throw new Error("invalid format: "+e);var t;return new M_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ff.prototype=M_.prototype;function M_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}M_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ole(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var xI;function Ale(e,t){var r=Vg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(xI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Vg(e,Math.max(0,t+i-1))[0]}function oD(e,t){var r=Vg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const lD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kle,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oD(e*100,t),r:oD,s:Ale,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cD(e){return e}var uD=Array.prototype.map,dD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Dle(e){var t=e.grouping===void 0||e.thousands===void 0?cD:Cle(uD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?cD:Tle(uD.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=ff(g);var x=g.fill,v=g.align,j=g.sign,w=g.symbol,b=g.zero,S=g.width,k=g.comma,C=g.precision,E=g.trim,O=g.type;O==="n"?(k=!0,O="g"):lD[O]||(C===void 0&&(C=12),E=!0,O="g"),(b||x==="0"&&v==="=")&&(b=!0,x="0",v="=");var D=w==="$"?r:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",T=w==="$"?n:/[%p]/.test(O)?l:"",M=lD[O],I=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function $(B){var z=D,Y=T,ne,V,F;if(O==="c")Y=M(B)+Y,B="";else{B=+B;var Z=B<0||1/B<0;if(B=isNaN(B)?d:M(Math.abs(B),C),E&&(B=Ole(B)),Z&&+B==0&&j!=="+"&&(Z=!1),z=(Z?j==="("?j:u:j==="-"||j==="("?"":j)+z,Y=(O==="s"?dD[8+xI/3]:"")+Y+(Z&&j==="("?")":""),I){for(ne=-1,V=B.length;++ne<V;)if(F=B.charCodeAt(ne),48>F||F>57){Y=(F===46?a+B.slice(ne+1):B.slice(ne))+Y,B=B.slice(0,ne);break}}}k&&!b&&(B=t(B,1/0));var q=z.length+B.length+Y.length,U=q<S?new Array(S-q+1).join(x):"";switch(k&&b&&(B=t(U+B,U.length?S-Y.length:1/0),U=""),v){case"<":B=z+B+Y+U;break;case"=":B=z+U+B+Y;break;case"^":B=U.slice(0,q=U.length>>1)+z+B+Y+U.slice(q);break;default:B=U+z+B+Y;break}return i(B)}return $.toString=function(){return g+""},$}function m(g,x){var v=f((g=ff(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(au(x)/3)))*3,w=Math.pow(10,-j),b=dD[8+j/3];return function(S){return v(w*S)+b}}return{format:f,formatPrefix:m}}var Vm,P_,vI;Mle({thousands:",",grouping:[3],currency:["$",""]});function Mle(e){return Vm=Dle(e),P_=Vm.format,vI=Vm.formatPrefix,Vm}function Ple(e){return Math.max(0,-au(Math.abs(e)))}function Rle(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(au(t)/3)))*3-au(Math.abs(e)))}function Ile(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,au(t)-au(e))+1}function bI(e,t,r,n){var a=A1(e,t,r),i;switch(n=ff(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Rle(a,l))&&(n.precision=i),vI(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Ile(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Ple(a))&&(n.precision=i-(n.type==="%")*2);break}}return P_(n)}function Io(e){var t=e.domain;return e.ticks=function(r){var n=t();return E1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return bI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],u=n[i],d,f,m=10;for(u<l&&(f=l,l=u,u=f,f=a,a=i,i=f);m-- >0;){if(f=O1(l,u,r),f===d)return n[a]=l,n[i]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function wI(){var e=D_();return e.copy=function(){return $f(e,wI())},rs.apply(e,arguments),Io(e)}function jI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Kg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jI(e).unknown(t)},e=arguments.length?Array.from(e,Kg):[0,1],Io(r)}function _I(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function fD(e){return Math.log(e)}function hD(e){return Math.exp(e)}function Lle(e){return-Math.log(-e)}function $le(e){return-Math.exp(-e)}function Ble(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zle(e){return e===10?Ble:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Fle(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mD(e){return(t,r)=>-e(-t,r)}function R_(e){const t=e(fD,hD),r=t.domain;let n=10,a,i;function l(){return a=Fle(n),i=zle(n),r()[0]<0?(a=mD(a),i=mD(i),e(Lle,$le)):e(fD,hD),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],m=d[d.length-1];const g=m<f;g&&([f,m]=[m,f]);let x=a(f),v=a(m),j,w;const b=u==null?10:+u;let S=[];if(!(n%1)&&v-x<b){if(x=Math.floor(x),v=Math.ceil(v),f>0){for(;x<=v;++x)for(j=1;j<n;++j)if(w=x<0?j/i(-x):j*i(x),!(w<f)){if(w>m)break;S.push(w)}}else for(;x<=v;++x)for(j=n-1;j>=1;--j)if(w=x>0?j/i(-x):j*i(x),!(w<f)){if(w>m)break;S.push(w)}S.length*2<b&&(S=E1(f,m,b))}else S=E1(x,v,Math.min(v-x,b)).map(i);return g?S.reverse():S},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=ff(d)).precision==null&&(d.trim=!0),d=P_(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return m=>{let g=m/i(Math.round(a(m)));return g*n<n-.5&&(g*=n),g<=f?d(m):""}},t.nice=()=>r(_I(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),t}function SI(){const e=R_(y0()).domain([1,10]);return e.copy=()=>$f(e,SI()).base(e.base()),rs.apply(e,arguments),e}function gD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function I_(e){var t=1,r=e(gD(t),pD(t));return r.constant=function(n){return arguments.length?e(gD(t=+n),pD(t)):t},Io(r)}function NI(){var e=I_(y0());return e.copy=function(){return $f(e,NI()).constant(e.constant())},rs.apply(e,arguments)}function yD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ule(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qle(e){return e<0?-e*e:e*e}function L_(e){var t=e(Pn,Pn),r=1;function n(){return r===1?e(Pn,Pn):r===.5?e(Ule,qle):e(yD(r),yD(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Io(t)}function $_(){var e=L_(y0());return e.copy=function(){return $f(e,$_()).exponent(e.exponent())},rs.apply(e,arguments),e}function Hle(){return $_.apply(null,arguments).exponent(.5)}function xD(e){return Math.sign(e)*e*e}function Wle(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kI(){var e=D_(),t=[0,1],r=!1,n;function a(i){var l=Wle(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(xD(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Kg)).map(xD)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},rs.apply(a,arguments),Io(a)}function CI(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=Goe(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?n:t[If(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(vo),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return CI().domain(e).range(t).unknown(n)},rs.apply(i,arguments)}function TI(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[If(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return TI().domain([e,t]).range(a).unknown(i)},rs.apply(Io(l),arguments)}function EI(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[If(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return EI().domain(e).range(t).unknown(r)},rs.apply(a,arguments)}const Kb=new Date,Vb=new Date;function Kr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),u=a.ceil(i);return i-l<u-i?l:u},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<l);return d},a.filter=i=>Kr(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(Kb.setTime(+i),Vb.setTime(+l),e(Kb),e(Vb),Math.floor(r(Kb,Vb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Gg=Kr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Gg);Gg.range;const vi=1e3,Ga=vi*60,bi=Ga*60,Ci=bi*24,B_=Ci*7,vD=Ci*30,Gb=Ci*365,yl=Kr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCSeconds());yl.range;const z_=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi)},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getMinutes());z_.range;const F_=Kr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getUTCMinutes());F_.range;const U_=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi-e.getMinutes()*Ga)},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getHours());U_.range;const q_=Kr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getUTCHours());q_.range;const Bf=Kr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ga)/Ci,e=>e.getDate()-1);Bf.range;const x0=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ci,e=>e.getUTCDate()-1);x0.range;const OI=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ci,e=>Math.floor(e/Ci));OI.range;function Wl(e){return Kr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ga)/B_)}const v0=Wl(0),Qg=Wl(1),Yle=Wl(2),Kle=Wl(3),su=Wl(4),Vle=Wl(5),Gle=Wl(6);v0.range;Qg.range;Yle.range;Kle.range;su.range;Vle.range;Gle.range;function Yl(e){return Kr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/B_)}const b0=Yl(0),Xg=Yl(1),Qle=Yl(2),Xle=Yl(3),iu=Yl(4),Zle=Yl(5),Jle=Yl(6);b0.range;Xg.range;Qle.range;Xle.range;iu.range;Zle.range;Jle.range;const H_=Kr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());H_.range;const W_=Kr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());W_.range;const Ti=Kr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ti.range;const Ei=Kr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ei.range;function AI(e,t,r,n,a,i){const l=[[yl,1,vi],[yl,5,5*vi],[yl,15,15*vi],[yl,30,30*vi],[i,1,Ga],[i,5,5*Ga],[i,15,15*Ga],[i,30,30*Ga],[a,1,bi],[a,3,3*bi],[a,6,6*bi],[a,12,12*bi],[n,1,Ci],[n,2,2*Ci],[r,1,B_],[t,1,vD],[t,3,3*vD],[e,1,Gb]];function u(f,m,g){const x=m<f;x&&([f,m]=[m,f]);const v=g&&typeof g.range=="function"?g:d(f,m,g),j=v?v.range(f,+m+1):[];return x?j.reverse():j}function d(f,m,g){const x=Math.abs(m-f)/g,v=k_(([,,b])=>b).right(l,x);if(v===l.length)return e.every(A1(f/Gb,m/Gb,g));if(v===0)return Gg.every(Math.max(A1(f,m,g),1));const[j,w]=l[x/l[v-1][2]<l[v][2]/x?v-1:v];return j.every(w)}return[u,d]}const[ece,tce]=AI(Ei,W_,b0,OI,q_,F_),[rce,nce]=AI(Ti,H_,v0,Bf,U_,z_);function Qb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ad(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ace(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Dd(a),m=Md(a),g=Dd(i),x=Md(i),v=Dd(l),j=Md(l),w=Dd(u),b=Md(u),S=Dd(d),k=Md(d),C={a:Z,A:q,b:U,B:W,c:null,d:ND,e:ND,f:Cce,g:Lce,G:Bce,H:Sce,I:Nce,j:kce,L:DI,m:Tce,M:Ece,p:L,q:ee,Q:TD,s:ED,S:Oce,u:Ace,U:Dce,V:Mce,w:Pce,W:Rce,x:null,X:null,y:Ice,Y:$ce,Z:zce,"%":CD},E={a:J,A:Q,b:fe,B:ge,c:null,d:kD,e:kD,f:Hce,g:eue,G:rue,H:Fce,I:Uce,j:qce,L:PI,m:Wce,M:Yce,p:re,q:ke,Q:TD,s:ED,S:Kce,u:Vce,U:Gce,V:Qce,w:Xce,W:Zce,x:null,X:null,y:Jce,Y:tue,Z:nue,"%":CD},O={a:$,A:B,b:z,B:Y,c:ne,d:_D,e:_D,f:bce,g:jD,G:wD,H:SD,I:SD,j:pce,L:vce,m:gce,M:yce,p:I,q:mce,Q:jce,s:_ce,S:xce,u:cce,U:uce,V:dce,w:lce,W:fce,x:V,X:F,y:jD,Y:wD,Z:hce,"%":wce};C.x=D(r,C),C.X=D(n,C),C.c=D(t,C),E.x=D(r,E),E.X=D(n,E),E.c=D(t,E);function D(se,pe){return function(Ce){var de=[],Qe=-1,Ee=0,Ue=se.length,et,Wt,Xr;for(Ce instanceof Date||(Ce=new Date(+Ce));++Qe<Ue;)se.charCodeAt(Qe)===37&&(de.push(se.slice(Ee,Qe)),(Wt=bD[et=se.charAt(++Qe)])!=null?et=se.charAt(++Qe):Wt=et==="e"?" ":"0",(Xr=pe[et])&&(et=Xr(Ce,Wt)),de.push(et),Ee=Qe+1);return de.push(se.slice(Ee,Qe)),de.join("")}}function T(se,pe){return function(Ce){var de=Ad(1900,void 0,1),Qe=M(de,se,Ce+="",0),Ee,Ue;if(Qe!=Ce.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(pe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ee=Xb(Ad(de.y,0,1)),Ue=Ee.getUTCDay(),Ee=Ue>4||Ue===0?Xg.ceil(Ee):Xg(Ee),Ee=x0.offset(Ee,(de.V-1)*7),de.y=Ee.getUTCFullYear(),de.m=Ee.getUTCMonth(),de.d=Ee.getUTCDate()+(de.w+6)%7):(Ee=Qb(Ad(de.y,0,1)),Ue=Ee.getDay(),Ee=Ue>4||Ue===0?Qg.ceil(Ee):Qg(Ee),Ee=Bf.offset(Ee,(de.V-1)*7),de.y=Ee.getFullYear(),de.m=Ee.getMonth(),de.d=Ee.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Ue="Z"in de?Xb(Ad(de.y,0,1)).getUTCDay():Qb(Ad(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Ue+5)%7:de.w+de.U*7-(Ue+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,Xb(de)):Qb(de)}}function M(se,pe,Ce,de){for(var Qe=0,Ee=pe.length,Ue=Ce.length,et,Wt;Qe<Ee;){if(de>=Ue)return-1;if(et=pe.charCodeAt(Qe++),et===37){if(et=pe.charAt(Qe++),Wt=O[et in bD?pe.charAt(Qe++):et],!Wt||(de=Wt(se,Ce,de))<0)return-1}else if(et!=Ce.charCodeAt(de++))return-1}return de}function I(se,pe,Ce){var de=f.exec(pe.slice(Ce));return de?(se.p=m.get(de[0].toLowerCase()),Ce+de[0].length):-1}function $(se,pe,Ce){var de=v.exec(pe.slice(Ce));return de?(se.w=j.get(de[0].toLowerCase()),Ce+de[0].length):-1}function B(se,pe,Ce){var de=g.exec(pe.slice(Ce));return de?(se.w=x.get(de[0].toLowerCase()),Ce+de[0].length):-1}function z(se,pe,Ce){var de=S.exec(pe.slice(Ce));return de?(se.m=k.get(de[0].toLowerCase()),Ce+de[0].length):-1}function Y(se,pe,Ce){var de=w.exec(pe.slice(Ce));return de?(se.m=b.get(de[0].toLowerCase()),Ce+de[0].length):-1}function ne(se,pe,Ce){return M(se,t,pe,Ce)}function V(se,pe,Ce){return M(se,r,pe,Ce)}function F(se,pe,Ce){return M(se,n,pe,Ce)}function Z(se){return l[se.getDay()]}function q(se){return i[se.getDay()]}function U(se){return d[se.getMonth()]}function W(se){return u[se.getMonth()]}function L(se){return a[+(se.getHours()>=12)]}function ee(se){return 1+~~(se.getMonth()/3)}function J(se){return l[se.getUTCDay()]}function Q(se){return i[se.getUTCDay()]}function fe(se){return d[se.getUTCMonth()]}function ge(se){return u[se.getUTCMonth()]}function re(se){return a[+(se.getUTCHours()>=12)]}function ke(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var pe=D(se+="",C);return pe.toString=function(){return se},pe},parse:function(se){var pe=T(se+="",!1);return pe.toString=function(){return se},pe},utcFormat:function(se){var pe=D(se+="",E);return pe.toString=function(){return se},pe},utcParse:function(se){var pe=T(se+="",!0);return pe.toString=function(){return se},pe}}}var bD={"-":"",_:" ",0:"0"},an=/^\s*\d+/,sce=/^%/,ice=/[\\^$*+?|[\]().{}]/g;function Mt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function oce(e){return e.replace(ice,"\\$&")}function Dd(e){return new RegExp("^(?:"+e.map(oce).join("|")+")","i")}function Md(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function lce(e,t,r){var n=an.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function cce(e,t,r){var n=an.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function uce(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function dce(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function fce(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wD(e,t,r){var n=an.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function jD(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hce(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function mce(e,t,r){var n=an.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function gce(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _D(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function pce(e,t,r){var n=an.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function SD(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function yce(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function xce(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function vce(e,t,r){var n=an.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function bce(e,t,r){var n=an.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wce(e,t,r){var n=sce.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function jce(e,t,r){var n=an.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _ce(e,t,r){var n=an.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ND(e,t){return Mt(e.getDate(),t,2)}function Sce(e,t){return Mt(e.getHours(),t,2)}function Nce(e,t){return Mt(e.getHours()%12||12,t,2)}function kce(e,t){return Mt(1+Bf.count(Ti(e),e),t,3)}function DI(e,t){return Mt(e.getMilliseconds(),t,3)}function Cce(e,t){return DI(e,t)+"000"}function Tce(e,t){return Mt(e.getMonth()+1,t,2)}function Ece(e,t){return Mt(e.getMinutes(),t,2)}function Oce(e,t){return Mt(e.getSeconds(),t,2)}function Ace(e){var t=e.getDay();return t===0?7:t}function Dce(e,t){return Mt(v0.count(Ti(e)-1,e),t,2)}function MI(e){var t=e.getDay();return t>=4||t===0?su(e):su.ceil(e)}function Mce(e,t){return e=MI(e),Mt(su.count(Ti(e),e)+(Ti(e).getDay()===4),t,2)}function Pce(e){return e.getDay()}function Rce(e,t){return Mt(Qg.count(Ti(e)-1,e),t,2)}function Ice(e,t){return Mt(e.getFullYear()%100,t,2)}function Lce(e,t){return e=MI(e),Mt(e.getFullYear()%100,t,2)}function $ce(e,t){return Mt(e.getFullYear()%1e4,t,4)}function Bce(e,t){var r=e.getDay();return e=r>=4||r===0?su(e):su.ceil(e),Mt(e.getFullYear()%1e4,t,4)}function zce(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mt(t/60|0,"0",2)+Mt(t%60,"0",2)}function kD(e,t){return Mt(e.getUTCDate(),t,2)}function Fce(e,t){return Mt(e.getUTCHours(),t,2)}function Uce(e,t){return Mt(e.getUTCHours()%12||12,t,2)}function qce(e,t){return Mt(1+x0.count(Ei(e),e),t,3)}function PI(e,t){return Mt(e.getUTCMilliseconds(),t,3)}function Hce(e,t){return PI(e,t)+"000"}function Wce(e,t){return Mt(e.getUTCMonth()+1,t,2)}function Yce(e,t){return Mt(e.getUTCMinutes(),t,2)}function Kce(e,t){return Mt(e.getUTCSeconds(),t,2)}function Vce(e){var t=e.getUTCDay();return t===0?7:t}function Gce(e,t){return Mt(b0.count(Ei(e)-1,e),t,2)}function RI(e){var t=e.getUTCDay();return t>=4||t===0?iu(e):iu.ceil(e)}function Qce(e,t){return e=RI(e),Mt(iu.count(Ei(e),e)+(Ei(e).getUTCDay()===4),t,2)}function Xce(e){return e.getUTCDay()}function Zce(e,t){return Mt(Xg.count(Ei(e)-1,e),t,2)}function Jce(e,t){return Mt(e.getUTCFullYear()%100,t,2)}function eue(e,t){return e=RI(e),Mt(e.getUTCFullYear()%100,t,2)}function tue(e,t){return Mt(e.getUTCFullYear()%1e4,t,4)}function rue(e,t){var r=e.getUTCDay();return e=r>=4||r===0?iu(e):iu.ceil(e),Mt(e.getUTCFullYear()%1e4,t,4)}function nue(){return"+0000"}function CD(){return"%"}function TD(e){return+e}function ED(e){return Math.floor(+e/1e3)}var Lc,II,LI;aue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aue(e){return Lc=ace(e),II=Lc.format,Lc.parse,LI=Lc.utcFormat,Lc.utcParse,Lc}function sue(e){return new Date(e)}function iue(e){return e instanceof Date?+e:+new Date(+e)}function Y_(e,t,r,n,a,i,l,u,d,f){var m=D_(),g=m.invert,x=m.domain,v=f(".%L"),j=f(":%S"),w=f("%I:%M"),b=f("%I %p"),S=f("%a %d"),k=f("%b %d"),C=f("%B"),E=f("%Y");function O(D){return(d(D)<D?v:u(D)<D?j:l(D)<D?w:i(D)<D?b:n(D)<D?a(D)<D?S:k:r(D)<D?C:E)(D)}return m.invert=function(D){return new Date(g(D))},m.domain=function(D){return arguments.length?x(Array.from(D,iue)):x().map(sue)},m.ticks=function(D){var T=x();return e(T[0],T[T.length-1],D??10)},m.tickFormat=function(D,T){return T==null?O:f(T)},m.nice=function(D){var T=x();return(!D||typeof D.range!="function")&&(D=t(T[0],T[T.length-1],D??10)),D?x(_I(T,D)):m},m.copy=function(){return $f(m,Y_(e,t,r,n,a,i,l,u,d,f))},m}function oue(){return rs.apply(Y_(rce,nce,Ti,H_,v0,Bf,U_,z_,yl,II).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lue(){return rs.apply(Y_(ece,tce,Ei,W_,b0,x0,q_,F_,yl,LI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function w0(){var e=0,t=1,r,n,a,i,l=Pn,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(i(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function m(g){return function(x){var v,j;return arguments.length?([v,j]=x,l=g(v,j),f):[l(0),l(1)]}}return f.range=m(ju),f.rangeRound=m(A_),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return i=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),f}}function Lo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $I(){var e=Io(w0()(Pn));return e.copy=function(){return Lo(e,$I())},Mi.apply(e,arguments)}function BI(){var e=R_(w0()).domain([1,10]);return e.copy=function(){return Lo(e,BI()).base(e.base())},Mi.apply(e,arguments)}function zI(){var e=I_(w0());return e.copy=function(){return Lo(e,zI()).constant(e.constant())},Mi.apply(e,arguments)}function K_(){var e=L_(w0());return e.copy=function(){return Lo(e,K_()).exponent(e.exponent())},Mi.apply(e,arguments)}function cue(){return K_.apply(null,arguments).exponent(.5)}function FI(){var e=[],t=Pn;function r(n){if(n!=null&&!isNaN(n=+n))return t((If(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(vo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Voe(e,i/n))},r.copy=function(){return FI(t).domain(e)},Mi.apply(r,arguments)}function j0(){var e=0,t=.5,r=1,n=1,a,i,l,u,d,f=Pn,m,g=!1,x;function v(w){return isNaN(w=+w)?x:(w=.5+((w=+m(w))-i)*(n*w<n*i?u:d),f(g?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,r]=w,a=m(e=+e),i=m(t=+t),l=m(r=+r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v):[e,t,r]},v.clamp=function(w){return arguments.length?(g=!!w,v):g},v.interpolator=function(w){return arguments.length?(f=w,v):f};function j(w){return function(b){var S,k,C;return arguments.length?([S,k,C]=b,f=wle(w,[S,k,C]),v):[f(0),f(.5),f(1)]}}return v.range=j(ju),v.rangeRound=j(A_),v.unknown=function(w){return arguments.length?(x=w,v):x},function(w){return m=w,a=w(e),i=w(t),l=w(r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v}}function UI(){var e=Io(j0()(Pn));return e.copy=function(){return Lo(e,UI())},Mi.apply(e,arguments)}function qI(){var e=R_(j0()).domain([.1,1,10]);return e.copy=function(){return Lo(e,qI()).base(e.base())},Mi.apply(e,arguments)}function HI(){var e=I_(j0());return e.copy=function(){return Lo(e,HI()).constant(e.constant())},Mi.apply(e,arguments)}function V_(){var e=L_(j0());return e.copy=function(){return Lo(e,V_()).exponent(e.exponent())},Mi.apply(e,arguments)}function uue(){return V_.apply(null,arguments).exponent(.5)}const zd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:T_,scaleDiverging:UI,scaleDivergingLog:qI,scaleDivergingPow:V_,scaleDivergingSqrt:uue,scaleDivergingSymlog:HI,scaleIdentity:jI,scaleImplicit:D1,scaleLinear:wI,scaleLog:SI,scaleOrdinal:C_,scalePoint:Xoe,scalePow:$_,scaleQuantile:CI,scaleQuantize:TI,scaleRadial:kI,scaleSequential:$I,scaleSequentialLog:BI,scaleSequentialPow:K_,scaleSequentialQuantile:FI,scaleSequentialSqrt:cue,scaleSequentialSymlog:zI,scaleSqrt:Hle,scaleSymlog:NI,scaleThreshold:EI,scaleTime:oue,scaleUtc:lue,tickFormat:bI},Symbol.toStringTag,{value:"Module"}));var $o=e=>e.chartData,due=me([$o],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),_0=(e,t,r,n)=>n?due(e):$o(e);function Pl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(_n(t)&&_n(r))return!0}return!1}function OD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function WI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(_n(r))a=r;else if(typeof r=="function")return;if(_n(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(Pl(l))return l}}function fue(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Pl(n))return OD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(We(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&hA.test(a)){var d=hA.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(i==="auto")t!=null&&(u=Math.max(...t));else if(We(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t?.[1]))}catch{}else if(typeof i=="string"&&mA.test(i)){var m=mA.exec(i);if(m==null||t==null)u=void 0;else{var g=+m[1];u=t[1]+g}}else u=t?.[1];var x=[l,u];if(Pl(x))return t==null?x:OD(x,t,r)}}}var _u=1e9,hue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q_,dr=!0,es="[DecimalError] ",_l=es+"Invalid argument: ",G_=es+"Exponent out of range: ",Su=Math.floor,ul=Math.pow,mue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wa,en=1e7,or=7,YI=9007199254740991,Zg=Su(YI/or),De={};De.absoluteValue=De.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};De.comparedTo=De.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*or;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(e){return ji(this,new this.constructor(e))};De.dividedToIntegerBy=De.idiv=function(e){var t=this,r=t.constructor;return Zt(ji(t,new r(e),0,1),r.precision)};De.equals=De.eq=function(e){return!this.cmp(e)};De.exponent=function(){return Br(this)};De.greaterThan=De.gt=function(e){return this.cmp(e)>0};De.greaterThanOrEqualTo=De.gte=function(e){return this.cmp(e)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(e){return this.cmp(e)<0};De.lessThanOrEqualTo=De.lte=function(e){return this.cmp(e)<1};De.logarithm=De.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wa))throw Error(es+"NaN");if(r.s<1)throw Error(es+(r.s?"NaN":"-Infinity"));return r.eq(wa)?new n(0):(dr=!1,t=ji(hf(r,i),hf(e,i),i),dr=!0,Zt(t,a))};De.minus=De.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GI(t,e):KI(t,(e.s=-e.s,e))};De.modulo=De.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(es+"NaN");return r.s?(dr=!1,t=ji(r,e,0,1).times(e),dr=!0,r.minus(t)):Zt(new n(r),a)};De.naturalExponential=De.exp=function(){return VI(this)};De.naturalLogarithm=De.ln=function(){return hf(this)};De.negated=De.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};De.plus=De.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KI(t,e):GI(t,(e.s=-e.s,e))};De.precision=De.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_l+e);if(t=Br(a)+1,n=a.d.length-1,r=n*or+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};De.squareRoot=De.sqrt=function(){var e,t,r,n,a,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(es+"NaN")}for(e=Br(u),dr=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Ps(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Su((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(ji(u,i,l+2)).times(.5),Ps(i.d).slice(0,l)===(t=Ps(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Zt(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(t!="9999")break;l+=4}return dr=!0,Zt(n,r)};De.times=De.mul=function(e){var t,r,n,a,i,l,u,d,f,m=this,g=m.constructor,x=m.d,v=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,d=x.length,f=v.length,d<f&&(i=x,x=v,v=i,l=d,d=f,f=l),i=[],l=d+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)u=i[a]+v[n]*x[a-n-1]+t,i[a--]=u%en|0,t=u/en|0;i[a]=(i[a]+t)%en|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,dr?Zt(e,g.precision):e};De.toDecimalPlaces=De.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zs(e,0,_u),t===void 0?t=n.rounding:zs(t,0,8),Zt(r,e+Br(r)+1,t))};De.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Rl(n,!0):(zs(e,0,_u),t===void 0?t=a.rounding:zs(t,0,8),n=Zt(new a(n),e+1,t),r=Rl(n,!0,e+1)),r};De.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Rl(a):(zs(e,0,_u),t===void 0?t=i.rounding:zs(t,0,8),n=Zt(new i(a),e+Br(a)+1,t),r=Rl(n.abs(),!1,e+Br(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var e=this,t=e.constructor;return Zt(new t(e),Br(e)+1,t.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(e){var t,r,n,a,i,l,u=this,d=u.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(wa);if(u=new d(u),!u.s){if(e.s<1)throw Error(es+"Infinity");return u}if(u.eq(wa))return u;if(n=d.precision,e.eq(wa))return Zt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=m<0?-m:m)<=YI){for(a=new d(wa),t=Math.ceil(n/or+4),dr=!1;r%2&&(a=a.times(u),DD(a.d,t)),r=Su(r/2),r!==0;)u=u.times(u),DD(u.d,t);return dr=!0,e.s<0?new d(wa).div(a):Zt(a,n)}}else if(i<0)throw Error(es+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,dr=!1,a=e.times(hf(u,n+f)),dr=!0,a=VI(a),a.s=i,a};De.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Br(a),n=Rl(a,r<=i.toExpNeg||r>=i.toExpPos)):(zs(e,1,_u),t===void 0?t=i.rounding:zs(t,0,8),a=Zt(new i(a),e,t),r=Br(a),n=Rl(a,e<=r||r<=i.toExpNeg,e)),n};De.toSignificantDigits=De.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zs(e,1,_u),t===void 0?t=n.rounding:zs(t,0,8)),Zt(new n(r),e,t)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Br(e),r=e.constructor;return Rl(e,t<=r.toExpNeg||t>=r.toExpPos)};function KI(e,t){var r,n,a,i,l,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),dr?Zt(t,g):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,u=f.length):(n=f,a=l,u=d.length),l=Math.ceil(g/or),u=l>u?l+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/en|0,d[i]%=en;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,dr?Zt(t,g):t}function zs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_l+e)}function Ps(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=or-n.length,r&&(i+=uo(r)),i+=n;l=e[t],n=l+"",r=or-n.length,r&&(i+=uo(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var ji=(function(){function e(n,a){var i,l=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+l,n[u]=i%en|0,l=i/en|0;return l&&n.unshift(l),n}function t(n,a,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*en+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var u,d,f,m,g,x,v,j,w,b,S,k,C,E,O,D,T,M,I=n.constructor,$=n.s==a.s?1:-1,B=n.d,z=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(es+"Division by zero");for(d=n.e-a.e,T=z.length,O=B.length,v=new I($),j=v.d=[],f=0;z[f]==(B[f]||0);)++f;if(z[f]>(B[f]||0)&&--d,i==null?k=i=I.precision:l?k=i+(Br(n)-Br(a))+1:k=i,k<0)return new I(0);if(k=k/or+2|0,f=0,T==1)for(m=0,z=z[0],k++;(f<O||m)&&k--;f++)C=m*en+(B[f]||0),j[f]=C/z|0,m=C%z|0;else{for(m=en/(z[0]+1)|0,m>1&&(z=e(z,m),B=e(B,m),T=z.length,O=B.length),E=T,w=B.slice(0,T),b=w.length;b<T;)w[b++]=0;M=z.slice(),M.unshift(0),D=z[0],z[1]>=en/2&&++D;do m=0,u=t(z,w,T,b),u<0?(S=w[0],T!=b&&(S=S*en+(w[1]||0)),m=S/D|0,m>1?(m>=en&&(m=en-1),g=e(z,m),x=g.length,b=w.length,u=t(g,w,x,b),u==1&&(m--,r(g,T<x?M:z,x))):(m==0&&(u=m=1),g=z.slice()),x=g.length,x<b&&g.unshift(0),r(w,g,b),u==-1&&(b=w.length,u=t(z,w,T,b),u<1&&(m++,r(w,T<b?M:z,b))),b=w.length):u===0&&(m++,w=[0]),j[f++]=m,u&&w[0]?w[b++]=B[E]||0:(w=[B[E]],b=1);while((E++<O||w[0]!==void 0)&&k--)}return j[0]||j.shift(),v.e=d,Zt(v,l?i+Br(v)+1:i)}})();function VI(e,t){var r,n,a,i,l,u,d=0,f=0,m=e.constructor,g=m.precision;if(Br(e)>16)throw Error(G_+Br(e));if(!e.s)return new m(wa);for(dr=!1,u=g,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(ul(2,f))/Math.LN10*2+5|0,u+=n,r=a=i=new m(wa),m.precision=u;;){if(a=Zt(a.times(e),u),r=r.times(++d),l=i.plus(ji(a,r,u)),Ps(l.d).slice(0,u)===Ps(i.d).slice(0,u)){for(;f--;)i=Zt(i.times(i),u);return m.precision=g,t==null?(dr=!0,Zt(i,g)):i}i=l}}function Br(e){for(var t=e.e*or,r=e.d[0];r>=10;r/=10)t++;return t}function Zb(e,t,r){if(t>e.LN10.sd())throw dr=!0,r&&(e.precision=r),Error(es+"LN10 precision limit exceeded");return Zt(new e(e.LN10),t)}function uo(e){for(var t="";e--;)t+="0";return t}function hf(e,t){var r,n,a,i,l,u,d,f,m,g=1,x=10,v=e,j=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error(es+(v.s?"NaN":"-Infinity"));if(v.eq(wa))return new w(0);if(t==null?(dr=!1,f=b):f=t,v.eq(10))return t==null&&(dr=!0),Zb(w,f);if(f+=x,w.precision=f,r=Ps(j),n=r.charAt(0),i=Br(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=Ps(v.d),n=r.charAt(0),g++;i=Br(v),n>1?(v=new w("0."+r),i++):v=new w(n+"."+r.slice(1))}else return d=Zb(w,f+2,b).times(i+""),v=hf(new w(n+"."+r.slice(1)),f-x).plus(d),w.precision=b,t==null?(dr=!0,Zt(v,b)):v;for(u=l=v=ji(v.minus(wa),v.plus(wa),f),m=Zt(v.times(v),f),a=3;;){if(l=Zt(l.times(m),f),d=u.plus(ji(l,new w(a),f)),Ps(d.d).slice(0,f)===Ps(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(Zb(w,f+2,b).times(i+""))),u=ji(u,new w(g),f),w.precision=b,t==null?(dr=!0,Zt(u,b)):u;u=d,a+=2}}function AD(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Su(r/or),e.d=[],n=(r+1)%or,r<0&&(n+=or),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=or;n<a;)e.d.push(+t.slice(n,n+=or));t=t.slice(n),n=or-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),dr&&(e.e>Zg||e.e<-Zg))throw Error(G_+r)}else e.s=0,e.e=0,e.d=[0];return e}function Zt(e,t,r){var n,a,i,l,u,d,f,m,g=e.d;for(l=1,i=g[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=or,a=t,f=g[m=0];else{if(m=Math.ceil((n+1)/or),i=g.length,m>=i)return e;for(f=i=g[m],l=1;i>=10;i/=10)l++;n%=or,a=n-or+l}if(r!==void 0&&(i=ul(10,l-a-1),u=f/i%10|0,d=t<0||g[m+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/ul(10,l-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(i=Br(e),g.length=1,t=t-i-1,g[0]=ul(10,(or-t%or)%or),e.e=Su(-t/or)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=m,i=1,m--):(g.length=m+1,i=ul(10,or-n),g[m]=a>0?(f/ul(10,l-a)%ul(10,a)|0)*i:0),d)for(;;)if(m==0){(g[0]+=i)==en&&(g[0]=1,++e.e);break}else{if(g[m]+=i,g[m]!=en)break;g[m--]=0,i=1}for(n=g.length;g[--n]===0;)g.pop();if(dr&&(e.e>Zg||e.e<-Zg))throw Error(G_+Br(e));return e}function GI(e,t){var r,n,a,i,l,u,d,f,m,g,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),dr?Zt(t,v):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(m=l<0,m?(r=d,l=-l,u=g.length):(r=g,n=f,u=d.length),a=Math.max(Math.ceil(v/or),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){m=d[a]<g[a];break}l=0}for(m&&(r=d,d=g,g=r,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(i=a;i&&d[--i]===0;)d[i]=en-1;--d[i],d[a]+=en}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,dr?Zt(t,v):t):new x(0)}function Rl(e,t,r){var n,a=Br(e),i=Ps(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+uo(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+uo(-a-1)+i,r&&(n=r-l)>0&&(i+=uo(n))):a>=l?(i+=uo(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+uo(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=uo(n))),e.s<0?"-"+i:i}function DD(e,t){if(e.length>t)return e.length=t,!0}function QI(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(_l+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return AD(l,i.toString())}else if(typeof i!="string")throw Error(_l+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,mue.test(i))AD(l,i);else throw Error(_l+i)}if(a.prototype=De,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=QI,a.config=a.set=gue,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function gue(e){if(!e||typeof e!="object")throw Error(es+"Object expected");var t,r,n,a=["precision",1,_u,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Su(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(_l+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_l+r+": "+n);return this}var Q_=QI(hue);wa=new Q_(1);const Ut=Q_;var pue=e=>e,XI={},ZI=e=>e===XI,MD=e=>function t(){return arguments.length===0||arguments.length===1&&ZI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},JI=(e,t)=>e===1?t:MD(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==XI).length;return i>=e?t(...n):JI(e-i,MD(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=n.map(m=>ZI(m)?u.shift():m);return t(...f,...u)}))}),S0=e=>JI(e.length,e),I1=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},yue=S0((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),xue=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return pue;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),i(...arguments))}},L1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),e8=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=a,r=e(...a)),r}};function t8(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function r8(e,t,r){for(var n=new Ut(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}S0((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});S0((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});S0((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var n8=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},a8=(e,t,r)=>{if(e.lte(0))return new Ut(0);var n=t8(e.toNumber()),a=new Ut(10).pow(n),i=e.div(a),l=n!==1?.05:.1,u=new Ut(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?new Ut(d.toNumber()):new Ut(Math.ceil(d.toNumber()))},vue=(e,t,r)=>{var n=new Ut(1),a=new Ut(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ut(10).pow(t8(e)-1),a=new Ut(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ut(Math.floor(e)))}else e===0?a=new Ut(Math.floor((t-1)/2)):r||(a=new Ut(Math.floor(e)));var l=Math.floor((t-1)/2),u=xue(yue(d=>a.add(new Ut(d-l).mul(n)).toNumber()),I1);return u(0,t)},s8=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var l=a8(new Ut(r).sub(t).div(n-1),a,i),u;t<=0&&r>=0?u=new Ut(0):(u=new Ut(t).add(r).div(2),u=u.sub(new Ut(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new Ut(r).sub(u).div(l).toNumber()),m=d+f+1;return m>n?s8(t,r,n,a,i+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:l,tickMin:u.sub(new Ut(d).mul(l)),tickMax:u.add(new Ut(f).mul(l))})};function bue(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,u]=n8([t,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...I1(0,n-1).map(()=>1/0)]:[...I1(0,n-1).map(()=>-1/0),u];return t>r?L1(d):d}if(l===u)return vue(l,n,a);var{step:f,tickMin:m,tickMax:g}=s8(l,u,i,a,0),x=r8(m,g.add(new Ut(.1).mul(f)),f);return t>r?L1(x):x}function wue(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=n8([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var u=Math.max(t,2),d=a8(new Ut(l).sub(i).div(u-1),a,0),f=[...r8(new Ut(i),new Ut(l),d),l];return a===!1&&(f=f.map(m=>Math.round(m))),r>n?L1(f):f}var jue=e8(bue),_ue=e8(wue),i8=e=>e.rootProps.maxBarSize,Sue=e=>e.rootProps.barGap,o8=e=>e.rootProps.barCategoryGap,Nue=e=>e.rootProps.barSize,N0=e=>e.rootProps.stackOffset,X_=e=>e.options.chartName,Z_=e=>e.rootProps.syncId,l8=e=>e.rootProps.syncMethod,J_=e=>e.options.eventEmitter,gi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ma={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},k0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},kue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gi.angleAxisId,includeHidden:!1,name:void 0,reversed:gi.reversed,scale:gi.scale,tick:gi.tick,tickCount:void 0,ticks:void 0,type:gi.type,unit:void 0},Cue={allowDataOverflow:ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ma.scale,tick:ma.tick,tickCount:ma.tickCount,ticks:void 0,type:ma.type,unit:void 0},Tue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gi.scale,tick:gi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Eue={allowDataOverflow:ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ma.scale,tick:ma.tick,tickCount:ma.tickCount,ticks:void 0,type:"category",unit:void 0},eS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Tue:kue,tS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Eue:Cue,C0=e=>e.polarOptions,rS=me([Ai,Di,nn],nse),c8=me([C0,rS],(e,t)=>{if(e!=null)return vs(e.innerRadius,t,0)}),u8=me([C0,rS],(e,t)=>{if(e!=null)return vs(e.outerRadius,t,t*.8)}),Oue=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},d8=me([C0],Oue);me([eS,d8],k0);var f8=me([rS,c8,u8],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});me([tS,f8],k0);var h8=me([$t,C0,c8,u8,Ai,Di],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:vs(l,a,a/2),cy:vs(u,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Vr=(e,t)=>t,T0=(e,t,r)=>r;function nS(e){return e?.id}var Gr=e=>{var t=$t(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Nu=e=>e.tooltip.settings.axisId,Qr=e=>{var t=Gr(e),r=Nu(e);return zf(e,t,r)},m8=me([Qr],e=>e?.dataKey);function g8(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=nS(u);f.forEach((g,x)=>{var v=i==null||a?x:String(rn(g,i,null)),j=rn(g,u.dataKey,0),w;l.has(v)?w=l.get(v):w={},Object.assign(w,{[m]:j}),l.set(v,w)})}}),Array.from(l.values())}function E0(e){return e.stackId!=null&&e.dataKey!=null}var O0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function A0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){Aue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aue(e,t,r){return(t=Due(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Due(e){var t=Mue(e,"string");return typeof t=="symbol"?t:t+""}function Mue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $1=[0,"auto"],da={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},p8=(e,t)=>e.cartesianAxis.xAxis[t],Pi=(e,t)=>{var r=p8(e,t);return r??da},fa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pf},y8=(e,t)=>e.cartesianAxis.yAxis[t],Ri=(e,t)=>{var r=y8(e,t);return r??fa},Pue={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Pue},Ln=(e,t,r)=>{switch(t){case"xAxis":return Pi(e,r);case"yAxis":return Ri(e,r);case"zAxis":return aS(e,r);case"angleAxis":return eS(e,r);case"radiusAxis":return tS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Rue=(e,t,r)=>{switch(t){case"xAxis":return Pi(e,r);case"yAxis":return Ri(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zf=(e,t,r)=>{switch(t){case"xAxis":return Pi(e,r);case"yAxis":return Ri(e,r);case"angleAxis":return eS(e,r);case"radiusAxis":return tS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},x8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function v8(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var D0=e=>e.graphicalItems.cartesianItems,Iue=me([Vr,T0],v8),b8=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Ff=me([D0,Ln,Iue],b8,{memoizeOptions:{resultEqualityCheck:A0}}),w8=me([Ff],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(E0)),j8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Lue=me([Ff],j8),_8=e=>e.map(t=>t.data).filter(Boolean).flat(1),$ue=me([Ff],_8,{memoizeOptions:{resultEqualityCheck:A0}}),S8=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},sS=me([$ue,_0],S8),N8=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:rn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:rn(a,n)}))):e.map(n=>({value:n})),M0=me([sS,Ln,Ff],N8);function k8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function sg(e){if(Bs(e)||e instanceof Date){var t=Number(e);if(_n(t))return t}}function RD(e){if(Array.isArray(e)){var t=[sg(e[0]),sg(e[1])];return Pl(t)?t:void 0}var r=sg(e);if(r!=null)return[r,r]}function ku(e){return e.map(sg).filter(eoe)}function Bue(e,t,r){return!r||typeof t!="number"||Za(t)?[]:r.length?ku(r.flatMap(n=>{var a=rn(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!_n(i)||!_n(l)))return[t-i,t+l]})):[]}var zue=me([w8,_0,Qr],g8),C8=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,u]=i,d=u.map(nS);return[l,{stackedData:vse(e,d,r),graphicalItems:u}]}))},B1=me([zue,w8,N0],C8),T8=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=Sse(e,a,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Fue=me([Ln],e=>e.allowDataOverflow),iS=e=>{var t;if(e==null||!("domain"in e))return $1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ku(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:$1},E8=me([Ln],iS),O8=me([E8,Fue],WI),Uue=me([B1,$o,Vr,O8],T8,{memoizeOptions:{resultEqualityCheck:O0}}),oS=e=>e.errorBars,que=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>k8(r,n)),ep=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),u=Math.max(...i);return[l,u]}},A8=(e,t,r,n,a)=>{var i,l;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var f,m,g=(f=n[d.id])===null||f===void 0?void 0:f.filter(S=>k8(a,S)),x=rn(u,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),v=Bue(u,x,g);if(v.length>=2){var j=Math.min(...v),w=Math.max(...v);(i==null||j<i)&&(i=j),(l==null||w>l)&&(l=w)}var b=RD(x);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=RD(rn(u,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),_n(i)&&_n(l))return[i,l]},Hue=me([sS,Ln,Lue,oS,Vr],A8,{memoizeOptions:{resultEqualityCheck:O0}});function Wue(e){var{value:t}=e;if(Bs(t)||t instanceof Date)return t}var Yue=(e,t,r)=>{var n=e.map(Wue).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&e6(n))?uI(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},D8=e=>e.referenceElements.dots,Cu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Kue=me([D8,Vr,T0],Cu),M8=e=>e.referenceElements.areas,Vue=me([M8,Vr,T0],Cu),P8=e=>e.referenceElements.lines,Gue=me([P8,Vr,T0],Cu),R8=(e,t)=>{var r=ku(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Que=me(Kue,Vr,R8),I8=(e,t)=>{var r=ku(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Xue=me([Vue,Vr],I8),L8=(e,t)=>{var r=ku(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Zue=me(Gue,Vr,L8),Jue=me(Que,Zue,Xue,(e,t,r)=>ep(e,r,t)),$8=(e,t,r,n,a,i,l,u)=>{if(r!=null)return r;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?ep(n,i,a):ep(i,a);return fue(t,f,e.allowDataOverflow)},ede=me([Ln,E8,O8,Uue,Hue,Jue,$t,Vr],$8,{memoizeOptions:{resultEqualityCheck:O0}}),tde=[0,1],B8=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=Ro(t,i);return f&&u==null?uI(0,r.length):d==="category"?Yue(n,e,f):a==="expand"?tde:l}},lS=me([Ln,$t,sS,M0,N0,Vr,ede],B8),z8=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var u="scale".concat(Af(i));return u in zd?u:"point"}}},Uf=me([Ln,$t,x8,X_,Vr],z8);function rde(e){if(e!=null){if(e in zd)return zd[e]();var t="scale".concat(Af(e));if(t in zd)return zd[t]()}}function cS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=rde(t);if(a!=null){var i=a.domain(r).range(n);return mse(i),i}}}var F8=(e,t,r)=>{var n=iS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Pl(e))return jue(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Pl(e))return _ue(e,t.tickCount,t.allowDecimals)}},uS=me([lS,zf,Uf],F8),U8=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Pl(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],u=r[r.length-1];return[Math.min(a,i),Math.max(l,u)]}return t},nde=me([Ln,lS,uS,Vr],U8),ade=me(M0,Ln,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ku(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),q8=me(ade,$t,o8,nn,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!_n(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=vs(r,e*i),u=e*i/2;return u-l-(u-l)/i*l}return 0}),sde=(e,t)=>{var r=Pi(e,t);return r==null||typeof r.padding!="string"?0:q8(e,"xAxis",t,r.padding)},ide=(e,t)=>{var r=Ri(e,t);return r==null||typeof r.padding!="string"?0:q8(e,"yAxis",t,r.padding)},ode=me(Pi,sde,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),lde=me(Ri,ide,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),cde=me([nn,ode,u0,c0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),ude=me([nn,$t,lde,u0,c0,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),qf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return cde(e,r,n);case"yAxis":return ude(e,r,n);case"zAxis":return(a=aS(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return d8(e);case"radiusAxis":return f8(e,r);default:return}},H8=me([Ln,qf],k0),Tu=me([Ln,Uf,nde,H8],cS);me([Ff,oS,Vr],que);function W8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var P0=(e,t)=>t,R0=(e,t,r)=>r,dde=me(o0,P0,R0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(W8)),fde=me(l0,P0,R0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(W8)),Y8=(e,t)=>({width:e.width,height:t.height}),hde=(e,t)=>{var r=typeof t.width=="number"?t.width:Pf;return{width:r,height:e.height}},K8=me(nn,Pi,Y8),mde=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},gde=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},pde=me(Di,nn,dde,P0,R0,(e,t,r,n,a)=>{var i={},l;return r.forEach(u=>{var d=Y8(t,u);l==null&&(l=mde(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),i}),yde=me(Ai,nn,fde,P0,R0,(e,t,r,n,a)=>{var i={},l;return r.forEach(u=>{var d=hde(t,u);l==null&&(l=gde(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),i}),xde=(e,t)=>{var r=Pi(e,t);if(r!=null)return pde(e,r.orientation,r.mirror)},vde=me([nn,Pi,xde,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),bde=(e,t)=>{var r=Ri(e,t);if(r!=null)return yde(e,r.orientation,r.mirror)},wde=me([nn,Ri,bde,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),V8=me(nn,Ri,(e,t)=>{var r=typeof t.width=="number"?t.width:Pf;return{width:r,height:e.height}}),ID=(e,t,r)=>{switch(t){case"xAxis":return K8(e,r).width;case"yAxis":return V8(e,r).height;default:return}},G8=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,u=Ro(e,n),d=t.map(f=>f.value);if(l&&u&&i==="category"&&a&&e6(d))return d}},dS=me([$t,M0,Ln,Vr],G8),Q8=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=Ro(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(u=>u.value)}},fS=me([$t,M0,zf,Vr],Q8),LD=me([$t,Rue,Uf,Tu,dS,fS,qf,uS,Vr],(e,t,r,n,a,i,l,u,d)=>{if(t==null)return null;var f=Ro(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:u,range:l,realScaleType:r,scale:n}}),jde=(e,t,r,n,a,i,l,u,d)=>{if(!(t==null||n==null)){var f=Ro(e,d),{type:m,ticks:g,tickCount:x}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=m==="category"&&n.bandwidth?n.bandwidth()/v:0;j=d==="angleAxis"&&i!=null&&i.length>=2?Zn(i[0]-i[1])*2*j:j;var w=g||a;if(w){var b=w.map((S,k)=>{var C=l?l.indexOf(S):S;return{index:k,coordinate:n(C)+j,value:S,offset:j}});return b.filter(S=>!Za(S.coordinate))}return f&&u?u.map((S,k)=>({coordinate:n(S)+j,value:S,index:k,offset:j})):n.ticks?n.ticks(x).map(S=>({coordinate:n(S)+j,value:S,offset:j})):n.domain().map((S,k)=>({coordinate:n(S)+j,value:l?l[S]:S,index:k,offset:j}))}},X8=me([$t,zf,Uf,Tu,uS,qf,dS,fS,Vr],jde),_de=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Ro(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?Zn(n[0]-n[1])*2*f:f,u&&i?i.map((m,g)=>({coordinate:r(m)+f,value:m,index:g,offset:f})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,g)=>({coordinate:r(m)+f,value:a?a[m]:m,index:g,offset:f}))}},So=me([$t,zf,Tu,qf,dS,fS,Vr],_de),No=me(Ln,Tu,(e,t)=>{if(!(e==null||t==null))return Jg(Jg({},e),{},{scale:t})}),Sde=me([Ln,Uf,lS,H8],cS);me((e,t,r)=>aS(e,r),Sde,(e,t)=>{if(!(e==null||t==null))return Jg(Jg({},e),{},{scale:t})});var Nde=me([$t,o0,l0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Z8=e=>e.options.defaultTooltipEventType,J8=e=>e.options.validateTooltipEventTypes;function eL(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function hS(e,t){var r=Z8(e),n=J8(e);return eL(t,r,n)}function kde(e){return Fe(t=>hS(t,e))}var tL=(e,t)=>{var r,n=Number(t);if(!(Za(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Cde=e=>e.tooltip.settings,go={active:!1,index:null,dataKey:void 0,coordinate:void 0},Tde={itemInteraction:{click:go,hover:go},axisInteraction:{click:go,hover:go},keyboardInteraction:go,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},rL=Ta({name:"tooltip",initialState:Tde,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:An()},removeTooltipEntrySettings:{reducer(e,t){var r=wi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:An()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ede,removeTooltipEntrySettings:Ode,setTooltipSettingsState:Ade,setActiveMouseOverItemIndex:nL,mouseLeaveItem:Dde,mouseLeaveChart:aL,setActiveClickItemIndex:Mde,setMouseOverAxisIndex:sL,setMouseClickAxisIndex:Pde,setSyncInteraction:z1,setKeyboardInteraction:F1}=rL.actions,Rde=rL.reducer;function $D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(r),!0).forEach(function(n){Ide(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ide(e,t,r){return(t=Lde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lde(e){var t=$de(e,"string");return typeof t=="symbol"?t:t+""}function $de(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bde(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function zde(e){return e.index!=null}var iL=(e,t,r,n)=>{if(t==null)return go;var a=Bde(e,t,r);if(a==null)return go;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(zde(a)){if(i)return Gm(Gm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Gm(Gm({},go),{},{coordinate:a.coordinate})},mS=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!_n(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},oL=(e,t,r,n,a,i,l,u)=>{if(!(i==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,i);if(f!=null)return f;var m=a?.[Number(i)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},lL=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Hf=e=>e.options.tooltipPayloadSearcher,Eu=e=>e.tooltip;function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){Fde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fde(e,t,r){return(t=Ude(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ude(e){var t=qde(e,"string");return typeof t=="symbol"?t:t+""}function qde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hde(e,t){return e??t}var cL=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,g=[];return e.reduce((x,v)=>{var j,{dataDefinedOnItem:w,settings:b}=v,S=Hde(w,u),k=Array.isArray(S)?W6(S,f,m):S,C=(j=b?.dataKey)!==null&&j!==void 0?j:n,E=b?.nameKey,O;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?O=t6(k,n,a):O=i(k,t,d,E),Array.isArray(O))O.forEach(T=>{var M=zD(zD({},b),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});x.push(gA({tooltipEntrySettings:M,dataKey:T.dataKey,payload:T.payload,value:rn(T.payload,T.dataKey),name:T.name}))});else{var D;x.push(gA({tooltipEntrySettings:b,dataKey:C,payload:O,value:rn(O,C),name:(D=rn(O,E))!==null&&D!==void 0?D:b?.name}))}return x},g)}},gS=me([Qr,$t,x8,X_,Gr],z8),Wde=me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Yde=me([Gr,Nu],v8),Wf=me([Wde,Qr,Yde],b8,{memoizeOptions:{resultEqualityCheck:A0}}),Kde=me([Wf],e=>e.filter(E0)),Vde=me([Wf],_8,{memoizeOptions:{resultEqualityCheck:A0}}),Ou=me([Vde,$o],S8),Gde=me([Kde,$o,Qr],g8),pS=me([Ou,Qr,Wf],N8),uL=me([Qr],iS),Qde=me([Qr],e=>e.allowDataOverflow),dL=me([uL,Qde],WI),Xde=me([Wf],e=>e.filter(E0)),Zde=me([Gde,Xde,N0],C8),Jde=me([Zde,$o,Gr,dL],T8),efe=me([Wf],j8),tfe=me([Ou,Qr,efe,oS,Gr],A8,{memoizeOptions:{resultEqualityCheck:O0}}),rfe=me([D8,Gr,Nu],Cu),nfe=me([rfe,Gr],R8),afe=me([M8,Gr,Nu],Cu),sfe=me([afe,Gr],I8),ife=me([P8,Gr,Nu],Cu),ofe=me([ife,Gr],L8),lfe=me([nfe,ofe,sfe],ep),cfe=me([Qr,uL,dL,Jde,tfe,lfe,$t,Gr],$8),fL=me([Qr,$t,Ou,pS,N0,Gr,cfe],B8),ufe=me([fL,Qr,gS],F8),dfe=me([Qr,fL,ufe,Gr],U8),hL=e=>{var t=Gr(e),r=Nu(e),n=!1;return qf(e,t,r,n)},mL=me([Qr,hL],k0),gL=me([Qr,gS,dfe,mL],cS),ffe=me([$t,pS,Qr,Gr],G8),hfe=me([$t,pS,Qr,Gr],Q8),mfe=(e,t,r,n,a,i,l,u)=>{if(t){var{type:d}=t,f=Ro(e,u);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Zn(a[0]-a[1])*2*g:g,f&&l?l.map((x,v)=>({coordinate:n(x)+g,value:x,index:v,offset:g})):n.domain().map((x,v)=>({coordinate:n(x)+g,value:i?i[x]:x,index:v,offset:g}))}}},Ii=me([$t,Qr,gS,gL,hL,ffe,hfe,Gr],mfe),yS=me([Z8,J8,Cde],(e,t,r)=>eL(r.shared,e,t)),pL=e=>e.tooltip.settings.trigger,xS=e=>e.tooltip.settings.defaultIndex,I0=me([Eu,yS,pL,xS],iL),Il=me([I0,Ou],mS),yL=me([Ii,Il],tL),xL=me([I0],e=>{if(e)return e.dataKey}),vL=me([Eu,yS,pL,xS],lL),gfe=me([Ai,Di,$t,nn,Ii,xS,vL,Hf],oL),pfe=me([I0,gfe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yfe=me([I0],e=>e.active),xfe=me([vL,Il,$o,m8,yL,Hf,yS],cL),vfe=me([xfe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){bfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bfe(e,t,r){return(t=wfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wfe(e){var t=jfe(e,"string");return typeof t=="symbol"?t:t+""}function jfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _fe=()=>Fe(Qr),Sfe=()=>{var e=_fe(),t=Fe(Ii),r=Fe(gL);return of(UD(UD({},e),{},{scale:r}),t)},Nfe=()=>Fe(X_),vS=(e,t)=>t,bL=(e,t,r)=>r,bS=(e,t,r,n)=>n,kfe=me(Ii,e=>e0(e,t=>t.coordinate)),wS=me([Eu,vS,bL,bS],iL),wL=me([wS,Ou],mS),Cfe=(e,t,r)=>{if(t!=null){var n=Eu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},jL=me([Eu,vS,bL,bS],lL),tp=me([Ai,Di,$t,nn,Ii,bS,jL,Hf],oL),Tfe=me([wS,tp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),_L=me(Ii,wL,tL),Efe=me([jL,wL,$o,m8,_L,Hf,vS],cL),Ofe=me([wS],e=>({isActive:e.active,activeIndex:e.index})),Afe=(e,t,r,n,a,i,l,u)=>{if(!(!e||!t||!n||!a||!i)){var d=Nse(e.chartX,e.chartY,t,r,u);if(d){var f=Cse(d,t),m=fse(f,l,i,n,a),g=kse(t,i,m,d);return{activeIndex:String(m),activeCoordinate:g}}}};function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(null,arguments)}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){Dfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dfe(e,t,r){return(t=Mfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mfe(e){var t=Pfe(e,"string");return typeof t=="symbol"?t:t+""}function Pfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rfe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,m=t,g=r,x=n;if(!u||!m||f!=="ScatterChart"&&d!=="axis")return null;var v,j;if(f==="ScatterChart")v=m,j=Kie;else if(f==="BarChart")v=Vie(l,m,a,i),j=iI;else if(l==="radial"){var{cx:w,cy:b,radius:S,startAngle:k,endAngle:C}=oI(m);v={cx:w,cy:b,startAngle:k,endAngle:C,innerRadius:S,outerRadius:S},j=cI}else v={points:Aoe(l,m,a)},j=tI;var E=typeof u=="object"&&"className"in u?u.className:void 0,O=Qm(Qm(Qm(Qm({stroke:"#ccc",pointerEvents:"none"},a),v),Of(u)),{},{payload:g,payloadIndex:x,className:It("recharts-tooltip-cursor",E)});return y.isValidElement(u)?y.cloneElement(u,O):y.createElement(j,O)}function Ife(e){var t=Sfe(),r=Z6(),n=h0(),a=Nfe();return y.createElement(Rfe,U1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var SL=y.createContext(null),Lfe=()=>y.useContext(SL),Jb={exports:{}},HD;function $fe(){return HD||(HD=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function i(d,f,m,g,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new a(m,g||d,x),j=r?r+f:f;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],v]:d._events[j].push(v):(d._events[j]=v,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)t.call(m,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,v=g.length,j=new Array(v);x<v;x++)j[x]=g[x].fn;return j},u.prototype.listenerCount=function(f){var m=r?r+f:f,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,m,g,x,v,j){var w=r?r+f:f;if(!this._events[w])return!1;var b=this._events[w],S=arguments.length,k,C;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,m),!0;case 3:return b.fn.call(b.context,m,g),!0;case 4:return b.fn.call(b.context,m,g,x),!0;case 5:return b.fn.call(b.context,m,g,x,v),!0;case 6:return b.fn.call(b.context,m,g,x,v,j),!0}for(C=1,k=new Array(S-1);C<S;C++)k[C-1]=arguments[C];b.fn.apply(b.context,k)}else{var E=b.length,O;for(C=0;C<E;C++)switch(b[C].once&&this.removeListener(f,b[C].fn,void 0,!0),S){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,m);break;case 3:b[C].fn.call(b[C].context,m,g);break;case 4:b[C].fn.call(b[C].context,m,g,x);break;default:if(!k)for(O=1,k=new Array(S-1);O<S;O++)k[O-1]=arguments[O];b[C].fn.apply(b[C].context,k)}}return!0},u.prototype.on=function(f,m,g){return i(this,f,m,g,!1)},u.prototype.once=function(f,m,g){return i(this,f,m,g,!0)},u.prototype.removeListener=function(f,m,g,x){var v=r?r+f:f;if(!this._events[v])return this;if(!m)return l(this,v),this;var j=this._events[v];if(j.fn)j.fn===m&&(!x||j.once)&&(!g||j.context===g)&&l(this,v);else{for(var w=0,b=[],S=j.length;w<S;w++)(j[w].fn!==m||x&&!j[w].once||g&&j[w].context!==g)&&b.push(j[w]);b.length?this._events[v]=b.length===1?b[0]:b:l(this,v)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Jb)),Jb.exports}var Bfe=$fe();const zfe=ts(Bfe);var mf=new zfe,q1="recharts.syncEvent.tooltip",WD="recharts.syncEvent.brush";function NL(e,t){if(t){var r=Number.parseInt(t,10);if(!Za(r))return e?.[r]}}var Ffe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kL=Ta({name:"options",initialState:Ffe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ufe=kL.reducer,{createEventEmitter:qfe}=kL.actions;function Hfe(e){return e.tooltip.syncInteraction}var Wfe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},CL=Ta({name:"chartData",initialState:Wfe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:YD,setDataStartEndIndexes:Yfe,setComputedData:X1e}=CL.actions,Kfe=CL.reducer,Vfe=["x","y"];function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){Gfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gfe(e,t,r){return(t=Qfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qfe(e){var t=Xfe(e,"string");return typeof t=="symbol"?t:t+""}function Xfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zfe(e,t){if(e==null)return{};var r,n,a=Jfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TL=()=>{};function ehe(){var e=Fe(Z_),t=Fe(J_),r=Or(),n=Fe(l8),a=Fe(Ii),i=h0(),l=f0(),u=Fe(d=>d.rootProps.className);y.useEffect(()=>{if(e==null)return TL;var d=(f,m,g)=>{if(t!==g&&e===f){if(n==="index"){var x;if(l&&m!==null&&m!==void 0&&(x=m.payload)!==null&&x!==void 0&&x.coordinate&&m.payload.sourceViewBox){var v=m.payload.coordinate,{x:j,y:w}=v,b=Zfe(v,Vfe),{x:S,y:k,width:C,height:E}=m.payload.sourceViewBox,O=$c($c({},b),{},{x:l.x+(C?(j-S)/C:0)*l.width,y:l.y+(E?(w-k)/E:0)*l.height});r($c($c({},m),{},{payload:$c($c({},m.payload),{},{coordinate:O})}))}else r(m);return}if(a!=null){var D;if(typeof n=="function"){var T={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},M=n(a,T);D=a[M]}else n==="value"&&(D=a.find(F=>String(F.value)===m.payload.label));var{coordinate:I}=m.payload;if(D==null||m.payload.active===!1||I==null||l==null){r(z1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:$,y:B}=I,z=Math.min($,l.x+l.width),Y=Math.min(B,l.y+l.height),ne={x:i==="horizontal"?D.coordinate:z,y:i==="horizontal"?Y:D.coordinate},V=z1({active:m.payload.active,coordinate:ne,dataKey:m.payload.dataKey,index:String(D.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});r(V)}}};return mf.on(q1,d),()=>{mf.off(q1,d)}},[u,r,t,e,n,a,i,l])}function the(){var e=Fe(Z_),t=Fe(J_),r=Or();y.useEffect(()=>{if(e==null)return TL;var n=(a,i,l)=>{t!==l&&e===a&&r(Yfe(i))};return mf.on(WD,n),()=>{mf.off(WD,n)}},[r,t,e])}function rhe(){var e=Or();y.useEffect(()=>{e(qfe())},[e]),ehe(),the()}function nhe(e,t,r,n,a,i){var l=Fe(v=>Cfe(v,e,t)),u=Fe(J_),d=Fe(Z_),f=Fe(l8),m=Fe(Hfe),g=m?.active,x=f0();y.useEffect(()=>{if(!g&&d!=null&&u!=null){var v=z1({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:x});mf.emit(q1,d,v,u)}},[g,r,l,a,n,u,d,f,i,x])}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){ahe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ahe(e,t,r){return(t=she(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function she(e){var t=ihe(e,"string");return typeof t=="symbol"?t:t+""}function ihe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ohe(e){return e.dataKey}function lhe(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(Nie,t)}var QD=[],che={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Hl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function L0(e){var t=ra(e,che),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:g,reverseDirection:x,useTranslate3d:v,wrapperStyle:j,cursor:w,shared:b,trigger:S,defaultIndex:k,portal:C,axisId:E}=t,O=Or(),D=typeof k=="number"?String(k):k;y.useEffect(()=>{O(Ade({shared:b,trigger:S,axisId:E,active:r,defaultIndex:D}))},[O,b,S,E,r,D]);var T=f0(),M=eI(),I=kde(b),{activeIndex:$,isActive:B}=Fe(fe=>Ofe(fe,I,S,D)),z=Fe(fe=>Efe(fe,I,S,D)),Y=Fe(fe=>_L(fe,I,S,D)),ne=Fe(fe=>Tfe(fe,I,S,D)),V=z,F=Lfe(),Z=r??B,[q,U]=x6([V,Z]),W=I==="axis"?Y:void 0;nhe(I,S,ne,W,$,Z);var L=C??F;if(L==null)return null;var ee=V??QD;Z||(ee=QD),u&&ee.length&&(ee=f6(V.filter(fe=>fe.value!=null&&(fe.hide!==!0||t.includeHidden)),m,ohe));var J=ee.length>0,Q=y.createElement(Die,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:d,active:Z,coordinate:ne,hasPayload:J,offset:f,position:g,reverseDirection:x,useTranslate3d:v,viewBox:T,wrapperStyle:j,lastBoundingBox:q,innerRef:U,hasPortalFromProps:!!C},lhe(l,GD(GD({},t),{},{payload:ee,label:W,active:Z,coordinate:ne,accessibilityLayer:M})));return y.createElement(y.Fragment,null,ja.createPortal(Q,L),Z&&y.createElement(Ife,{cursor:w,tooltipEventType:I,coordinate:ne,payload:V,index:$}))}var $0=e=>null;$0.displayName="Cell";function uhe(e,t,r){return(t=dhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dhe(e){var t=fhe(e,"string");return typeof t=="symbol"?t:t+""}function fhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hhe{constructor(t){uhe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function XD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(r),!0).forEach(function(n){ghe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ghe(e,t,r){return(t=phe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function phe(e){var t=yhe(e,"string");return typeof t=="symbol"?t:t+""}function yhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xhe={cacheSize:2e3,enableCache:!0},EL=mhe({},xhe),ZD=new hhe(EL.cacheSize),vhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JD="recharts_measurement_span";function bhe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(u)}var eM=(e,t)=>{try{var r=document.getElementById(JD);r||(r=document.createElement("span"),r.setAttribute("id",JD),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,vhe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Hd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Hl.isSsr)return{width:0,height:0};if(!EL.enableCache)return eM(t,r);var n=bhe(t,r),a=ZD.get(n);if(a)return a;var i=eM(t,r);return ZD.set(n,i),i},tM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,whe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_he=Object.keys(OL),Uc="NaN";function She(e,t){return e*OL[t]}class Vn{static parse(t){var r,[,n,a]=(r=jhe.exec(t))!==null&&r!==void 0?r:[];return new Vn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Za(t)&&(this.unit=""),r!==""&&!whe.test(r)&&(this.num=NaN,this.unit=""),_he.includes(r)&&(this.num=She(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Za(this.num)}}function AL(e){if(e.includes(Uc))return Uc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=tM.exec(t))!==null&&r!==void 0?r:[],l=Vn.parse(n??""),u=Vn.parse(i??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Uc;t=t.replace(tM,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,g,x]=(f=rM.exec(t))!==null&&f!==void 0?f:[],v=Vn.parse(m??""),j=Vn.parse(x??""),w=g==="+"?v.add(j):v.subtract(j);if(w.isNaN())return Uc;t=t.replace(rM,w.toString())}return t}var nM=/\(([^()]*)\)/;function Nhe(e){for(var t=e,r;(r=nM.exec(t))!=null;){var[,n]=r;t=t.replace(nM,AL(n))}return t}function khe(e){var t=e.replace(/\s+/g,"");return t=Nhe(t),t=AL(t),t}function Che(e){try{return khe(e)}catch{return Uc}}function ew(e){var t=Che(e.slice(5,-1));return t===Uc?"":t}var The=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ehe=["dx","dy","angle","className","breakAll"];function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H1.apply(null,arguments)}function aM(e,t){if(e==null)return{};var r,n,a=Ohe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ohe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DL=/[ \f\n\r\t\v\u2028\u2029]+/,ML=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];fr(t)||(r?a=t.toString().split(""):a=t.toString().split(DL));var i=a.map(u=>({word:u,width:Hd(u,n).width})),l=r?0:Hd("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},Ahe=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:u,breakAll:d}=e,f=We(i),m=l,g=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((z,Y)=>{var{word:ne,width:V}=Y,F=z[z.length-1];if(F&&(n==null||a||F.width+V+r<Number(n)))F.words.push(ne),F.width+=V+r;else{var Z={words:[ne],width:V};z.push(Z)}return z},[])},x=g(t),v=$=>$.reduce((B,z)=>B.width>z.width?B:z);if(!f||a)return x;var j=x.length>i||v(x).width>Number(n);if(!j)return x;for(var w="",b=$=>{var B=m.slice(0,$),z=ML({breakAll:d,style:u,children:B+w}).wordsWithComputedWidth,Y=g(z),ne=Y.length>i||v(Y).width>Number(n);return[ne,Y]},S=0,k=m.length-1,C=0,E;S<=k&&C<=m.length-1;){var O=Math.floor((S+k)/2),D=O-1,[T,M]=b(D),[I]=b(O);if(!T&&!I&&(S=O+1),T&&I&&(k=O-1),!T&&I){E=M;break}C++}return E||x},sM=e=>{var t=fr(e)?[]:e.toString().split(DL);return[{words:t}]},Dhe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!Hl.isSsr){var u,d,f=ML({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;u=m,d=g}else return sM(n);return Ahe({breakAll:i,children:n,maxLines:l,style:a},u,d,t,r)}return sM(n)},iM="#808080",jS=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:f=iM}=e,m=aM(e,The),g=y.useMemo(()=>Dhe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:x,dy:v,angle:j,className:w,breakAll:b}=m,S=aM(m,Ehe);if(!Bs(r)||!Bs(n)||g.length===0)return null;var k=r+(We(x)?x:0),C=n+(We(v)?v:0),E;switch(d){case"start":E=ew("calc(".concat(i,")"));break;case"middle":E=ew("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:E=ew("calc(".concat(g.length-1," * -").concat(a,")"));break}var O=[];if(l){var D=g[0].width,{width:T}=m;O.push("scale(".concat(We(T)?T/D:1,")"))}return j&&O.push("rotate(".concat(j,", ").concat(k,", ").concat(C,")")),O.length&&(S.transform=O.join(" ")),y.createElement("text",H1({},Rn(S),{ref:t,x:k,y:C,className:It("recharts-text",w),textAnchor:u,fill:f.includes("url")?iM:f}),g.map((M,I)=>{var $=M.words.join(b?"":" ");return y.createElement("tspan",{x:k,dy:I===0?E:a,key:"".concat($,"-").concat(I)},$)}))});jS.displayName="Text";var Mhe=["labelRef"];function Phe(e,t){if(e==null)return{};var r,n,a=Rhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){Ihe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ihe(e,t,r){return(t=Lhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lhe(e){var t=$he(e,"string");return typeof t=="symbol"?t:t+""}function $he(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(null,arguments)}var PL=y.createContext(null),Bhe=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=y.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return y.createElement(PL.Provider,{value:l},i)},RL=()=>{var e=y.useContext(PL),t=f0();return e||t},zhe=y.createContext(null),Fhe=()=>{var e=y.useContext(zhe),t=Fe(h8);return e||t},Uhe=e=>{var{value:t,formatter:r}=e,n=fr(e.children)?t:e.children;return typeof r=="function"?r(n):n},_S=e=>e!=null&&typeof e=="function",qhe=(e,t)=>{var r=Zn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Hhe=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:m,startAngle:g,endAngle:x,clockWise:v}=a,j=(f+m)/2,w=qhe(g,x),b=w>=0?1:-1,S,k;switch(t){case"insideStart":S=g+b*i,k=v;break;case"insideEnd":S=x-b*i,k=!v;break;case"end":S=x+b*i,k=v;break;default:throw new Error("Unsupported position ".concat(t))}k=w<=0?k:!k;var C=hn(u,d,j,S),E=hn(u,d,j,S+(k?1:-1)*359),O="M".concat(C.x,",").concat(C.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(k?0:1,`,
    `).concat(E.x,",").concat(E.y),D=fr(e.id)?rf("recharts-radial-line-"):e.id;return y.createElement("text",pi({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",l)}),y.createElement("defs",null,y.createElement("path",{id:D,d:O})),y.createElement("textPath",{xlinkHref:"#".concat(D)},r))},Whe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(r==="outside"){var{x:m,y:g}=hn(n,a,l+t,f);return{x:m,y:g,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(i+l)/2,{x:v,y:j}=hn(n,a,x,f);return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},IL=e=>"cx"in e&&We(e.cx),Yhe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!IL(r)&&(i=r);var{x:l,y:u,width:d,height:f}=t,m=f>=0?1:-1,g=m*n,x=m>0?"end":"start",v=m>0?"start":"end",j=d>=0?1:-1,w=j*n,b=j>0?"end":"start",S=j>0?"start":"end";if(a==="top"){var k={x:l+d/2,y:u-m*n,textAnchor:"middle",verticalAnchor:x};return kr(kr({},k),i?{height:Math.max(u-i.y,0),width:d}:{})}if(a==="bottom"){var C={x:l+d/2,y:u+f+g,textAnchor:"middle",verticalAnchor:v};return kr(kr({},C),i?{height:Math.max(i.y+i.height-(u+f),0),width:d}:{})}if(a==="left"){var E={x:l-w,y:u+f/2,textAnchor:b,verticalAnchor:"middle"};return kr(kr({},E),i?{width:Math.max(E.x-i.x,0),height:f}:{})}if(a==="right"){var O={x:l+d+w,y:u+f/2,textAnchor:S,verticalAnchor:"middle"};return kr(kr({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:f}:{})}var D=i?{width:d,height:f}:{};return a==="insideLeft"?kr({x:l+w,y:u+f/2,textAnchor:S,verticalAnchor:"middle"},D):a==="insideRight"?kr({x:l+d-w,y:u+f/2,textAnchor:b,verticalAnchor:"middle"},D):a==="insideTop"?kr({x:l+d/2,y:u+g,textAnchor:"middle",verticalAnchor:v},D):a==="insideBottom"?kr({x:l+d/2,y:u+f-g,textAnchor:"middle",verticalAnchor:x},D):a==="insideTopLeft"?kr({x:l+w,y:u+g,textAnchor:S,verticalAnchor:v},D):a==="insideTopRight"?kr({x:l+d-w,y:u+g,textAnchor:b,verticalAnchor:v},D):a==="insideBottomLeft"?kr({x:l+w,y:u+f-g,textAnchor:S,verticalAnchor:x},D):a==="insideBottomRight"?kr({x:l+d-w,y:u+f-g,textAnchor:b,verticalAnchor:x},D):a&&typeof a=="object"&&(We(a.x)||Ni(a.x))&&(We(a.y)||Ni(a.y))?kr({x:l+vs(a.x,d),y:u+vs(a.y,f),textAnchor:"end",verticalAnchor:"end"},D):kr({x:l+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Khe={offset:5};function fo(e){var t=ra(e,Khe),{viewBox:r,position:n,value:a,children:i,content:l,className:u="",textBreakAll:d,labelRef:f}=t,m=Fhe(),g=RL(),x=n==="center"?g:m??g,v=r||x;if(!v||fr(a)&&fr(i)&&!y.isValidElement(l)&&typeof l!="function")return null;var j=kr(kr({},t),{},{viewBox:v});if(y.isValidElement(l)){var{labelRef:w}=j,b=Phe(j,Mhe);return y.cloneElement(l,b)}var S;if(typeof l=="function"){if(S=y.createElement(l,j),y.isValidElement(S))return S}else S=Uhe(t);var k=IL(v),C=Rn(t);if(k&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Hhe(t,n,S,C,v);var E=k?Whe(v,t.offset,t.position):Yhe(t,v);return y.createElement(jS,pi({ref:f,className:It("recharts-label",u)},C,E,{breakAll:d}),S)}fo.displayName="Label";var Vhe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(fo,pi({key:"label-implicit"},n)):Bs(e)?y.createElement(fo,pi({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===fo?y.cloneElement(e,kr({key:"label-implicit"},n)):y.createElement(fo,pi({key:"label-implicit",content:e},n)):_S(e)?y.createElement(fo,pi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(fo,pi({},e,{key:"label-implicit"},n)):null};function Ghe(e){var{label:t,labelRef:r}=e,n=RL();return Vhe(t,n,r)||null}var tw={},rw={},lM;function Qhe(){return lM||(lM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(rw)),rw}var nw={},cM;function Xhe(){return cM||(cM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(nw)),nw}var uM;function Zhe(){return uM||(uM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qhe(),r=Xhe(),n=m_();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(tw)),tw}var aw,dM;function Jhe(){return dM||(dM=1,aw=Zhe().last),aw}var eme=Jhe();const tme=ts(eme);var rme=["valueAccessor"],nme=["dataKey","clockWise","id","textBreakAll"];function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(null,arguments)}function fM(e,t){if(e==null)return{};var r,n,a=ame(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ame(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sme=e=>Array.isArray(e.value)?tme(e.value):e.value,LL=y.createContext(void 0),$L=LL.Provider,BL=y.createContext(void 0);BL.Provider;function ime(){return y.useContext(LL)}function ome(){return y.useContext(BL)}function ig(e){var{valueAccessor:t=sme}=e,r=fM(e,rme),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,u=fM(r,nme),d=ime(),f=ome(),m=d||f;return!m||!m.length?null:y.createElement(xs,{className:"recharts-label-list"},m.map((g,x)=>{var v,j=fr(n)?t(g,x):rn(g&&g.payload,n),w=fr(i)?{}:{id:"".concat(i,"-").concat(x)};return y.createElement(fo,rp({key:"label-".concat(x)},Rn(g),u,w,{fill:(v=r.fill)!==null&&v!==void 0?v:g.fill,parentViewBox:g.parentViewBox,value:j,textBreakAll:l,viewBox:g.viewBox,index:x}))}))}ig.displayName="LabelList";function zL(e){var{label:t}=e;return t?t===!0?y.createElement(ig,{key:"labelList-implicit"}):y.isValidElement(t)||_S(t)?y.createElement(ig,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(ig,rp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W1.apply(null,arguments)}var FL=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=It("recharts-dot",a);return t===+t&&r===+r&&n===+n?y.createElement("circle",W1({},ys(e),d_(e),{className:i,cx:t,cy:r,r:n})):null},lme={radiusAxis:{},angleAxis:{}},UL=Ta({name:"polarAxis",initialState:lme,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Z1e,removeRadiusAxis:J1e,addAngleAxis:eje,removeAngleAxis:tje}=UL.actions,cme=UL.reducer,sw={exports:{}},Qt={};var hM;function ume(){if(hM)return Qt;hM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function j(w){if(typeof w=="object"&&w!==null){var b=w.$$typeof;switch(b){case e:switch(w=w.type,w){case r:case a:case n:case d:case f:case x:return w;default:switch(w=w&&w.$$typeof,w){case l:case u:case g:case m:return w;case i:return w;default:return b}}case t:return b}}}return Qt.ContextConsumer=i,Qt.ContextProvider=l,Qt.Element=e,Qt.ForwardRef=u,Qt.Fragment=r,Qt.Lazy=g,Qt.Memo=m,Qt.Portal=t,Qt.Profiler=a,Qt.StrictMode=n,Qt.Suspense=d,Qt.SuspenseList=f,Qt.isContextConsumer=function(w){return j(w)===i},Qt.isContextProvider=function(w){return j(w)===l},Qt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Qt.isForwardRef=function(w){return j(w)===u},Qt.isFragment=function(w){return j(w)===r},Qt.isLazy=function(w){return j(w)===g},Qt.isMemo=function(w){return j(w)===m},Qt.isPortal=function(w){return j(w)===t},Qt.isProfiler=function(w){return j(w)===a},Qt.isStrictMode=function(w){return j(w)===n},Qt.isSuspense=function(w){return j(w)===d},Qt.isSuspenseList=function(w){return j(w)===f},Qt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===d||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===m||w.$$typeof===l||w.$$typeof===i||w.$$typeof===u||w.$$typeof===v||w.getModuleId!==void 0)},Qt.typeOf=j,Qt}var mM;function dme(){return mM||(mM=1,sw.exports=ume()),sw.exports}var fme=dme(),gM=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",pM=null,iw=null,qL=e=>{if(e===pM&&Array.isArray(iw))return iw;var t=[];return y.Children.forEach(e,r=>{fr(r)||(fme.isFragment(r)?t=t.concat(qL(r.props.children)):t.push(r))}),iw=t,pM=e,t};function hme(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>gM(a)):n=[gM(t)],qL(e).forEach(a=>{var i=tu(a,"type.displayName")||tu(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var HL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,ow={},yM;function mme(){return yM||(yM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(ow)),ow}var lw,xM;function gme(){return xM||(xM=1,lw=mme().isPlainObject),lw}var pme=gme();const yme=ts(pme);function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(n){xme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xme(e,t,r){return(t=vme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vme(e){var t=bme(e,"string");return typeof t=="symbol"?t:t+""}function bme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(null,arguments)}var wM=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},wme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jme=e=>{var t=ra(e,wme),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:g}=t,x=y.useRef(null),[v,j]=y.useState(-1),w=y.useRef(a),b=y.useRef(i),S=y.useRef(l),k=y.useRef(r),C=y.useRef(n),E=p0(e,"trapezoid-");if(y.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ne=x.current.getTotalLength();ne&&j(ne)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var O=It("recharts-trapezoid",u);if(!g)return y.createElement("g",null,y.createElement("path",np({},Rn(t),{className:O,d:wM(r,n,a,i,l)})));var D=w.current,T=b.current,M=S.current,I=k.current,$=C.current,B="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),Y=rI(["strokeDasharray"],f,d);return y.createElement(g0,{animationId:E,key:E,canBegin:v>0,duration:f,easing:d,isActive:g,begin:m},ne=>{var V=Lr(D,a,ne),F=Lr(T,i,ne),Z=Lr(M,l,ne),q=Lr(I,r,ne),U=Lr($,n,ne);x.current&&(w.current=V,b.current=F,S.current=Z,k.current=q,C.current=U);var W=ne>0?{transition:Y,strokeDasharray:z}:{strokeDasharray:B};return y.createElement("path",np({},Rn(t),{className:O,d:wM(q,U,V,F,Z),ref:x,style:bM(bM({},W),t.style)}))})},_me=["option","shapeType","propTransformer","activeClassName","isActive"];function Sme(e,t){if(e==null)return{};var r,n,a=Nme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){kme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kme(e,t,r){return(t=Cme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cme(e){var t=Tme(e,"string");return typeof t=="symbol"?t:t+""}function Tme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eme(e,t){return ap(ap({},t),e)}function Ome(e,t){return e==="symbols"}function _M(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(iI,r);case"trapezoid":return y.createElement(jme,r);case"sector":return y.createElement(cI,r);case"symbols":if(Ome(t))return y.createElement(u_,r);break;default:return null}}function Ame(e){return y.isValidElement(e)?e.props:e}function Dme(e){var{option:t,shapeType:r,propTransformer:n=Eme,activeClassName:a="recharts-active-shape",isActive:i}=e,l=Sme(e,_me),u;if(y.isValidElement(t))u=y.cloneElement(t,ap(ap({},l),Ame(t)));else if(typeof t=="function")u=t(l);else if(yme(t)&&typeof t!="boolean"){var d=n(t,l);u=y.createElement(_M,{shapeType:r,elementProps:d})}else{var f=l;u=y.createElement(_M,{shapeType:r,elementProps:f})}return i?y.createElement(xs,{className:a},u):u}var WL=(e,t)=>{var r=Or();return(n,a)=>i=>{e?.(n,a,i),r(nL({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},YL=e=>{var t=Or();return(r,n)=>a=>{e?.(r,n,a),t(Dde())}},KL=(e,t)=>{var r=Or();return(n,a)=>i=>{e?.(n,a,i),r(Mde({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function VL(e){var{fn:t,args:r}=e,n=Or(),a=In();return y.useLayoutEffect(()=>{if(!a){var i=t(r);return n(Ede(i)),()=>{n(Ode(i))}}},[t,r,n,a]),null}var Mme=()=>{};function GL(e){var{legendPayload:t}=e,r=Or(),n=In();return y.useLayoutEffect(()=>n?Mme:(r(oie(t)),()=>{r(lie(t))}),[r,n,t]),null}var cw,Pme=()=>{var[e]=y.useState(()=>rf("uid-"));return e},Rme=(cw=wp.useId)!==null&&cw!==void 0?cw:Pme;function Ime(e,t){var r=Rme();return t||(e?"".concat(e,"-").concat(r):r)}var Lme=y.createContext(void 0),QL=e=>{var{id:t,type:r,children:n}=e,a=Ime("recharts-".concat(r),t);return y.createElement(Lme.Provider,{value:a},n(a))},$me={cartesianItems:[],polarItems:[]},XL=Ta({name:"graphicalItems",initialState:$me,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:An()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=wi(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:An()},removeCartesianGraphicalItem:{reducer(e,t){var r=wi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:An()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:An()},removePolarGraphicalItem:{reducer(e,t){var r=wi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:An()}}}),{addCartesianGraphicalItem:Bme,replaceCartesianGraphicalItem:zme,removeCartesianGraphicalItem:Fme,addPolarGraphicalItem:rje,removePolarGraphicalItem:nje}=XL.actions,Ume=XL.reducer;function ZL(e){var t=Or(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(Bme(e)):r.current!==e&&t(zme({prev:r.current,next:e})),r.current=e},[t,e]),y.useLayoutEffect(()=>()=>{r.current&&(t(Fme(r.current)),r.current=null)},[t]),null}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){qme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qme(e,t,r){return(t=Hme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hme(e){var t=Wme(e,"string");return typeof t=="symbol"?t:t+""}function Wme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yme={xAxis:{},yAxis:{},zAxis:{}},JL=Ta({name:"cartesianAxis",initialState:Yme,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:An()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:An()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:An()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:An()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:An()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:An()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);e.yAxis[r]=NM(NM({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:Kme,removeXAxis:Vme,addYAxis:Gme,removeYAxis:Qme,addZAxis:aje,removeZAxis:sje,updateYAxisWidth:Xme}=JL.actions,Zme=JL.reducer,Jme=me([nn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ege=me([Jme,Ai,Di],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),SS=()=>Fe(ege),tge=()=>Fe(vfe);function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(n){rge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rge(e,t,r){return(t=nge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nge(e){var t=age(e,"string");return typeof t=="symbol"?t:t+""}function age(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sge=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=CM(CM({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Of(a)),d_(a)),u;return y.isValidElement(a)?u=y.cloneElement(a,l):typeof a=="function"?u=a(l):u=y.createElement(FL,l),y.createElement(xs,{className:"recharts-active-dot"},u)};function ige(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Fe(Il),l=tge();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return fr(u)?null:sge({point:u,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var oge="Invariant failed";function lge(e,t){throw new Error(oge)}var cge=["x","y"];function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(null,arguments)}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){uge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uge(e,t,r){return(t=dge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dge(e){var t=fge(e,"string");return typeof t=="symbol"?t:t+""}function fge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hge(e,t){if(e==null)return{};var r,n,a=mge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gge(e,t){var{x:r,y:n}=e,a=hge(e,cge),i="".concat(r),l=parseInt(i,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||a.height),m=parseInt(f,10),g="".concat(t.width||a.width),x=parseInt(g,10);return Pd(Pd(Pd(Pd(Pd({},t),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:x,name:t.name,radius:t.radius})}function NS(e){return y.createElement(Dme,Y1({shapeType:"rectangle",propTransformer:gge,activeClassName:"recharts-active-bar"},e))}var pge=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(We(t))return t;var i=We(n)||fr(n);return i?t(n,a):(i||lge(),r)}},yge={},e$=Ta({name:"errorBars",initialState:yge,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:ije,replaceErrorBar:oje,removeErrorBar:lje}=e$.actions,xge=e$.reducer,vge=["children"];function bge(e,t){if(e==null)return{};var r,n,a=wge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jge={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_ge=y.createContext(jge);function t$(e){var{children:t}=e,r=bge(e,vge);return y.createElement(_ge.Provider,{value:r},t)}function kS(e,t){var r,n,a=Fe(f=>Pi(f,e)),i=Fe(f=>Ri(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:da.allowDataOverflow,u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:fa.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function r$(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=SS(),{needClipX:i,needClipY:l,needClip:u}=kS(t,r);if(!u)return null;var{x:d,y:f,width:m,height:g}=a;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:i?d:d-m/2,y:l?f:f-g/2,width:i?m:m*2,height:l?g:g*2}))}var Sge=["onMouseEnter","onMouseLeave","onClick"],Nge=["value","background","tooltipPosition"],kge=["id"],Cge=["onMouseEnter","onClick","onMouseLeave"];function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ko.apply(null,arguments)}function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(n){Tge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tge(e,t,r){return(t=Ege(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ege(e){var t=Oge(e,"string");return typeof t=="symbol"?t:t+""}function Oge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sp(e,t){if(e==null)return{};var r,n,a=Age(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Age(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dge=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:i0(r,t),payload:e}]};function Mge(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:i0(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function Pge(e){var t=Fe(Il),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=i,f=sp(i,Sge),m=WL(l,n),g=YL(u),x=KL(d,n);if(!a||r==null)return null;var v=Of(a);return y.createElement(y.Fragment,null,r.map((j,w)=>{var{value:b,background:S,tooltipPosition:k}=j,C=sp(j,Nge);if(!S)return null;var E=m(j,w),O=g(j,w),D=x(j,w),T=Dn(Dn(Dn(Dn(Dn({option:a,isActive:String(w)===t},C),{},{fill:"#eee"},S),v),Jp(f,j,w)),{},{onMouseEnter:E,onMouseLeave:O,onClick:D,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return y.createElement(NS,ko({key:"background-bar-".concat(w)},T))}))}function Rge(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return Dn(Dn({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return y.createElement($L,{value:t?a:void 0},r)}function Ige(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,u=Fe(Il),d=Fe(xL),f=r&&String(i)===u&&(d==null||l===d),m=f?r:t;return y.createElement(NS,ko({},n,{name:String(n.name)},a,{isActive:f,option:m,index:i,dataKey:l}))}function Lge(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return y.createElement(NS,ko({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function $ge(e){var{data:t,props:r}=e,n=ys(r),{id:a}=n,i=sp(n,kge),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:f,onClick:m,onMouseLeave:g}=r,x=sp(r,Cge),v=WL(f,u),j=YL(g),w=KL(m,u);return t?y.createElement(y.Fragment,null,t.map((b,S)=>y.createElement(xs,ko({key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(S),className:"recharts-bar-rectangle"},Jp(x,b,S),{onMouseEnter:v(b,S),onMouseLeave:j(b,S),onClick:w(b,S)}),d?y.createElement(Ige,{shape:l,activeBar:d,baseProps:i,entry:b,index:S,dataKey:u}):y.createElement(Lge,{shape:l,baseProps:i,entry:b,index:S,dataKey:u})))):null}function Bge(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=t,g=r.current,x=p0(t,"recharts-bar-"),[v,j]=y.useState(!1),w=!v,b=y.useCallback(()=>{typeof f=="function"&&f(),j(!1)},[f]),S=y.useCallback(()=>{typeof m=="function"&&m(),j(!0)},[m]);return y.createElement(Rge,{showLabels:w,rects:n},y.createElement(g0,{animationId:x,begin:l,duration:u,isActive:i,easing:d,onAnimationEnd:b,onAnimationStart:S,key:x},k=>{var C=k===1?n:n?.map((E,O)=>{var D=g&&g[O];if(D)return Dn(Dn({},E),{},{x:Lr(D.x,E.x,k),y:Lr(D.y,E.y,k),width:Lr(D.width,E.width,k),height:Lr(D.height,E.height,k)});if(a==="horizontal"){var T=Lr(0,E.height,k);return Dn(Dn({},E),{},{y:E.y+E.height-T,height:T})}var M=Lr(0,E.width,k);return Dn(Dn({},E),{},{width:M})});return k>0&&(r.current=C??null),C==null?null:y.createElement(xs,null,y.createElement($ge,{props:t,data:C}))}),y.createElement(zL,{label:t.label}),t.children)}function zge(e){var t=y.useRef(null);return y.createElement(Bge,{previousRectanglesRef:t,props:e})}var n$=0,Fge=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:rn(e,t)}};class Uge extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||r==null)return null;var m=It("recharts-bar",a),g=f;return y.createElement(xs,{className:m,id:f},u&&y.createElement("defs",null,y.createElement(r$,{clipPathId:g,xAxisId:i,yAxisId:l})),y.createElement(xs,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},y.createElement(Pge,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),y.createElement(zge,this.props)))}}var qge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Hl.isSsr,legendType:"rect",minPointSize:n$,xAxisId:0,yAxisId:0};function Hge(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:m}=e,{needClip:g}=kS(t,r),x=h0(),v=In(),j=hme(e.children,$0),w=Fe(k=>xpe(k,t,r,v,e.id,j));if(x!=="vertical"&&x!=="horizontal")return null;var b,S=w?.[0];return S==null||S.height==null||S.width==null?b=0:b=x==="vertical"?S.height/2:S.width/2,y.createElement(t$,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:Fge,errorBarOffset:b},y.createElement(Uge,ko({},e,{layout:x,needClip:g,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function Wge(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:g,offset:x,cells:v,parentViewBox:j}=e,w=t==="horizontal"?u:l,b=m?w.scale.domain():null,S=wse({numericAxis:w});return g.map((k,C)=>{var E,O,D,T,M,I;m?E=gse(m[C],b):(E=rn(k,r),Array.isArray(E)||(E=[S,E]));var $=pge(n,n$)(E[1],C);if(t==="horizontal"){var B,[z,Y]=[u.scale(E[0]),u.scale(E[1])];O=fA({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:k,index:C}),D=(B=Y??z)!==null&&B!==void 0?B:void 0,T=a.size;var ne=z-Y;if(M=Za(ne)?0:ne,I={x:O,y:x.top,width:T,height:x.height},Math.abs($)>0&&Math.abs(M)<Math.abs($)){var V=Zn(M||$)*(Math.abs($)-Math.abs(M));D-=V,M+=V}}else{var[F,Z]=[l.scale(E[0]),l.scale(E[1])];if(O=F,D=fA({axis:u,ticks:f,bandSize:i,offset:a.offset,entry:k,index:C}),T=Z-F,M=a.size,I={x:x.left,y:D,width:x.width,height:M},Math.abs($)>0&&Math.abs(T)<Math.abs($)){var q=Zn(T||$)*(Math.abs($)-Math.abs(T));T+=q}}if(O==null||D==null||T==null||M==null)return null;var U=Dn(Dn({},k),{},{x:O,y:D,width:T,height:M,value:m?E:E[1],payload:k,background:I,tooltipPosition:{x:O+T/2,y:D+M/2},parentViewBox:j},v&&v[C]&&v[C].props);return U}).filter(Boolean)}function Yge(e){var t=ra(e,qge),r=In();return y.createElement(QL,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(GL,{legendPayload:Dge(t)}),y.createElement(VL,{fn:Mge,args:t}),y.createElement(ZL,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:bse(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(Hge,ko({},t,{id:n}))))}var gf=y.memo(Yge);gf.displayName="Bar";function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){Kge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kge(e,t,r){return(t=Vge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vge(e){var t=Gge(e,"string");return typeof t=="symbol"?t:t+""}function Gge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qge=(e,t)=>t,Xge=(e,t,r)=>r,Zge=(e,t,r,n)=>n,Jge=(e,t,r,n,a)=>a,Yf=me([D0,Jge],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),epe=me([Yf],e=>e?.maxBarSize),tpe=(e,t,r,n,a,i)=>i,AM=(e,t,r)=>{var n=r??e;if(!fr(n))return vs(n,t,0)},rpe=me([$t,D0,Qge,Xge,Zge],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),npe=(e,t,r,n)=>{var a=$t(e);return a==="horizontal"?B1(e,"yAxis",r,n):B1(e,"xAxis",t,n)},ape=(e,t,r)=>{var n=$t(e);return n==="horizontal"?ID(e,"xAxis",t):ID(e,"yAxis",r)},spe=(e,t,r)=>{var n={},a=e.filter(E0),i=e.filter(f=>f.stackId==null),l=a.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),n),u=Object.entries(l).map(f=>{var[m,g]=f,x=g.map(j=>j.dataKey),v=AM(t,r,g[0].barSize);return{stackId:m,dataKeys:x,barSize:v}}),d=i.map(f=>{var m=[f.dataKey].filter(x=>x!=null),g=AM(t,r,f.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...u,...d]},ipe=me([rpe,Nue,ape],spe),ope=(e,t,r,n,a)=>{var i,l,u=Yf(e,t,r,n,a);if(u!=null){var d=$t(e),f=i8(e),{maxBarSize:m}=u,g=fr(m)?f:m,x,v;return d==="horizontal"?(x=No(e,"xAxis",t,n),v=So(e,"xAxis",t,n)):(x=No(e,"yAxis",r,n),v=So(e,"yAxis",r,n)),(i=(l=of(x,v,!0))!==null&&l!==void 0?l:g)!==null&&i!==void 0?i:0}},a$=(e,t,r,n)=>{var a=$t(e),i,l;return a==="horizontal"?(i=No(e,"xAxis",t,n),l=So(e,"xAxis",t,n)):(i=No(e,"yAxis",r,n),l=So(e,"yAxis",r,n)),of(i,l)};function lpe(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=vs(e,r,0,!0),u,d=[];if(_n(n[0].barSize)){var f=!1,m=r/i,g=n.reduce((S,k)=>S+(k.barSize||0),0);g+=(i-1)*l,g>=r&&(g-=(i-1)*l,l=0),g>=r&&m>0&&(f=!0,m*=.9,g=i*m);var x=(r-g)/2>>0,v={offset:x-l,size:0};u=n.reduce((S,k)=>{var C,E={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:v.offset+v.size+l,size:f?m:(C=k.barSize)!==null&&C!==void 0?C:0}},O=[...S,E];return v=O[O.length-1].position,O},d)}else{var j=vs(t,r,0,!0);r-2*j-(i-1)*l<=0&&(l=0);var w=(r-2*j-(i-1)*l)/i;w>1&&(w>>=0);var b=_n(a)?Math.min(w,a):w;u=n.reduce((S,k,C)=>[...S,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:j+(w+l)*C+(w-b)/2,size:b}}],d)}return u}}var cpe=(e,t,r,n,a,i,l)=>{var u=fr(l)?t:l,d=lpe(r,n,a!==i?a:i,e,u);return a!==i&&d!=null&&(d=d.map(f=>Xm(Xm({},f),{},{position:Xm(Xm({},f.position),{},{offset:f.position.offset-a/2})}))),d},upe=me([ipe,i8,Sue,o8,ope,a$,epe],cpe),dpe=(e,t,r,n)=>No(e,"xAxis",t,n),fpe=(e,t,r,n)=>No(e,"yAxis",r,n),hpe=(e,t,r,n)=>So(e,"xAxis",t,n),mpe=(e,t,r,n)=>So(e,"yAxis",r,n),gpe=me([upe,Yf],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ppe=(e,t)=>{var r=nS(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},ype=me([npe,Yf],ppe),xpe=me([nn,w_,dpe,fpe,hpe,mpe,gpe,$t,_0,a$,ype,Yf,tpe],(e,t,r,n,a,i,l,u,d,f,m,g,x)=>{var{chartData:v,dataStartIndex:j,dataEndIndex:w}=d;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:b}=g,S;if(b!=null&&b.length>0?S=b:S=v?.slice(j,w+1),S!=null)return Wge({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:m,displayedData:S,offset:e,cells:x})}}),vpe=e=>{var{chartData:t}=e,r=Or(),n=In();return y.useEffect(()=>n?()=>{}:(r(YD(t)),()=>{r(YD(void 0))}),[t,r,n]),null},DM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},s$=Ta({name:"brush",initialState:DM,reducers:{setBrushSettings(e,t){return t.payload==null?DM:t.payload}}}),{setBrushSettings:cje}=s$.actions,bpe=s$.reducer;function wpe(e,t,r){return(t=jpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jpe(e){var t=_pe(e,"string");return typeof t=="symbol"?t:t+""}function _pe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CS{static create(t){return new CS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}wpe(CS,"EPS",1e-4);function Spe(e){return(e%180+180)%180}var Npe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Spe(a),l=i*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},kpe={dots:[],areas:[],lines:[]},i$=Ta({name:"referenceElements",initialState:kpe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=wi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=wi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=wi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:uje,removeDot:dje,addArea:fje,removeArea:hje,addLine:mje,removeLine:gje}=i$.actions,Cpe=i$.reducer,Tpe=y.createContext(void 0),Epe=e=>{var{children:t}=e,[r]=y.useState("".concat(rf("recharts"),"-clip")),n=SS();if(n==null)return null;var{x:a,y:i,width:l,height:u}=n;return y.createElement(Tpe.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:a,y:i,height:u,width:l}))),t)};function ou(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function o$(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Ope(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Npe(n,r)}function Ape(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:u}=e;return t===1?{start:n?a:i,end:n?a+l:i+u}:{start:n?a+l:i+u,end:n?a:i}}function ip(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Dpe(e,t){return o$(e,t+1)}function Mpe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:u}=t,d=0,f=1,m=l,g=function(){var j=n?.[d];if(j===void 0)return{v:o$(n,f)};var w=d,b,S=()=>(b===void 0&&(b=r(j,w)),b),k=j.coordinate,C=d===0||ip(e,k,S,m,u);C||(d=0,m=l,f+=1),C&&(m=k+e*(S()/2+a),d+=f)},x;f<=i.length;)if(x=g(),x)return x.v;return[]}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){Ppe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ppe(e,t,r){return(t=Rpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rpe(e){var t=Ipe(e,"string");return typeof t=="symbol"?t:t+""}function Ipe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lpe(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:u}=t,{end:d}=t,f=function(x){var v=i[x],j,w=()=>(j===void 0&&(j=r(v,x)),j);if(x===l-1){var b=e*(v.coordinate+e*w()/2-d);i[x]=v=xn(xn({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else i[x]=v=xn(xn({},v),{},{tickCoord:v.coordinate});var S=ip(e,v.tickCoord,w,u,d);S&&(d=v.tickCoord-e*(w()/2+a),i[x]=xn(xn({},v),{},{isShow:!0}))},m=l-1;m>=0;m--)f(m);return i}function $pe(e,t,r,n,a,i){var l=(n||[]).slice(),u=l.length,{start:d,end:f}=t;if(i){var m=n[u-1],g=r(m,u-1),x=e*(m.coordinate+e*g/2-f);l[u-1]=m=xn(xn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate});var v=ip(e,m.tickCoord,()=>g,d,f);v&&(f=m.tickCoord-e*(g/2+a),l[u-1]=xn(xn({},m),{},{isShow:!0}))}for(var j=i?u-1:u,w=function(k){var C=l[k],E,O=()=>(E===void 0&&(E=r(C,k)),E);if(k===0){var D=e*(C.coordinate-e*O()/2-d);l[k]=C=xn(xn({},C),{},{tickCoord:D<0?C.coordinate-D*e:C.coordinate})}else l[k]=C=xn(xn({},C),{},{tickCoord:C.coordinate});var T=ip(e,C.tickCoord,O,d,f);T&&(d=C.tickCoord+e*(O()/2+a),l[k]=xn(xn({},C),{},{isShow:!0}))},b=0;b<j;b++)w(b);return l}function TS(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:m,angle:g}=e;if(!a||!a.length||!n)return[];if(We(d)||Hl.isSsr){var x;return(x=Dpe(a,We(d)?d:0))!==null&&x!==void 0?x:[]}var v=[],j=u==="top"||u==="bottom"?"width":"height",w=m&&j==="width"?Hd(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(C,E)=>{var O=typeof f=="function"?f(C.value,E):C.value;return j==="width"?Ope(Hd(O,{fontSize:t,letterSpacing:r}),w,g):Hd(O,{fontSize:t,letterSpacing:r})[j]},S=a.length>=2?Zn(a[1].coordinate-a[0].coordinate):1,k=Ape(i,S,j);return d==="equidistantPreserveStart"?Mpe(S,k,b,a,l):(d==="preserveStart"||d==="preserveStartEnd"?v=$pe(S,k,b,a,l,d==="preserveStartEnd"):v=Lpe(S,k,b,a,l),v.filter(C=>C.isShow))}var Bpe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+i,f=l+d+u+(r?n:0);return Math.round(f)}return 0},zpe=["axisLine","width","height","className","hide","ticks"],Fpe=["viewBox"],Upe=["viewBox"];function K1(e,t){if(e==null)return{};var r,n,a=qpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(null,arguments)}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){Hpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hpe(e,t,r){return(t=Wpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wpe(e){var t=Ype(e,"string");return typeof t=="symbol"?t:t+""}function Ype(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ES={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Kpe(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Hr(Hr(Hr({},d),ys(u)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!l||i==="bottom"&&l);f=Hr(Hr({},f),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var g=+(i==="left"&&!l||i==="right"&&l);f=Hr(Hr({},f),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return y.createElement("line",Ll({},f,{className:It("recharts-cartesian-axis-line",tu(u,"className"))}))}function Vpe(e,t,r,n,a,i,l,u,d){var f,m,g,x,v,j,w=u?-1:1,b=e.tickSize||l,S=We(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=m=e.coordinate,x=r+ +!u*a,g=x-w*b,j=g-w*d,v=S;break;case"left":g=x=e.coordinate,m=t+ +!u*n,f=m-w*b,v=f-w*d,j=S;break;case"right":g=x=e.coordinate,m=t+ +u*n,f=m+w*b,v=f+w*d,j=S;break;default:f=m=e.coordinate,x=r+ +u*a,g=x+w*b,j=g+w*d,v=S;break}return{line:{x1:f,y1:g,x2:m,y2:x},tick:{x:v,y:j}}}function Gpe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Qpe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Xpe(e){var{option:t,tickProps:r,value:n}=e,a,i=It(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,Hr(Hr({},r),{},{className:i}));else if(typeof t=="function")a=t(Hr(Hr({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=It(l,t?.className)),a=y.createElement(jS,Ll({},r,{className:l}),n)}return a}function Zpe(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:m,x:g,y:x,width:v,height:j,tickSize:w,tickMargin:b,fontSize:S,letterSpacing:k,getTicksConfig:C,events:E}=e,O=TS(Hr(Hr({},C),{},{ticks:t}),S,k),D=Gpe(f,m),T=Qpe(f,m),M=ys(C),I=Of(r),$={};typeof n=="object"&&($=n);var B=Hr(Hr({},M),{},{fill:"none"},$),z=O.map((Y,ne)=>{var{line:V,tick:F}=Vpe(Y,g,x,v,j,f,w,m,b),Z=Hr(Hr(Hr(Hr({textAnchor:D,verticalAnchor:T},M),{},{stroke:"none",fill:a},I),F),{},{index:ne,payload:Y,visibleTicksCount:O.length,tickFormatter:i,padding:u},d);return y.createElement(xs,Ll({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},Jp(E,Y,ne)),n&&y.createElement("line",Ll({},B,V,{className:It("recharts-cartesian-axis-tick-line",tu(n,"className"))})),r&&y.createElement(Xpe,{option:r,tickProps:Z,value:"".concat(typeof i=="function"?i(Y.value,ne):Y.value).concat(l||"")}))});return z.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},z):null}var Jpe=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:u}=e,d=K1(e,zpe),[f,m]=y.useState(""),[g,x]=y.useState(""),v=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return Bpe({ticks:v.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=y.useCallback(w=>{if(w){var b=w.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=b;var S=b[0];if(S){var k=window.getComputedStyle(S),C=k.fontSize,E=k.letterSpacing;(C!==f||E!==g)&&(m(C),x(E))}}},[f,g]);return l||n!=null&&n<=0||a!=null&&a<=0?null:y.createElement(xs,{className:It("recharts-cartesian-axis",i),ref:j},y.createElement(Kpe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ys(e)}),y.createElement(Zpe,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:g,getTicksConfig:e,events:d}),y.createElement(Bhe,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(Ghe,{label:e.label,labelRef:e.labelRef}),e.children))}),e0e=y.memo(Jpe,(e,t)=>{var{viewBox:r}=e,n=K1(e,Fpe),{viewBox:a}=t,i=K1(t,Upe);return ou(r,a)&&ou(n,i)}),OS=y.forwardRef((e,t)=>{var r=ra(e,ES);return y.createElement(e0e,Ll({},r,{ref:t}))});OS.displayName="CartesianAxis";var t0e=["x1","y1","x2","y2","key"],r0e=["offset"],n0e=["xAxisId","yAxisId"],a0e=["xAxisId","yAxisId"];function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){s0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s0e(e,t,r){return(t=i0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i0e(e){var t=o0e(e,"string");return typeof t=="symbol"?t:t+""}function o0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(null,arguments)}function op(e,t){if(e==null)return{};var r,n,a=l0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var c0e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:u}=e;return y.createElement("rect",{x:n,y:a,ry:u,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function l$(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:u}=t,d=op(t,t0e),f=ys(d),{offset:m}=f,g=op(f,r0e);r=y.createElement("line",xl({},g,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:u}))}return r}function u0e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,u=op(e,n0e),d=a.map((f,m)=>{var g=wn(wn({},u),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(m),index:m});return l$(n,g)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function d0e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,u=op(e,a0e),d=a.map((f,m)=>{var g=wn(wn({},u),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(m),index:m});return l$(n,g)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function f0e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==f[0]&&f.unshift(0);var m=f.map((g,x)=>{var v=!f[x+1],j=v?a+l-g:f[x+1]-g;if(j<=0)return null;var w=x%t.length;return y.createElement("rect",{key:"react-".concat(x),y:g,x:n,height:j,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function h0e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==f[0]&&f.unshift(0);var m=f.map((g,x)=>{var v=!f[x+1],j=v?a+l-g:f[x+1]-g;if(j<=0)return null;var w=x%r.length;return y.createElement("rect",{key:"react-".concat(x),x:g,y:i,width:j,height:u,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var m0e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return Y6(TS(wn(wn(wn({},ES),r),{},{ticks:K6(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},g0e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return Y6(TS(wn(wn(wn({},ES),r),{},{ticks:K6(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},p0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Kf(e){var t=__(),r=S_(),n=Z6(),a=wn(wn({},ra(e,p0e)),{},{x:We(e.x)?e.x:n.left,y:We(e.y)?e.y:n.top,width:We(e.width)?e.width:n.width,height:We(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:u,y:d,width:f,height:m,syncWithTicks:g,horizontalValues:x,verticalValues:v}=a,j=In(),w=Fe(I=>LD(I,"xAxis",i,j)),b=Fe(I=>LD(I,"yAxis",l,j));if(!We(f)||f<=0||!We(m)||m<=0||!We(u)||u!==+u||!We(d)||d!==+d)return null;var S=a.verticalCoordinatesGenerator||m0e,k=a.horizontalCoordinatesGenerator||g0e,{horizontalPoints:C,verticalPoints:E}=a;if((!C||!C.length)&&typeof k=="function"){var O=x&&x.length,D=k({yAxis:b?wn(wn({},b),{},{ticks:O?x:b.ticks}):void 0,width:t,height:r,offset:n},O?!0:g);Bg(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}if((!E||!E.length)&&typeof S=="function"){var T=v&&v.length,M=S({xAxis:w?wn(wn({},w),{},{ticks:T?v:w.ticks}):void 0,width:t,height:r,offset:n},T?!0:g);Bg(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(E=M)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(c0e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(f0e,xl({},a,{horizontalPoints:C})),y.createElement(h0e,xl({},a,{verticalPoints:E})),y.createElement(u0e,xl({},a,{offset:n,horizontalPoints:C,xAxis:w,yAxis:b})),y.createElement(d0e,xl({},a,{offset:n,verticalPoints:E,xAxis:w,yAxis:b})))}Kf.displayName="CartesianGrid";var c$=(e,t,r,n)=>No(e,"xAxis",t,n),u$=(e,t,r,n)=>So(e,"xAxis",t,n),d$=(e,t,r,n)=>No(e,"yAxis",r,n),f$=(e,t,r,n)=>So(e,"yAxis",r,n),y0e=me([$t,c$,d$,u$,f$],(e,t,r,n,a)=>Ro(e,"xAxis")?of(t,n,!1):of(r,a,!1)),x0e=(e,t,r,n,a)=>a;function v0e(e){return e.type==="line"}var b0e=me([D0,x0e],(e,t)=>e.filter(v0e).find(r=>r.id===t)),w0e=me([$t,c$,d$,u$,f$,b0e,y0e,_0],(e,t,r,n,a,i,l,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=u;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:g,data:x}=i,v;if(x!=null&&x.length>0?v=x:v=d?.slice(f,m+1),v!=null)return H0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:v})}});function j0e(e){var t=Of(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,l=Number(a),u=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var _0e=["id"],S0e=["type","layout","connectNulls","needClip"],N0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){k0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k0e(e,t,r){return(t=C0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C0e(e){var t=T0e(e,"string");return typeof t=="symbol"?t:t+""}function T0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AS(e,t){if(e==null)return{};var r,n,a=E0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function E0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(null,arguments)}var O0e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:i0(r,t),payload:e}]};function A0e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:u,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:i0(l,t),hide:u,type:e.tooltipType,color:e.stroke,unit:d}}}var h$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function D0e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var M0e=(e,t,r)=>{var n=r.reduce((g,x)=>g+x);if(!n)return h$(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,u=[],d=0,f=0;d<r.length;f+=r[d],++d)if(f+r[d]>i){u=[...r.slice(0,d),i-f];break}var m=u.length%2===0?[0,l]:[l];return[...D0e(r,a),...u,...m].map(g=>"".concat(g,"px")).join(", ")};function P0e(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=It("recharts-line-dot",typeof e!="boolean"?e.className:"");r=y.createElement(FL,$l({},t,{className:n}))}return r}function R0e(e,t){return e==null?!1:t?!0:e.length===1}function I0e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!R0e(r,a))return null;var{id:u}=n,d=AS(n,_0e),f=HL(a),m=ys(d),g=nre(a),x=r.map((j,w)=>{var b=pa(pa(pa({key:"dot-".concat(w),r:3},m),g),{},{index:w,cx:j.x,cy:j.y,dataKey:i,value:j.value,payload:j.payload,points:r});return P0e(a,b)}),v={clipPath:l?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return y.createElement(xs,$l({className:"recharts-line-dots",key:"dots"},v),x)}function L0e(e){var{showLabels:t,children:r,points:n}=e,a=y.useMemo(()=>n?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return pa(pa({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return y.createElement($L,{value:t?a:null},r)}function LM(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:u,connectNulls:d,needClip:f}=i,m=AS(i,S0e),g=pa(pa({},Rn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:u,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return y.createElement(y.Fragment,null,n?.length>1&&y.createElement(tI,$l({},g,{pathRef:r})),y.createElement(I0e,{points:n,clipPathId:t,props:i}))}function $0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function B0e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:g,animateNewValues:x,width:v,height:j,onAnimationEnd:w,onAnimationStart:b}=r,S=a.current,k=p0(r,"recharts-line-"),[C,E]=y.useState(!1),O=!C,D=y.useCallback(()=>{typeof w=="function"&&w(),E(!1)},[w]),T=y.useCallback(()=>{typeof b=="function"&&b(),E(!0)},[b]),M=$0e(n.current),I=i.current;return y.createElement(L0e,{points:l,showLabels:O},r.children,y.createElement(g0,{animationId:k,begin:f,duration:m,isActive:d,easing:g,onAnimationEnd:D,onAnimationStart:T,key:k},$=>{var B=Lr(I,M+I,$),z=Math.min(B,M),Y;if(d)if(u){var ne="".concat(u).split(/[,\s]+/gim).map(Z=>parseFloat(Z));Y=M0e(z,M,ne)}else Y=h$(M,z);else Y=u==null?void 0:String(u);if(S){var V=S.length/l.length,F=$===1?l:l.map((Z,q)=>{var U=Math.floor(q*V);if(S[U]){var W=S[U];return pa(pa({},Z),{},{x:Lr(W.x,Z.x,$),y:Lr(W.y,Z.y,$)})}return x?pa(pa({},Z),{},{x:Lr(v*2,Z.x,$),y:Lr(j/2,Z.y,$)}):pa(pa({},Z),{},{x:Z.x,y:Z.y})});return a.current=F,y.createElement(LM,{props:r,points:F,clipPathId:t,pathRef:n,strokeDasharray:Y})}return $>0&&M>0&&(a.current=l,i.current=z),y.createElement(LM,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:Y})}),y.createElement(zL,{label:r.label}))}function z0e(e){var{clipPathId:t,props:r}=e,n=y.useRef(null),a=y.useRef(0),i=y.useRef(null);return y.createElement(B0e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var F0e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:rn(e.payload,t)});class U0e extends y.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:l,top:u,left:d,width:f,height:m,id:g,needClip:x}=this.props;if(t)return null;var v=It("recharts-line",a),j=g,{r:w,strokeWidth:b}=j0e(r),S=HL(r),k=w*2+b;return y.createElement(y.Fragment,null,y.createElement(xs,{className:v},x&&y.createElement("defs",null,y.createElement(r$,{clipPathId:j,xAxisId:i,yAxisId:l}),!S&&y.createElement("clipPath",{id:"clipPath-dots-".concat(j)},y.createElement("rect",{x:d-k/2,y:u-k/2,width:f+k,height:m+k}))),y.createElement(t$,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:F0e,errorBarOffset:0},y.createElement(z0e,{props:this.props,clipPathId:j}))),y.createElement(ige,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var m$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Hl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function q0e(e){var t=ra(e,m$),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:u,dot:d,hide:f,isAnimationActive:m,label:g,legendType:x,xAxisId:v,yAxisId:j,id:w}=t,b=AS(t,N0e),{needClip:S}=kS(v,j),k=SS(),C=h0(),E=In(),O=Fe($=>w0e($,v,j,E,w));if(C!=="horizontal"&&C!=="vertical"||O==null||k==null)return null;var{height:D,width:T,x:M,y:I}=k;return y.createElement(U0e,$l({},b,{id:w,connectNulls:u,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:m,hide:f,label:g,legendType:x,xAxisId:v,yAxisId:j,points:O,layout:C,height:D,width:T,left:M,top:I,needClip:S}))}function H0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:u,displayedData:d}=e;return d.map((f,m)=>{var g=rn(f,l);if(t==="horizontal"){var x=dA({axis:r,ticks:a,bandSize:u,entry:f,index:m}),v=fr(g)?null:n.scale(g);return{x,y:v,value:g,payload:f}}var j=fr(g)?null:r.scale(g),w=dA({axis:n,ticks:i,bandSize:u,entry:f,index:m});return j==null||w==null?null:{x:j,y:w,value:g,payload:f}}).filter(Boolean)}function W0e(e){var t=ra(e,m$),r=In();return y.createElement(QL,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(GL,{legendPayload:O0e(t)}),y.createElement(VL,{fn:A0e,args:t}),y.createElement(ZL,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(q0e,$l({},t,{id:n}))))}var V1=y.memo(W0e);V1.displayName="Line";var Y0e=["dangerouslySetInnerHTML","ticks"],K0e=["id"],V0e=["domain"],G0e=["domain"];function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G1.apply(null,arguments)}function lp(e,t){if(e==null)return{};var r,n,a=Q0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Q0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X0e(e){var t=Or();return y.useLayoutEffect(()=>(t(Kme(e)),()=>{t(Vme(e))}),[e,t]),null}var Z0e=e=>{var{xAxisId:t,className:r}=e,n=Fe(w_),a=In(),i="xAxis",l=Fe(b=>Tu(b,i,t,a)),u=Fe(b=>X8(b,i,t,a)),d=Fe(b=>K8(b,t)),f=Fe(b=>vde(b,t)),m=Fe(b=>p8(b,t));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,v=lp(e,Y0e),{id:j}=m,w=lp(m,K0e);return y.createElement(OS,G1({},v,w,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:It("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:u}))},J0e={allowDataOverflow:da.allowDataOverflow,allowDecimals:da.allowDecimals,allowDuplicatedCategory:da.allowDuplicatedCategory,height:da.height,hide:!1,mirror:da.mirror,orientation:da.orientation,padding:da.padding,reversed:da.reversed,scale:da.scale,tickCount:da.tickCount,type:da.type,xAxisId:0},eye=e=>{var t,r,n,a,i,l=ra(e,J0e);return y.createElement(y.Fragment,null,y.createElement(X0e,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),y.createElement(Z0e,l))},tye=(e,t)=>{var{domain:r}=e,n=lp(e,V0e),{domain:a}=t,i=lp(t,G0e);return ou(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:ou({domain:r},{domain:a}):!1},Vf=y.memo(eye,tye);Vf.displayName="XAxis";var rye=["dangerouslySetInnerHTML","ticks"],nye=["id"],aye=["domain"],sye=["domain"];function Q1(){return Q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q1.apply(null,arguments)}function cp(e,t){if(e==null)return{};var r,n,a=iye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oye(e){var t=Or();return y.useLayoutEffect(()=>(t(Gme(e)),()=>{t(Qme(e))}),[e,t]),null}var lye=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=y.useRef(null),l=y.useRef(null),u=Fe(w_),d=In(),f=Or(),m="yAxis",g=Fe(O=>Tu(O,m,t,d)),x=Fe(O=>V8(O,t)),v=Fe(O=>wde(O,t)),j=Fe(O=>X8(O,m,t,d)),w=Fe(O=>y8(O,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!x||_S(a)||y.isValidElement(a)||w==null)){var O=i.current;if(O){var D=O.getCalculatedWidth();Math.round(x.width)!==Math.round(D)&&f(Xme({id:t,width:D}))}}},[j,x,f,a,t,n,w]),x==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:b,ticks:S}=e,k=cp(e,rye),{id:C}=w,E=cp(w,nye);return y.createElement(OS,Q1({},k,E,{ref:i,labelRef:l,scale:g,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:x.width,height:x.height,className:It("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:j}))},cye={allowDataOverflow:fa.allowDataOverflow,allowDecimals:fa.allowDecimals,allowDuplicatedCategory:fa.allowDuplicatedCategory,hide:!1,mirror:fa.mirror,orientation:fa.orientation,padding:fa.padding,reversed:fa.reversed,scale:fa.scale,tickCount:fa.tickCount,type:fa.type,width:fa.width,yAxisId:0},uye=e=>{var t,r,n,a,i,l=ra(e,cye);return y.createElement(y.Fragment,null,y.createElement(oye,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),y.createElement(lye,l))},dye=(e,t)=>{var{domain:r}=e,n=cp(e,aye),{domain:a}=t,i=cp(t,sye);return ou(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:ou({domain:r},{domain:a}):!1},Gf=y.memo(uye,dye);Gf.displayName="YAxis";var uw={exports:{}},dw={};var $M;function fye(){if($M)return dw;$M=1;var e=cu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,u=e.useDebugValue;return dw.useSyncExternalStoreWithSelector=function(d,f,m,g,x){var v=a(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=l(function(){function b(O){if(!S){if(S=!0,k=O,O=g(O),x!==void 0&&j.hasValue){var D=j.value;if(x(D,O))return C=D}return C=O}if(D=C,r(k,O))return D;var T=g(O);return x!==void 0&&x(D,T)?(k=O,D):(k=O,C=T)}var S=!1,k,C,E=m===void 0?null:m;return[function(){return b(f())},E===null?void 0:function(){return b(E())}]},[f,m,g,x]);var w=n(d,v[0],v[1]);return i(function(){j.hasValue=!0,j.value=w},[w]),u(w),w},dw}var BM;function hye(){return BM||(BM=1,uw.exports=fye()),uw.exports}hye();function mye(e){e()}function gye(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mye(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var zM={notify(){},get:()=>[]};function pye(e,t){let r,n=zM,a=0,i=!1;function l(w){m();const b=n.subscribe(w);let S=!1;return()=>{S||(S=!0,b(),g())}}function u(){n.notify()}function d(){j.onStateChange&&j.onStateChange()}function f(){return i}function m(){a++,r||(r=e.subscribe(d),n=gye())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=zM)}function x(){i||(i=!0,m())}function v(){i&&(i=!1,g())}const j={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:x,tryUnsubscribe:v,getListeners:()=>n};return j}var yye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xye=yye(),vye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bye=vye(),wye=()=>xye||bye?y.useLayoutEffect:y.useEffect,jye=wye(),_ye=Symbol.for("react-redux-context"),Sye=typeof globalThis<"u"?globalThis:{};function Nye(){if(!y.createContext)return{};const e=Sye[_ye]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var kye=Nye();function Cye(e){const{children:t,context:r,serverState:n,store:a}=e,i=y.useMemo(()=>{const d=pye(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=y.useMemo(()=>a.getState(),[a]);jye(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const u=r||kye;return y.createElement(u.Provider,{value:i},t)}var Tye=Cye,Eye=(e,t)=>t,DS=me([Eye,$t,h8,Gr,mL,Ii,kfe,nn],Afe),MS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},g$=Ja("mouseClick"),p$=Mf();p$.startListening({actionCreator:g$,effect:(e,t)=>{var r=e.payload,n=DS(t.getState(),MS(r));n?.activeIndex!=null&&t.dispatch(Pde({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var X1=Ja("mouseMove"),y$=Mf();y$.startListening({actionCreator:X1,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=hS(n,n.tooltip.settings.shared),i=DS(n,MS(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(sL({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(aL()))}});var FM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},x$=Ta({name:"rootProps",initialState:FM,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:FM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Oye=x$.reducer,{updateOptions:Aye}=x$.actions,v$=Ta({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:pje}=v$.actions,Dye=v$.reducer,b$=Ja("keyDown"),w$=Ja("focus"),PS=Mf();PS.startListening({actionCreator:b$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(mS(a,Ou(r))),u=Ii(r);if(i==="Enter"){var d=tp(r,"axis","hover",String(a.index));t.dispatch(F1({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var f=Nde(r),m=f==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,x=l+g*m;if(!(u==null||x>=u.length||x<0)){var v=tp(r,"axis","hover",String(x));t.dispatch(F1({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});PS.startListening({actionCreator:w$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=tp(r,"axis","hover",String(i));t.dispatch(F1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Ha=Ja("externalEvent"),j$=Mf();j$.startListening({actionCreator:Ha,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:pfe(r),activeDataKey:xL(r),activeIndex:Il(r),activeLabel:yL(r),activeTooltipIndex:Il(r),isTooltipActive:yfe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Mye=me([Eu],e=>e.tooltipItemPayloads),Pye=me([Mye,Hf,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),_$=Ja("touchMove"),S$=Mf();S$.startListening({actionCreator:_$,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=hS(n,n.tooltip.settings.shared);if(a==="axis"){var i=DS(n,MS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(sL({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(Ese),m=(l=d.getAttribute(Ose))!==null&&l!==void 0?l:void 0,g=Pye(t.getState(),f,m);t.dispatch(nL({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}});var Rye=b6({brush:bpe,cartesianAxis:Zme,chartData:Kfe,errorBars:xge,graphicalItems:Ume,layout:Zae,legend:cie,options:Ufe,polarAxis:cme,polarOptions:Dye,referenceElements:Cpe,rootProps:Oye,tooltip:Rde}),Iye=function(t){return _ae({reducer:Rye,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([p$.middleware,y$.middleware,PS.middleware,j$.middleware,S$.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(D6({type:"raf"}))},devTools:Hl.devToolsEnabled})};function Lye(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=In(),i=y.useRef(null);if(a)return r;i.current==null&&(i.current=Iye(t));var l=g_;return y.createElement(Tye,{context:l,store:i.current},r)}function $ye(e){var{layout:t,margin:r}=e,n=Or(),a=In();return y.useEffect(()=>{a||(n(Gae(t)),n(Vae(r)))},[n,a,t,r]),null}function Bye(e){var t=Or();return y.useEffect(()=>{t(Aye(e))},[t,e]),null}var zye=["children"];function Fye(e,t){if(e==null)return{};var r,n,a=Uye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}var qye={width:"100%",height:"100%",display:"block"},Hye=y.forwardRef((e,t)=>{var r=__(),n=S_(),a=eI();if(!ru(r)||!ru(n))return null;var{children:i,otherAttributes:l,title:u,desc:d}=e,f,m;return typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0,y.createElement(n_,up({},l,{title:u,desc:d,role:m,tabIndex:f,width:r,height:n,style:qye,ref:t}),i)}),Wye=e=>{var{children:t}=e,r=Fe(u0);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return y.createElement(n_,{width:n,height:a,x:l,y:i},t)},UM=y.forwardRef((e,t)=>{var{children:r}=e,n=Fye(e,zye),a=In();return a?y.createElement(Wye,null,r):y.createElement(Hye,up({ref:t},n),r)});function Yye(){var e=Or(),[t,r]=y.useState(null),n=Fe(Tse);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;_n(i)&&i!==n&&e(Xae(i))}},[t,e,n]),r}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){Vye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vye(e,t,r){return(t=Gye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gye(e){var t=Qye(e,"string");return typeof t=="symbol"?t:t+""}function Qye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(null,arguments)}var Xye=()=>(rhe(),null);function dp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Zye=y.forwardRef((e,t)=>{var r,n,a=y.useRef(null),[i,l]=y.useState({containerWidth:dp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:dp((n=e.style)===null||n===void 0?void 0:n.height)}),u=y.useCallback((f,m)=>{l(g=>{var x=Math.round(f),v=Math.round(m);return g.containerWidth===x&&g.containerHeight===v?g:{containerWidth:x,containerHeight:v}})},[]),d=y.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:g}=f.getBoundingClientRect();u(m,g);var x=j=>{var{width:w,height:b}=j[0].contentRect;u(w,b)},v=new ResizeObserver(x);v.observe(f),a.current=v}},[t,u]);return y.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[u]),y.createElement(y.Fragment,null,y.createElement(m0,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",Bl({ref:d},e)))}),Jye=y.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=y.useState({containerWidth:dp(r),containerHeight:dp(n)}),l=y.useCallback((d,f)=>{i(m=>{var g=Math.round(d),x=Math.round(f);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),u=y.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[t,l]);return y.createElement(y.Fragment,null,y.createElement(m0,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",Bl({ref:u},e)))}),exe=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return y.createElement(y.Fragment,null,y.createElement(m0,{width:r,height:n}),y.createElement("div",Bl({ref:t},e)))}),txe=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ni(r)||Ni(n)?y.createElement(Jye,Bl({},e,{ref:t})):y.createElement(exe,Bl({},e,{ref:t}))});function rxe(e){return e===!0?Zye:txe}var nxe=y.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:x,onTouchEnd:v,onTouchMove:j,onTouchStart:w,style:b,width:S,responsive:k,dispatchTouchEvents:C=!0}=e,E=y.useRef(null),O=Or(),[D,T]=y.useState(null),[M,I]=y.useState(null),$=Yye(),B=j_(),z=B?.width>0?B.width:S,Y=B?.height>0?B.height:a,ne=y.useCallback(se=>{$(se),typeof t=="function"&&t(se),T(se),I(se),se!=null&&(E.current=se)},[$,t,T,I]),V=y.useCallback(se=>{O(g$(se)),O(Ha({handler:i,reactEvent:se}))},[O,i]),F=y.useCallback(se=>{O(X1(se)),O(Ha({handler:f,reactEvent:se}))},[O,f]),Z=y.useCallback(se=>{O(aL()),O(Ha({handler:m,reactEvent:se}))},[O,m]),q=y.useCallback(se=>{O(X1(se)),O(Ha({handler:g,reactEvent:se}))},[O,g]),U=y.useCallback(()=>{O(w$())},[O]),W=y.useCallback(se=>{O(b$(se.key))},[O]),L=y.useCallback(se=>{O(Ha({handler:l,reactEvent:se}))},[O,l]),ee=y.useCallback(se=>{O(Ha({handler:u,reactEvent:se}))},[O,u]),J=y.useCallback(se=>{O(Ha({handler:d,reactEvent:se}))},[O,d]),Q=y.useCallback(se=>{O(Ha({handler:x,reactEvent:se}))},[O,x]),fe=y.useCallback(se=>{O(Ha({handler:w,reactEvent:se}))},[O,w]),ge=y.useCallback(se=>{C&&O(_$(se)),O(Ha({handler:j,reactEvent:se}))},[O,C,j]),re=y.useCallback(se=>{O(Ha({handler:v,reactEvent:se}))},[O,v]),ke=rxe(k);return y.createElement(SL.Provider,{value:D},y.createElement(I5.Provider,{value:M},y.createElement(ke,{width:z??b?.width,height:Y??b?.height,className:It("recharts-wrapper",n),style:Kye({position:"relative",cursor:"default",width:z,height:Y},b),onClick:V,onContextMenu:L,onDoubleClick:ee,onFocus:U,onKeyDown:W,onMouseDown:J,onMouseEnter:F,onMouseLeave:Z,onMouseMove:q,onMouseUp:Q,onTouchEnd:re,onTouchMove:ge,onTouchStart:fe,ref:ne},y.createElement(Xye,null),r)))}),axe=["width","height","responsive","children","className","style","compact","title","desc"];function sxe(e,t){if(e==null)return{};var r,n,a=ixe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ixe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oxe=y.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:l,style:u,compact:d,title:f,desc:m}=e,g=sxe(e,axe),x=ys(g);return d?y.createElement(y.Fragment,null,y.createElement(m0,{width:r,height:n}),y.createElement(UM,{otherAttributes:x,title:f,desc:m},i)):y.createElement(nxe,{className:l,style:u,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(UM,{otherAttributes:x,title:f,desc:m,ref:t},y.createElement(Epe,null,i)))});function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z1.apply(null,arguments)}var lxe={top:5,right:5,bottom:5,left:5},cxe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lxe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},N$=y.forwardRef(function(t,r){var n,a=ra(t.categoricalChartProps,cxe),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return y.createElement(Lye,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},y.createElement(vpe,{chartData:f.data}),y.createElement($ye,{layout:a.layout,margin:a.margin}),y.createElement(Bye,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),y.createElement(oxe,Z1({},a,{ref:r})))}),uxe=["axis"],dxe=y.forwardRef((e,t)=>y.createElement(N$,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uxe,tooltipPayloadSearcher:NL,categoricalChartProps:e,ref:t})),fxe=["axis","item"],RS=y.forwardRef((e,t)=>y.createElement(N$,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fxe,tooltipPayloadSearcher:NL,categoricalChartProps:e,ref:t}));const hxe=()=>Be({queryKey:["health-time-stats"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.rpc("get_health_time_stats",{p_user_id:e.id});if(r)throw r;return t},refetchInterval:60*1e3,staleTime:30*1e3}),mxe=()=>Be({queryKey:["health-time-streak"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.rpc("calculate_health_time_streak",{p_user_id:e.id});if(r)throw r;return t},staleTime:3600*1e3}),gxe=()=>Be({queryKey:["health-neglect-risk"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.rpc("detect_health_neglect_risk",{p_user_id:e.id});if(r)throw r;return t},refetchInterval:300*1e3,staleTime:120*1e3}),pxe=(e=7)=>Be({queryKey:["health-activity-breakdown",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("get_health_activity_breakdown",{p_user_id:t.id,p_days:e});if(n)throw n;return r},staleTime:300*1e3}),yxe=(e=4)=>Be({queryKey:["weekly-health-summary",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("get_weekly_health_summary",{p_user_id:t.id,p_weeks:e});if(n)throw n;return r},staleTime:300*1e3}),xxe=()=>{const{data:e,isLoading:t}=hxe();if(t)return s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/2 mb-4"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-20 bg-gray-700 rounded"}),s.jsx("div",{className:"h-16 bg-gray-700 rounded"})]})]});if(!e)return s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Health Time Allocation"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"No data available"})]});const r=e.weekly_percentage>=100?"text-green-400":e.weekly_percentage>=80?"text-yellow-400":"text-red-400",n=e.weekly_percentage>=100?"bg-green-500":e.weekly_percentage>=80?"bg-yellow-500":"bg-red-500",a=e.weekly_delta>=0?ea:vf,i=e.weekly_delta>=0?"text-green-400":"text-red-400",l=e.weekly_percentage<80;return s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-6",children:"Health Time Allocation"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"This Week"}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:`text-3xl font-bold ${r}`,children:[e.hours_this_week.toFixed(1),"h"]}),s.jsxs("span",{className:"text-gray-400",children:["/ ",e.target_weekly_hours,"h"]})]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden mb-2",children:s.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${n}`,style:{width:`${Math.min(e.weekly_percentage,100)}%`}})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:`text-sm font-medium ${r}`,children:[e.weekly_percentage,"% of target"]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(a,{className:`w-4 h-4 mr-1 ${i}`}),s.jsxs("span",{className:i,children:[e.weekly_delta>=0?"+":"",e.weekly_delta.toFixed(1),"h vs last week"]})]})]}),l&&s.jsxs("div",{className:"flex items-center mt-3 bg-yellow-900/30 border border-yellow-600 rounded p-3",children:[s.jsx(Xa,{className:"w-5 h-5 mr-2 text-yellow-500 flex-shrink-0"}),s.jsxs("span",{className:"text-sm text-yellow-400",children:[s.jsxs("span",{className:"font-semibold",children:[e.hours_below_target.toFixed(1),"h below target"]})," ","- Consider scheduling health time this week"]})]})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Today"}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-xl font-semibold text-gray-100",children:[e.hours_today.toFixed(1),"h"]}),s.jsxs("span",{className:"text-gray-500",children:["/ ",e.target_daily_hours.toFixed(1),"h"]})]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"h-2 rounded-full bg-teal-500 transition-all duration-500",style:{width:`${Math.min(e.daily_percentage,100)}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Target: ",(e.target_daily_hours*60).toFixed(0)," minutes per day"]})]})]})},vxe=()=>{const{data:e,isLoading:t}=mxe();if(t)return s.jsxs("div",{className:"bg-gradient-to-r from-orange-900/20 to-red-900/20 rounded-lg shadow p-6 border border-orange-700/50 animate-pulse",children:[s.jsx("div",{className:"h-12 bg-gray-700 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded"})]});if(e==null)return null;const r=[4,8,12],n=r.find(u=>u>e)||12,a=n-e,i=e>=4,l=e>=12?"":e>=8?"":e>=4?"":null;return s.jsxs("div",{className:"bg-gradient-to-r from-orange-900/20 to-red-900/20 rounded-lg shadow p-6 border border-orange-700/50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(bj,{className:"w-8 h-8 text-orange-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-orange-400",children:e}),s.jsx("div",{className:"text-sm text-gray-400",children:e===1?"week":"weeks"})]})]}),s.jsx("p",{className:"text-gray-300 font-medium",children:"Consecutive weeks meeting health target"})]}),i&&l&&s.jsx("div",{className:"text-5xl animate-bounce",children:l})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[s.jsx("span",{children:"Milestones"}),e<12&&s.jsxs("span",{children:[a," ",a===1?"week":"weeks"," to ",n," weeks"]})]}),s.jsx("div",{className:"flex gap-2",children:r.map((u,d)=>{const f=e>=u,m=e<u&&(d===0||e>=r[d-1]);return s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`
                    h-3 rounded-full transition-all duration-500 relative overflow-hidden
                    ${f?"bg-orange-500":"bg-gray-700"}
                  `,title:`${u} weeks`,children:m&&s.jsx("div",{className:"absolute inset-0 bg-orange-600 transition-all duration-500",style:{width:`${(e-(r[d-1]||0))/(u-(r[d-1]||0))*100}%`}})}),s.jsxs("div",{className:`text-xs text-center mt-1 ${f?"text-orange-400 font-medium":"text-gray-500"}`,children:[u,"w",f&&d===r.length-1&&s.jsx(jH,{className:"w-3 h-3 inline ml-1"})]})]},u)})})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-orange-700/30",children:[e===0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsx(kl,{className:"w-4 h-4"}),s.jsx("span",{children:"Start your streak by meeting your health target this week!"})]}),e>0&&e<4&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-400",children:[s.jsx(kl,{className:"w-4 h-4"}),s.jsxs("span",{children:["Keep going! ",4-e," more ",4-e===1?"week":"weeks"," to your first milestone."]})]}),e>=4&&e<8&&s.jsx("div",{className:"text-sm text-orange-400 font-medium",children:" Great consistency! You're building a healthy habit."}),e>=8&&e<12&&s.jsx("div",{className:"text-sm text-orange-400 font-medium",children:" Impressive! Health is clearly a priority for you."}),e>=12&&s.jsxs("div",{className:"text-sm text-orange-400 font-medium",children:[" Outstanding! ",e," weeks of consistency is remarkable!"]})]})]})},bxe=({onScheduleClick:e})=>{const{data:t}=gxe();return!t||t.risk_level==="none"?null:t.risk_level==="low"?s.jsx("div",{className:"bg-yellow-900/20 border-l-4 border-yellow-500 rounded p-4 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xa,{className:"text-yellow-500 w-6 h-6 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-yellow-400 text-lg mb-1",children:"Health time below target last week"}),s.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["You were below 50% of your health target (",t.threshold.toFixed(1),"h) last week. Consider scheduling health time this week to get back on track."]}),e&&s.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded font-medium transition-colors text-sm",children:[s.jsx($r,{className:"w-4 h-4"}),"Schedule Health Time"]})]})]})}):s.jsxs("div",{className:"bg-red-900/30 border-l-4 border-red-500 rounded p-5 shadow-xl",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-red-500 rounded-full p-2",children:s.jsx(Xa,{className:"text-white w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-red-400 text-xl mb-2",children:" Health neglected - schedule workout time"}),s.jsxs("p",{className:"text-gray-200 mb-2",children:["You've been below 50% of your health target for"," ",s.jsxs("span",{className:"font-semibold text-red-400",children:[t.consecutive_below," consecutive weeks"]}),"."]}),s.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:["Your health goal is ",t.target_weekly,"h per week, but you've been consistently below ",t.threshold.toFixed(1),"h. Time to prioritize your health and well-being!"]}),e&&s.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-5 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors shadow-lg",children:[s.jsx($r,{className:"w-5 h-5"}),"Schedule Health Time Now"]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-red-700/30",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-400",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-1.5 flex-shrink-0"}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium text-gray-300",children:"Why this matters:"})," Consistent health time helps prevent burnout, maintains energy levels, and supports long-term productivity."]})]})})]})},HM={Workout:"#ef4444",Cardio:"#dc2626",Strength:"#f87171",Yoga:"#a855f7",Meditation:"#8b5cf6","Meal Prep":"#10b981","Meal Planning":"#059669",Physio:"#f59e0b","Health Research":"#3b82f6",Doctor:"#06b6d4","Mental Health":"#ec4899"},wxe="#6b7280",jxe=()=>{const[e,t]=y.useState("week"),r={week:7,month:30,quarter:90},{data:n,isLoading:a}=pxe(r[e]);if(a)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4 animate-pulse"}),s.jsx("div",{className:"h-64 bg-gray-700 rounded animate-pulse"})]});if(!n||n.length===0)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-4",children:"Health Activity Breakdown"}),s.jsxs("p",{className:"text-gray-400 text-center py-8",children:["No labeled health activities for this period.",s.jsx("br",{}),s.jsx("span",{className:"text-sm",children:"Add labels to your deep work sessions to see activity breakdown"})]})]});const i=n.map(u=>({...u,color:HM[u.activity]||wxe})),l=n.reduce((u,d)=>u+d.hours,0);return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:"Health Activity Breakdown"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>t("week"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${e==="week"?"bg-teal-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Week"}),s.jsx("button",{onClick:()=>t("month"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${e==="month"?"bg-teal-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Month"}),s.jsx("button",{onClick:()=>t("quarter"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${e==="quarter"?"bg-teal-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Last 3 Months"})]})]}),s.jsx(d0,{width:"100%",height:300,children:s.jsxs(RS,{data:i,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[s.jsx(Kf,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Vf,{type:"number",stroke:"#9ca3af",tick:{fill:"#9ca3af"},label:{value:"Hours",position:"insideBottom",offset:-5,fill:"#9ca3af"}}),s.jsx(Gf,{type:"category",dataKey:"activity",stroke:"#9ca3af",tick:{fill:"#9ca3af"},width:90}),s.jsx(L0,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"},formatter:(u,d,f)=>[`${u.toFixed(1)} hours (${f.payload.percentage.toFixed(1)}%)`,"Time"]}),s.jsx(gf,{dataKey:"hours",radius:[0,4,4,0],children:i.map((u,d)=>s.jsx($0,{fill:u.color},`cell-${d}`))})]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-700/50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Activities"}),s.jsx("div",{className:"text-xl font-bold text-gray-100",children:n.length})]}),s.jsxs("div",{className:"bg-gray-700/50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Hours"}),s.jsxs("div",{className:"text-xl font-bold text-teal-400",children:[l.toFixed(1),"h"]})]}),s.jsxs("div",{className:"bg-gray-700/50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Sessions"}),s.jsx("div",{className:"text-xl font-bold text-gray-100",children:n.reduce((u,d)=>u+d.session_count,0)})]}),s.jsxs("div",{className:"bg-gray-700/50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Top Activity"}),s.jsx("div",{className:"text-sm font-semibold text-gray-100 truncate",children:n[0]?.activity||"N/A"})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Activity Colors:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(HM).map(([u,d])=>s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:d}}),s.jsx("span",{className:"text-xs text-gray-400",children:u})]},u))})]})]})},_xe=()=>{const{data:e,isLoading:t}=yxe(4);if(t)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-48 bg-gray-700 rounded"})]});if(!e||e.length===0)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-4",children:"Weekly Health Summary"}),s.jsx("p",{className:"text-gray-400 text-center py-8",children:"No health time data available yet"})]});const r=e[0],n=e.length>1?e[1]:null,a=n?r.hours-n.hours:0,i=n&&n.hours>0?(r.hours-n.hours)/n.hours*100:0,l=a>=0?ea:vf,u=a>=0?"text-green-400":"text-red-400",f=(()=>{const g=e.filter(x=>x.met_target).length;return g===4?{type:"success",message:" Perfect consistency! You met your health target all 4 weeks."}:g>=2?{type:"good",message:` Good effort! You met your target ${g} out of 4 weeks.`}:a>0?{type:"improving",message:" Trending upward! Keep building this positive momentum."}:{type:"warning",message:" Your health time is trending down - consider blocking calendar time."}})(),m=[...e].reverse().map(g=>({week:Ne(Ct(g.week_start),"MMM d"),hours:g.hours,target:g.target_hours}));return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-6",children:"Weekly Health Summary"}),s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"This Week"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-2xl font-bold text-teal-400",children:[r.hours.toFixed(1),"h"]}),n&&s.jsxs("div",{className:"text-sm text-gray-400",children:["from ",n.hours.toFixed(1),"h"]})]})]}),n&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l,{className:`w-5 h-5 ${u}`}),s.jsxs("span",{className:`text-sm font-medium ${u}`,children:[a>=0?"+":"",a.toFixed(1),"h"," ","(",a>=0?"+":"",i.toFixed(0),"%)"]})]}),s.jsx("div",{className:`text-sm ${r.met_target?"text-green-400":"text-red-400"}`,children:r.met_target?" Met target":" Below target"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"4-Week Trend"}),s.jsx(d0,{width:"100%",height:180,children:s.jsxs(dxe,{data:m,margin:{top:5,right:20,left:0,bottom:5},children:[s.jsx(Kf,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Vf,{dataKey:"week",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),s.jsx(Gf,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),s.jsx(L0,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"}}),s.jsx(V1,{type:"monotone",dataKey:"hours",stroke:"#14b8a6",strokeWidth:3,dot:{fill:"#14b8a6",r:4},activeDot:{r:6},name:"Actual"}),s.jsx(V1,{type:"monotone",dataKey:"target",stroke:"#6b7280",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"Target"})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Last 4 Weeks"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Week"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Hours"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Target"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"%"}),s.jsx("th",{className:"text-center py-2 text-gray-400 font-medium",children:"Met"})]})}),s.jsx("tbody",{children:e.map((g,x)=>s.jsxs("tr",{className:`border-b border-gray-700/50 ${x===0?"bg-gray-700/30":""}`,children:[s.jsx("td",{className:"py-2 text-gray-300",children:x===0?"This Week":`${x} ${x===1?"week":"weeks"} ago`}),s.jsxs("td",{className:"text-right py-2 font-medium text-gray-100",children:[g.hours.toFixed(1),"h"]}),s.jsxs("td",{className:"text-right py-2 text-gray-400",children:[g.target_hours,"h"]}),s.jsxs("td",{className:`text-right py-2 font-medium ${g.percentage>=100?"text-green-400":g.percentage>=80?"text-yellow-400":"text-red-400"}`,children:[g.percentage,"%"]}),s.jsx("td",{className:"text-center py-2",children:g.met_target?s.jsx(Sp,{className:"w-5 h-5 text-green-400 inline"}):s.jsx(qt,{className:"w-5 h-5 text-red-400 inline"})})]},g.week_start))})]})})]}),s.jsx("div",{className:`rounded p-3 text-sm ${f.type==="success"?"bg-green-900/20 text-green-400":f.type==="good"?"bg-blue-900/20 text-blue-400":f.type==="improving"?"bg-teal-900/20 text-teal-400":"bg-yellow-900/20 text-yellow-400"}`,children:f.message})]})},Sxe=({onSchedule:e,variant:t="primary",size:r="md"})=>{const[n,a]=y.useState(!1),i=()=>{e&&(e(),a(!0),setTimeout(()=>{a(!1)},3e3))},l={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-5 py-3 text-lg"},u={primary:n?"bg-green-600 hover:bg-green-700":"bg-teal-600 hover:bg-teal-700",secondary:n?"bg-green-700 hover:bg-green-800 border border-green-600":"bg-gray-700 hover:bg-gray-600 border border-gray-600"};return s.jsx("button",{onClick:i,disabled:n,className:`
        flex items-center gap-2 rounded-lg font-medium transition-all
        text-white disabled:opacity-75 disabled:cursor-not-allowed
        ${l[r]}
        ${u[t]}
      `,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Sp,{className:"w-4 h-4"}),s.jsx("span",{children:"Scheduled!"})]}):s.jsxs(s.Fragment,{children:[s.jsx($r,{className:"w-4 h-4"}),s.jsx("span",{children:"Schedule Health Time"})]})})},Nxe=({onSchedule:e})=>s.jsx("div",{className:"bg-teal-900/20 border border-teal-600 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-teal-600 rounded-full p-2",children:s.jsx($r,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-teal-400 mb-1",children:"Quick Schedule Health Time"}),s.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Block time for a workout, meal prep, or other health activity"}),s.jsx(Sxe,{onSchedule:e,variant:"primary",size:"sm"})]})]})}),kxe=()=>Be({queryKey:["area-time-budgets"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.from("area_time_budgets").select("*").eq("user_id",e.id);if(r)throw r;return t},staleTime:300*1e3}),Cxe=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const n=t.map(l=>({user_id:r.id,area:l.area,target_hours_per_week:l.targetHours,updated_at:new Date().toISOString()})),{data:a,error:i}=await X.from("area_time_budgets").upsert(n,{onConflict:"user_id,area"}).select();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["area-time-budgets"]})}})},Txe={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},WM=["Full Stack","S4","808","Personal","Huge Capital","Golf","Health"],fw={"Full Stack":10,S4:6,808:4,Personal:5,"Huge Capital":8,Golf:2,Health:5},Exe=({isOpen:e,onClose:t})=>{const{data:r}=kxe(),n=Cxe(),[a,i]=y.useState(fw),[l,u]=y.useState(!1);y.useEffect(()=>{if(r&&r.length>0){const g={};r.forEach(v=>{g[v.area]=v.target_hours_per_week});const x={...fw};Object.entries(g).forEach(([v,j])=>{j!==void 0&&(x[v]=j)}),i(x)}},[r]);const d=(g,x)=>{const v=parseInt(x,10);!isNaN(v)&&v>=0&&(i(j=>({...j,[g]:v})),u(!0))},f=async()=>{const g=WM.map(x=>({area:x,targetHours:a[x]}));try{await n.mutateAsync(g),u(!1),t()}catch(x){console.error("Failed to save budgets:",x),alert("Failed to save budgets. Please try again.")}},m=()=>{i(fw),u(!0)};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 p-6 flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Time Budget Settings"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-200 transition-colors",children:s.jsx(qt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-400 mb-6",children:"Set target hours per week for each life area. These targets will help you track progress and maintain balance."}),s.jsx("div",{className:"space-y-4",children:WM.map(g=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:Txe[g]}}),s.jsx("label",{htmlFor:`budget-${g}`,className:"flex-1 text-gray-100 font-medium",children:g}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:`budget-${g}`,type:"number",min:"0",max:"168",value:a[g],onChange:x=>d(g,x.target.value),className:"w-20 bg-gray-700 border border-gray-600 rounded px-3 py-2 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-400 text-sm",children:"h/week"})]})]},g))}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Total weekly target:"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-400",children:[Object.values(a).reduce((g,x)=>g+x,0),"h"]})]}),Object.values(a).reduce((g,x)=>g+x,0)>168&&s.jsx("p",{className:"text-yellow-400 text-sm mt-2",children:" Total exceeds 168 hours per week (7 days  24 hours)"})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-800 border-t border-gray-700 p-6 flex items-center justify-between",children:[s.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-colors",children:[s.jsx(T4,{className:"w-4 h-4"}),"Reset to Defaults"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:f,disabled:!l||n.isPending,className:`flex items-center gap-2 px-4 py-2 rounded transition-colors ${!l||n.isPending?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[s.jsx(Cp,{className:"w-4 h-4"}),n.isPending?"Saving...":"Save Budgets"]})]})]})]})}):null},Oxe=()=>{const[e,t]=y.useState(!1),r=()=>{console.log("Schedule health time clicked")};return s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsxs("div",{className:"mb-8 flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(r9,{className:"w-8 h-8 text-teal-500"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Health Dashboard"})]}),s.jsx("p",{className:"text-gray-400",children:"Track your health time allocation and maintain consistency"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[s.jsx(lH,{className:"w-4 h-4"}),"Health Time Target"]})]}),s.jsx(Exe,{isOpen:e,onClose:()=>t(!1)}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(bxe,{onScheduleClick:r}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(xxe,{}),s.jsx(vxe,{})]}),s.jsx(Nxe,{onSchedule:r}),s.jsx(jxe,{}),s.jsx(_xe,{})]}),s.jsxs("div",{className:"mt-8 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"About Health Time Tracking"}),s.jsx("p",{className:"text-sm text-gray-400",children:'Health time includes workouts, meal preparation, meditation, physical therapy, and other health-related activities. Log deep work sessions with the "Health" area and add labels like "Workout", "Meal Prep", or "Meditation" to track specific activities.'})]})]})},k$=()=>Be({queryKey:["area-targets"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.from("area_time_targets").select("*").eq("user_id",e.id).order("area");if(r)throw r;return t||[]},staleTime:300*1e3}),C$=()=>Be({queryKey:["user-settings"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.from("user_settings").select("*").eq("user_id",e.id).single();if(r&&r.code!=="PGRST116")throw r;return t},staleTime:600*1e3}),IS=e=>Be({queryKey:["planned-vs-actual",Ne(e,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("get_planned_vs_actual",{p_user_id:t.id,p_week_start:Ne(e,"yyyy-MM-dd")});if(n)throw n;return r||[]},refetchInterval:60*1e3}),Axe=e=>Be({queryKey:["weekly-forecast",Ne(e,"yyyy-MM-dd")],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("forecast_weekly_targets",{p_user_id:t.id,p_week_start:Ne(e,"yyyy-MM-dd")});if(n)throw n;return r||[]},refetchInterval:60*1e3}),Dxe=()=>Be({queryKey:["target-recommendations"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.rpc("detect_target_mismatches",{p_user_id:e.id});if(r)throw r;return t||[]},staleTime:3600*1e3}),T$=()=>{const e=mt();return wt({mutationFn:async({area:t,targetHours:r})=>{const{data:{user:n}}=await X.auth.getUser();if(!n)throw new Error("Not authenticated");const{error:a}=await X.from("area_time_targets").upsert({user_id:n.id,area:t,target_hours_per_week:r,updated_at:new Date().toISOString()},{onConflict:"user_id,area"});if(a)throw a},onSuccess:()=>{e.invalidateQueries({queryKey:["area-targets"]}),e.invalidateQueries({queryKey:["planned-vs-actual"]}),e.invalidateQueries({queryKey:["weekly-forecast"]}),e.invalidateQueries({queryKey:["target-recommendations"]})}})},Mxe=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{error:n}=await X.from("user_settings").upsert({user_id:r.id,available_work_hours_per_week:t,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["user-settings"]})}})},Pxe=()=>{const e=mt();return wt({mutationFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:r}=await X.from("area_time_targets").delete().eq("user_id",t.id);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["area-targets"]}),e.invalidateQueries({queryKey:["planned-vs-actual"]}),e.invalidateQueries({queryKey:["weekly-forecast"]}),e.invalidateQueries({queryKey:["target-recommendations"]})}})},Rxe=()=>{const e=Er(new Date,{weekStartsOn:1}),{data:t,isLoading:r}=IS(e),n=u=>{switch(u){case"on_track":return"#10b981";case"at_risk":return"#f59e0b";case"behind":return"#ef4444";default:return"#6b7280"}},a=u=>{switch(u){case"on_track":return" On Track";case"at_risk":return" At Risk";case"behind":return" Behind";default:return"No Target"}},i=u=>u>0?s.jsx(ea,{className:"w-4 h-4 text-green-400"}):u<0?s.jsx(vf,{className:"w-4 h-4 text-red-400"}):s.jsx(C4,{className:"w-4 h-4 text-gray-400"}),l=t?.map(u=>({name:u.area,target:u.target_hours,actual:u.actual_hours,status:u.status,percentage:u.percentage,delta:u.actual_hours-u.target_hours,isTemporary:u.is_temporary_override}))||[];return r?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Planned vs. Actual"}),s.jsx("div",{className:"animate-pulse h-96 bg-gray-700 rounded"})]}):!t||t.length===0?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Planned vs. Actual"}),s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(bo,{className:"w-12 h-12 mb-3"}),s.jsx("p",{children:"No targets set"}),s.jsx("p",{className:"text-sm mt-2",children:"Set targets in Settings to track your progress"})]})]}):s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Planned vs. Actual This Week"}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Week of ",Ne(e,"MMM d, yyyy")]})]}),s.jsx(d0,{width:"100%",height:400,children:s.jsxs(RS,{data:l,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Kf,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Vf,{dataKey:"name",stroke:"#9ca3af",tick:{fill:"#d1d5db",fontSize:12},angle:-15,textAnchor:"end",height:80}),s.jsx(Gf,{stroke:"#9ca3af",tick:{fill:"#d1d5db"},label:{value:"Hours",angle:-90,position:"insideLeft",fill:"#9ca3af"}}),s.jsx(L0,{formatter:(u,d)=>[`${u.toFixed(1)}h`,d==="target"?"Target":"Actual"],contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),s.jsx(Rf,{wrapperStyle:{color:"#d1d5db"}}),s.jsx(gf,{dataKey:"target",name:"Target",fill:"#6b7280",radius:[8,8,0,0]}),s.jsx(gf,{dataKey:"actual",name:"Actual",radius:[8,8,0,0],children:l.map((u,d)=>s.jsx($0,{fill:n(u.status)},`cell-${d}`))})]})}),s.jsx("div",{className:"mt-6 overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Area"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Target"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Actual"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Delta"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"%"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Status"})]})}),s.jsx("tbody",{children:l.map((u,d)=>s.jsxs("tr",{className:`border-b border-gray-700/50 ${u.status==="behind"?"bg-red-900/10":u.status==="at_risk"?"bg-yellow-900/10":u.status==="on_track"?"bg-green-900/10":""}`,children:[s.jsxs("td",{className:"py-2 text-gray-300",children:[u.name,u.isTemporary&&s.jsx("span",{className:"ml-2 text-xs text-orange-400",children:"(Temp Override)"})]}),s.jsxs("td",{className:"text-right py-2 text-gray-400",children:[u.target.toFixed(1),"h"]}),s.jsxs("td",{className:"text-right py-2 font-semibold text-gray-100",children:[u.actual.toFixed(1),"h"]}),s.jsx("td",{className:"text-right py-2",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i(u.delta),s.jsxs("span",{className:u.delta>0?"text-green-400":u.delta<0?"text-red-400":"text-gray-400",children:[u.delta>0?"+":"",u.delta.toFixed(1),"h"]})]})}),s.jsxs("td",{className:"text-right py-2 font-medium",style:{color:n(u.status)},children:[u.percentage,"%"]}),s.jsx("td",{className:"text-right py-2",children:s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:`${n(u.status)}20`,color:n(u.status)},children:a(u.status)})})]},d))})]})})]})},E$=()=>Be({queryKey:["task-based-allocation"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.from("tasks").select("id, task_name, area, hours_projected, hours_worked, status, due_date").eq("user_id",e.id).in("status",["active","in_progress"]).not("hours_projected","is",null).order("due_date",{ascending:!0,nullsFirst:!1});if(r)throw r;const n=new Map;return["Full Stack","S4","808","Personal","Huge Capital","Golf","Health"].forEach(i=>{n.set(i,{area:i,total_projected_hours:0,task_count:0,completed_hours:0,remaining_hours:0,tasks:[]})}),t?.forEach(i=>{const l=i.area;if(!n.has(l))return;const u=n.get(l),d=i.hours_projected||0,f=i.hours_worked||0,m=Math.max(0,d-f);u.total_projected_hours+=d,u.completed_hours+=f,u.remaining_hours+=m,u.task_count+=1,u.tasks.push({id:i.id,task_name:i.task_name,hours_projected:d,hours_worked:f,status:i.status,due_date:i.due_date})}),Array.from(n.values()).filter(i=>i.task_count>0)},staleTime:120*1e3}),O$=()=>{const{data:e}=E$();return Be({queryKey:["smart-target-suggestions",e],queryFn:async()=>e?e.map(r=>{const a=Math.ceil(r.remaining_hours/4);return{area:r.area,suggested_target:a,reasoning:`${r.task_count} active task${r.task_count>1?"s":""} need ${r.remaining_hours.toFixed(1)}h total`,task_breakdown:r.tasks,urgency:r.tasks.some(i=>i.due_date)?"high":"medium"}}).sort((r,n)=>n.suggested_target-r.suggested_target):[],enabled:!!e,staleTime:300*1e3})},Ixe=e=>{const{data:t}=O$();return Be({queryKey:["capacity-check",e,t],queryFn:async()=>{if(!t)return null;const r=t.reduce((a,i)=>a+i.suggested_target,0),n=r/e*100;return{total_hours_needed:r,available_hours:e,utilization_percentage:n,is_overloaded:n>100,shortage:Math.max(0,r-e),recommendations:n>100?["Consider extending timeline for some tasks","Delegate or defer low-priority tasks",`Need ${(r-e).toFixed(1)}h more capacity`]:["Workload is manageable within available hours",`${(e-r).toFixed(1)}h available for new work`]}},enabled:!!t&&e>0,staleTime:300*1e3})},Lxe=({availableHours:e})=>{const{data:t,isLoading:r}=E$(),{data:n}=O$(),{data:a}=Ixe(e),i=T$(),[l,u]=y.useState(null),d=async(m,g)=>{try{await i.mutateAsync({area:m,targetHours:g}),alert(` Set ${m} target to ${g}h/week`)}catch(x){console.error("Error applying suggestion:",x),alert("Failed to set target")}},f=async()=>{if(n&&confirm(`Apply all suggested targets (${n.length} areas)?`))try{for(const m of n)await i.mutateAsync({area:m.area,targetHours:m.suggested_target});alert(" Applied all target suggestions!")}catch(m){console.error("Error applying all suggestions:",m),alert("Failed to apply some targets")}};return r?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Task-Based Planning"}),s.jsx("div",{className:"animate-pulse h-32 bg-gray-700 rounded"})]}):!t||t.length===0?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(zT,{className:"w-5 h-5 text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Task-Based Planning"})]}),s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx("p",{children:"No active tasks with time estimates found"}),s.jsx("p",{className:"text-sm mt-2",children:"Add tasks with hour estimates to get smart target suggestions"})]})]}):s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zT,{className:"w-5 h-5 text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Task-Based Planning"})]}),n&&n.length>0&&s.jsx("button",{onClick:f,disabled:i.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Apply All Suggestions"})]}),a&&s.jsx("div",{className:`mb-4 p-4 rounded-lg border ${a.is_overloaded?"bg-red-900/20 border-red-700":"bg-green-900/20 border-green-700"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[a.is_overloaded?s.jsx(Xa,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}):s.jsx(xj,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`font-semibold ${a.is_overloaded?"text-red-400":"text-green-400"}`,children:a.is_overloaded?"Workload Exceeds Capacity!":"Workload is Manageable"}),s.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:["Tasks need ",a.total_hours_needed.toFixed(1),"h/week, you have ",a.available_hours,"h available (",a.utilization_percentage.toFixed(0),"% capacity)"]}),s.jsx("ul",{className:"text-xs text-gray-400 mt-2 space-y-1",children:a.recommendations.map((m,g)=>s.jsxs("li",{children:[" ",m]},g))})]})]})}),s.jsx("div",{className:"space-y-3",children:n?.map((m,g)=>{const x=l===m.area,v=t.find(j=>j.area===m.area);return s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-100",children:m.area}),s.jsx("div",{className:"text-sm text-gray-400 mt-1",children:m.reasoning}),v&&s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ta,{className:"w-3 h-3"}),v.remaining_hours.toFixed(1),"h remaining"]}),s.jsxs("span",{children:[v.completed_hours.toFixed(1),"h / ",v.total_projected_hours.toFixed(1),"h completed"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[m.suggested_target,"h"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"per week"})]}),s.jsx("button",{onClick:()=>d(m.area,m.suggested_target),disabled:i.isPending,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Set Target"})]})]}),v&&v.tasks.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600",children:[s.jsxs("button",{onClick:()=>u(x?null:m.area),className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[x?"":""," ",v.tasks.length," task",v.tasks.length>1?"s":""]}),x&&s.jsx("div",{className:"mt-2 space-y-2",children:v.tasks.map(j=>s.jsx("div",{className:"text-xs bg-gray-800/50 rounded p-2",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-200",children:j.task_name}),j.due_date&&s.jsxs("div",{className:"text-gray-500 mt-1",children:["Due: ",new Date(j.due_date).toLocaleDateString()]})]}),s.jsxs("div",{className:"text-right text-gray-400",children:[s.jsxs("div",{children:[j.hours_worked.toFixed(1)," / ",j.hours_projected.toFixed(1),"h"]}),s.jsxs("div",{className:"text-gray-500",children:[(j.hours_worked/j.hours_projected*100).toFixed(0),"%"]})]})]})},j.id))})]})]},g)})})]})},Zm=["Full Stack","S4","808","Personal","Huge Capital","Golf","Health"],$xe=[{label:"Work Week (40h)",hours:40},{label:"Part Time (20h)",hours:20},{label:"Full Time (50h)",hours:50}],Bxe=()=>{const{data:e,isLoading:t}=k$(),{data:r}=C$(),{data:n}=IS(Er(new Date,{weekStartsOn:1})),a=T$(),i=Pxe(),l=Mxe(),[u,d]=y.useState({}),[f,m]=y.useState(40),[g,x]=y.useState(!1),[v,j]=y.useState(!1);y.useEffect(()=>{if(e){const T={};e.forEach(M=>{T[M.area]=M.target_hours_per_week}),d(T)}},[e]),y.useEffect(()=>{r&&m(r.available_work_hours_per_week)},[r]);const w=(T,M)=>{const I=parseInt(M)||0;I<0||I>168||(d($=>({...$,[T]:I})),x(!0))},b=async()=>{try{for(const T of Zm)u[T]!==void 0&&u[T]>0&&await a.mutateAsync({area:T,targetHours:u[T]});await l.mutateAsync(f),x(!1),j(!0),setTimeout(()=>j(!1),3e3)}catch(T){console.error("Error saving targets:",T)}},S=async()=>{if(confirm("Are you sure you want to reset all targets? This cannot be undone."))try{await i.mutateAsync(),d({}),x(!1)}catch(T){console.error("Error resetting targets:",T)}},k=T=>{const M=Math.floor(T/Zm.length),I={};Zm.forEach($=>{I[$]=M}),d(I),x(!0)},C=T=>{const M=n?.find(I=>I.area===T);return M?M.actual_hours:null},O=Object.values(u).reduce((T,M)=>T+(M||0),0),D=O>f;return t?s.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-800 rounded w-1/3"}),s.jsx("div",{className:"h-64 bg-gray-800 rounded"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(kl,{className:"w-8 h-8 text-orange-400"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Time Allocation Targets"})]}),s.jsx("p",{className:"text-gray-400",children:"Set weekly time targets for each life area to proactively plan balanced attention"})]}),s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Work Hours"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-gray-300",children:"Hours per week:"}),s.jsx("input",{type:"number",value:f,onChange:T=>{m(parseInt(T.target.value)||0),x(!0)},min:"0",max:"168",className:"px-4 py-2 bg-gray-700 text-gray-100 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 w-24"}),s.jsx("span",{className:"text-sm text-gray-400",children:"(Realistic weekly capacity for focused work)"})]})]}),s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Presets"}),s.jsx("div",{className:"flex gap-3",children:$xe.map(T=>s.jsx("button",{onClick:()=>k(T.hours),className:"px-4 py-2 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:T.label},T.label))}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Distributes hours evenly across all 7 areas"})]}),D&&s.jsxs("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-700 rounded-lg flex items-start gap-3",children:[s.jsx(bo,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-red-400",children:"Over-Allocated!"}),s.jsxs("div",{className:"text-sm text-red-300",children:["Target allocation (",O,"h) exceeds available capacity (",f,"h). Consider reducing targets or increasing available hours."]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Area Targets"}),s.jsx("div",{className:"space-y-4",children:Zm.map(T=>{const M=C(T);return s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-700/50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-100",children:T}),M!==null&&s.jsxs("div",{className:"text-sm text-gray-400",children:["Current this week: ",M.toFixed(1),"h"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:u[T]||0,onChange:I=>w(T,I.target.value),min:"0",max:"168",placeholder:"0",className:"px-4 py-2 bg-gray-800 text-gray-100 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 w-24 text-center"}),s.jsx("span",{className:"text-gray-400",children:"h/week"})]})]},T)})}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between text-lg",children:[s.jsx("span",{className:"font-semibold text-gray-100",children:"Total Allocated:"}),s.jsxs("span",{className:`font-bold ${D?"text-red-400":"text-orange-400"}`,children:[O,"h / ",f,"h"]})]}),!D&&O<f&&s.jsxs("div",{className:"text-sm text-gray-400 text-right mt-1",children:[f-O,"h unallocated"]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[s.jsxs("button",{onClick:b,disabled:!g||a.isPending,className:"flex items-center gap-2 px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Cp,{className:"w-5 h-5"}),a.isPending?"Saving...":"Save Targets"]}),s.jsxs("button",{onClick:S,disabled:i.isPending,className:"flex items-center gap-2 px-6 py-3 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:[s.jsx(T4,{className:"w-5 h-5"}),"Reset All"]}),v&&s.jsx("div",{className:"text-green-400 font-medium",children:" Targets saved successfully!"})]})]})},zxe=({isOpen:e,onClose:t})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative bg-gray-900 rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden border border-gray-700",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(qt,{className:"w-5 h-5 text-gray-400"})}),s.jsx("div",{className:"overflow-y-auto max-h-[90vh]",children:s.jsx(Bxe,{})})]})]}):null,Fxe=({onNavigateToSettings:e})=>{const[t,r]=y.useState(!1),n=Er(new Date,{weekStartsOn:1}),{data:a}=k$(),{data:i}=C$(),{data:l}=IS(n),{data:u}=Axe(n),{data:d}=Dxe(),f=i?.available_work_hours_per_week||40,m=a?.reduce((w,b)=>w+b.target_hours_per_week,0)||0,g=f-m,x=m>f,v=m/f*100,j=u?.filter(w=>w.status==="at_risk"||w.status==="unlikely")||[];return s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx($r,{className:"w-8 h-8 text-orange-400"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Time Allocation Planning"})]}),s.jsx("p",{className:"text-gray-400",children:"Proactively plan balanced attention across your 7 life areas"})]}),s.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[s.jsx(kl,{className:"w-4 h-4"}),"Set Targets"]})]})}),s.jsx("div",{className:"mb-6",children:s.jsx(Lxe,{availableHours:f})}),s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Weekly Time Budget"}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Total Available"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-100",children:[f,"h"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Allocated"}),s.jsxs("div",{className:`text-2xl font-bold ${x?"text-red-400":"text-orange-400"}`,children:[m,"h"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Unallocated"}),s.jsxs("div",{className:`text-2xl font-bold ${g<0?"text-red-400":"text-green-400"}`,children:[g,"h"]})]})]}),s.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-8 relative overflow-hidden",children:[s.jsx("div",{className:`h-full transition-all ${x?"bg-red-500":"bg-orange-500"}`,style:{width:`${Math.min(v,100)}%`}}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-sm font-medium text-white",children:[v.toFixed(0),"% Allocated"]})]}),x&&s.jsxs("div",{className:"mt-4 p-3 bg-red-900/20 border border-red-700 rounded-lg flex items-start gap-3",children:[s.jsx(Xa,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-red-400",children:"Over-Allocated!"}),s.jsxs("div",{className:"text-sm text-red-300",children:["Target allocation (",m,"h) exceeds sustainable capacity (",f,"h). Consider adjusting your targets."]})]})]}),m===0&&s.jsxs("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-700 rounded-lg flex items-start gap-3",children:[s.jsx(Xa,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-yellow-400",children:"No Targets Set"}),s.jsx("div",{className:"text-sm text-yellow-300",children:'Set targets (via "Set Targets" button above) to plan your week and track progress.'})]})]})]}),j.length>0&&s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ea,{className:"w-5 h-5 text-orange-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Weekly Forecast Alerts"})]}),s.jsx("div",{className:"space-y-3",children:j.map(w=>s.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-yellow-400",children:w.area}),s.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:["Target: ",w.target_hours,"h | Actual: ",w.actual_hours.toFixed(1),"h | Projected: ",w.projected_hours.toFixed(1),"h"]})]}),s.jsx("span",{className:"px-2 py-1 bg-yellow-900/40 text-yellow-400 rounded text-xs font-medium",children:w.status==="at_risk"?" At Risk":" Unlikely"})]}),s.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Schedule more ",w.area," time to meet your weekly target"]})]},w.area))})]}),d&&d.length>0&&s.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Target Adjustment Suggestions"}),s.jsx("div",{className:"space-y-3",children:d.map((w,b)=>s.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"font-medium text-blue-400",children:w.area}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Avg: ",w.avg_actual.toFixed(1),"h/week"]})]}),s.jsx("div",{className:"text-sm text-gray-300 mb-3",children:w.message}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:["Update to ",w.suggested_target,"h"]}),s.jsx("button",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded text-sm hover:bg-gray-600 transition-colors",children:"Dismiss"})]})]},b))})]}),s.jsx(Rxe,{}),s.jsx(zxe,{isOpen:t,onClose:()=>r(!1)})]})};function Uxe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const B0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Au(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function LS(e){return"nodeType"in e}function $n(e){var t,r;return e?Au(e)?e:LS(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function $S(e){const{Document:t}=$n(e);return e instanceof t}function Qf(e){return Au(e)?!1:e instanceof $n(e).HTMLElement}function A$(e){return e instanceof $n(e).SVGElement}function Du(e){return e?Au(e)?e.document:LS(e)?$S(e)?e:Qf(e)||A$(e)?e.ownerDocument:document:document:document}const bs=B0?y.useLayoutEffect:y.useEffect;function z0(e){const t=y.useRef(e);return bs(()=>{t.current=e}),y.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function qxe(){const e=y.useRef(null),t=y.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=y.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function pf(e,t){t===void 0&&(t=[e]);const r=y.useRef(e);return bs(()=>{r.current!==e&&(r.current=e)},t),r}function Xf(e,t){const r=y.useRef();return y.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function fp(e){const t=z0(e),r=y.useRef(null),n=y.useCallback(a=>{a!==r.current&&t?.(a,r.current),r.current=a},[]);return[r,n]}function hp(e){const t=y.useRef();return y.useEffect(()=>{t.current=e},[e]),t.current}let hw={};function Zf(e,t){return y.useMemo(()=>{if(t)return t;const r=hw[e]==null?0:hw[e]+1;return hw[e]=r,e+"-"+r},[e,t])}function D$(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,l)=>{const u=Object.entries(l);for(const[d,f]of u){const m=i[d];m!=null&&(i[d]=m+e*f)}return i},{...t})}}const Vc=D$(1),mp=D$(-1);function Hxe(e){return"clientX"in e&&"clientY"in e}function F0(e){if(!e)return!1;const{KeyboardEvent:t}=$n(e.target);return t&&e instanceof t}function Wxe(e){if(!e)return!1;const{TouchEvent:t}=$n(e.target);return t&&e instanceof t}function gp(e){if(Wxe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Hxe(e)?{x:e.clientX,y:e.clientY}:null}const Co=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Co.Translate.toString(e),Co.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),YM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Yxe(e){return e.matches(YM)?e:e.querySelector(YM)}const Kxe={display:"none"};function Vxe(e){let{id:t,value:r}=e;return _e.createElement("div",{id:t,style:Kxe},r)}function Gxe(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _e.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function Qxe(){const[e,t]=y.useState("");return{announce:y.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const M$=y.createContext(null);function Xxe(e){const t=y.useContext(M$);y.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Zxe(){const[e]=y.useState(()=>new Set),t=y.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[y.useCallback(n=>{let{type:a,event:i}=n;e.forEach(l=>{var u;return(u=l[a])==null?void 0:u.call(l,i)})},[e]),t]}const Jxe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},eve={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function tve(e){let{announcements:t=eve,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=Jxe}=e;const{announce:i,announcement:l}=Qxe(),u=Zf("DndLiveRegion"),[d,f]=y.useState(!1);if(y.useEffect(()=>{f(!0)},[]),Xxe(y.useMemo(()=>({onDragStart(g){let{active:x}=g;i(t.onDragStart({active:x}))},onDragMove(g){let{active:x,over:v}=g;t.onDragMove&&i(t.onDragMove({active:x,over:v}))},onDragOver(g){let{active:x,over:v}=g;i(t.onDragOver({active:x,over:v}))},onDragEnd(g){let{active:x,over:v}=g;i(t.onDragEnd({active:x,over:v}))},onDragCancel(g){let{active:x,over:v}=g;i(t.onDragCancel({active:x,over:v}))}}),[i,t])),!d)return null;const m=_e.createElement(_e.Fragment,null,_e.createElement(Vxe,{id:n,value:a.draggable}),_e.createElement(Gxe,{id:u,announcement:l}));return r?ja.createPortal(m,r):m}var Wr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Wr||(Wr={}));function pp(){}function mw(e,t){return y.useMemo(()=>({sensor:e,options:{}}),[e,t])}function rve(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const ws=Object.freeze({x:0,y:0});function nve(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ave(e,t){const r=gp(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function sve(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function ive(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function ove(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function KM(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const lve=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=KM(t,t.left,t.top),i=[];for(const l of n){const{id:u}=l,d=r.get(u);if(d){const f=nve(KM(d),a);i.push({id:u,data:{droppableContainer:l,value:f}})}}return i.sort(sve)};function cve(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=a-n,u=i-r;if(n<a&&r<i){const d=t.width*t.height,f=e.width*e.height,m=l*u,g=m/(d+f-m);return Number(g.toFixed(4))}return 0}const uve=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:l}=i,u=r.get(l);if(u){const d=cve(u,t);d>0&&a.push({id:l,data:{droppableContainer:i,value:d}})}}return a.sort(ive)};function dve(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function P$(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ws}function fve(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...r})}}const hve=fve(1);function R$(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function mve(e,t,r){const n=R$(t);if(!n)return e;const{scaleX:a,scaleY:i,x:l,y:u}=n,d=e.left-l-(1-a)*parseFloat(r),f=e.top-u-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),m=a?e.width/a:e.width,g=i?e.height/i:e.height;return{width:m,height:g,top:f,right:d+m,bottom:f+g,left:d}}const gve={ignoreTransform:!1};function Mu(e,t){t===void 0&&(t=gve);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:m}=$n(e).getComputedStyle(e);f&&(r=mve(r,f,m))}const{top:n,left:a,width:i,height:l,bottom:u,right:d}=r;return{top:n,left:a,width:i,height:l,bottom:u,right:d}}function VM(e){return Mu(e,{ignoreTransform:!0})}function pve(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function yve(e,t){return t===void 0&&(t=$n(e).getComputedStyle(e)),t.position==="fixed"}function xve(e,t){t===void 0&&(t=$n(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function BS(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if($S(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!Qf(a)||A$(a)||r.includes(a))return r;const i=$n(e).getComputedStyle(a);return a!==e&&xve(a,i)&&r.push(a),yve(a,i)?r:n(a.parentNode)}return e?n(e):r}function I$(e){const[t]=BS(e,1);return t??null}function gw(e){return!B0||!e?null:Au(e)?e:LS(e)?$S(e)||e===Du(e).scrollingElement?window:Qf(e)?e:null:null}function L$(e){return Au(e)?e.scrollX:e.scrollLeft}function $$(e){return Au(e)?e.scrollY:e.scrollTop}function J1(e){return{x:L$(e),y:$$(e)}}var tn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(tn||(tn={}));function B$(e){return!B0||!e?!1:e===document.scrollingElement}function z$(e){const t={x:0,y:0},r=B$(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=n.y,u=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:l,isRight:u,maxScroll:n,minScroll:t}}const vve={x:.2,y:.2};function bve(e,t,r,n,a){let{top:i,left:l,right:u,bottom:d}=r;n===void 0&&(n=10),a===void 0&&(a=vve);const{isTop:f,isBottom:m,isLeft:g,isRight:x}=z$(e),v={x:0,y:0},j={x:0,y:0},w={height:t.height*a.y,width:t.width*a.x};return!f&&i<=t.top+w.height?(v.y=tn.Backward,j.y=n*Math.abs((t.top+w.height-i)/w.height)):!m&&d>=t.bottom-w.height&&(v.y=tn.Forward,j.y=n*Math.abs((t.bottom-w.height-d)/w.height)),!x&&u>=t.right-w.width?(v.x=tn.Forward,j.x=n*Math.abs((t.right-w.width-u)/w.width)):!g&&l<=t.left+w.width&&(v.x=tn.Backward,j.x=n*Math.abs((t.left+w.width-l)/w.width)),{direction:v,speed:j}}function wve(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function F$(e){return e.reduce((t,r)=>Vc(t,J1(r)),ws)}function jve(e){return e.reduce((t,r)=>t+L$(r),0)}function _ve(e){return e.reduce((t,r)=>t+$$(r),0)}function U$(e,t){if(t===void 0&&(t=Mu),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);I$(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Sve=[["x",["left","right"],jve],["y",["top","bottom"],_ve]];class zS{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=BS(r),a=F$(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,l,u]of Sve)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=u(n),m=a[i]-f;return this.rect[d]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Wd{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function Nve(e){const{EventTarget:t}=$n(e);return e instanceof t?e:Du(e)}function pw(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Ya;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ya||(Ya={}));function GM(e){e.preventDefault()}function kve(e){e.stopPropagation()}var Rt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Rt||(Rt={}));const q$={start:[Rt.Space,Rt.Enter],cancel:[Rt.Esc],end:[Rt.Space,Rt.Enter,Rt.Tab]},Cve=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Rt.Right:return{...r,x:r.x+25};case Rt.Left:return{...r,x:r.x-25};case Rt.Down:return{...r,y:r.y+25};case Rt.Up:return{...r,y:r.y-25}}};class FS{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Wd(Du(r)),this.windowListeners=new Wd($n(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ya.Resize,this.handleCancel),this.windowListeners.add(Ya.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ya.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&U$(n),r(ws)}handleKeyDown(t){if(F0(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=q$,coordinateGetter:l=Cve,scrollBehavior:u="smooth"}=a,{code:d}=t;if(i.end.includes(d)){this.handleEnd(t);return}if(i.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=n.current,m=f?{x:f.left,y:f.top}:ws;this.referenceCoordinates||(this.referenceCoordinates=m);const g=l(t,{active:r,context:n.current,currentCoordinates:m});if(g){const x=mp(g,m),v={x:0,y:0},{scrollableAncestors:j}=n.current;for(const w of j){const b=t.code,{isTop:S,isRight:k,isLeft:C,isBottom:E,maxScroll:O,minScroll:D}=z$(w),T=wve(w),M={x:Math.min(b===Rt.Right?T.right-T.width/2:T.right,Math.max(b===Rt.Right?T.left:T.left+T.width/2,g.x)),y:Math.min(b===Rt.Down?T.bottom-T.height/2:T.bottom,Math.max(b===Rt.Down?T.top:T.top+T.height/2,g.y))},I=b===Rt.Right&&!k||b===Rt.Left&&!C,$=b===Rt.Down&&!E||b===Rt.Up&&!S;if(I&&M.x!==g.x){const B=w.scrollLeft+x.x,z=b===Rt.Right&&B<=O.x||b===Rt.Left&&B>=D.x;if(z&&!x.y){w.scrollTo({left:B,behavior:u});return}z?v.x=w.scrollLeft-B:v.x=b===Rt.Right?w.scrollLeft-O.x:w.scrollLeft-D.x,v.x&&w.scrollBy({left:-v.x,behavior:u});break}else if($&&M.y!==g.y){const B=w.scrollTop+x.y,z=b===Rt.Down&&B<=O.y||b===Rt.Up&&B>=D.y;if(z&&!x.x){w.scrollTo({top:B,behavior:u});return}z?v.y=w.scrollTop-B:v.y=b===Rt.Down?w.scrollTop-O.y:w.scrollTop-D.y,v.y&&w.scrollBy({top:-v.y,behavior:u});break}}this.handleMove(t,Vc(mp(g,this.referenceCoordinates),v))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}FS.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=q$,onActivation:a}=t,{active:i}=r;const{code:l}=e.nativeEvent;if(n.start.includes(l)){const u=i.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}}];function QM(e){return!!(e&&"distance"in e)}function XM(e){return!!(e&&"delay"in e)}class US{constructor(t,r,n){var a;n===void 0&&(n=Nve(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:l}=i;this.props=t,this.events=r,this.document=Du(l),this.documentListeners=new Wd(this.document),this.listeners=new Wd(n),this.windowListeners=new Wd($n(l)),this.initialCoordinates=(a=gp(i))!=null?a:ws,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ya.Resize,this.handleCancel),this.windowListeners.add(Ya.DragStart,GM),this.windowListeners.add(Ya.VisibilityChange,this.handleCancel),this.windowListeners.add(Ya.ContextMenu,GM),this.documentListeners.add(Ya.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(XM(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(QM(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ya.Click,kve,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ya.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:l,options:{activationConstraint:u}}=i;if(!a)return;const d=(r=gp(t))!=null?r:ws,f=mp(a,d);if(!n&&u){if(QM(u)){if(u.tolerance!=null&&pw(f,u.tolerance))return this.handleCancel();if(pw(f,u.distance))return this.handleStart()}if(XM(u)&&pw(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Rt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Tve={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class H$ extends US{constructor(t){const{event:r}=t,n=Du(r.target);super(t,Tve,n)}}H$.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const Eve={move:{name:"mousemove"},end:{name:"mouseup"}};var ej;(function(e){e[e.RightClick=2]="RightClick"})(ej||(ej={}));class W$ extends US{constructor(t){super(t,Eve,Du(t.event.target))}}W$.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===ej.RightClick?!1:(n?.({event:r}),!0)}}];const yw={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Y$ extends US{constructor(t){super(t,yw)}static setup(){return window.addEventListener(yw.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(yw.move.name,t)};function t(){}}}Y$.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n?.({event:r}),!0)}}];var Yd;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Yd||(Yd={}));var yp;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yp||(yp={}));function Ove(e){let{acceleration:t,activator:r=Yd.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:l=5,order:u=yp.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:m,delta:g,threshold:x}=e;const v=Dve({delta:g,disabled:!i}),[j,w]=qxe(),b=y.useRef({x:0,y:0}),S=y.useRef({x:0,y:0}),k=y.useMemo(()=>{switch(r){case Yd.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Yd.DraggableRect:return a}},[r,a,d]),C=y.useRef(null),E=y.useCallback(()=>{const D=C.current;if(!D)return;const T=b.current.x*S.current.x,M=b.current.y*S.current.y;D.scrollBy(T,M)},[]),O=y.useMemo(()=>u===yp.TreeOrder?[...f].reverse():f,[u,f]);y.useEffect(()=>{if(!i||!f.length||!k){w();return}for(const D of O){if(n?.(D)===!1)continue;const T=f.indexOf(D),M=m[T];if(!M)continue;const{direction:I,speed:$}=bve(D,M,k,t,x);for(const B of["x","y"])v[B][I[B]]||($[B]=0,I[B]=0);if($.x>0||$.y>0){w(),C.current=D,j(E,l),b.current=$,S.current=I;return}}b.current={x:0,y:0},S.current={x:0,y:0},w()},[t,E,n,w,i,l,JSON.stringify(k),JSON.stringify(v),j,f,O,m,JSON.stringify(x)])}const Ave={x:{[tn.Backward]:!1,[tn.Forward]:!1},y:{[tn.Backward]:!1,[tn.Forward]:!1}};function Dve(e){let{delta:t,disabled:r}=e;const n=hp(t);return Xf(a=>{if(r||!n||!a)return Ave;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[tn.Backward]:a.x[tn.Backward]||i.x===-1,[tn.Forward]:a.x[tn.Forward]||i.x===1},y:{[tn.Backward]:a.y[tn.Backward]||i.y===-1,[tn.Forward]:a.y[tn.Forward]||i.y===1}}},[r,t,n])}function Mve(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Xf(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function Pve(e,t){return y.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,n)}));return[...r,...i]},[]),[e,t])}var yf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(yf||(yf={}));var tj;(function(e){e.Optimized="optimized"})(tj||(tj={}));const ZM=new Map;function Rve(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,l]=y.useState(null),{frequency:u,measure:d,strategy:f}=a,m=y.useRef(e),g=b(),x=pf(g),v=y.useCallback(function(S){S===void 0&&(S=[]),!x.current&&l(k=>k===null?S:k.concat(S.filter(C=>!k.includes(C))))},[x]),j=y.useRef(null),w=Xf(S=>{if(g&&!r)return ZM;if(!S||S===ZM||m.current!==e||i!=null){const k=new Map;for(let C of e){if(!C)continue;if(i&&i.length>0&&!i.includes(C.id)&&C.rect.current){k.set(C.id,C.rect.current);continue}const E=C.node.current,O=E?new zS(d(E),E):null;C.rect.current=O,O&&k.set(C.id,O)}return k}return S},[e,i,r,g,d]);return y.useEffect(()=>{m.current=e},[e]),y.useEffect(()=>{g||v()},[r,g]),y.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),y.useEffect(()=>{g||typeof u!="number"||j.current!==null||(j.current=setTimeout(()=>{v(),j.current=null},u))},[u,g,v,...n]),{droppableRects:w,measureDroppableContainers:v,measuringScheduled:i!=null};function b(){switch(f){case yf.Always:return!1;case yf.BeforeDragging:return r;default:return!r}}}function qS(e,t){return Xf(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Ive(e,t){return qS(e,t)}function Lve(e){let{callback:t,disabled:r}=e;const n=z0(t),a=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return y.useEffect(()=>()=>a?.disconnect(),[a]),a}function U0(e){let{callback:t,disabled:r}=e;const n=z0(t),a=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return y.useEffect(()=>()=>a?.disconnect(),[a]),a}function $ve(e){return new zS(Mu(e),e)}function JM(e,t,r){t===void 0&&(t=$ve);const[n,a]=y.useState(null);function i(){a(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??r)!=null?f:null}const m=t(e);return JSON.stringify(d)===JSON.stringify(m)?d:m})}const l=Lve({callback(d){if(e)for(const f of d){const{type:m,target:g}=f;if(m==="childList"&&g instanceof HTMLElement&&g.contains(e)){i();break}}}}),u=U0({callback:i});return bs(()=>{i(),e?(u?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[e]),n}function Bve(e){const t=qS(e);return P$(e,t)}const eP=[];function zve(e){const t=y.useRef(e),r=Xf(n=>e?n&&n!==eP&&e&&t.current&&e.parentNode===t.current.parentNode?n:BS(e):eP,[e]);return y.useEffect(()=>{t.current=e},[e]),r}function Fve(e){const[t,r]=y.useState(null),n=y.useRef(e),a=y.useCallback(i=>{const l=gw(i.target);l&&r(u=>u?(u.set(l,J1(l)),new Map(u)):null)},[]);return y.useEffect(()=>{const i=n.current;if(e!==i){l(i);const u=e.map(d=>{const f=gw(d);return f?(f.addEventListener("scroll",a,{passive:!0}),[f,J1(f)]):null}).filter(d=>d!=null);r(u.length?new Map(u):null),n.current=e}return()=>{l(e),l(i)};function l(u){u.forEach(d=>{const f=gw(d);f?.removeEventListener("scroll",a)})}},[a,e]),y.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>Vc(i,l),ws):F$(e):ws,[e,t])}function tP(e,t){t===void 0&&(t=[]);const r=y.useRef(null);return y.useEffect(()=>{r.current=null},t),y.useEffect(()=>{const n=e!==ws;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?mp(e,r.current):ws}function Uve(e){y.useEffect(()=>{if(!B0)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function qve(e,t){return y.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=l=>{i(l,t)},r},{}),[e,t])}function K$(e){return y.useMemo(()=>e?pve(e):null,[e])}const rP=[];function Hve(e,t){t===void 0&&(t=Mu);const[r]=e,n=K$(r?$n(r):null),[a,i]=y.useState(rP);function l(){i(()=>e.length?e.map(d=>B$(d)?n:new zS(t(d),d)):rP)}const u=U0({callback:l});return bs(()=>{u?.disconnect(),l(),e.forEach(d=>u?.observe(d))},[e]),a}function V$(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Qf(t)?t:e}function Wve(e){let{measure:t}=e;const[r,n]=y.useState(null),a=y.useCallback(f=>{for(const{target:m}of f)if(Qf(m)){n(g=>{const x=t(m);return g?{...g,width:x.width,height:x.height}:x});break}},[t]),i=U0({callback:a}),l=y.useCallback(f=>{const m=V$(f);i?.disconnect(),m&&i?.observe(m),n(m?t(m):null)},[t,i]),[u,d]=fp(l);return y.useMemo(()=>({nodeRef:u,rect:r,setRef:d}),[r,u,d])}const Yve=[{sensor:H$,options:{}},{sensor:FS,options:{}}],Kve={current:{}},og={draggable:{measure:VM},droppable:{measure:VM,strategy:yf.WhileDragging,frequency:tj.Optimized},dragOverlay:{measure:Mu}};class Kd extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const Vve={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Kd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:og,measureDroppableContainers:pp,windowRect:null,measuringScheduled:!1},G$={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pp,draggableNodes:new Map,over:null,measureDroppableContainers:pp},Jf=y.createContext(G$),Q$=y.createContext(Vve);function Gve(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Kd}}}function Qve(e,t){switch(t.type){case Wr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Wr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Wr.DragEnd:case Wr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Wr.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new Kd(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case Wr.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const l=new Kd(e.droppable.containers);return l.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:l}}}case Wr.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new Kd(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Xve(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=y.useContext(Jf),i=hp(n),l=hp(r?.id);return y.useEffect(()=>{if(!t&&!n&&i&&l!=null){if(!F0(i)||document.activeElement===i.target)return;const u=a.get(l);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const m of[d.current,f.current]){if(!m)continue;const g=Yxe(m);if(g){g.focus();break}}})}},[n,t,a,l,i]),null}function X$(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function Zve(e){return y.useMemo(()=>({draggable:{...og.draggable,...e?.draggable},droppable:{...og.droppable,...e?.droppable},dragOverlay:{...og.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Jve(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=y.useRef(!1),{x:l,y:u}=typeof a=="boolean"?{x:a,y:a}:a;bs(()=>{if(!l&&!u||!t){i.current=!1;return}if(i.current||!n)return;const f=t?.node.current;if(!f||f.isConnected===!1)return;const m=r(f),g=P$(m,n);if(l||(g.x=0),u||(g.y=0),i.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const x=I$(f);x&&x.scrollBy({top:g.y,left:g.x})}},[t,l,u,n,r])}const q0=y.createContext({...ws,scaleX:1,scaleY:1});var ho;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ho||(ho={}));const Z$=y.memo(function(t){var r,n,a,i;let{id:l,accessibility:u,autoScroll:d=!0,children:f,sensors:m=Yve,collisionDetection:g=uve,measuring:x,modifiers:v,...j}=t;const w=y.useReducer(Qve,void 0,Gve),[b,S]=w,[k,C]=Zxe(),[E,O]=y.useState(ho.Uninitialized),D=E===ho.Initialized,{draggable:{active:T,nodes:M,translate:I},droppable:{containers:$}}=b,B=T!=null?M.get(T):null,z=y.useRef({initial:null,translated:null}),Y=y.useMemo(()=>{var nt;return T!=null?{id:T,data:(nt=B?.data)!=null?nt:Kve,rect:z}:null},[T,B]),ne=y.useRef(null),[V,F]=y.useState(null),[Z,q]=y.useState(null),U=pf(j,Object.values(j)),W=Zf("DndDescribedBy",l),L=y.useMemo(()=>$.getEnabled(),[$]),ee=Zve(x),{droppableRects:J,measureDroppableContainers:Q,measuringScheduled:fe}=Rve(L,{dragging:D,dependencies:[I.x,I.y],config:ee.droppable}),ge=Mve(M,T),re=y.useMemo(()=>Z?gp(Z):null,[Z]),ke=Oe(),se=Ive(ge,ee.draggable.measure);Jve({activeNode:T!=null?M.get(T):null,config:ke.layoutShiftCompensation,initialRect:se,measure:ee.draggable.measure});const pe=JM(ge,ee.draggable.measure,se),Ce=JM(ge?ge.parentElement:null),de=y.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:$,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Qe=$.getNodeFor((r=de.current.over)==null?void 0:r.id),Ee=Wve({measure:ee.dragOverlay.measure}),Ue=(n=Ee.nodeRef.current)!=null?n:ge,et=D?(a=Ee.rect)!=null?a:pe:null,Wt=!!(Ee.nodeRef.current&&Ee.rect),Xr=Bve(Wt?null:pe),_r=K$(Ue?$n(Ue):null),Jt=zve(D?Qe??ge:null),zr=Hve(Jt),yr=X$(v,{transform:{x:I.x-Xr.x,y:I.y-Xr.y,scaleX:1,scaleY:1},activatorEvent:Z,active:Y,activeNodeRect:pe,containerNodeRect:Ce,draggingNodeRect:et,over:de.current.over,overlayNodeRect:Ee.rect,scrollableAncestors:Jt,scrollableAncestorRects:zr,windowRect:_r}),K=re?Vc(re,I):null,ae=Fve(Jt),P=tP(ae),oe=tP(ae,[pe]),ve=Vc(yr,P),Te=et?hve(et,yr):null,tt=Y&&Te?g({active:Y,collisionRect:Te,droppableRects:J,droppableContainers:L,pointerCoordinates:K}):null,jt=ove(tt,"id"),[Et,lr]=y.useState(null),Yt=Wt?yr:Vc(yr,oe),_t=dve(Yt,(i=Et?.rect)!=null?i:null,pe),Je=y.useRef(null),xt=y.useCallback((nt,Se)=>{let{sensor:ct,options:ar}=Se;if(ne.current==null)return;const ut=M.get(ne.current);if(!ut)return;const ot=nt.nativeEvent,Ar=new ct({active:ne.current,activeNode:ut,event:ot,options:ar,context:de,onAbort(hr){if(!M.get(hr))return;const{onDragAbort:Sn}=U.current,Nn={id:hr};Sn?.(Nn),k({type:"onDragAbort",event:Nn})},onPending(hr,na,Sn,Nn){if(!M.get(hr))return;const{onDragPending:Ea}=U.current,zn={id:hr,constraint:na,initialCoordinates:Sn,offset:Nn};Ea?.(zn),k({type:"onDragPending",event:zn})},onStart(hr){const na=ne.current;if(na==null)return;const Sn=M.get(na);if(!Sn)return;const{onDragStart:Nn}=U.current,kn={activatorEvent:ot,active:{id:na,data:Sn.data,rect:z}};ja.unstable_batchedUpdates(()=>{Nn?.(kn),O(ho.Initializing),S({type:Wr.DragStart,initialCoordinates:hr,active:na}),k({type:"onDragStart",event:kn}),F(Je.current),q(ot)})},onMove(hr){S({type:Wr.DragMove,coordinates:hr})},onEnd:Bn(Wr.DragEnd),onCancel:Bn(Wr.DragCancel)});Je.current=Ar;function Bn(hr){return async function(){const{active:Sn,collisions:Nn,over:kn,scrollAdjustedTranslate:Ea}=de.current;let zn=null;if(Sn&&Ea){const{cancelDrop:dt}=U.current;zn={activatorEvent:ot,active:Sn,collisions:Nn,delta:Ea,over:kn},hr===Wr.DragEnd&&typeof dt=="function"&&await Promise.resolve(dt(zn))&&(hr=Wr.DragCancel)}ne.current=null,ja.unstable_batchedUpdates(()=>{S({type:hr}),O(ho.Uninitialized),lr(null),F(null),q(null),Je.current=null;const dt=hr===Wr.DragEnd?"onDragEnd":"onDragCancel";if(zn){const Cn=U.current[dt];Cn?.(zn),k({type:dt,event:zn})}})}}},[M]),er=y.useCallback((nt,Se)=>(ct,ar)=>{const ut=ct.nativeEvent,ot=M.get(ar);if(ne.current!==null||!ot||ut.dndKit||ut.defaultPrevented)return;const Ar={active:ot};nt(ct,Se.options,Ar)===!0&&(ut.dndKit={capturedBy:Se.sensor},ne.current=ar,xt(ct,Se))},[M,xt]),Ye=Pve(m,er);Uve(m),bs(()=>{pe&&E===ho.Initializing&&O(ho.Initialized)},[pe,E]),y.useEffect(()=>{const{onDragMove:nt}=U.current,{active:Se,activatorEvent:ct,collisions:ar,over:ut}=de.current;if(!Se||!ct)return;const ot={active:Se,activatorEvent:ct,collisions:ar,delta:{x:ve.x,y:ve.y},over:ut};ja.unstable_batchedUpdates(()=>{nt?.(ot),k({type:"onDragMove",event:ot})})},[ve.x,ve.y]),y.useEffect(()=>{const{active:nt,activatorEvent:Se,collisions:ct,droppableContainers:ar,scrollAdjustedTranslate:ut}=de.current;if(!nt||ne.current==null||!Se||!ut)return;const{onDragOver:ot}=U.current,Ar=ar.get(jt),Bn=Ar&&Ar.rect.current?{id:Ar.id,rect:Ar.rect.current,data:Ar.data,disabled:Ar.disabled}:null,hr={active:nt,activatorEvent:Se,collisions:ct,delta:{x:ut.x,y:ut.y},over:Bn};ja.unstable_batchedUpdates(()=>{lr(Bn),ot?.(hr),k({type:"onDragOver",event:hr})})},[jt]),bs(()=>{de.current={activatorEvent:Z,active:Y,activeNode:ge,collisionRect:Te,collisions:tt,droppableRects:J,draggableNodes:M,draggingNode:Ue,draggingNodeRect:et,droppableContainers:$,over:Et,scrollableAncestors:Jt,scrollAdjustedTranslate:ve},z.current={initial:et,translated:Te}},[Y,ge,tt,Te,M,Ue,et,J,$,Et,Jt,ve]),Ove({...ke,delta:I,draggingRect:Te,pointerCoordinates:K,scrollableAncestors:Jt,scrollableAncestorRects:zr});const St=y.useMemo(()=>({active:Y,activeNode:ge,activeNodeRect:pe,activatorEvent:Z,collisions:tt,containerNodeRect:Ce,dragOverlay:Ee,draggableNodes:M,droppableContainers:$,droppableRects:J,over:Et,measureDroppableContainers:Q,scrollableAncestors:Jt,scrollableAncestorRects:zr,measuringConfiguration:ee,measuringScheduled:fe,windowRect:_r}),[Y,ge,pe,Z,tt,Ce,Ee,M,$,J,Et,Q,Jt,zr,ee,fe,_r]),je=y.useMemo(()=>({activatorEvent:Z,activators:Ye,active:Y,activeNodeRect:pe,ariaDescribedById:{draggable:W},dispatch:S,draggableNodes:M,over:Et,measureDroppableContainers:Q}),[Z,Ye,Y,pe,S,W,M,Et,Q]);return _e.createElement(M$.Provider,{value:C},_e.createElement(Jf.Provider,{value:je},_e.createElement(Q$.Provider,{value:St},_e.createElement(q0.Provider,{value:_t},f)),_e.createElement(Xve,{disabled:u?.restoreFocus===!1})),_e.createElement(tve,{...u,hiddenTextDescribedById:W}));function Oe(){const nt=V?.autoScrollEnabled===!1,Se=typeof d=="object"?d.enabled===!1:d===!1,ct=D&&!nt&&!Se;return typeof d=="object"?{...d,enabled:ct}:{enabled:ct}}}),ebe=y.createContext(null),nP="button",tbe="Draggable";function J$(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=Zf(tbe),{activators:l,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:m,draggableNodes:g,over:x}=y.useContext(Jf),{role:v=nP,roleDescription:j="draggable",tabIndex:w=0}=a??{},b=d?.id===t,S=y.useContext(b?q0:ebe),[k,C]=fp(),[E,O]=fp(),D=qve(l,t),T=pf(r);bs(()=>(g.set(t,{id:t,key:i,node:k,activatorNode:E,data:T}),()=>{const I=g.get(t);I&&I.key===i&&g.delete(t)}),[g,t]);const M=y.useMemo(()=>({role:v,tabIndex:w,"aria-disabled":n,"aria-pressed":b&&v===nP?!0:void 0,"aria-roledescription":j,"aria-describedby":m.draggable}),[n,v,w,b,j,m.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:M,isDragging:b,listeners:n?void 0:D,node:k,over:x,setNodeRef:C,setActivatorNodeRef:O,transform:S}}function e7(){return y.useContext(Q$)}const rbe="Droppable",nbe={timeout:25};function HS(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=Zf(rbe),{active:l,dispatch:u,over:d,measureDroppableContainers:f}=y.useContext(Jf),m=y.useRef({disabled:r}),g=y.useRef(!1),x=y.useRef(null),v=y.useRef(null),{disabled:j,updateMeasurementsFor:w,timeout:b}={...nbe,...a},S=pf(w??n),k=y.useCallback(()=>{if(!g.current){g.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(S.current)?S.current:[S.current]),v.current=null},b)},[b]),C=U0({callback:k,disabled:j||!l}),E=y.useCallback((M,I)=>{C&&(I&&(C.unobserve(I),g.current=!1),M&&C.observe(M))},[C]),[O,D]=fp(E),T=pf(t);return y.useEffect(()=>{!C||!O.current||(C.disconnect(),g.current=!1,C.observe(O.current))},[O,C]),y.useEffect(()=>(u({type:Wr.RegisterDroppable,element:{id:n,key:i,disabled:r,node:O,rect:x,data:T}}),()=>u({type:Wr.UnregisterDroppable,key:i,id:n})),[n]),y.useEffect(()=>{r!==m.current.disabled&&(u({type:Wr.SetDroppableDisabled,id:n,key:i,disabled:r}),m.current.disabled=r)},[n,i,r,u]),{active:l,rect:x,isOver:d?.id===n,node:O,over:d,setNodeRef:D}}function abe(e){let{animation:t,children:r}=e;const[n,a]=y.useState(null),[i,l]=y.useState(null),u=hp(r);return!r&&!n&&u&&a(u),bs(()=>{if(!i)return;const d=n?.key,f=n?.props.id;if(d==null||f==null){a(null);return}Promise.resolve(t(f,i)).then(()=>{a(null)})},[t,n,i]),_e.createElement(_e.Fragment,null,r,n?y.cloneElement(n,{ref:l}):null)}const sbe={x:0,y:0,scaleX:1,scaleY:1};function ibe(e){let{children:t}=e;return _e.createElement(Jf.Provider,{value:G$},_e.createElement(q0.Provider,{value:sbe},t))}const obe={position:"fixed",touchAction:"none"},lbe=e=>F0(e)?"transform 250ms ease":void 0,cbe=y.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:l,rect:u,style:d,transform:f,transition:m=lbe}=e;if(!u)return null;const g=a?f:{...f,scaleX:1,scaleY:1},x={...obe,width:u.width,height:u.height,top:u.top,left:u.left,transform:Co.Transform.toString(g),transformOrigin:a&&n?ave(n,u):void 0,transition:typeof m=="function"?m(n):m,...d};return _e.createElement(r,{className:l,style:x,ref:t},i)}),ube=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:l}=e;if(i!=null&&i.active)for(const[u,d]of Object.entries(i.active))d!==void 0&&(a[u]=r.node.style.getPropertyValue(u),r.node.style.setProperty(u,d));if(i!=null&&i.dragOverlay)for(const[u,d]of Object.entries(i.dragOverlay))d!==void 0&&n.node.style.setProperty(u,d);return l!=null&&l.active&&r.node.classList.add(l.active),l!=null&&l.dragOverlay&&n.node.classList.add(l.dragOverlay),function(){for(const[d,f]of Object.entries(a))r.node.style.setProperty(d,f);l!=null&&l.active&&r.node.classList.remove(l.active)}},dbe=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Co.Transform.toString(t)},{transform:Co.Transform.toString(r)}]},fbe={duration:250,easing:"ease",keyframes:dbe,sideEffects:ube({styles:{active:{opacity:"0"}}})};function hbe(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return z0((i,l)=>{if(t===null)return;const u=r.get(i);if(!u)return;const d=u.node.current;if(!d)return;const f=V$(l);if(!f)return;const{transform:m}=$n(l).getComputedStyle(l),g=R$(m);if(!g)return;const x=typeof t=="function"?t:mbe(t);return U$(d,a.draggable.measure),x({active:{id:i,data:u.data,node:d,rect:a.draggable.measure(d)},draggableNodes:r,dragOverlay:{node:l,rect:a.dragOverlay.measure(f)},droppableContainers:n,measuringConfiguration:a,transform:g})})}function mbe(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...fbe,...e};return i=>{let{active:l,dragOverlay:u,transform:d,...f}=i;if(!t)return;const m={x:u.rect.left-l.rect.left,y:u.rect.top-l.rect.top},g={scaleX:d.scaleX!==1?l.rect.width*d.scaleX/u.rect.width:1,scaleY:d.scaleY!==1?l.rect.height*d.scaleY/u.rect.height:1},x={x:d.x-m.x,y:d.y-m.y,...g},v=a({...f,active:l,dragOverlay:u,transform:{initial:d,final:x}}),[j]=v,w=v[v.length-1];if(JSON.stringify(j)===JSON.stringify(w))return;const b=n?.({active:l,dragOverlay:u,...f}),S=u.node.animate(v,{duration:t,easing:r,fill:"forwards"});return new Promise(k=>{S.onfinish=()=>{b?.(),k()}})}}let aP=0;function gbe(e){return y.useMemo(()=>{if(e!=null)return aP++,aP},[e])}const pbe=_e.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:l,wrapperElement:u="div",className:d,zIndex:f=999}=e;const{activatorEvent:m,active:g,activeNodeRect:x,containerNodeRect:v,draggableNodes:j,droppableContainers:w,dragOverlay:b,over:S,measuringConfiguration:k,scrollableAncestors:C,scrollableAncestorRects:E,windowRect:O}=e7(),D=y.useContext(q0),T=gbe(g?.id),M=X$(l,{activatorEvent:m,active:g,activeNodeRect:x,containerNodeRect:v,draggingNodeRect:b.rect,over:S,overlayNodeRect:b.rect,scrollableAncestors:C,scrollableAncestorRects:E,transform:D,windowRect:O}),I=qS(x),$=hbe({config:n,draggableNodes:j,droppableContainers:w,measuringConfiguration:k}),B=I?b.setRef:void 0;return _e.createElement(ibe,null,_e.createElement(abe,{animation:$},g&&T?_e.createElement(cbe,{key:T,id:g.id,ref:B,as:u,activatorEvent:m,adjustScale:t,className:d,transition:i,rect:I,style:{zIndex:f,...a},transform:M},r):null))}),ybe={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},xbe=({date:e,hour:t})=>{const n=`calendar-slot-${Ne(e,"yyyy-MM-dd")}-${t}`,{setNodeRef:a,isOver:i}=HS({id:n});return s.jsx("div",{ref:a,className:`border-l border-gray-700 ${i?"bg-blue-500/20 ring-2 ring-inset ring-blue-500":""}`})},vbe=({block:e,style:t,color:r,onClick:n})=>{const[a,i]=y.useState(null),[l,u]=y.useState(0),[d,f]=y.useState(0),[m,g]=y.useState(0),[x,v]=y.useState(parseFloat(t.top)),[j,w]=y.useState(parseFloat(t.height)),b=Dj(),S=Ul(),k=y.useRef(null),C=y.useCallback((T,M)=>{T.stopPropagation(),i(M),u(T.clientY),f(parseFloat(t.top)),g(parseFloat(t.height)),v(parseFloat(t.top)),w(parseFloat(t.height))},[t.top,t.height]),E=y.useCallback(T=>{if(!a)return;const I=(T.clientY-l)/16,$=B=>Math.round(B);if(a==="bottom"){const B=m+I,z=Math.max(1,$(B));w(z)}else if(a==="top"){const B=d+I,z=Math.max(0,$(B)),Y=d-z,ne=Math.max(1,$(m+Y));v(z),w(ne)}},[a,l,d,m]),O=y.useCallback(async()=>{if(!a)return;const T=x/4,M=j/4,I=6,$=ee=>Math.round(ee/15)*15,B=(I+T)*60,z=$(B),Y=Math.floor(z/60),ne=z%60,V=(I+T+M)*60,F=$(V),Z=Math.floor(F/60),q=F%60,U=`${Y.toString().padStart(2,"0")}:${ne.toString().padStart(2,"0")}:00`,W=`${Z.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}:00`,L=F-z;try{await b.mutateAsync({blockId:e.block_id,updates:{start_time:U,end_time:W,planned_duration_minutes:L}});const ee=Op(Ct(`2000-01-01T${e.end_time}`),Ct(`2000-01-01T${e.start_time}`)),J=(L-ee)/60,Q=Math.max(0,(e.hours_projected||0)+J);await S.mutateAsync({id:e.task_id,updates:{hours_projected:Q},skipConflictCheck:!0})}catch(ee){console.error("Failed to resize time block:",ee),v(d),w(m)}i(null)},[a,x,j,e,b,S,d,m]);y.useEffect(()=>{if(a){const T=I=>E(I),M=()=>O();return window.addEventListener("mousemove",T),window.addEventListener("mouseup",M),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",M)}}},[a,E,O]);const D=a?{top:`calc(${x}rem + 2px)`,height:`calc(${j}rem - 4px)`}:{top:`calc(${t.top} + 2px)`,height:`calc(${t.height} - 4px)`};return s.jsxs("div",{ref:k,className:"absolute cursor-pointer hover:opacity-90 transition-opacity group overflow-hidden",style:{...t,...D,backgroundColor:r,padding:"0.5rem",borderRadius:"0.25rem",zIndex:a?20:10,opacity:e.task_status==="Done"?.5:1},onClick:n,children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 cursor-ns-resize opacity-0 group-hover:opacity-100 hover:bg-white/30 transition-opacity",onMouseDown:T=>C(T,"top"),style:{marginTop:"-2px"}}),s.jsx("div",{className:`text-xs text-white font-semibold pointer-events-none overflow-hidden ${e.task_status==="Done"?"line-through":""}`,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"break-word"},children:e.task_name}),s.jsxs("div",{className:"text-xs text-white/80 pointer-events-none whitespace-nowrap overflow-hidden text-ellipsis",children:[Ne(Ct(`2000-01-01T${e.start_time}`),"h:mm a")," -"," ",Ne(Ct(`2000-01-01T${e.end_time}`),"h:mm a")]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 cursor-ns-resize opacity-0 group-hover:opacity-100 hover:bg-white/30 transition-opacity",onMouseDown:T=>C(T,"bottom"),style:{marginBottom:"-2px"}})]})},bbe=({onBlockClick:e})=>{const[t,r]=y.useState(()=>Er(new Date,{weekStartsOn:1})),n=Ls(t,6),{data:a=[],isLoading:i}=NK(t,n),{data:l=[]}=kK(t),u=new Map;a.forEach(k=>{const C=k.scheduled_date;u.has(C)||u.set(C,[]),u.get(C).push(k)});const d=Array.from({length:7},(k,C)=>Ls(t,C)),f=Er(new Date,{weekStartsOn:1}),m=Math.round((t.getTime()-f.getTime())/(10080*60*1e3)),g=()=>m===0?"This Week":m===1?"Next Week":m>=2?"2 Weeks From Now":m===-1?"Last Week":`${Math.abs(m)} Weeks Ago`,x=()=>{r(SK(t))},v=()=>{r(Sj(t,1))},j=()=>{r(Er(new Date,{weekStartsOn:1}))},w=Array.from({length:24},(k,C)=>C+6),b=k=>{const[C]=k.split(":").map(Number);return C},S=k=>{const C=b(k.start_time),E=b(k.end_time),O=parseInt(k.start_time.split(":")[1]),D=parseInt(k.end_time.split(":")[1]),T=((C-6)*60+O)/60,M=((E-C)*60+(D-O))/60;return{top:`${T*4}rem`,height:`${M*4}rem`}};return i?s.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-900 rounded-lg",children:s.jsx("div",{className:"text-gray-400",children:"Loading calendar..."})}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx($r,{className:"w-8 h-8 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Master Calendar"}),s.jsxs("p",{className:"text-gray-400",children:[Ne(t,"MMM d")," - ",Ne(n,"MMM d, yyyy")]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:x,className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(Np,{className:"w-5 h-5 text-gray-300"})}),s.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:g()}),s.jsx("button",{onClick:v,className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(Fs,{className:"w-5 h-5 text-gray-300"})})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"grid bg-gray-900 border-b border-gray-700",style:{gridTemplateColumns:"60px repeat(7, 1fr)"},children:[s.jsx("div",{className:"p-3 text-xs text-white font-semibold",children:"TIME"}),d.map(k=>{const C=Ne(k,"yyyy-MM-dd"),E=l.find(D=>D.scheduled_date===C),O=I4(k,new Date);return s.jsxs("div",{className:`p-3 text-center ${O?"bg-blue-900/20":""}`,children:[s.jsx("div",{className:`text-xs font-medium ${O?"text-blue-400":"text-yellow-500"}`,children:Ne(k,"EEEE")}),s.jsx("div",{className:`text-xs ${O?"text-blue-400":"text-yellow-500"}`,children:Ne(k,"M/d/yy")}),E&&s.jsxs("div",{className:"mt-1 text-xs space-y-0.5",children:[s.jsxs("div",{className:"text-white",children:[E.total_blocks," ",E.total_blocks===1?"block":"blocks"]}),s.jsxs("div",{className:"text-white",children:[(E.total_planned_minutes/60).toFixed(1),"h planned"]})]})]},C)})]}),s.jsxs("div",{className:"relative",children:[w.map(k=>s.jsxs("div",{className:"grid border-b border-gray-700",style:{height:"4rem",gridTemplateColumns:"60px repeat(7, 1fr)"},children:[s.jsx("div",{className:"p-2 text-xs text-gray-500",children:Ne(new Date().setHours(k%24,0),"h a")}),d.map(C=>s.jsx(xbe,{date:C,hour:k},`${Ne(C,"yyyy-MM-dd")}-${k}`))]},k)),d.map((k,C)=>{const E=Ne(k,"yyyy-MM-dd");return(u.get(E)||[]).map(D=>{const T=S(D),M=ybe[D.area],I="((100% - 60px) / 7)",$={...T,left:`calc(60px + ${I} * ${C})`,width:`calc(${I})`};return s.jsx(vbe,{block:D,style:$,color:M,onClick:()=>e?.(D)},D.block_id)})})]})]})]})},t7={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},wbe=["Full Stack","S4","808","Personal","Huge Capital","Golf","Health"],jbe=({task:e,isSelected:t,onQuickSchedule:r,onClearSelection:n,onScheduleStatusChange:a})=>{const{attributes:i,listeners:l,setNodeRef:u,isDragging:d}=J$({id:`task-${e.task_id}`,data:e}),{data:f=[]}=o5(e.task_id),m=e.status==="Done",g=f.length>0?f[0]:null,x=f.length>0;y.useEffect(()=>{a(e.task_id,x)},[e.task_id,x]);const v=m?"completed":x?"scheduled":"schedule",j=()=>{if(v==="completed")return"Completed";if(v==="schedule")return"Schedule";if(g){const w=Ne(Ct(g.scheduled_date),"MMM d"),b=Ne(Ct(`2000-01-01T${g.start_time}`),"h:mm a");return`${w} ${b}`}return"Scheduled"};return s.jsx("div",{ref:u,...i,...l,className:`p-4 rounded-lg border-2 transition-all ${d?"opacity-50 cursor-grabbing":"cursor-grab"} ${t?"border-blue-500":"border-transparent hover:border-gray-600"}`,style:{backgroundColor:t?void 0:t7[e.area]},onClick:()=>r(e),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(I9,{className:"w-4 h-4 text-white/70 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-semibold text-white",children:e.task_name}),e.priority==="High"&&s.jsx("span",{className:"px-2 py-0.5 bg-red-500/30 text-white text-xs rounded",children:"High Priority"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/80",children:[e.due_date&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Due ",Ne(Ct(e.due_date),"MMM d")]})]}),e.hours_remaining>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[e.hours_remaining.toFixed(1),"h remaining"]})]})]})]})]}),t?s.jsx("button",{onClick:w=>{w.stopPropagation(),n()},className:"p-1 hover:bg-gray-700 rounded",children:s.jsx(qt,{className:"w-5 h-5 text-gray-400"})}):s.jsx("button",{onClick:w=>{w.stopPropagation(),r(e)},disabled:v==="completed",className:`px-3 py-1 rounded text-sm font-medium transition-colors ${v==="completed"?"bg-green-600 text-white cursor-default":v==="scheduled"?"bg-yellow-500 text-gray-900 hover:bg-yellow-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:j()})]})})},_be=({onScheduleComplete:e})=>{const[t,r]=y.useState("All Areas"),[n,a]=y.useState("All Tasks"),[i,l]=y.useState("All Tasks"),{data:u=[],isLoading:d}=CK(t==="All Areas"?void 0:t),f=Dp(),[m,g]=y.useState(null),[x,v]=y.useState(Ne(new Date,"yyyy-MM-dd")),[j,w]=y.useState("09:00"),[b,S]=y.useState(60),[k,C]=y.useState({}),E=y.useMemo(()=>{if(n==="All Tasks")return u;const z=new Date;return u.filter(Y=>{if(!Y.due_date)return!1;const ne=Ct(Y.due_date);switch(n){case"Due Today":return Sm(ne,{start:Mn(z),end:Ap(z)});case"Due This Week":return Sm(ne,{start:Er(z,{weekStartsOn:1}),end:xo(z,{weekStartsOn:1})});case"Due Next Week":const V=Er(Ls(z,7),{weekStartsOn:1}),F=xo(Ls(z,7),{weekStartsOn:1});return Sm(ne,{start:V,end:F});case"Due This Month":return Sm(ne,{start:U4(z),end:Nj(z)});default:return!0}})},[u,n]),O=y.useMemo(()=>i==="All Tasks"?E:E.filter(z=>{const Y=k[z.task_id]||!1;return i==="Scheduled"?Y:i==="Unscheduled"?!Y:!0}),[E,i,k]),D=Ne(Ep(Ct(`${x}T${j}`),b),"HH:mm"),{data:T=[]}=TK(Ct(x),`${j}:00`,`${D}:00`),M=T.length>0,I=async()=>{if(m)try{await f.mutateAsync({taskId:m.task_id,scheduledDate:Ct(x),startTime:`${j}:00`,endTime:`${D}:00`,plannedDurationMinutes:b}),alert(` Scheduled "${m.task_name}" successfully!`),g(null),e?.()}catch(z){console.error("Failed to schedule task:",z),alert("Failed to schedule task. Please try again.")}},$=z=>{g(z);const Y=z.hours_remaining>0?Math.min(z.hours_remaining*60,240):60;S(Y)},B=(z,Y)=>{C(ne=>({...ne,[z]:Y}))};return d?s.jsx("div",{className:"bg-gray-900 rounded-lg p-6",children:s.jsx("div",{className:"text-gray-400",children:"Loading unscheduled tasks..."})}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ta,{className:"w-6 h-6 text-orange-400"}),s.jsx("div",{children:s.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Task Scheduler"})})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>r("All Areas"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${t==="All Areas"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"All Areas"}),wbe.map(z=>s.jsx("button",{onClick:()=>r(z),className:"px-3 py-1.5 rounded-lg text-sm transition-colors text-white",style:{backgroundColor:t7[z],opacity:t===z?1:.6},children:z},z))]})}),s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"flex gap-2",children:["All Tasks","Due Today","Due This Week","Due Next Week","Due This Month"].map(z=>s.jsx("button",{onClick:()=>a(z),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${n===z?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:z},z))})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"flex gap-2",children:["All Tasks","Scheduled","Unscheduled"].map(z=>s.jsx("button",{onClick:()=>l(z),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${i===z?"bg-orange-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:z},z))})}),O.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ta,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:n==="All Tasks"&&t==="All Areas"?"All tasks are scheduled!":"No tasks match the selected filters"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n==="All Tasks"&&t==="All Areas"?"Great job staying organized. New tasks will appear here.":"Try adjusting your filters to see more tasks."})]}):s.jsx("div",{className:"space-y-3 mb-6",children:O.map(z=>s.jsx(jbe,{task:z,isSelected:m?.task_id===z.task_id,onQuickSchedule:$,onClearSelection:()=>g(null),onScheduleStatusChange:B},z.task_id))}),m&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-blue-500",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-100 mb-4",children:["Schedule: ",m.task_name]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Date"}),s.jsx("input",{type:"date",value:x,onChange:z=>v(z.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Start Time"}),s.jsx("input",{type:"time",value:j,onChange:z=>w(z.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Duration (minutes)"}),s.jsx("input",{type:"number",value:b,onChange:z=>S(parseInt(z.target.value)||60),min:15,max:480,step:15,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"End Time"}),s.jsx("div",{className:"px-3 py-2 bg-gray-900 border border-gray-600 rounded-lg text-gray-300",children:D})]})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("span",{className:"text-sm text-gray-400 my-auto",children:"Quick:"}),[30,60,90,120,180,240].map(z=>s.jsxs("button",{onClick:()=>S(z),className:`px-3 py-1 rounded text-sm transition-colors ${b===z?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[z,"m"]},z))]}),M&&s.jsxs("div",{className:"bg-red-900/20 border border-red-500 rounded-lg p-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[s.jsx(Xa,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Time Conflict Detected"})]}),s.jsx("div",{className:"text-sm text-gray-300",children:T.map((z,Y)=>s.jsxs("div",{children:[" ",z.task_name," (",z.start_time," - ",z.end_time,")"]},Y))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:I,disabled:M||f.isPending,className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${M||f.isPending?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[s.jsx(Na,{className:"w-4 h-4"}),f.isPending?"Scheduling...":"Schedule Task"]}),s.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg transition-colors",children:"Cancel"})]})]})]})},sP={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},Sbe=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(""),[a,i]=y.useState(null);Dj();const l=J4(),u=OK(),d=AK(),f=DK(),m=Dp(),g=Er(new Date,{weekStartsOn:1}),x=xo(new Date,{weekStartsOn:1}),{data:v=[]}=EK(g,x),j=v.length>0?{total_blocks:v.reduce((T,M)=>T+M.total_blocks,0),total_planned_hours:v.reduce((T,M)=>T+M.total_planned_hours,0),completion_rate:Math.round(v.reduce((T,M)=>T+M.completion_rate*M.total_blocks,0)/v.reduce((T,M)=>T+M.total_blocks,0))}:null,w=T=>{t(T),n(T.actual_duration_minutes?Math.round(T.actual_duration_minutes).toString():"")},b=()=>{t(null),n("")},S=async()=>{if(e)try{await d.mutateAsync(e.block_id),alert(" Time block started!"),b()}catch(T){console.error("Failed to start block:",T),alert("Failed to start time block.")}},k=async()=>{if(!e)return;const T=parseInt(r)||e.planned_duration_minutes;try{await u.mutateAsync({blockId:e.block_id,actualDurationMinutes:T}),alert(" Time block completed!"),b()}catch(M){console.error("Failed to complete block:",M),alert("Failed to complete time block.")}},C=async()=>{if(e&&confirm("Cancel this time block?"))try{await f.mutateAsync(e.block_id),alert(" Time block cancelled"),b()}catch(T){console.error("Failed to cancel block:",T),alert("Failed to cancel time block.")}},E=async()=>{if(e&&confirm("Permanently delete this time block?"))try{await l.mutateAsync(e.block_id),alert(" Time block deleted"),b()}catch(T){console.error("Failed to delete block:",T),alert("Failed to delete time block.")}},O=T=>{i(T.active.id)},D=async T=>{const{active:M,over:I}=T;if(i(null),!I)return;const $=I.id.toString();if(!$.startsWith("calendar-slot-"))return;const B=$.replace("calendar-slot-","").split("-");if(B.length<4)return;const z=`${B[0]}-${B[1]}-${B[2]}`,Y=parseInt(B[3]),ne=M.id.toString();if(!ne.startsWith("task-"))return;const V=ne.replace("task-",""),F=M.data.current;if(!F)return;const Z=`${Y.toString().padStart(2,"0")}:00`,q=F.hours_remaining>0?Math.min(F.hours_remaining*60,120):60;try{await m.mutateAsync({taskId:V,scheduledDate:Ct(z),startTime:`${Z}:00`,endTime:`${Ne(Ep(Ct(`${z}T${Z}`),q),"HH:mm:ss")}`,plannedDurationMinutes:q}),alert(` Task scheduled to ${Ne(Ct(z),"MMM d")} at ${Z}`)}catch(U){console.error("Failed to schedule task:",U),alert("Failed to schedule task. Please try again.")}};return s.jsx(Z$,{onDragStart:O,onDragEnd:D,children:s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Calendar & Scheduling"})}),v.length>0&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-4",children:"Scheduling Analytics (This Week)"}),s.jsxs("div",{className:"grid grid-cols-7 gap-3",children:[j&&s.jsxs("div",{className:"rounded-lg p-3 bg-gray-700",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx("span",{className:"text-sm font-semibold text-white",children:"All Areas"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Blocks:"}),s.jsx("span",{className:"text-white font-semibold",children:j.total_blocks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Planned:"}),s.jsxs("span",{className:"text-white font-semibold",children:[j.total_planned_hours.toFixed(1),"h"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Completion:"}),s.jsxs("span",{className:"text-white font-semibold",children:[j.completion_rate,"%"]})]})]})]}),v.slice(0,6).map(T=>s.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:sP[T.area]},children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx("span",{className:"text-sm font-semibold text-white",children:T.area})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Blocks:"}),s.jsx("span",{className:"text-white font-semibold",children:T.total_blocks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Planned:"}),s.jsxs("span",{className:"text-white font-semibold",children:[T.total_planned_hours,"h"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white",children:"Completion:"}),s.jsxs("span",{className:"text-white font-semibold",children:[T.completion_rate,"%"]})]})]})]},T.area))]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(bbe,{onBlockClick:w})}),s.jsx("div",{children:s.jsx(_be,{onScheduleComplete:()=>{}})})]}),e&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:b}),s.jsxs("div",{className:"relative bg-gray-900 rounded-lg shadow-2xl max-w-lg w-full mx-4 border-2 border-gray-700",children:[s.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:sP[e.area]}}),s.jsx("h3",{className:"text-xl font-bold text-gray-100",children:e.task_name})]}),s.jsx("p",{className:"text-sm text-gray-400",children:e.area})]}),s.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-800 rounded transition-colors",children:s.jsx(qt,{className:"w-5 h-5 text-gray-400"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Date"}),s.jsx("div",{className:"text-gray-100",children:Ne(Ct(e.scheduled_date),"MMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Time"}),s.jsxs("div",{className:"text-gray-100",children:[Ne(Ct(`2000-01-01T${e.start_time}`),"h:mm a")," -"," ",Ne(Ct(`2000-01-01T${e.end_time}`),"h:mm a")]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Planned Duration"}),s.jsxs("div",{className:"text-gray-100",children:[Math.round(e.planned_duration_minutes)," minutes"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Status"}),s.jsx("div",{className:`inline-block px-2 py-1 rounded text-xs ${e.status==="completed"?"bg-green-500/20 text-green-400":e.status==="in_progress"?"bg-blue-500/20 text-blue-400":e.status==="cancelled"?"bg-gray-500/20 text-gray-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.status})]})]})}),e.status!=="completed"&&e.status!=="cancelled"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Actual Duration (minutes)"}),s.jsx("input",{type:"number",value:r,onChange:T=>n(T.target.value),placeholder:e.planned_duration_minutes.toString(),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100"})]}),e.notes&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Notes"}),s.jsx("div",{className:"bg-gray-800 rounded-lg p-3 text-sm text-gray-300",children:e.notes})]}),s.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t border-gray-700",children:[e.status==="scheduled"&&s.jsxs("button",{onClick:S,disabled:d.isPending,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[s.jsx(S4,{className:"w-4 h-4"}),"Start Time Block"]}),(e.status==="scheduled"||e.status==="in_progress")&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:k,disabled:u.isPending,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[s.jsx(xj,{className:"w-4 h-4"}),"Mark Complete"]}),s.jsxs("button",{onClick:C,disabled:f.isPending,className:"flex items-center justify-center gap-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors",children:[s.jsx(_9,{className:"w-4 h-4"}),"Cancel Block"]})]}),s.jsxs("button",{onClick:E,disabled:l.isPending,className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[s.jsx(Qa,{className:"w-4 h-4"}),"Delete Block"]})]})]})]})]})]})})},Nbe={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},kbe=({selectedDate:e})=>{const{data:t=[],isLoading:r}=Z4(e),n=[...t].sort((l,u)=>l.start_time.localeCompare(u.start_time)),i=(n.reduce((l,u)=>l+u.planned_duration_minutes,0)/60).toFixed(1);return r?s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-100",children:" Planned Schedule"}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-400",children:"Loading schedule..."})})]}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-100",children:" Planned Schedule"}),s.jsxs("div",{className:"text-sm text-gray-400",children:[n.length," ",n.length===1?"block":"blocks","  ",i,"h planned"]})]}),n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx(ta,{className:"w-12 h-12 mb-3 opacity-50"}),s.jsx("p",{children:"No scheduled time blocks for this day"}),s.jsx("p",{className:"text-sm mt-1",children:"Add time blocks from the Calendar page"})]}):s.jsx("div",{className:"space-y-3",children:n.map(l=>{const u=Nbe[l.area],d=l.status==="completed";return s.jsx("div",{className:"border-2 border-gray-700 rounded-lg p-4 hover:border-gray-600 transition-colors",style:{borderLeftColor:u,borderLeftWidth:"4px"},children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d&&s.jsx(Qc,{className:"w-4 h-4 text-green-400"}),s.jsx("h3",{className:"font-semibold text-gray-100",children:l.task_name})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ta,{className:"w-3 h-3"}),Ne(Ct(`2000-01-01T${l.start_time}`),"h:mm a")," -"," ",Ne(Ct(`2000-01-01T${l.end_time}`),"h:mm a")]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[l.planned_duration_minutes," min"]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:u},children:l.area})}),l.notes&&s.jsx("p",{className:"mt-2 text-sm text-gray-500 italic",children:l.notes})]})})},l.block_id)})})]})};function Cbe(e,t){return Be({queryKey:["deep-work-sessions",e,t],queryFn:async()=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");let{data:n,error:a}=await X.from("deep_work_log").select(`
          *,
          tasks:task_id (
            task_name
          )
        `).eq("user_id",r.id).gte("start_time",e).lte("start_time",t).order("start_time",{ascending:!0});if(a)throw a;return(n||[]).map(l=>({...l,task_name:l.tasks?.task_name||null}))},staleTime:30*1e3})}function r7(){const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.from("deep_work_log").insert({user_id:r.id,...t}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["deep-work-sessions"]})}})}function Tbe(){const e=mt();return wt({mutationFn:async t=>{const{error:r}=await X.from("deep_work_log").delete().eq("id",t);if(r)throw r;return t},onSuccess:()=>{e.invalidateQueries({queryKey:["deep-work-sessions"]})}})}const Ebe={"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"},Obe=({selectedDate:e})=>{const[t,r]=y.useState(!1),n=GT(Mn(e),6).toISOString(),a=GT(Mn(e),30).toISOString(),{data:i=[],isLoading:l}=Cbe(n,a);r7();const u=Tbe(),f=(i.reduce((x,v)=>x+(v.duration_minutes||0),0)/60).toFixed(1),m=()=>{r(!0)},g=async x=>{confirm("Delete this session?")&&await u.mutateAsync(x)};return l?s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-100",children:" Deep Work Log (Actual)"}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-400",children:"Loading sessions..."})})]}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-100",children:" Deep Work Log (Actual)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-sm text-gray-400",children:[i.length," ",i.length===1?"session":"sessions","  ",f,"h logged"]}),s.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:[s.jsx(Na,{className:"w-4 h-4"}),"Log Time"]})]})]}),t&&s.jsx(Abe,{selectedDate:e,onCancel:()=>r(!1),onCreate:()=>r(!1)}),i.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx(ta,{className:"w-12 h-12 mb-3 opacity-50"}),s.jsx("p",{children:"No deep work sessions logged for this day"}),s.jsx("p",{className:"text-sm mt-1",children:'Click "Log Time" to add what you actually worked on'})]}):s.jsx("div",{className:"space-y-3 mt-4",children:i.map(x=>{const v=x.area?Ebe[x.area]:"#6b7280",j=x.status==="completed",w=x.is_productive!==!1;return s.jsx("div",{className:"border-2 border-gray-700 rounded-lg p-4 hover:border-gray-600 transition-colors",style:{borderLeftColor:v,borderLeftWidth:"4px"},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[j&&s.jsx(Qc,{className:"w-4 h-4 text-green-400"}),!w&&s.jsx("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded",children:"Non-productive"}),s.jsx("h3",{className:"font-semibold text-gray-100",children:x.task_name||x.session_name||"Unnamed session"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ta,{className:"w-3 h-3"}),Ne(Ct(x.start_time),"h:mm a"),x.end_time&&` - ${Ne(Ct(x.end_time),"h:mm a")}`]}),x.duration_minutes&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[x.duration_minutes," min"]})]})]}),x.area&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:v},children:x.area})}),x.notes&&s.jsx("p",{className:"mt-2 text-sm text-gray-500 italic",children:x.notes})]}),s.jsx("button",{onClick:()=>g(x.id),className:"p-2 text-gray-500 hover:text-red-400 transition-colors",children:s.jsx(Qa,{className:"w-4 h-4"})})]})},x.id)})})]})},Abe=({selectedDate:e,onCancel:t,onCreate:r})=>{const[n,a]=y.useState(""),[i,l]=y.useState(""),[u,d]=y.useState(""),[f,m]=y.useState(""),[g,x]=y.useState(""),[v,j]=y.useState(!0),w=r7(),b=async S=>{if(S.preventDefault(),!n||!u||!f){alert("Please fill in session name, start time, and end time");return}const k=Ne(e,"yyyy-MM-dd"),C=Ct(`${k}T${u}:00`).toISOString(),E=Ct(`${k}T${f}:00`).toISOString();try{await w.mutateAsync({session_name:n,area:i||void 0,start_time:C,end_time:E,notes:g||void 0,is_productive:v,status:"completed"}),r()}catch(O){console.error("Failed to create session:",O),alert("Failed to create session")}};return s.jsxs("form",{onSubmit:b,className:"bg-gray-800 rounded-lg p-4 mb-4 border-2 border-blue-500",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Log Time Session"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:S=>j(S.target.checked),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Productive work"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"What did you work on? *"}),s.jsx("input",{type:"text",value:n,onChange:S=>a(S.target.value),placeholder:"e.g., Built dashboard feature, Watched TV, etc.",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500",required:!0})]}),v&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Area (optional)"}),s.jsxs("select",{value:i,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500",children:[s.jsx("option",{value:"",children:"-- Select Area --"}),s.jsx("option",{value:"Full Stack",children:"Full Stack"}),s.jsx("option",{value:"Huge Capital",children:"Huge Capital"}),s.jsx("option",{value:"S4",children:"S4"}),s.jsx("option",{value:"808",children:"808"}),s.jsx("option",{value:"Personal",children:"Personal"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Health",children:"Health"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Start Time *"}),s.jsx("input",{type:"time",value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"End Time *"}),s.jsx("input",{type:"time",value:f,onChange:S=>m(S.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes (optional)"}),s.jsx("textarea",{value:g,onChange:S=>x(S.target.value),placeholder:"Any additional details...",rows:2,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[s.jsx("button",{type:"submit",disabled:w.isPending,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:w.isPending?"Creating...":"Log Session"}),s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg transition-colors",children:"Cancel"})]})]})};function WS(e=new Date){const t=Ne(e,"yyyy-MM-dd"),{data:r=[],isLoading:n,error:a}=Be({queryKey:["tasks","daily",t],queryFn:async()=>{const{data:{user:l}}=await X.auth.getUser();if(!l)throw new Error("Not authenticated");const{data:u,error:d}=await X.from("tasks").select("id, progress_percentage, due_date, task_name").eq("user_id",l.id).eq("due_date",t);if(d)throw d;return u||[]},staleTime:6e4});return{data:y.useMemo(()=>{if(r.length===0)return{dailyProgress:null,completedCount:0,totalCount:0,dueTodayCount:0,date:t};const l=r.filter(f=>f.progress_percentage===100).length,u=r.length,d=l/u*100;return{dailyProgress:Math.round(d*10)/10,completedCount:l,totalCount:u,dueTodayCount:u,date:t}},[r,t]),isLoading:n,error:a}}function Dbe(){return Be({queryKey:["daily-completions","streak"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const t=Ne(pg(new Date,30),"yyyy-MM-dd"),r=Ne(new Date,"yyyy-MM-dd"),{data:n,error:a}=await X.from("tasks").select("due_date, progress_percentage").eq("user_id",e.id).gte("due_date",t).lte("due_date",r);if(a)throw a;const i={};(n||[]).forEach(g=>{g.due_date&&(i[g.due_date]||(i[g.due_date]={total:0,completed:0}),i[g.due_date].total++,g.progress_percentage===100&&i[g.due_date].completed++)});const l=Object.entries(i).map(([g,x])=>({date:g,completionPercent:x.total>0?x.completed/x.total*100:0})).sort((g,x)=>g.date.localeCompare(x.date));let u=0;for(let g=0;g<30;g++){const x=Ne(pg(new Date,g),"yyyy-MM-dd"),v=l.find(j=>j.date===x);if(v&&v.completionPercent>=80)u++;else break}let d=0,f=0;l.forEach(g=>{g.completionPercent>=80?(f++,d=Math.max(d,f)):f=0});const m=u>0;return{currentStreak:u,longestStreak:Math.max(d,u),streakActive:m,last30Days:l}},staleTime:300*1e3})}const Mbe=e=>e<33?"#ef4444":e<67?"#eab308":"#10b981",Pbe=({progress:e,size:t=200,strokeWidth:r=12,children:n,className:a=""})=>{const i=(t-r)/2,l=i*2*Math.PI,u=l-e/100*l,d=Mbe(e);return s.jsxs("div",{className:`relative ${a}`,style:{width:t,height:t},children:[s.jsxs("svg",{width:t,height:t,className:"transform -rotate-90","aria-label":`${e.toFixed(1)}% complete`,children:[s.jsx("circle",{cx:t/2,cy:t/2,r:i,stroke:"#374151",strokeWidth:r,fill:"none"}),s.jsx("circle",{cx:t/2,cy:t/2,r:i,stroke:d,strokeWidth:r,fill:"none",strokeDasharray:l,strokeDashoffset:u,strokeLinecap:"round",className:"transition-all duration-300 ease-out"})]}),n&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n})]})},Rbe=e=>e===null?"No tasks planned today":e===0?"Let's get started!":e<34?"Good start, keep going!":e<67?"Good progress, keep going!":e<100?"Almost there!":"All done! Great work!",Ibe=({date:e=new Date,className:t=""})=>{const{data:r,isLoading:n}=WS(e),{data:a,isLoading:i}=Dbe();if(n)return s.jsx("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${t}`,children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"w-48 h-48 bg-gray-700 rounded-full"})})})});const l=r?.dailyProgress??0,u=!i&&a&&a.streakActive&&a.currentStreak>0;return s.jsx("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${t}`,children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Pbe,{progress:l,children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-4xl font-bold text-white",children:[l.toFixed(0),"%"]}),r&&r.totalCount>0&&s.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[r.completedCount," of ",r.totalCount]})]})})}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("div",{className:"text-sm text-gray-400 uppercase mb-1",children:Ne(e,"EEEE, MMMM d, yyyy")}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Daily Progress"}),s.jsx("p",{className:`text-lg mb-4 ${l===null||l===0?"text-gray-400":l<33?"text-red-400":l<67?"text-yellow-400":(l<100,"text-green-400")}`,children:Rbe(l)}),u&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-950/30 border border-orange-500 rounded-lg",children:[s.jsx(bj,{className:"text-orange-500",size:20}),s.jsxs("span",{className:"text-orange-300 font-semibold",children:[a.currentStreak,"-day streak!"]}),a.currentStreak===a.longestStreak&&a.longestStreak>1&&s.jsx("span",{className:"text-xs text-orange-400 ml-2",children:"(Personal best!)"})]}),r?.totalCount===0&&s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"No tasks scheduled for today. Take a break or add some tasks!"})]})]})})},Lbe=({date:e=new Date,onTaskClick:t,className:r=""})=>{const n=Ne(e,"yyyy-MM-dd"),{data:a,isLoading:i}=WS(e),{data:l=[],isLoading:u}=Fl(),d=l.filter(w=>w.due_date===n),f=kf(),m=d.filter(w=>{if(!w.due_date||w.progress_percentage>=100)return!1;const b=it(w.due_date);return b?new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0).getTime()<f.getTime():!1});if(i||u)return s.jsx("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${r}`,children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-full mb-2"}),s.jsx("div",{className:"h-2 bg-gray-700 rounded w-full"})]})});const x=a?.dailyProgress??0,v=a?.completedCount??0,j=a?.totalCount??0;return s.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${r}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Due Today"}),j>0?s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:[v," of ",j," tasks complete"]}),s.jsxs("span",{className:`text-sm font-semibold ${x<33?"text-red-400":x<67?"text-yellow-400":"text-green-400"}`,children:[x.toFixed(0),"%"]})]}),s.jsx(tf,{progress:x,size:"sm",showLabel:!1})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"No tasks due today"})]}),d.length>0&&s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:d.map(w=>{const b=m.some(k=>k.id===w.id),S=w.progress_percentage===100;return s.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border transition-colors ${b?"border-red-500 bg-red-950/20 hover:bg-red-950/30":"border-gray-700 bg-gray-900 hover:bg-gray-850"} ${t?"cursor-pointer":""}`,onClick:()=>t?.(w.id),children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:S?s.jsx(Qc,{className:"text-green-500",size:20}):s.jsx(mg,{className:"text-gray-500",size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("span",{className:`font-medium ${S?"line-through text-gray-500":"text-white"}`,children:w.task_name}),b&&s.jsx(bo,{className:"text-red-500 flex-shrink-0",size:16})]}),w.area&&s.jsx("span",{className:"text-xs text-gray-500",children:w.area}),w.progress_percentage>0&&w.progress_percentage<100&&s.jsx("div",{className:"mt-1",children:s.jsx(tf,{progress:w.progress_percentage,size:"sm",showLabel:!1})})]})]},w.id)})})]})},$be=e=>({"Full Stack":"#3b82f6",S4:"#06b6d4",808:"#f97316","Huge Capital":"#10b981",Personal:"#ec4899",Golf:"#f59e0b",Health:"#14b8a6"})[e]||"#6b7280",Bbe=({date:e=new Date,className:t=""})=>{const r=Ne(e,"yyyy-MM-dd"),n=Mn(e).toISOString(),a=Ap(e).toISOString(),{data:i=[],isLoading:l}=Be({queryKey:["deep-work","daily-allocation",r],queryFn:async()=>{const{data:{user:m}}=await X.auth.getUser();if(!m)throw new Error("Not authenticated");const{data:g,error:x}=await X.from("deep_work_log").select("area, duration_minutes").eq("user_id",m.id).gte("start_time",n).lte("start_time",a).not("end_time","is",null);if(x)throw x;return g||[]},staleTime:6e4}),u=y.useMemo(()=>{if(i.length===0)return[];const m={};i.forEach(x=>{const v=x.area||"Uncategorized";m[v]=(m[v]||0)+(x.duration_minutes||0)});const g=Object.values(m).reduce((x,v)=>x+v,0);return Object.entries(m).map(([x,v])=>({area:x,minutes:v,hours:v/60,percentage:g>0?v/g*100:0,color:$be(x)})).sort((x,v)=>v.minutes-x.minutes)},[i]);if(l)return s.jsx("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${t}`,children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded w-full"})]})});const d=u.length>0,f=u.reduce((m,g)=>m+g.hours,0);return s.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 border border-gray-700 ${t}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Time Allocation"}),d&&s.jsxs("p",{className:"text-sm text-gray-400",children:["Total: ",f.toFixed(1)," hours today"]})]}),!d&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No time logged yet today"})}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-full h-8 bg-gray-900 rounded-lg overflow-hidden flex",children:u.map(m=>s.jsx("div",{className:"h-full transition-all duration-300 hover:opacity-80 cursor-pointer group relative",style:{width:`${m.percentage}%`,backgroundColor:m.color},title:`${m.area}: ${m.hours.toFixed(1)}h (${m.percentage.toFixed(0)}%)`,children:s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:s.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap border border-gray-700",children:[m.area,": ",m.hours.toFixed(1),"h"]})})},m.area))}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:u.map(m=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:m.color}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-white truncate",children:m.area}),s.jsxs("div",{className:"text-xs text-gray-400",children:[m.hours.toFixed(1),"h  ",m.percentage.toFixed(0),"%"]})]})]},m.area))})]})]})};function n7(e=new Date){const t=Ne(e,"yyyy-MM-dd"),r=Mn(e).toISOString(),n=Ap(e).toISOString(),{data:a,isLoading:i,error:l}=Be({queryKey:["deep-work","daily",t],queryFn:async()=>{const{data:{user:f}}=await X.auth.getUser();if(!f)throw new Error("Not authenticated");const{data:m,error:g}=await X.from("deep_work_log").select("duration_minutes, start_time, end_time").eq("user_id",f.id).gte("start_time",r).lte("start_time",n).not("end_time","is",null);if(g)throw g;return m||[]},staleTime:6e4}),{data:u}=Be({queryKey:["user-settings","deep-work-goal"],queryFn:async()=>{const{data:{user:f}}=await X.auth.getUser();if(!f)return null;const{data:m,error:g}=await X.from("user_preferences").select("daily_deep_work_goal_hours").eq("user_id",f.id).maybeSingle();return g?(console.debug("user_preferences table not found, using default 6h goal"),null):m},staleTime:300*1e3,retry:!1,retryOnMount:!1});return{data:y.useMemo(()=>{const f=(a||[]).reduce((v,j)=>v+(j.duration_minutes||0),0),m=f/60,g=u?.daily_deep_work_goal_hours||6,x=g>0?m/g*100:0;return{hoursWorked:Math.round(m*10)/10,hoursGoal:g,deepWorkProgress:Math.min(100,Math.round(x*10)/10),minutesWorked:f}},[a,u]),isLoading:i,error:l}}const iP=()=>new Date().getHours()>=18,zbe=({date:e=new Date,onPlanTomorrow:t,className:r=""})=>{const[n,a]=y.useState(!1),[i,l]=y.useState("");y.useEffect(()=>{a(iP());const w=setInterval(()=>{a(iP())},6e4);return()=>clearInterval(w)},[]);const u=Ne(e,"yyyy-MM-dd"),{data:d}=WS(e),{data:f}=n7(e),{data:m=[]}=Be({queryKey:["businesses-worked",u],queryFn:async()=>{const{data:{user:w}}=await X.auth.getUser();if(!w)throw new Error("Not authenticated");const b=new Date(e);b.setHours(0,0,0,0);const S=new Date(e);S.setHours(23,59,59,999);const{data:k,error:C}=await X.from("deep_work_log").select("area").eq("user_id",w.id).gte("start_time",b.toISOString()).lte("start_time",S.toISOString()).not("end_time","is",null);if(C)throw C;return Array.from(new Set((k||[]).map(O=>O.area).filter(Boolean)))},enabled:n,staleTime:300*1e3});if(!n)return null;const g=d?.completedCount??0,x=d?.totalCount??0,v=f?.hoursWorked??0,j=d?.dailyProgress??0;return s.jsxs("div",{className:`bg-gradient-to-br from-blue-950/30 to-purple-950/30 rounded-lg p-6 border-2 border-blue-500/50 ${r}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Day Complete"}),s.jsx("p",{className:"text-sm text-gray-400",children:Ne(e,"EEEE, MMMM d, yyyy")})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase mb-1",children:"Tasks"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[g,s.jsxs("span",{className:"text-gray-500 text-lg",children:["/",x]})]}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[j.toFixed(0),"% complete"]})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase mb-1",children:"Deep Work"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[v.toFixed(1),"h"]}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"logged today"})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 col-span-2",children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase mb-1",children:"Areas Worked On"}),m.length>0?s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:m.map(w=>s.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full border border-blue-500/30",children:w},w))}):s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"No work logged"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"What went well today? (Optional)"}),s.jsx("textarea",{value:i,onChange:w=>l(w.target.value),placeholder:"Reflect on your accomplishments, challenges, or learnings...",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Daily reflections help track patterns and improve over time"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:t,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[s.jsx($r,{size:18}),"Plan Tomorrow",s.jsx(Fs,{size:18})]}),i.trim()&&s.jsx("button",{onClick:()=>{console.log("Saving reflection:",i),l("")},className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:"Save Reflection"})]})]})},Fbe=()=>{const[e,t]=y.useState(Mn(new Date)),{data:r}=n7(e),n=()=>{t(u=>{const d=new Date(u);return d.setDate(d.getDate()-1),Mn(d)})},a=()=>{t(u=>{const d=new Date(u);return d.setDate(d.getDate()+1),Mn(d)})},i=()=>{t(Mn(new Date))},l=()=>{t(Mn(Ls(new Date,1)))};return s.jsxs("div",{className:"min-h-screen bg-gray-950 text-gray-100 p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx($r,{className:"w-8 h-8 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Daily Time Tracker"}),s.jsx("p",{className:"text-gray-400",children:Ne(e,"EEEE, MMMM d, yyyy")})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:n,className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(Np,{className:"w-5 h-5 text-gray-300"})}),s.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Today"}),s.jsx("button",{onClick:a,className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(Fs,{className:"w-5 h-5 text-gray-300"})})]})]})}),s.jsx("div",{className:"mb-6",children:s.jsx(Ibe,{date:e})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsx(Lbe,{date:e}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Deep Work Progress"}),r&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:[r.hoursWorked.toFixed(1),"h of ",r.hoursGoal.toFixed(1),"h goal"]}),s.jsxs("span",{className:`text-sm font-semibold ${r.deepWorkProgress<33?"text-red-400":r.deepWorkProgress<67?"text-yellow-400":"text-green-400"}`,children:[r.deepWorkProgress.toFixed(0),"%"]})]}),s.jsx(tf,{progress:r.deepWorkProgress,size:"md",showLabel:!1}),s.jsx("div",{className:"mt-4 text-sm text-gray-500",children:r.deepWorkProgress>=100?s.jsx("p",{className:"text-green-400",children:" Goal achieved! Great work!"}):r.deepWorkProgress>=80?s.jsx("p",{className:"text-yellow-400",children:"Almost there! Keep going!"}):s.jsxs("p",{children:[(r.hoursGoal-r.hoursWorked).toFixed(1),"h remaining to reach goal"]})})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(Bbe,{date:e})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsx(kbe,{selectedDate:e}),s.jsx(Obe,{selectedDate:e})]}),s.jsx(zbe,{date:e,onPlanTomorrow:l})]})},Ube=e=>Be({queryKey:["session-analytics",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("get_session_analytics",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r},staleTime:300*1e3}),qbe=e=>Be({queryKey:["focus-quality",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("calculate_focus_quality_score",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r}}),Hbe=e=>Be({queryKey:["completion-rate",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("calculate_completion_rate",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r}}),Wbe=e=>Be({queryKey:["interruption-analysis",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("analyze_interruptions",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r}}),Ybe=(e,t)=>Be({queryKey:["optimal-session-length",e,t],queryFn:async()=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.rpc("analyze_optimal_session_length",{p_user_id:r.id,p_area:null,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(a)throw a;return n||[]}}),Kbe=()=>Be({queryKey:["deep-work-streak"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.rpc("calculate_deep_work_streak",{p_user_id:e.id});if(r)throw r;return t},staleTime:3600*1e3}),Vbe=()=>Be({queryKey:["productivity-recommendations"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.rpc("generate_productivity_recommendations",{p_user_id:e.id});if(r)throw r;return t||[]},staleTime:1440*60*1e3}),Gbe=e=>Be({queryKey:["context-switching-cost",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("calculate_context_switching_cost",{p_user_id:t.id,p_start_date:Ne(e.start,"yyyy-MM-dd"),p_end_date:Ne(e.end,"yyyy-MM-dd")});if(n)throw n;return r}}),Qbe=()=>{const[e,t]=y.useState({start:Er(new Date,{weekStartsOn:1}),end:xo(new Date,{weekStartsOn:1})}),{data:r,isLoading:n}=Ube(e),{data:a}=qbe(e),{data:i}=Hbe(e),{data:l}=Wbe(e),{data:u}=Ybe(e),{data:d}=Kbe(),{data:f}=Vbe(),{data:m}=Gbe(e),g=j=>{const w=new Date;switch(j){case"this-week":t({start:Er(w,{weekStartsOn:1}),end:xo(w,{weekStartsOn:1})});break;case"last-week":const b=pg(w,7);t({start:Er(b,{weekStartsOn:1}),end:xo(b,{weekStartsOn:1})});break;case"last-30-days":t({start:pg(w,30),end:w});break}},x=j=>j?j>=80?"text-green-400":j>=60?"text-blue-400":j>=40?"text-yellow-400":"text-red-400":"text-gray-400",v=j=>j?j>=80?"Excellent":j>=60?"Good":j>=40?"Fair":"Needs Improvement":"No Data";return s.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(wj,{className:"w-8 h-8 text-orange-400"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Deep Work Insights"})]}),s.jsx("p",{className:"text-gray-400",children:"Analyze your session patterns and optimize focus time"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>g("this-week"),className:"px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 border border-gray-700",children:"This Week"}),s.jsx("button",{onClick:()=>g("last-week"),className:"px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 border border-gray-700",children:"Last Week"}),s.jsx("button",{onClick:()=>g("last-30-days"),className:"px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 border border-gray-700",children:"Last 30 Days"})]})]}),s.jsxs("div",{className:"text-sm text-gray-400 mt-2",children:[Ne(e.start,"MMM d")," - ",Ne(e.end,"MMM d, yyyy")]})]}),s.jsxs("div",{className:"mb-6 bg-gradient-to-r from-orange-900/30 to-red-900/30 rounded-lg p-6 border border-orange-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(bj,{className:"w-16 h-16 text-orange-400"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-6xl font-bold text-orange-400",children:[d||0," ",d===1?"day":"days"]}),s.jsx("div",{className:"text-gray-300 mt-1 text-lg",children:"Deep Work Streak"})]})]}),d&&d>=7&&s.jsx("div",{className:"text-8xl animate-bounce",children:""})]}),d!==void 0&&s.jsxs("div",{className:"mt-4",children:[d<7&&s.jsxs("div",{className:"text-gray-300",children:["Keep going! ",7-d," more ",7-d===1?"day":"days"," to reach 7-day milestone"]}),d>=7&&d<30&&s.jsxs("div",{className:"text-gray-300",children:["Amazing! ",30-d," more ",30-d===1?"day":"days"," to reach 30-day milestone"]}),d>=30&&s.jsx("div",{className:"text-gray-300",children:"Incredible consistency! You're in the top tier of deep work practitioners."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(kl,{className:"w-5 h-5 text-orange-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Focus Quality"})]}),n?s.jsx("div",{className:"animate-pulse h-20 bg-gray-700 rounded"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`text-5xl font-bold ${x(a)} mb-2`,children:[a||0,"%"]}),s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:v(a)}),s.jsx("div",{className:"text-xs text-gray-500",children:"Planned vs. reactive sessions"})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ea,{className:"w-5 h-5 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Goal Achievement"})]}),n?s.jsx("div",{className:"animate-pulse h-20 bg-gray-700 rounded"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`text-5xl font-bold ${x(i)} mb-2`,children:i!=null?`${i}%`:"N/A"}),s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:i!=null?v(i):"Track goals to see rate"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Sessions with goals achieved"})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(bo,{className:"w-5 h-5 text-yellow-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Interruptions"})]}),n?s.jsx("div",{className:"animate-pulse h-20 bg-gray-700 rounded"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`text-5xl font-bold ${l?.interruption_rate?l.interruption_rate<10?"text-green-400":l.interruption_rate<25?"text-yellow-400":"text-red-400":"text-gray-400"} mb-2`,children:[l?.interruption_rate||0,"%"]}),s.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:[l?.interrupted_sessions||0,"/",l?.total_sessions||0," sessions"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Interrupted before completion"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ta,{className:"w-5 h-5 text-orange-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Session Analytics"})]}),n?s.jsx("div",{className:"animate-pulse h-40 bg-gray-700 rounded"}):r?s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Sessions"}),s.jsx("div",{className:"text-2xl font-bold text-gray-100",children:r.total_sessions})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Avg Length"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-100",children:[r.avg_session_length_minutes," min"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Hours"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-100",children:[r.total_deep_work_hours,"h"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Sessions/Day"}),s.jsx("div",{className:"text-2xl font-bold text-gray-100",children:r.avg_sessions_per_day})]})]}):s.jsx("div",{className:"text-gray-400 text-center py-8",children:"No session data available"})]}),u&&u.length>0&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(_4,{className:"w-5 h-5 text-orange-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Optimal Session Length"})]}),s.jsx(d0,{width:"100%",height:300,children:s.jsxs(RS,{data:u,children:[s.jsx(Kf,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Vf,{dataKey:"duration_bucket",stroke:"#9CA3AF"}),s.jsx(Gf,{stroke:"#9CA3AF",label:{value:"Completion Rate %",angle:-90,position:"insideLeft",fill:"#9CA3AF"}}),s.jsx(L0,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"},labelStyle:{color:"#F3F4F6"}}),s.jsx(Rf,{}),s.jsx(gf,{dataKey:"avg_completion_rate",name:"Completion Rate %",fill:"#F97316"})]})}),u.length>0&&s.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[s.jsx("strong",{children:"Your sweet spot:"})," ",u.reduce((j,w)=>(w.avg_completion_rate||0)>(j.avg_completion_rate||0)?w:j).duration_bucket," sessions have the highest completion rate"]})]}),f&&f.length>0&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ea,{className:"w-5 h-5 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Productivity Recommendations"})]}),s.jsx("div",{className:"space-y-3",children:f.map((j,w)=>s.jsxs("div",{className:"border-l-4 border-orange-500 pl-4 py-2 bg-gray-700/50 rounded-r-lg",children:[s.jsx("div",{className:"font-medium text-gray-100",children:j.message}),j.completion_rate&&s.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:["Completion rate: ",j.completion_rate,"%"]})]},w))})]}),m&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(bo,{className:"w-5 h-5 text-yellow-400"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Context Switching Analysis"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-green-900/20 rounded-lg p-4 border border-green-700/50",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Focused Days (1 area)"}),s.jsxs("div",{className:"text-3xl font-bold text-green-400 mb-2",children:[m.focused_days.count," days"]}),s.jsxs("div",{className:"text-sm text-gray-300",children:["Avg: ",m.focused_days.avg_hours,"h, ",m.focused_days.avg_completion_rate,"% completion"]})]}),s.jsxs("div",{className:"bg-red-900/20 rounded-lg p-4 border border-red-700/50",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Fragmented Days (3+ areas)"}),s.jsxs("div",{className:"text-3xl font-bold text-red-400 mb-2",children:[m.fragmented_days.count," days"]}),s.jsxs("div",{className:"text-sm text-gray-300",children:["Avg: ",m.fragmented_days.avg_hours,"h, ",m.fragmented_days.avg_completion_rate,"% completion"]})]})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[s.jsx("strong",{children:"Estimated time lost to context switching:"})," ",Math.round(m.total_switching_cost_minutes/60)," hours (",m.total_switching_cost_minutes," minutes)"]})]})]})},Xbe=e=>{const{progressPercentage:t,overdueTasks:r,lastUpdated:n}=e,a=n?Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)):999;return t<20||r>3||a>7?"critical":t>=20&&t<40||r>=1&&r<=3||a>=3&&a<=7?"warning":"normal"},Zbe=e=>e==="critical"||e==="warning",a7=()=>Be({queryKey:["review","dashboard"],queryFn:async()=>{const{data:{user:e},error:t}=await X.auth.getUser();if(t)throw new Error("Authentication failed");if(!e)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("get_review_dashboard_summary",{p_user_id:e.id});if(n)throw console.error("Review dashboard query error:",n),n;console.log("Raw review dashboard data:",r);const a={"Full Stack":"BIZNESS",S4:"BIZNESS",808:"BIZNESS","Huge Capital":"BIZNESS",Personal:"DAILY",Golf:"GOLF",Health:"HEALTH"},i={DAILY:[],BIZNESS:[],CONTENT:[],HEALTH:[],FINANCES:[],LIFE:[],GOLF:[]};(r||[]).forEach(u=>{const d=a[u.area];d&&i[d]&&i[d].push(u)});const l=Object.entries(i).map(([u,d])=>{if(d.length===0)return{area:u,totalTasks:0,completedTasks:0,activeTasks:0,overdueTasks:0,progressPercentage:0,lastUpdated:null,lastUpdatedFormatted:"Never",hoursThisWeek:0,needsAttention:!1,priorityLevel:"normal"};const f=d.reduce((S,k)=>S+k.total_tasks,0),m=d.reduce((S,k)=>S+k.completed_tasks,0),g=d.reduce((S,k)=>S+k.active_tasks,0),x=d.reduce((S,k)=>S+k.overdue_tasks,0),v=d.reduce((S,k)=>S+(k.hours_this_week||0),0),j=f>0?Math.round(m/f*100):0,w=d.map(S=>S.last_updated?new Date(S.last_updated):null).filter(S=>S!==null).sort((S,k)=>k.getTime()-S.getTime())[0]||null,b=Xbe({progressPercentage:j,overdueTasks:x,lastUpdated:w});return{area:u,totalTasks:f,completedTasks:m,activeTasks:g,overdueTasks:x,progressPercentage:j,lastUpdated:w,lastUpdatedFormatted:w?Ej(w,{addSuffix:!0}):"Never",hoursThisWeek:Math.round(v*10)/10,needsAttention:Zbe(b),priorityLevel:b}});return console.log("Enriched areas:",l),l.sort((u,d)=>{const f={critical:0,warning:1,normal:2};return f[u.priorityLevel]-f[d.priorityLevel]})},staleTime:6e4,gcTime:3e5,refetchInterval:12e4,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:2,retryDelay:1e3}),Jbe=()=>{const{data:e}=a7();if(!e||e.length===0)return{totalCritical:0,totalWarning:0,hasAttentionNeeded:!1,allClear:!0};const t=e.filter(i=>i.priorityLevel==="critical").length,r=e.filter(i=>i.priorityLevel==="warning").length,n=e.some(i=>i.needsAttention);return{totalCritical:t,totalWarning:r,hasAttentionNeeded:n,allClear:!n}},ewe=(e,t)=>Be({queryKey:["goals",e,t],queryFn:async()=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");let n=X.from("goals").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});e&&(n=n.eq("area",e)),n=n.eq("status",t);const{data:a,error:i}=await n;if(i)throw i;return a}}),twe=e=>Be({queryKey:["goal_targets",e],queryFn:async()=>{if(!e)throw new Error("Goal ID required");const{data:t,error:r}=await X.from("goal_targets").select("*").eq("goal_id",e).order("created_at",{ascending:!0});if(r)throw r;return t},enabled:!!e}),rwe=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.from("goals").insert({...t,user_id:r.id}).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]})}})},nwe=()=>{const e=mt();return wt({mutationFn:async({id:t,...r})=>{const{data:n,error:a}=await X.from("goals").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:["goals"]}),e.invalidateQueries({queryKey:["goals",r]})}})},awe=()=>{const e=mt();return wt({mutationFn:async t=>{const{error:r}=await X.from("goals").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]})}})},swe=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:r,error:n}=await X.from("goal_checkins").insert(t).select().single();if(n)throw n;return r},onSuccess:(t,{goal_id:r})=>{e.invalidateQueries({queryKey:["goal_checkins",r]}),e.invalidateQueries({queryKey:["goals",r]}),e.invalidateQueries({queryKey:["pending_checkin",r]})}})},iwe=e=>Be({queryKey:["goal_progress",e?.id],queryFn:async()=>{if(!e)return null;const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");if(e.started_metric_value&&e.check_in_value&&e.primary_metric)try{const g=parseFloat(e.started_metric_value.toString().replace(/[^0-9.-]/g,"")),x=parseFloat(e.check_in_value.toString().replace(/[^0-9.-]/g,"")),v=parseFloat(e.primary_metric.replace(/[^0-9.-]/g,""));if(!isNaN(g)&&!isNaN(x)&&!isNaN(v)){let j=0;if(v<g){const b=g-v,S=g-x;j=b>0?S/b*100:0}else if(v>g){const b=v-g;j=(x-g)/b*100}else j=0;const w=Math.max(0,Math.min(100,j));return{goal_id:e.id,targets_hit:Math.round(x),targets_total:Math.round(v),completion_percentage:Math.round(w)}}}catch(g){console.error("Error calculating metric-based progress:",g)}const{data:r,error:n}=await X.from("goal_targets").select("*").eq("goal_id",e.id);if(n)throw n;if(!r||r.length===0)return{goal_id:e.id,targets_hit:0,targets_total:0,completion_percentage:0};const{data:a,error:i}=await X.from("goal_task_links").select("task_id, target_id, contribution_type").eq("goal_id",e.id);if(i)throw i;if(!a||a.length===0)return{goal_id:e.id,targets_hit:0,targets_total:r.length,completion_percentage:0};const l=a.map(g=>g.task_id),{data:u,error:d}=await X.from("tasks").select("id, status, completed_at").in("id",l);if(d)throw d;if(!u)return{goal_id:e.id,targets_hit:0,targets_total:r.length,completion_percentage:0};const f=u.filter(g=>g.status==="Done").length,m=u.length>0?f/u.length*100:0;return{goal_id:e.id,targets_hit:f,targets_total:u.length,completion_percentage:Math.round(m)}},enabled:!!e,staleTime:5e3}),owe=e=>Be({queryKey:["area_goals_progress",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");let r=X.from("goals").select("id, area").eq("user_id",t.id).eq("status","active");e&&(r=r.eq("area",e));const{data:n,error:a}=await r;if(a)throw a;if(!n||n.length===0)return{total_goals:0,total_progress:0,goals_on_track:0,average_progress:0};let i=0,l=0;for(const d of n){const{data:f}=await X.from("goal_targets").select("id").eq("goal_id",d.id),{data:m}=await X.from("goal_task_links").select("task_id").eq("goal_id",d.id);if(m&&m.length>0){const g=m.map(v=>v.task_id),{data:x}=await X.from("tasks").select("status").in("id",g);if(x){const j=x.filter(w=>w.status==="Done").length/x.length*100;i+=j,j>=75&&l++}}}const u=n.length>0?Math.round(i/n.length):0;return{total_goals:n.length,total_progress:i,goals_on_track:l,average_progress:u}},staleTime:5e3}),lwe=e=>Be({queryKey:["area_vision",e],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t||!e)return null;const{data:r,error:n}=await X.from("area_visions").select("*").eq("user_id",t.id).eq("area",e).single();if(n&&n.code==="PGRST116")return null;if(n)throw n;return r},enabled:!!e}),cwe=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r}}=await X.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:a}=await X.from("area_visions").upsert({user_id:r.id,area:t.area,vision_statement:t.vision_statement}).select().single();if(a)throw a;return n},onSuccess:(t,{area:r})=>{e.invalidateQueries({queryKey:["area_vision",r]}),e.invalidateQueries({queryKey:["area_visions"]})}})},uwe=(e,t=!1)=>t?e<9?0:e<12?15:e<15?35:e<18?55:e<21?75:100:e<6?0:e<9?10:e<12?30:e<13?35:e<15?55:e<18?80:e<21?95:100,dwe=(e,t)=>{const r=e-t;return r>=0?{status:r>=10?"ahead":"on-track",color:"green"}:r>=-20?{status:"behind",color:"yellow"}:{status:"critical",color:"red"}},fwe=(e,t,r)=>{const n=Math.abs(e-t);switch(r){case"ahead":return`${n.toFixed(0)}% ahead of schedule!`;case"on-track":return"On track for the day";case"behind":return`${n.toFixed(0)}% behind schedule`;case"critical":return`${n.toFixed(0)}% behind - needs attention!`}},oP=e=>{const t=new Date,r=t.getHours(),n=t.getDay()===0||t.getDay()===6,a=uwe(r,n),{status:i,color:l}=dwe(e,a),u=fwe(e,a,i);return{actualProgress:e,expectedProgress:a,status:i,color:l,message:u}},hwe=()=>Be({queryKey:["daily","area-summary"],queryFn:async()=>{const{data:{user:e},error:t}=await X.auth.getUser();if(t)throw new Error("Authentication failed");if(!e)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("get_daily_area_summary",{p_user_id:e.id});if(n)throw console.error("Daily area summary query error:",n),n;if(!r||r.length===0)return{tasksDueToday:0,tasksCompletedToday:0,tasksOverdue:0,tasksDueTomorrow:0,dailyCompletionPercentage:0,deepWorkHoursToday:0,deepWorkTargetHours:6,deepWorkProgress:0,lastSessionArea:null,lastSessionDuration:null,lastSessionTimeAgo:null,nextScheduledTask:null,nextScheduledTime:null,nextScheduledTimeFormatted:null,nextScheduledArea:null,progressResult:oP(0)};const a=r[0],i=oP(a.daily_completion_percentage||0),l=a.last_session_start?Ej(new Date(a.last_session_start),{addSuffix:!0}):null,u=a.next_scheduled_time?mwe(a.next_scheduled_time):null,d=a.deep_work_target_hours>0?Math.round(a.deep_work_hours_today/a.deep_work_target_hours*100):0;return{tasksDueToday:a.tasks_due_today,tasksCompletedToday:a.tasks_completed_today,tasksOverdue:a.tasks_overdue,tasksDueTomorrow:a.tasks_due_tomorrow,dailyCompletionPercentage:a.daily_completion_percentage||0,deepWorkHoursToday:a.deep_work_hours_today||0,deepWorkTargetHours:a.deep_work_target_hours||6,deepWorkProgress:d,lastSessionArea:a.last_session_area,lastSessionDuration:a.last_session_duration,lastSessionTimeAgo:l,nextScheduledTask:a.next_scheduled_task,nextScheduledTime:a.next_scheduled_time,nextScheduledTimeFormatted:u,nextScheduledArea:a.next_scheduled_area,progressResult:i}},staleTime:3e4,gcTime:6e4,refetchInterval:6e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),mwe=e=>{const[t,r]=e.split(":").map(Number),n=t>=12?"PM":"AM";return`${t%12||12}:${r.toString().padStart(2,"0")} ${n}`},gwe=({onClick:e})=>{const{data:t,isLoading:r}=hwe();if(r||!t)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-gray-700 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded"}),s.jsx("div",{className:"h-6 w-32 bg-gray-700 rounded"})]}),s.jsx("div",{className:"h-24 w-24 bg-gray-700 rounded-full mx-auto mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 w-full bg-gray-700 rounded"}),s.jsx("div",{className:"h-4 w-3/4 bg-gray-700 rounded"})]})]});const n={green:"border-green-500",yellow:"border-yellow-500",red:"border-red-500"}[t.progressResult.color],a={green:"bg-green-950/20",yellow:"bg-yellow-950/20",red:"bg-red-950/20"}[t.progressResult.color],i={green:"#22c55e",yellow:"#eab308",red:"#ef4444"}[t.progressResult.color],l=40,u=2*Math.PI*l,d=t.dailyCompletionPercentage,f=u-d/100*u;return s.jsxs("div",{className:`${a} rounded-lg p-6 border-2 ${n}
                  hover:border-blue-500 transition-all duration-300 cursor-pointer
                  transform hover:scale-105 hover:shadow-xl
                  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900`,onClick:e,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),e())},tabIndex:0,role:"button","aria-label":"View Daily details",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($r,{className:"text-blue-500",size:32,strokeWidth:2}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Daily"}),s.jsx("p",{className:"text-xs text-gray-400",children:t.progressResult.message})]})]})}),s.jsx("div",{className:"flex flex-col items-center mb-4",children:s.jsxs("div",{className:"relative w-32 h-32",children:[s.jsxs("svg",{className:"transform -rotate-90 w-32 h-32",children:[s.jsx("circle",{cx:"64",cy:"64",r:l,stroke:"#374151",strokeWidth:"8",fill:"none"}),s.jsx("circle",{cx:"64",cy:"64",r:l,stroke:i,strokeWidth:"8",fill:"none",strokeDasharray:u,strokeDashoffset:f,strokeLinecap:"round",className:"transition-all duration-500"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsxs("span",{className:"text-3xl font-bold text-white",children:[d.toFixed(0),"%"]}),s.jsx("span",{className:"text-xs text-gray-400",children:"complete"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(kl,{size:14,className:"text-blue-400"}),s.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Due Today"})]}),s.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.tasksCompletedToday," / ",t.tasksDueToday]})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(wj,{size:14,className:"text-purple-400"}),s.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Deep Work"})]}),s.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.deepWorkHoursToday.toFixed(1),"h / ",t.deepWorkTargetHours,"h"]})]})]}),t.tasksOverdue>0&&s.jsxs("div",{className:"mb-3 p-2 bg-red-900/30 border border-red-500 rounded flex items-center gap-2",children:[s.jsx(Xa,{size:16,className:"text-red-400"}),s.jsxs("p",{className:"text-sm text-red-300",children:[t.tasksOverdue," overdue ",t.tasksOverdue===1?"task":"tasks"]})]}),t.lastSessionArea&&t.lastSessionDuration&&s.jsx("div",{className:"mb-3 p-2 bg-purple-950/30 border border-purple-700 rounded",children:s.jsxs("p",{className:"text-xs text-purple-300",children:["Last session: ",t.lastSessionDuration.toFixed(1),"h on ",t.lastSessionArea,t.lastSessionTimeAgo&&` (${t.lastSessionTimeAgo})`]})}),t.nextScheduledTask&&t.nextScheduledTimeFormatted&&s.jsxs("div",{className:"mb-3 p-2 bg-blue-950/30 border border-blue-700 rounded flex items-center gap-2",children:[s.jsx(ta,{size:14,className:"text-blue-400"}),s.jsxs("p",{className:"text-xs text-blue-300",children:["Next: ",t.nextScheduledTask," at ",t.nextScheduledTimeFormatted]})]}),t.tasksDueTomorrow>0&&s.jsxs("div",{className:"mb-3 text-xs text-gray-400",children:[" ",t.tasksDueTomorrow," ",t.tasksDueTomorrow===1?"task":"tasks"," due tomorrow"]}),s.jsx("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3",children:s.jsxs("div",{className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"text-xs font-medium",children:"Plan Today"}),s.jsx(Fs,{size:16,className:"ml-1"})]})})]})},pwe=()=>Be({queryKey:["business","area-summary"],queryFn:async()=>{const{data:{user:e},error:t}=await X.auth.getUser();if(t)throw new Error("Authentication failed");if(!e)throw new Error("Not authenticated");const{data:r,error:n}=await X.rpc("get_business_area_summary",{p_user_id:e.id});if(n)throw console.error("Business area summary query error:",n),n;if(!r||r.length===0)return{totalTasks:0,completedTasks:0,activeTasks:0,overallCompletionPercentage:0,hoursThisWeek:0,overdueTasks:0};const a=r[0];return{totalTasks:a.total_tasks,completedTasks:a.completed_tasks,activeTasks:a.active_tasks,overallCompletionPercentage:a.overall_completion_percentage||0,hoursThisWeek:a.hours_this_week||0,overdueTasks:a.overdue_tasks}},staleTime:6e4,gcTime:3e5,refetchInterval:12e4,refetchOnWindowFocus:!0}),ywe=({onClick:e})=>{const{data:t,isLoading:r}=pwe();if(r||!t)return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-gray-700 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded"}),s.jsx("div",{className:"h-6 w-32 bg-gray-700 rounded"})]}),s.jsx("div",{className:"h-20 bg-gray-700 rounded mb-4"})]});const n=t.overdueTasks>0||t.overallCompletionPercentage<40,a=n?"border-yellow-500":"border-purple-700",i=n?"bg-yellow-950/20":"bg-gray-800";return s.jsxs("div",{className:`${i} rounded-lg p-6 border-2 ${a}
                  hover:border-purple-500 transition-all duration-300 cursor-pointer
                  transform hover:scale-105 hover:shadow-xl
                  focus:outline-none focus:ring-2 focus:ring-purple-500`,onClick:e,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),e())},tabIndex:0,role:"button","aria-label":"View Business Projects details",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pj,{className:"text-purple-500",size:32,strokeWidth:2}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Business Projects"}),s.jsx("p",{className:"text-xs text-gray-400",children:"All businesses aggregate"})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-3xl font-bold text-white",children:[t.overallCompletionPercentage.toFixed(0),"%"]}),s.jsxs("span",{className:"text-sm text-gray-400",children:[t.completedTasks," / ",t.totalTasks," tasks"]})]}),s.jsx(tf,{progress:t.overallCompletionPercentage,size:"lg",showLabel:!1})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(kl,{size:14,className:"text-purple-400"}),s.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Active"})]}),s.jsx("p",{className:"text-lg font-semibold text-white",children:t.activeTasks})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ta,{size:14,className:"text-blue-400"}),s.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"This Week"})]}),s.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.hoursThisWeek.toFixed(1),"h"]})]})]}),t.overdueTasks>0&&s.jsxs("div",{className:"mb-3 p-2 bg-red-900/30 border border-red-500 rounded flex items-center gap-2",children:[s.jsx(Xa,{size:16,className:"text-red-400"}),s.jsxs("p",{className:"text-sm text-red-300",children:[t.overdueTasks," overdue ",t.overdueTasks===1?"task":"tasks"]})]}),s.jsx("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3",children:s.jsxs("div",{className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"text-xs font-medium",children:"View All Businesses"}),s.jsx(Fs,{size:16,className:"ml-1"})]})})]})},xwe=()=>Be({queryKey:["finances","area-summary"],queryFn:async()=>{const{data:{user:e}}=await X.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await X.rpc("get_finances_area_summary",{p_user_id:e.id});if(r)throw console.error("Error fetching finances summary:",r),r;if(!t||t.length===0)return{netWorth:0,monthlyRevenue:0,monthlyExpenses:0,monthlyBudget:0,budgetUsagePercentage:0,budgetStatus:"no_budget",budgetStatusColor:"gray",budgetStatusText:"No budget set",transactionsThisWeek:0,portfolioValue:null,portfolioMonthlyReturn:null,topCategories:[],activeGoals:[],unusualSpending:[],hasUnusualSpending:!1,remainingBudget:0};const n=t[0],a={no_budget:"gray",under:"green",approaching:"yellow",caution:"orange",over:"red"},i={no_budget:"No budget set",under:"Under budget",approaching:"Approaching limit",caution:"Budget caution",over:"Over budget!"},l=n.budget_status,u=n.unusual_spending||[];return{netWorth:n.net_worth||0,monthlyRevenue:n.monthly_revenue||0,monthlyExpenses:n.monthly_expenses||0,monthlyBudget:n.monthly_budget||0,budgetUsagePercentage:n.budget_usage_percentage||0,budgetStatus:l,budgetStatusColor:a[l],budgetStatusText:i[l],transactionsThisWeek:n.transactions_this_week||0,portfolioValue:n.portfolio_value,portfolioMonthlyReturn:n.portfolio_monthly_return,topCategories:n.top_categories||[],activeGoals:n.active_goals||[],unusualSpending:u,hasUnusualSpending:u.length>0,remainingBudget:(n.monthly_budget||0)-(n.monthly_expenses||0)}},staleTime:12e4,refetchOnWindowFocus:!0,retry:1,retryDelay:1e3}),lP=()=>s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-yellow-500 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded w-32 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-48"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-20 bg-gray-700 rounded"}),s.jsx("div",{className:"h-16 bg-gray-700 rounded"}),s.jsx("div",{className:"h-12 bg-gray-700 rounded"})]})]}),vwe=({onClick:e})=>{const{data:t,isLoading:r,error:n}=xwe();if(r)return s.jsx(lP,{});if(n&&console.error("FinancesAreaCard error:",n),!t)return s.jsx(lP,{});console.log("Net Worth from API:",t.netWorth);const a={gray:"border-gray-500",green:"border-green-500",yellow:"border-yellow-500",orange:"border-orange-500",red:"border-red-500"}[t.budgetStatusColor],i={gray:"bg-gray-500",green:"bg-green-500",yellow:"bg-yellow-500",orange:"bg-orange-500",red:"bg-red-500"}[t.budgetStatusColor],l=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(m),u=t.portfolioValue!==null&&t.portfolioValue>0,d=t.activeGoals.length>0,f=t.budgetStatus!=="no_budget";return s.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 border-2 ${a}
                  hover:border-yellow-400 transition-all duration-300 cursor-pointer
                  transform hover:scale-[1.02] hover:shadow-xl`,onClick:e,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vj,{className:"text-yellow-500",size:32}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"FINANCES"}),s.jsxs("p",{className:"text-sm text-gray-400",children:[t.transactionsThisWeek," transaction",t.transactionsThisWeek!==1?"s":""," this week"]})]})]}),t.budgetStatus==="over"&&s.jsx(Xa,{className:"text-red-500 animate-pulse",size:24})]}),s.jsxs("div",{className:"mb-4 text-center p-4 bg-gray-900 rounded-lg border border-gray-700",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1 tracking-wide",children:"Net Worth"}),s.jsx("p",{className:"text-3xl font-bold text-white",children:l(t.netWorth)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"p-3 bg-green-950/30 border border-green-500/50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-green-400 uppercase mb-1",children:"Revenue"}),s.jsx("p",{className:"text-lg font-bold text-green-300",children:l(t.monthlyRevenue)})]}),s.jsxs("div",{className:"p-3 bg-red-950/30 border border-red-500/50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-red-400 uppercase mb-1",children:"Expenses"}),s.jsx("p",{className:"text-lg font-bold text-red-300",children:l(t.monthlyExpenses)})]})]}),f?s.jsxs("div",{className:"mb-4 p-3 bg-gray-900 rounded-lg border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-300",children:t.budgetStatusText}),s.jsxs("span",{className:"text-sm font-semibold text-white",children:[t.budgetUsagePercentage.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${i}`,style:{width:`${Math.min(t.budgetUsagePercentage,100)}%`}})}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:t.remainingBudget>=0?s.jsxs(s.Fragment,{children:[l(t.remainingBudget)," remaining"]}):s.jsxs("span",{className:"text-red-400 font-semibold",children:[l(Math.abs(t.remainingBudget))," over budget"]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Budget: ",l(t.monthlyBudget)]})]})]}):s.jsx("div",{className:"mb-4 p-3 bg-gray-900/50 rounded-lg border border-gray-700 text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"No budget configured"})}),u&&s.jsx("div",{className:"mb-4 p-3 bg-gray-900 rounded-lg border border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Portfolio"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:l(t.portfolioValue)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[t.portfolioMonthlyReturn!==null&&t.portfolioMonthlyReturn>0?s.jsx(ea,{className:"text-green-500",size:20}):t.portfolioMonthlyReturn!==null&&t.portfolioMonthlyReturn<0?s.jsx(vf,{className:"text-red-500",size:20}):s.jsx(C4,{className:"text-gray-500",size:20}),s.jsx("span",{className:`text-sm font-bold ${t.portfolioMonthlyReturn!==null&&t.portfolioMonthlyReturn>0?"text-green-400":t.portfolioMonthlyReturn!==null&&t.portfolioMonthlyReturn<0?"text-red-400":"text-gray-400"}`,children:t.portfolioMonthlyReturn!==null?s.jsxs(s.Fragment,{children:[t.portfolioMonthlyReturn>0?"+":"",t.portfolioMonthlyReturn.toFixed(1),"%"]}):"0.0%"})]})]})}),t.topCategories.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2 font-semibold",children:"Top Spending"}),s.jsx("div",{className:"space-y-2",children:t.topCategories.slice(0,3).map((m,g)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:m.category}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-medium",children:l(m.amount)}),s.jsxs("span",{className:"text-gray-500 text-xs",children:["(",m.percentage,"%)"]})]})]},g))})]}),d&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2 font-semibold",children:"Active Goals"}),s.jsx("div",{className:"space-y-2",children:t.activeGoals.slice(0,2).map((m,g)=>s.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-gray-400 font-medium",children:m.name}),s.jsxs("span",{className:"text-white font-semibold",children:[m.progress.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5 overflow-hidden",children:s.jsx("div",{className:"h-1.5 rounded-full bg-green-500 transition-all duration-500",style:{width:`${Math.min(m.progress,100)}%`}})}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[s.jsxs("span",{className:"text-gray-600",children:[l(m.current)," / ",l(m.target)]}),m.deadline&&s.jsx("span",{className:"text-gray-600",children:new Date(m.deadline).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})]},g))})]}),t.hasUnusualSpending&&s.jsxs("div",{className:"mb-4 p-3 bg-orange-950/30 border border-orange-500 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xa,{className:"text-orange-500",size:16}),s.jsx("p",{className:"text-xs text-orange-400 uppercase font-semibold",children:"Unusual Spending"})]}),t.unusualSpending.slice(0,2).map((m,g)=>s.jsxs("p",{className:"text-sm text-orange-300 mb-1",children:[m.category,": ",l(m.current),s.jsxs("span",{className:"text-orange-500 font-semibold ml-1",children:["(+",m.increase_percentage,"%)"]})]},g))]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3 mt-2",children:[s.jsx("button",{className:`px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg
                     text-sm font-semibold transition-colors shadow-md hover:shadow-lg`,onClick:m=>{m.stopPropagation(),e?.()},children:"Review Transactions"}),s.jsxs("div",{className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"text-sm",children:"View Details"}),s.jsx(Fs,{size:16,className:"ml-1"})]})]})]})},bwe=()=>s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-10 w-80 bg-gray-700 rounded-lg animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-64 bg-gray-700 rounded animate-pulse"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-4 w-32 bg-gray-700 rounded animate-pulse"}),s.jsx("div",{className:"h-10 w-10 bg-gray-700 rounded-lg animate-pulse"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(7)].map((e,t)=>s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-gray-700 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded"}),s.jsx("div",{className:"h-6 w-32 bg-gray-700 rounded"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"h-8 w-16 bg-gray-700 rounded"}),s.jsx("div",{className:"h-4 w-20 bg-gray-700 rounded"})]}),s.jsx("div",{className:"w-full h-3 bg-gray-700 rounded-full"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-3 w-20 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-6 w-12 bg-gray-700 rounded"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"h-3 w-24 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-6 w-16 bg-gray-700 rounded"})]})]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3",children:[s.jsx("div",{className:"h-3 w-24 bg-gray-700 rounded"}),s.jsx("div",{className:"h-3 w-20 bg-gray-700 rounded"})]})]},t))})]}),wwe=({title:e,icon:t,color:r,message:n,onClick:a})=>s.jsxs("div",{className:`bg-gray-800 rounded-lg p-6 border-2 border-${r}-700
                  hover:border-${r}-500 transition-all duration-300 cursor-pointer
                  transform hover:scale-105 hover:shadow-xl opacity-70
                  focus:outline-none focus:ring-2 focus:ring-${r}-500`,onClick:a,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),a())},tabIndex:0,role:"button","aria-label":`View ${e} details`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(t,{className:`text-${r}-500`,size:32,strokeWidth:2}),s.jsx("div",{children:s.jsx("h3",{className:"text-xl font-bold text-white",children:e})})]}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:n}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Coming soon"})]}),s.jsx("div",{className:"flex items-center justify-between border-t border-gray-700 pt-3",children:s.jsxs("div",{className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"text-xs font-medium",children:"View Details"}),s.jsx(Fs,{size:16,className:"ml-1"})]})})]}),jwe=[{area:"DAILY",icon:$r,color:"blue",route:"/daily",displayName:"Daily"},{area:"BIZNESS",icon:pj,color:"purple",route:"/business",displayName:"Business Projects"},{area:"CONTENT",icon:kH,color:"red",route:"/content",displayName:"Content Library"},{area:"HEALTH",icon:$9,color:"green",route:"/health",displayName:"Health Focus"},{area:"FINANCES",icon:vj,color:"yellow",route:"/finances",displayName:"Finances"},{area:"LIFE",icon:F9,color:"pink",route:"/life",displayName:"Life"},{area:"GOLF",icon:A9,color:"orange",route:"/golf",displayName:"Golf"}],_we={Health:{name:"Health",color:"emerald",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30",textColor:"text-emerald-400",hoverBg:"hover:bg-emerald-500/20"},Relationships:{name:"Relationships",color:"pink",bgColor:"bg-pink-500/10",borderColor:"border-pink-500/30",textColor:"text-pink-400",hoverBg:"hover:bg-pink-500/20"},Finance:{name:"Finance",color:"amber",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",textColor:"text-amber-400",hoverBg:"hover:bg-amber-500/20"},"Full Stack":{name:"Full Stack",color:"purple",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/30",textColor:"text-purple-400",hoverBg:"hover:bg-purple-500/20"},"Huge Capital":{name:"Huge Capital",color:"violet",bgColor:"bg-violet-500/10",borderColor:"border-violet-500/30",textColor:"text-violet-400",hoverBg:"hover:bg-violet-500/20"},S4:{name:"S4",color:"cyan",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30",textColor:"text-cyan-400",hoverBg:"hover:bg-cyan-500/20"}},Swe=e=>_we[e],cP=({progress:e,showPercentage:t=!0,size:r="md"})=>{const n=Math.min(Math.max(e,0),100),a=l=>l>=75?"bg-green-500":l>=50?"bg-yellow-500":l>=25?"bg-orange-500":"bg-red-500",i={sm:"h-1",md:"h-2",lg:"h-3"}[r];return s.jsxs("div",{children:[s.jsx("div",{className:`w-full bg-gray-700 rounded-full overflow-hidden ${i}`,children:s.jsx("div",{className:`${a(n)} ${i} rounded-full transition-all duration-300`,style:{width:`${n}%`}})}),t&&s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Math.round(n),"% complete"]})]})};function Nwe(e=new Date){const t=new Date(e),r=t.getDay(),n=t.getDate()-r;return new Date(t.setDate(n)).toISOString().split("T")[0]}const kwe=(e=!0)=>Be({queryKey:["goals_needing_checkin"],queryFn:async()=>{const{data:{user:t}}=await X.auth.getUser();if(!t)throw new Error("Not authenticated");const r=new Date;if(!(r.getDay()===0))return{isCheckInDay:!1,goals:[]};const a=Nwe(r),{data:i,error:l}=await X.from("goals").select("*").eq("user_id",t.id).eq("status","active");if(l)throw l;if(!i)return{isCheckInDay:!0,goals:[]};const u=[];for(const d of i){const{data:f}=await X.from("goal_checkins").select("id").eq("goal_id",d.id).eq("checkin_date",a).single();f||u.push(d)}return{isCheckInDay:!0,goals:u,sundayDate:a}},enabled:e,staleTime:6e4}),Cwe=(e,t,r)=>Be({queryKey:["monthly_checkin_summary",e,t,r],queryFn:async()=>{if(!e)throw new Error("Goal ID required");const n=new Date,a=t||n.getFullYear(),i=r!==void 0?r:n.getMonth(),l=new Date(a,i,1).toISOString().split("T")[0],u=new Date(a,i+1,0).toISOString().split("T")[0],{data:d,error:f}=await X.from("goal_checkins").select("*").eq("goal_id",e).gte("checkin_date",l).lte("checkin_date",u).order("checkin_date",{ascending:!0});if(f)throw f;if(!d||d.length===0)return{checkIns:[],averageProgress:0,totalCheckIns:0,bestWeek:null,trend:"stable"};const m=d.reduce((k,C)=>k+(C.overall_percentage||0),0),g=Math.round(m/d.length),x=d.reduce((k,C)=>(C.overall_percentage||0)>(k.overall_percentage||0)?C:k),v=d.slice(0,Math.ceil(d.length/2)),j=d.slice(Math.ceil(d.length/2)),w=v.reduce((k,C)=>k+(C.overall_percentage||0),0)/v.length,b=j.reduce((k,C)=>k+(C.overall_percentage||0),0)/j.length;let S="stable";return b>w+5&&(S="improving"),b<w-5&&(S="declining"),{checkIns:d,averageProgress:g,totalCheckIns:d.length,bestWeek:x,trend:S}},enabled:!!e}),Twe=({goalId:e,year:t,month:r})=>{const{data:n,isLoading:a}=Cwe(e,t,r);if(a)return s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 animate-pulse h-40"});if(!n||n.totalCheckIns===0)return s.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6 text-center",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"No check-ins this month yet"})});const l=n.trend==="improving"?ea:vf,u=n.trend==="improving"?"text-green-400":n.trend==="declining"?"text-red-400":"text-yellow-400";return s.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 to-blue-900/5 border border-blue-700/30 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-white",children:"Monthly Summary"}),s.jsxs("div",{className:`flex items-center gap-2 ${u}`,children:[s.jsx(l,{size:18}),s.jsx("span",{className:"text-xs font-medium capitalize",children:n.trend})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Check-Ins"}),s.jsx("p",{className:"text-xl font-bold text-white",children:n.totalCheckIns})]}),s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Avg Progress"}),s.jsxs("p",{className:"text-xl font-bold text-blue-400",children:[n.averageProgress,"%"]})]}),s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Best Week"}),s.jsxs("p",{className:"text-xl font-bold text-green-400",children:[n.bestWeek?.overall_percentage||0,"%"]})]})]}),s.jsxs("div",{className:"text-xs text-gray-400 border-t border-gray-700 pt-3",children:[n.trend==="improving"&&s.jsx("p",{className:"text-green-400/80",children:"Great momentum! Your progress is increasing week over week."}),n.trend==="declining"&&s.jsx("p",{className:"text-red-400/80",children:"Progress is declining. Consider adjusting your approach or targets."}),n.trend==="stable"&&s.jsx("p",{className:"text-yellow-400/80",children:"Progress is stable. Keep maintaining this pace or push for improvement."})]})]})},sl=e=>{if(!e)return"";const t=e.toString().replace(/[^0-9.]/g,"");if(!t)return"";const[r,n]=t.split("."),a=parseInt(r||"0").toLocaleString();return n?`${a}.${n}`:a},Ewe=({goal:e,onCheckIn:t})=>{const[r,n]=y.useState(!1),[a,i]=y.useState(!1),[l,u]=y.useState(!1),[d,f]=y.useState(!1),[m,g]=y.useState(0),[x,v]=y.useState(e.goal_statement),[j,w]=y.useState(wr(it(e.created_at)||new Date)),[b,S]=y.useState(wr(it(e.target_date)||new Date)),[k,C]=y.useState(e.primary_metric),[E,O]=y.useState(e.metric_unit||""),[D,T]=y.useState(e.started_metric_value||""),[M,I]=y.useState(e.check_in_value||""),[$,B]=y.useState(e.check_in_date?wr(it(e.check_in_date)||new Date):""),z=y.useRef(null),{data:Y,isLoading:ne}=iwe(e),{data:V}=kwe(),F=awe(),Z=nwe(),q=V?.isCheckInDay&&V?.goals?.some(re=>re.id===e.id),U=Math.ceil((new Date(e.target_date).getTime()-new Date().getTime())/(1e3*60*60*24));y.useEffect(()=>()=>{z.current&&clearTimeout(z.current)},[]),y.useEffect(()=>{d||(v(e.goal_statement),w(wr(it(e.created_at)||new Date)),S(wr(it(e.target_date)||new Date)),C(e.primary_metric),O(e.metric_unit||""),T(e.started_metric_value||""),I(e.check_in_value||""),B(e.check_in_date?wr(it(e.check_in_date)||new Date):""))},[e,d]);const W=()=>{g(re=>re+1),z.current&&clearTimeout(z.current),m===0?z.current=setTimeout(()=>{g(0)},300):m===1&&(u(!0),g(0))},L=async()=>{if(x.trim()&&x!==e.goal_statement)try{await Z.mutateAsync({id:e.id,goal_statement:x.trim()})}catch(re){console.error("Error updating goal:",re),alert("Failed to update goal. Please try again."),v(e.goal_statement)}u(!1)},ee=async()=>{try{const re={id:e.id};x.trim()!==e.goal_statement&&(re.goal_statement=x.trim()),j!==wr(it(e.created_at)||new Date)&&(re.created_at=`${j}T12:00:00+00:00`),b!==wr(it(e.target_date)||new Date)&&(re.target_date=b),k!==e.primary_metric&&(re.primary_metric=k),E!==(e.metric_unit||"")&&(re.metric_unit=E||null),D!==(e.started_metric_value||"")&&(re.started_metric_value=D||null),M!==(e.check_in_value||"")&&(re.check_in_value=M||null),$!==(e.check_in_date?wr(it(e.check_in_date)||new Date):"")&&(re.check_in_date=$||null),Object.keys(re).length>1&&await Z.mutateAsync(re)}catch(re){console.error("Error updating goal:",re),alert("Failed to update goal. Please try again.")}f(!1)},J=()=>{v(e.goal_statement),w(wr(it(e.created_at)||new Date)),S(wr(it(e.target_date)||new Date)),C(e.primary_metric),O(e.metric_unit||""),T(e.started_metric_value||""),I(e.check_in_value||""),B(e.check_in_date?wr(it(e.check_in_date)||new Date):""),f(!1)},Q=async()=>{if(!a){i(!0);return}try{await F.mutateAsync(e.id)}catch(re){console.error("Error deleting goal:",re),alert("Failed to delete goal. Please try again.")}i(!1)};if(ne)return s.jsx("div",{className:"bg-gradient-to-br from-purple-900/20 to-purple-900/5 border border-purple-700/30 rounded-lg p-6 animate-pulse h-40"});const fe=Y?.completion_percentage||0,ge=Swe(e.area);return s.jsxs("div",{className:`rounded-lg p-4 transition-all duration-300 ${ge.bgColor} border ${ge.borderColor} hover:${ge.hoverBg} hover:shadow-lg hover:shadow-${ge.borderColor}/30 backdrop-blur-sm`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"flex-1",children:l?s.jsxs("div",{className:"space-y-1",children:[s.jsx("textarea",{value:x,onChange:re=>v(re.target.value),autoFocus:!0,className:"w-full px-3 py-2 bg-gray-800 border border-blue-500/50 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:L,disabled:Z.isPending,className:"px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white rounded transition-colors",children:Z.isPending?"Saving...":"Save"}),s.jsx("button",{onClick:()=>{u(!1),v(e.goal_statement)},className:"px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Cancel"})]})]}):s.jsx("h4",{onClick:W,className:"font-bold text-base text-white cursor-pointer hover:text-blue-200 transition-colors duration-200 leading-snug",title:"Click twice to edit",children:e.goal_statement})}),!l&&s.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[!d&&s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-blue-300 bg-clip-text text-transparent",children:[fe,"%"]}),s.jsx("p",{className:"text-xs text-gray-400 font-medium leading-none",children:"progress"})]}),s.jsx("button",{onClick:()=>f(!0),className:"p-2 hover:bg-blue-600/20 rounded transition-colors text-blue-400 hover:text-blue-300 disabled:opacity-50",title:"Edit goal details",children:s.jsx(kp,{size:18})}),d&&s.jsx("button",{onClick:Q,disabled:F.isPending,className:"p-2 hover:bg-red-600/20 rounded transition-colors text-red-400 hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",title:a?"Click again to confirm delete":"Delete this goal",children:s.jsx(Qa,{size:18})})]})]}),a&&s.jsxs("div",{className:"bg-red-900/20 border border-red-700/50 rounded p-3 mb-4 flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-red-300",children:"Are you sure? This cannot be undone."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i(!1),className:"px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Q,disabled:F.isPending,className:"px-3 py-1 text-xs bg-red-600 hover:bg-red-700 disabled:bg-red-600/50 text-white rounded transition-colors disabled:cursor-not-allowed",children:F.isPending?"Deleting...":"Delete"})]})]}),d?s.jsxs("div",{className:"space-y-3 mb-3 pb-3 border-b border-gray-700/50",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Goal Statement"}),s.jsx("input",{type:"text",value:x,onChange:re=>v(re.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Goal"}),s.jsx("input",{type:"text",value:k,onChange:re=>C(re.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Started Date"}),s.jsx("input",{type:"date",value:j,onChange:re=>w(re.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Started At"}),s.jsx("input",{type:"text",value:D,onChange:re=>T(re.target.value),placeholder:"Starting value",className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Goal Date"}),s.jsx("input",{type:"date",value:b,onChange:re=>S(re.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Metric Unit"}),s.jsx("input",{type:"text",value:E,onChange:re=>O(re.target.value),placeholder:"e.g., $, %, lbs",className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Check In Date"}),s.jsx("input",{type:"date",value:$,onChange:re=>B(re.target.value),className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Check In"}),s.jsx("input",{type:"text",value:M,onChange:re=>I(re.target.value),placeholder:"Current value",className:"w-full mt-1 px-2 py-1 bg-gray-800 border border-blue-500/50 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx("button",{onClick:ee,disabled:Z.isPending,className:"flex-1 px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white rounded transition-colors",children:Z.isPending?"Saving...":"Save"}),s.jsx("button",{onClick:J,className:"flex-1 px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Cancel"})]})]}):s.jsxs("div",{className:"space-y-2 mb-2 pb-2 border-b border-gray-700/50",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Target"}),s.jsx("p",{className:"text-white font-medium text-sm",children:Ne(it(e.target_date)||new Date,"MMM d, yyyy")})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Started"}),s.jsx("p",{className:"text-white font-medium text-sm",children:Ne(it(e.created_at)||new Date,"MMM d, yyyy")})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Last Check"}),s.jsx("p",{className:"text-white font-medium text-sm",children:e.check_in_date?Ne(it(e.check_in_date)||new Date,"MMM d, yyyy"):""})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Goal"}),s.jsxs("p",{className:"text-white font-medium text-sm",children:[e.metric_unit?`${e.metric_unit}`:"",sl(e.primary_metric)]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Started"}),s.jsxs("p",{className:"text-white font-medium text-sm",children:[e.metric_unit?`${e.metric_unit}`:"",sl(e.started_metric_value)]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-gray-700/30",children:[s.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-tight font-semibold leading-none mb-0.5",children:"Current"}),s.jsxs("p",{className:"text-white font-medium text-sm",children:[e.metric_unit?`${e.metric_unit}`:"",sl(e.check_in_value)]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{children:(()=>{const re=parseFloat(e.started_metric_value?.toString().replace(/[^0-9.-]/g,"")||"0"),ke=parseFloat(e.check_in_value?.toString().replace(/[^0-9.-]/g,"")||"0"),se=Math.max(0,re-ke);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-400 w-12 text-right",children:[e.metric_unit?`${e.metric_unit}`:"",sl(e.started_metric_value)]}),s.jsx("div",{className:"relative flex-1",children:s.jsxs("div",{className:"relative h-3 bg-gray-700 rounded-full overflow-visible",children:[s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 rounded-full transition-all duration-300 flex items-center relative",style:{width:`${Math.min(100,fe)}%`},children:fe>15&&s.jsxs("span",{className:"text-xs font-bold text-white ml-1 whitespace-nowrap",children:[e.metric_unit?`${e.metric_unit}`:"",sl(se.toString())]})}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-green-400 rounded-full border-2 border-white shadow-lg transition-all duration-300",style:{left:`${Math.min(100,fe)}%`,transform:"translate(-50%, -50%)"},title:`${fe}%`}),fe<85&&s.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 text-xs font-bold text-gray-300 whitespace-nowrap ml-1",style:{left:`${Math.min(100,fe)+2}%`},children:[e.metric_unit?`${e.metric_unit}`:"",sl(e.check_in_value)]})]})}),s.jsxs("span",{className:"text-xs text-gray-400 w-12",children:[e.metric_unit?`${e.metric_unit}`:"",sl(e.primary_metric)]})]})})()}),e.created_at&&e.target_date&&s.jsx("div",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-400 w-12 text-right",children:Ne(it(e.created_at)||new Date,"MMM d")}),s.jsx("div",{className:"relative flex-1",children:s.jsx("div",{className:"relative h-3 bg-gray-700 rounded-full overflow-visible",children:(()=>{const re=(it(e.created_at)||new Date).getTime(),ke=(it(e.target_date)||new Date).getTime(),se=new Date().getTime(),pe=ke-re,Ce=Math.max(0,se-re),de=pe>0?Ce/pe*100:0;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-400 rounded-full transition-all duration-300 flex items-center relative",style:{width:`${Math.min(100,de)}%`},children:de>15&&s.jsxs("span",{className:"text-xs font-bold text-white ml-1 whitespace-nowrap",children:[Math.ceil(Ce/(1e3*60*60*24)),"d"]})}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-blue-400 rounded-full border-2 border-white shadow-lg transition-all duration-300",style:{left:`${Math.min(100,de)}%`,transform:"translate(-50%, -50%)"},title:`${U>0?`${U}d left`:"Overdue"}`}),de<85&&s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 text-xs font-bold text-blue-300 whitespace-nowrap ml-1",style:{left:`${Math.min(100,de)+2}%`},children:U>0?`${U}d`:"Overdue"})]})})()})}),s.jsx("span",{className:"text-xs text-gray-400 w-12",children:Ne(it(e.target_date)||new Date,"MMM d")})]})}),Y&&Y.targets_total>0&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 bg-gray-800/30 rounded px-2 py-1.5",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Linked to tasks"})]})]}),s.jsxs("div",{className:`border-t ${ge.borderColor} mt-3 pt-3`,children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center justify-between w-full text-xs font-medium text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{children:"This Month's Trend"}),s.jsx(Oo,{size:14,className:`transition-transform duration-200 ${r?"rotate-180":""}`})]}),r&&s.jsx("div",{className:"mt-2",children:s.jsx(Twe,{goalId:e.id})})]}),q&&s.jsx("div",{className:"border-t border-gray-700/30 mt-3 pt-3",children:s.jsxs("div",{className:"bg-gradient-to-br from-orange-500/15 via-amber-500/10 to-yellow-500/5 border border-orange-500/40 rounded-lg p-3 flex items-center justify-between hover:border-orange-500/60 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"p-1.5 bg-orange-500/20 rounded",children:s.jsx(bo,{size:16,className:"text-orange-400"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs font-bold text-orange-100 leading-none",children:"Check-In Needed"}),s.jsx("p",{className:"text-xs text-orange-300/80 leading-tight",children:"Update progress"})]})]}),t&&s.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1.5 text-xs font-semibold bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white rounded transition-all duration-200 whitespace-nowrap ml-2 shadow-lg hover:shadow-orange-500/30 hover:scale-105",children:"Check In"})]})})]})},Owe=["Health","Relationships","Finance","Full Stack","Huge Capital","S4"],Awe=({onSuccess:e,onCancel:t})=>{const r=rwe(),[n,a]=y.useState({area:"Health",goal_statement:"",target_date:"",primary_metric:"",metric_unit:"",metric_type:"numeric"}),i=async u=>{u.preventDefault();try{await r.mutateAsync(n),e?.()}catch(d){console.error("Failed to create goal:",d)}},l=u=>{const{name:d,value:f}=u.target;a(m=>({...m,[d]:f}))};return s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Life Area"}),s.jsx("select",{name:"area",value:n.area,onChange:l,className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg
                   focus:outline-none focus:ring-2 focus:ring-blue-500`,children:Owe.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Goal Statement"}),s.jsx("textarea",{name:"goal_statement",value:n.goal_statement,onChange:l,placeholder:"e.g., Be physically fit and proud of how I look",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-3 rounded-lg
                   focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`,rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Date"}),s.jsx("input",{type:"date",name:"target_date",value:n.target_date,onChange:l,className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg
                   focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Primary Metric"}),s.jsx("input",{type:"text",name:"primary_metric",value:n.primary_metric,onChange:l,placeholder:"e.g., 10-15% body fat",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg
                   focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Unit (optional)"}),s.jsx("input",{type:"text",name:"metric_unit",value:n.metric_unit,onChange:l,placeholder:"e.g., %, lbs, $",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg
                   focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Metric Type"}),s.jsxs("select",{name:"metric_type",value:n.metric_type,onChange:l,className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg
                   focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[s.jsx("option",{value:"numeric",children:"Numeric (trackable)"}),s.jsx("option",{value:"qualitative",children:"Qualitative (reflection-based)"})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"submit",disabled:r.isPending,className:`flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white
                   rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500`,children:r.isPending?"Creating...":"Create Goal"}),s.jsx("button",{type:"button",onClick:t,className:`flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium
                   transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500`,children:"Cancel"})]}),r.error&&s.jsx("div",{className:"p-3 bg-red-900/20 border border-red-700 rounded-lg text-red-300 text-sm",children:r.error.message})]})},Dwe=({goalId:e,goalArea:t,goalStatement:r,targets:n=[],onClose:a,onSuccess:i})=>{const l=swe(),{data:u=[]}=twe(e),[d,f]=y.useState(0),[m,g]=y.useState(0),[x,v]=y.useState({feeling_question:"",sustainability_question:"yes",obstacles_notes:""}),j=n.length>0?n:u,w=new Date,b=w.getDay(),S=new Date(w);S.setDate(w.getDate()-(b||7));const k=S.toISOString().split("T")[0];y.useEffect(()=>{e&&(async()=>{try{const{data:O,error:D}=await X.from("goal_task_links").select("task_id").eq("goal_id",e);if(D)throw D;if(!O||O.length===0){f(0),g(j.length);return}const T=O.map(B=>B.task_id),{data:M,error:I}=await X.from("tasks").select("id, status").in("id",T);if(I)throw I;if(!M){f(0),g(j.length);return}const $=M.filter(B=>B.status==="Done").length;f($),g(j.length||M.length)}catch(O){console.error("Failed to calculate targets hit:",O),f(0),g(j.length)}})()},[e,j.length]);const C=async E=>{E.preventDefault();try{await l.mutateAsync({goal_id:e,checkin_date:k,targets_hit:d,targets_total:m,overall_percentage:d/m*100,feeling_question:x.feeling_question,sustainability_question:x.sustainability_question,obstacles_notes:x.obstacles_notes,metric_snapshot:{targets_hit:d,targets_total:m}}),i?.()}catch(O){console.error("Failed to create check-in:",O)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700 sticky top-0 bg-gray-900",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white",children:[t," Goal - Weekly Check-In"]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r})]}),s.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:s.jsx(qt,{size:24,className:"text-gray-400"})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-8",children:[s.jsx("div",{className:"bg-gray-800/30 border border-gray-700 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-gray-400",children:["Week of ",k," (Sunday)"]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Target Metrics Progress"}),s.jsx("div",{className:"space-y-4",children:j.map((E,O)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:E.target_name}),s.jsx("span",{className:"text-sm text-gray-400",children:E.frequency==="weekly"?`${Math.min(O+1,E.target_value)}/${E.target_value}`:""})]}),E.frequency==="weekly"&&s.jsx(cP,{progress:Math.min(O+1,E.target_value)/E.target_value*100,showPercentage:!1})]},E.id))}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white font-semibold",children:"Overall Score"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-300",children:[Math.round(d/m*100),"%"]})]}),s.jsx(cP,{progress:d/m*100,showPercentage:!1,size:"lg"})]})]}),s.jsxs("div",{className:"space-y-6 border-t border-gray-700 pt-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"How are you feeling about this week?"}),s.jsx("textarea",{value:x.feeling_question,onChange:E=>v(O=>({...O,feeling_question:E.target.value})),placeholder:"Share your thoughts...",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-3 rounded-lg
                         focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`,rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Is this pace sustainable?"}),s.jsx("div",{className:"flex gap-4",children:["yes","no","adjust"].map(E=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"sustainability",value:E,checked:x.sustainability_question===E,onChange:O=>v(D=>({...D,sustainability_question:O.target.value})),className:"w-4 h-4"}),s.jsx("span",{className:"text-gray-300 capitalize",children:E})]},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Any obstacles or wins to note?"}),s.jsx("textarea",{value:x.obstacles_notes,onChange:E=>v(O=>({...O,obstacles_notes:E.target.value})),placeholder:"What helped you succeed? What got in the way?",className:`w-full bg-gray-800 border border-gray-700 text-white px-4 py-3 rounded-lg
                         focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none`,rows:3})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-700",children:[s.jsx("button",{type:"submit",disabled:l.isPending,className:`flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white
                       rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500`,children:l.isPending?"Saving...":"Save Check-In"}),s.jsx("button",{type:"button",onClick:a,className:`flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium
                       transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500`,children:"Cancel"})]}),l.error&&s.jsx("div",{className:"p-3 bg-red-900/20 border border-red-700 rounded-lg text-red-300 text-sm",children:l.error.message})]})]})})},Mwe=[{id:"full-stack",label:"Full Stack",gradient:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},{id:"huge-capital",label:"Huge Capital",gradient:"linear-gradient(135deg, #a855f7 0%, #7e22ce 100%)"},{id:"s4",label:"S4",gradient:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"}],Pwe=[{id:"personal",label:"Personal",gradient:"linear-gradient(135deg, #ec4899 0%, #be185d 100%)"},{id:"health",label:"Health",gradient:"linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)"},{id:"finance",label:"Finance",gradient:"linear-gradient(135deg, #f97316 0%, #c2410c 100%)"},{id:"golf",label:"Golf",gradient:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"}],xw=e=>({"full-stack":"Full Stack","huge-capital":"Huge Capital",s4:"S4",personal:"Personal",health:"Health",finance:"Finance",golf:"Golf"})[e]||e,Rwe=({onNavigate:e})=>{const{data:t,isLoading:r,refetch:n,dataUpdatedAt:a,isFetching:i}=a7(),{totalCritical:l,totalWarning:u,hasAttentionNeeded:d,allClear:f}=Jbe(),[m,g]=y.useState(null),[x,v]=y.useState(!1),[j,w]=y.useState(!1),[b,S]=y.useState(null),[k,C]=y.useState(""),[E,O]=y.useState(!1),D=U=>U?{"full-stack":"Full Stack","huge-capital":"Huge Capital",s4:"S4",personal:"Relationships",health:"Health",finance:"Finance"}[U]:void 0,T=m?D(m):void 0,{data:M}=lwe(T),I=cwe(),{data:$,isLoading:B,refetch:z}=ewe(m?D(m):void 0,"active"),{data:Y}=owe(m?D(m):void 0),[ne,V]=y.useState("");y.useEffect(()=>{const U=()=>{a&&V(Ej(a,{addSuffix:!0}))};U();const W=setInterval(U,1e4);return()=>clearInterval(W)},[a]);const F=()=>{n()},Z=U=>{const L={"/daily":"dailytime","/business":"business","/content":"content","/health":"health","/finances":"finance","/life":"notes","/golf":"health","/goals":"review"}[U];L&&e(L)},q=async()=>{if(!(!m||!k.trim()))try{const U=D(m);if(!U)return;await I.mutateAsync({area:U,vision_statement:k.trim()}),O(!1),C("")}catch(U){console.error("Error saving vision statement:",U),alert("Failed to save vision statement. Please try again.")}};return r?s.jsx(bwe,{}):s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Review Dashboard"}),s.jsx("p",{className:"text-gray-400",children:"Your complete life ecosystem at a glance  Read-only view"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Last synced: ",ne||"just now"]}),s.jsx("button",{onClick:F,disabled:i,className:`p-2 bg-gray-800 border border-gray-700 rounded-lg hover:bg-gray-700
                     transition-colors disabled:opacity-50 disabled:cursor-not-allowed
                     focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Refresh dashboard",children:s.jsx(nH,{size:20,className:`text-gray-400 ${i?"animate-spin":""}`})})]})]}),s.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-8",children:[s.jsx(ur,{variant:"outline",className:`cursor-pointer px-3 py-2 font-semibold text-white transition-all duration-150 flex flex-col items-center justify-center ${m===null?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{backgroundColor:"#4b5563",minHeight:"80px"},onClick:()=>g(null),children:s.jsx("span",{className:"text-base font-semibold",children:"All Areas"})}),Mwe.map(U=>{const W=m===U.id;return $?.filter(L=>{const ee=D(U.id);return L.area===ee}).length,s.jsx(ur,{variant:"outline",className:`cursor-pointer px-3 py-2 font-semibold text-white transition-all duration-150 flex flex-col items-center justify-center ${W?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:U.gradient,minHeight:"80px"},onClick:()=>g(U.id),children:s.jsx("span",{className:"text-base font-semibold",children:U.label})},U.id)}),Pwe.map(U=>{const W=m===U.id;return $?.filter(L=>{const ee=D(U.id);return L.area===ee}).length,s.jsx(ur,{variant:"outline",className:`cursor-pointer px-3 py-2 font-semibold text-white transition-all duration-150 flex flex-col items-center justify-center ${W?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:U.gradient,minHeight:"80px"},onClick:()=>g(U.id),children:s.jsx("span",{className:"text-base font-semibold",children:U.label})},U.id)})]}),m===null?s.jsx("div",{className:"bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-700/50 rounded-lg p-6 mb-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:" Overarching Vision"}),s.jsx("p",{className:"text-gray-300 text-lg mb-3",children:"Balance and excellence across all life areas  Build sustainable progress in every domain"}),s.jsx("p",{className:"text-gray-400 text-sm",children:`${Y?.total_goals||0} active goals across all areas`})]})}):s.jsx("div",{className:"bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-700/50 rounded-lg p-6 mb-8",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:[" ",m?xw(m):""," Vision"]}),E?s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{autoFocus:!0,value:k,onChange:U=>C(U.target.value),placeholder:`Define your ${m} vision...`,className:"w-full px-3 py-2 bg-gray-800 border border-blue-500/50 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg",rows:3}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:q,disabled:I.isPending||!k.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed text-white rounded text-sm font-medium transition-colors",children:I.isPending?"Saving...":"Save"}),s.jsx("button",{onClick:()=>{O(!1),C("")},disabled:I.isPending,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-700/50 disabled:cursor-not-allowed text-white rounded text-sm font-medium transition-colors",children:"Cancel"})]})]}):s.jsx("div",{onClick:()=>{O(!0),C(M?.vision_statement||"")},className:"cursor-pointer hover:bg-blue-900/20 transition-colors rounded px-3 py-2 -mx-3 -my-2",children:M?.vision_statement?s.jsx("p",{className:"text-gray-300 text-lg hover:text-gray-200",children:M.vision_statement}):s.jsxs("p",{className:"text-gray-400 text-lg italic hover:text-gray-300",children:["Click to define your ",xw(m)," vision..."]})}),s.jsx("p",{className:"text-gray-400 text-sm mt-3",children:`${Y?.total_goals||0} goal${Y?.total_goals===1?"":"s"} for this area`})]})}),(m===null||m!==null)&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Goals"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Measurable milestones contributing to your vision"})]}),s.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors whitespace-nowrap",children:[s.jsx(Na,{size:18}),"Add Goal"]})]}),B?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(2)].map((U,W)=>s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 animate-pulse h-40"},W))}):$&&$.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(U=>s.jsx(Ewe,{goal:U,onCheckIn:W=>{S(W),w(!0)}},U.id))}):s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 border border-gray-700 text-center",children:[s.jsxs("p",{className:"text-gray-400 mb-4",children:["No goals yet for ",m===null?"all areas":xw(m)]}),s.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[s.jsx(Na,{size:18}),"Create First Goal"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t?.map(U=>{const W=jwe.find(L=>L.area===U.area);if(!W)return null;if(m!==null){const L={"full-stack":"BIZNESS","huge-capital":"BIZNESS",s4:"BIZNESS",personal:"LIFE",health:"HEALTH",golf:"HEALTH"};if(L[m]&&L[m]!==U.area)return null}return U.area==="DAILY"?m!==null&&m!=="health"?null:s.jsx(gwe,{onClick:()=>Z(W.route)},U.area):U.area==="BIZNESS"?m!==null&&!["full-stack","huge-capital","s4"].includes(m)?null:s.jsx(ywe,{onClick:()=>Z(W.route)},U.area):U.area==="FINANCES"?m!==null&&m!=="finance"?null:s.jsx(vwe,{onClick:()=>Z(W.route)},U.area):["HEALTH","CONTENT","LIFE","GOLF"].includes(U.area)?s.jsx(wwe,{title:W.displayName,icon:W.icon,color:W.color,message:"No recent activity",onClick:()=>Z(W.route)},U.area):null})}),(!t||t.length===0)&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"No area data available yet. Start by creating some tasks!"})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 max-w-2xl w-full mx-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Goal"}),s.jsx(Awe,{onSuccess:()=>{v(!1),z()},onCancel:()=>v(!1)})]})}),j&&b&&$&&(()=>{const U=$.find(W=>W.id===b);return U?s.jsx(Dwe,{goalId:U.id,goalArea:U.area,goalStatement:U.goal_statement,targets:[],onClose:()=>{w(!1),S(null)},onSuccess:()=>{w(!1),S(null),z()}}):null})()]})},Iwe=["Sales","Data","Fulfillment","Marketing","Admin"],s7=["Full Stack","Huge Capital","S4","808","Personal","Health","Golf"],Lwe=["MCP","Skills","Agents","Workflow"],$we=["n8n","Zapier","Claude Web","Claude Code"],Bwe=["Auto","Manual"],i7=["Future Idea","Planning","In Progress","Review","Completed"],zwe=["Asana","Excel","Google Sheets","Gmail","Google Drive","Claude","Slack","Shopify","GHL","CBOS","Klaviyo","Dashboard"],Fwe={"Future Idea":"bg-[rgb(85,45,120)]",Planning:"bg-[rgb(35,70,130)]","In Progress":"bg-[rgb(120,95,35)]",Review:"bg-[rgb(130,65,25)]",Completed:"bg-[rgb(25,95,75)]"},Uwe={Sales:"bg-green-600",Data:"bg-blue-600",Fulfillment:"bg-orange-600",Marketing:"bg-purple-600",Admin:"bg-gray-600"},qwe={MCP:"bg-pink-600",Skills:"bg-orange-600",Agents:"bg-red-600",Workflow:"bg-blue-400"},Hwe={n8n:"bg-purple-600",Zapier:"bg-orange-400","Claude Web":"bg-orange-600","Claude Code":"bg-orange-800"},Wwe={Auto:"bg-green-600",Manual:"bg-orange-600"},o7={Asana:"bg-pink-600",Excel:"bg-green-800","Google Sheets":"bg-green-500",Gmail:"bg-red-600","Google Drive":"bg-red-600",Claude:"bg-orange-600",Slack:"bg-purple-600",Shopify:"bg-green-500",GHL:"bg-blue-700",CBOS:"bg-blue-600",Klaviyo:"bg-yellow-500",Dashboard:"bg-blue-600"},Ywe={"Full Stack":"bg-[rgb(25,95,75)]","Huge Capital":"bg-[rgb(85,45,120)]",S4:"bg-[rgb(35,70,130)]",808:"bg-[rgb(120,95,35)]",Personal:"bg-[rgb(120,45,85)]",Health:"bg-[rgb(25,90,85)]",Golf:"bg-[rgb(130,65,25)]"},Kwe=({automation:e,onEdit:t,onDelete:r,isDragging:n})=>{const a=f=>{f.stopPropagation(),confirm(`Delete automation "${e.name}"?`)&&r(e.id)},i=f=>{f.stopPropagation(),t(e)},l=()=>e.trigger_type==="Auto"?s.jsx(wj,{className:"w-3 h-3"}):s.jsx(EH,{className:"w-3 h-3"}),d=(()=>{const f={"Future Idea":"rgb(85, 45, 120)",Planning:"rgb(35, 70, 130)","In Progress":"rgb(120, 95, 35)",Review:"rgb(130, 65, 25)",Completed:"rgb(25, 95, 75)"};return f[e.completion_level]||f["Future Idea"]})();return s.jsxs("div",{className:`
        rounded-lg overflow-hidden border border-white/15
        transition-all duration-200 cursor-grab active:cursor-grabbing
        ${n?"opacity-40 scale-95":"hover:border-white/30 hover:shadow-md"}
        shadow-sm group
      `,style:{backgroundColor:d},children:[s.jsxs("div",{className:"px-4 py-3 flex items-center justify-between gap-2",children:[s.jsx("h3",{className:"font-bold text-white text-base leading-tight flex-1",children:e.name}),s.jsx(ur,{className:`${Ywe[e.area]} text-white text-xs font-bold px-2 py-0.5 flex-shrink-0`,children:e.area})]}),e.integrations&&e.integrations.length>0&&s.jsx("div",{className:"px-4 py-1 flex items-center gap-2 flex-wrap",children:e.integrations.map(f=>s.jsx(ur,{className:`${o7[f]||"bg-gray-600"} text-white text-xs px-2 py-0.5`,children:f},f))}),s.jsxs("div",{className:"px-4 py-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3 text-xs flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Platform:"}),s.jsx("div",{className:`${Hwe[e.platform]} text-white px-3 py-1.5 rounded-full font-medium`,children:e.platform})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Purpose:"}),s.jsx("div",{className:`${Uwe[e.purpose]} text-white px-3 py-1.5 rounded-full font-medium`,children:e.purpose})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Label:"}),s.jsx("div",{className:`${qwe[e.label]} text-white px-3 py-1.5 rounded-full font-medium`,children:e.label})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Trigger:"}),s.jsxs("div",{className:`${Wwe[e.trigger_type]} text-white px-3 py-1.5 rounded-full font-medium flex items-center gap-1`,children:[l(),s.jsx("span",{children:e.trigger_type})]})]})]}),e.go_live_date&&s.jsxs("div",{className:"text-xs pt-2",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Go Live:"}),s.jsx("span",{className:"text-white ml-1",children:new Date(e.go_live_date).toLocaleDateString()})]}),e.last_checked_date&&s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-gray-300 font-medium",children:"Last Checked:"}),s.jsx("span",{className:"text-white ml-1",children:new Date(e.last_checked_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t border-white/10",children:[s.jsxs(Ae,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs font-medium bg-white/10 hover:bg-white/20 text-white border-white/20 dark:border-white/10 mt-2",onClick:i,children:[s.jsx(kp,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),s.jsx(Ae,{size:"sm",variant:"outline",className:"h-8 px-2 bg-red-500/10 hover:bg-red-500/20 text-red-300 border-red-500/30 dark:border-red-500/20 mt-2",onClick:a,children:s.jsx(Qa,{className:"w-3.5 h-3.5"})})]})]})]})},Vwe={All:"#4b5563","Full Stack":"linear-gradient(135deg, #10b981 0%, #059669 100%)","Huge Capital":"linear-gradient(135deg, #a855f7 0%, #7e22ce 100%)",S4:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",808:"linear-gradient(135deg, #eab308 0%, #ca8a04 100%)",Personal:"linear-gradient(135deg, #ec4899 0%, #be185d 100%)",Health:"linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)",Golf:"linear-gradient(135deg, #f97316 0%, #c2410c 100%)"},Gwe=({selectedArea:e,onAreaChange:t,selectedPurpose:r="All",onPurposeChange:n,selectedPriority:a="All",onPriorityChange:i,onAddNew:l,automations:u=[]})=>{const d=["All",...s7],f=m=>m==="All"?u.length:u.filter(g=>g.area===m).length;return s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx(bn,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-700/30 shadow-lg",children:s.jsx(_o,{className:"pt-4 pb-4",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-2",children:d.map(m=>s.jsxs(ur,{variant:"outline",className:`cursor-pointer px-5 py-3 text-lg font-semibold text-white transition-all duration-150 flex flex-col items-center ${e===m?"border-2 border-white shadow-lg":"border-0 hover:shadow-md"}`,style:{background:Vwe[m]},onClick:()=>t(m),children:[s.jsx("span",{children:m}),s.jsx("span",{className:"text-xl font-bold mt-0.5",children:f(m)})]},m))})})}),s.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[n&&s.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"rounded-lg bg-gray-800 border border-gray-700 text-white px-3 py-2 text-sm focus:border-purple-500 focus:outline-none",children:[s.jsx("option",{value:"All",children:"All Purposes"}),s.jsx("option",{value:"Sales",children:"Sales"}),s.jsx("option",{value:"Data",children:"Data"}),s.jsx("option",{value:"Fulfillment",children:"Fulfillment"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Admin",children:"Admin"})]}),i&&s.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:"rounded-lg bg-gray-800 border border-gray-700 text-white px-3 py-2 text-sm focus:border-purple-500 focus:outline-none",children:[s.jsx("option",{value:"All",children:"All Priorities"}),s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"})]}),s.jsx(Ae,{onClick:l,className:"bg-purple-600 hover:bg-purple-700 text-white ml-auto",children:"+ Add Automation"})]})]})},uP=({value:e,onChange:t,label:r="Select Date"})=>{const[n,a]=y.useState(!1),[i,l]=y.useState(e?new Date(e):new Date),[u,d]=y.useState(i.getMonth()),[f,m]=y.useState(i.getFullYear()),g=T=>{const M=new Date(f,u,T),I=M.toISOString().split("T")[0];t(I),l(M),a(!1)},x=T=>{m(parseInt(T.target.value,10))},v=T=>{d(parseInt(T.target.value,10))},j=(T,M)=>new Date(M,T+1,0).getDate(),w=(T,M)=>new Date(M,T,1).getDay(),b=["January","February","March","April","May","June","July","August","September","October","November","December"],S=j(u,f),k=w(u,f),C=[];for(let T=0;T<k;T++)C.push(null);for(let T=1;T<=S;T++)C.push(T);const E=e?e.split("T")[0]:null,O=E===new Date().toISOString().split("T")[0],D=e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Select date";return s.jsxs(s.Fragment,{children:[s.jsxs(Ae,{type:"button",variant:"outline",onClick:()=>a(!0),className:"w-full h-10 justify-start text-left font-normal bg-slate-800 border-slate-700 text-gray-100 hover:bg-slate-700",children:[s.jsx($r,{className:"mr-2 h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"flex-1 truncate",children:D}),e&&s.jsx(qt,{className:"h-4 w-4 flex-shrink-0 opacity-50 hover:opacity-100",onClick:T=>{T.stopPropagation(),t(null)}})]}),s.jsx(Ef,{open:n,onOpenChange:a,children:s.jsxs(vu,{className:"!bg-slate-900 border-slate-700 w-fit p-0 gap-0",children:[s.jsx(bu,{className:"bg-slate-800 border-b border-slate-700 p-4",children:s.jsx(wu,{className:"text-gray-100",children:r})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("select",{value:u,onChange:v,className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:b.map((T,M)=>s.jsx("option",{value:M,children:T},T))}),s.jsx("select",{value:f,onChange:x,className:"w-24 px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:Array.from({length:20},(T,M)=>f-10+M).map(T=>s.jsx("option",{value:T,children:T},T))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(T=>s.jsx("div",{className:"text-center text-xs font-semibold text-gray-400 py-2",children:T},T))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:C.map((T,M)=>{const I=T&&E===`${f}-${String(u+1).padStart(2,"0")}-${String(T).padStart(2,"0")}`;return s.jsx("button",{type:"button",onClick:()=>T&&g(T),disabled:!T,className:`
                        h-8 rounded-md text-sm font-medium transition-all
                        ${T?I?"bg-purple-600 text-white hover:bg-purple-700":O&&T?"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30":"text-gray-300 hover:bg-slate-700":"opacity-0 cursor-default"}
                      `,children:T},M)})})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-700",children:[s.jsx(Ae,{type:"button",variant:"outline",onClick:()=>a(!1),className:"flex-1 h-9",children:"Cancel"}),e&&s.jsx(Ae,{type:"button",variant:"outline",onClick:()=>{t(null),a(!1)},className:"flex-1 h-9 text-red-400 hover:bg-red-900/20 border-red-900/50",children:"Clear"})]})]})]})})]})},Qwe=({isOpen:e,onClose:t,onSave:r,automation:n})=>{const[a,i]=y.useState({name:"",purpose:"Data",area:"Full Stack",label:"Workflow",platform:"n8n",trigger_type:"Manual",integrations:[],completion_level:"Future Idea",priority:"Medium",go_live_date:null,last_checked_date:null}),[l,u]=y.useState(!1);y.useEffect(()=>{i(n?{name:n.name,purpose:n.purpose,area:n.area,label:n.label,platform:n.platform,trigger_type:n.trigger_type,integrations:n.integrations,completion_level:n.completion_level,priority:n.priority,go_live_date:n.go_live_date,last_checked_date:n.last_checked_date}:{name:"",purpose:"Data",area:"Full Stack",label:"Workflow",platform:"n8n",trigger_type:"Manual",integrations:[],completion_level:"Future Idea",priority:"Medium",go_live_date:null,last_checked_date:null})},[n,e]);const d=async m=>{m.preventDefault(),u(!0);try{n?await r({...a,id:n.id}):await r(a),t()}catch(g){console.error("Error saving automation:",g),alert(`Failed to save automation: ${g instanceof Error?g.message:"Unknown error"}`)}finally{u(!1)}},f=m=>{i(g=>({...g,integrations:(g.integrations||[]).includes(m)?(g.integrations||[]).filter(x=>x!==m):[...g.integrations||[],m]}))};return s.jsx(Ef,{open:e,onOpenChange:t,children:s.jsxs(vu,{className:"max-w-md !bg-slate-900 border-slate-700 max-h-[95vh] overflow-y-auto p-4",children:[s.jsx(bu,{className:"pb-2",children:s.jsx(wu,{className:"text-xl font-bold text-gray-100",children:n?"Edit Automation":"Add Automation"})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Name ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx(jn,{type:"text",required:!0,value:a.name,onChange:m=>i({...a,name:m.target.value}),placeholder:"e.g., Customer Email",className:"h-10 bg-slate-800 border-slate-700 text-gray-100 placeholder:text-gray-500 text-base focus:ring-purple-500"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Label ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.label,onChange:m=>i({...a,label:m.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:Lwe.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Platform ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.platform,onChange:m=>i({...a,platform:m.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:$we.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Completion ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.completion_level,onChange:m=>i({...a,completion_level:m.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:i7.map(m=>s.jsx("option",{value:m,children:m},m))})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Area ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.area,onChange:m=>i({...a,area:m.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:s7.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Purpose ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.purpose,onChange:m=>i({...a,purpose:m.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:Iwe.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:["Trigger ",s.jsx("span",{className:"text-purple-400",children:"*"})]}),s.jsx("select",{required:!0,value:a.trigger_type,onChange:m=>i({...a,trigger_type:m.target.value}),className:"w-full h-10 px-3 bg-slate-800 border border-slate-700 rounded-md text-gray-100 text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors hover:border-slate-600",children:Bwe.map(m=>s.jsx("option",{value:m,children:m},m))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:"Go Live"}),s.jsx(uP,{value:a.go_live_date||null,onChange:m=>i({...a,go_live_date:m}),label:"Select Go Live Date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:"Last Checked"}),s.jsx(uP,{value:a.last_checked_date||null,onChange:m=>i({...a,last_checked_date:m}),label:"Select Last Checked Date"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-100 mb-2",children:"Integrations"}),s.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-800 rounded-md border border-slate-700",children:zwe.map(m=>{const g=a.integrations?.includes(m),x=o7[m];return s.jsx("button",{type:"button",onClick:()=>f(m),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${g?`${x} text-white border-2 border-white`:"bg-slate-700 text-gray-300 border-2 border-slate-700 hover:border-slate-600"}`,children:m},m)})})]}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-700",children:[s.jsx(Ae,{type:"button",variant:"outline",onClick:t,disabled:l,className:"flex-1 h-10 text-base",children:"Cancel"}),s.jsx(Ae,{type:"submit",disabled:l,className:"flex-1 h-10 bg-purple-600 hover:bg-purple-700 text-white font-medium text-base",children:l?"Saving...":n?"Update":"Create"})]})]})]})})},zl=["automations"],Xwe=e=>Be({queryKey:e?[...zl,e]:zl,queryFn:async()=>{const{data:t,error:r}=await X.from("automations").select("*").order("creation_date",{ascending:!1});if(r)throw r;return t.filter(n=>!e||n.area===e)}}),Zwe=()=>{const e=mt();return wt({mutationFn:async t=>{const{data:{user:r},error:n}=await X.auth.getUser();if(n||!r)throw new Error("Not authenticated");const{data:a,error:i}=await X.from("automations").insert([{...t,user_id:r.id,integrations:t.integrations||[],completion_level:t.completion_level||"Future Idea",priority:t.priority||"Medium"}]).select().single();if(i)throw i;return a},onSuccess:()=>{e.invalidateQueries({queryKey:zl})}})},Jwe=()=>{const e=mt();return wt({mutationFn:async({id:t,...r})=>{const{data:n,error:a}=await X.from("automations").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:t=>{e.invalidateQueries({queryKey:zl}),e.setQueryData([...zl,t.id],t)}})},e1e=()=>{const e=mt();return wt({mutationFn:async t=>{const{error:r}=await X.from("automations").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:zl})}})},t1e=()=>{const e=mt();return wt({mutationFn:async({id:t,completionLevel:r})=>{const{data:n,error:a}=await X.from("automations").update({completion_level:r}).eq("id",t).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:zl})}})};function xp(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function r1e(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function Jm(e){return e!==null&&e>=0}function n1e(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function a1e(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const l7=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=xp(t,n,r),l=t[a],u=i[a];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},c7="Sortable",u7=_e.createContext({activeIndex:-1,containerId:c7,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:l7,disabled:{draggable:!1,droppable:!1}});function s1e(e){let{children:t,id:r,items:n,strategy:a=l7,disabled:i=!1}=e;const{active:l,dragOverlay:u,droppableRects:d,over:f,measureDroppableContainers:m}=e7(),g=Zf(c7,r),x=u.rect!==null,v=y.useMemo(()=>n.map(D=>typeof D=="object"&&"id"in D?D.id:D),[n]),j=l!=null,w=l?v.indexOf(l.id):-1,b=f?v.indexOf(f.id):-1,S=y.useRef(v),k=!n1e(v,S.current),C=b!==-1&&w===-1||k,E=a1e(i);bs(()=>{k&&j&&m(v)},[k,v,j,m]),y.useEffect(()=>{S.current=v},[v]);const O=y.useMemo(()=>({activeIndex:w,containerId:g,disabled:E,disableTransforms:C,items:v,overIndex:b,useDragOverlay:x,sortedRects:r1e(v,d),strategy:a}),[w,g,E.draggable,E.droppable,C,v,b,d,x,a]);return _e.createElement(u7.Provider,{value:O},t)}const i1e=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return xp(r,n,a).indexOf(t)},o1e=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:l,previousItems:u,previousContainerId:d,transition:f}=e;return!f||!n||u!==i&&a===l?!1:r?!0:l!==a&&t===d},l1e={duration:200,easing:"ease"},d7="transform",c1e=Co.Transition.toString({property:d7,duration:0,easing:"linear"}),u1e={roleDescription:"sortable"};function d1e(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,l]=y.useState(null),u=y.useRef(r);return bs(()=>{if(!t&&r!==u.current&&n.current){const d=a.current;if(d){const f=Mu(n.current,{ignoreTransform:!0}),m={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(m.x||m.y)&&l(m)}}r!==u.current&&(u.current=r)},[t,r,n,a]),y.useEffect(()=>{i&&l(null)},[i]),i}function f1e(e){let{animateLayoutChanges:t=o1e,attributes:r,disabled:n,data:a,getNewIndex:i=i1e,id:l,strategy:u,resizeObserverConfig:d,transition:f=l1e}=e;const{items:m,containerId:g,activeIndex:x,disabled:v,disableTransforms:j,sortedRects:w,overIndex:b,useDragOverlay:S,strategy:k}=y.useContext(u7),C=h1e(n,v),E=m.indexOf(l),O=y.useMemo(()=>({sortable:{containerId:g,index:E,items:m},...a}),[g,a,E,m]),D=y.useMemo(()=>m.slice(m.indexOf(l)),[m,l]),{rect:T,node:M,isOver:I,setNodeRef:$}=HS({id:l,data:O,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...d}}),{active:B,activatorEvent:z,activeNodeRect:Y,attributes:ne,setNodeRef:V,listeners:F,isDragging:Z,over:q,setActivatorNodeRef:U,transform:W}=J$({id:l,data:O,attributes:{...u1e,...r},disabled:C.draggable}),L=Uxe($,V),ee=!!B,J=ee&&!j&&Jm(x)&&Jm(b),Q=!S&&Z,fe=Q&&J?W:null,re=J?fe??(u??k)({rects:w,activeNodeRect:Y,activeIndex:x,overIndex:b,index:E}):null,ke=Jm(x)&&Jm(b)?i({id:l,items:m,activeIndex:x,overIndex:b}):E,se=B?.id,pe=y.useRef({activeId:se,items:m,newIndex:ke,containerId:g}),Ce=m!==pe.current.items,de=t({active:B,containerId:g,isDragging:Z,isSorting:ee,id:l,index:E,items:m,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:f,wasDragging:pe.current.activeId!=null}),Qe=d1e({disabled:!de,index:E,node:M,rect:T});return y.useEffect(()=>{ee&&pe.current.newIndex!==ke&&(pe.current.newIndex=ke),g!==pe.current.containerId&&(pe.current.containerId=g),m!==pe.current.items&&(pe.current.items=m)},[ee,ke,g,m]),y.useEffect(()=>{if(se===pe.current.activeId)return;if(se!=null&&pe.current.activeId==null){pe.current.activeId=se;return}const Ue=setTimeout(()=>{pe.current.activeId=se},50);return()=>clearTimeout(Ue)},[se]),{active:B,activeIndex:x,attributes:ne,data:O,rect:T,index:E,newIndex:ke,items:m,isOver:I,isSorting:ee,isDragging:Z,listeners:F,node:M,overIndex:b,over:q,setNodeRef:L,setActivatorNodeRef:U,setDroppableNodeRef:$,setDraggableNodeRef:V,transform:Qe??re,transition:Ee()};function Ee(){if(Qe||Ce&&pe.current.newIndex===E)return c1e;if(!(Q&&!F0(z)||!f)&&(ee||de))return Co.Transition.toString({...f,property:d7})}}function h1e(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}Rt.Down,Rt.Right,Rt.Up,Rt.Left;const m1e={},dP=e=>{let t;const r=new Set,n=(m,g)=>{const x=typeof m=="function"?m(t):m;if(!Object.is(x,t)){const v=t;t=g??(typeof x!="object"||x===null)?x:Object.assign({},t,x),r.forEach(j=>j(t,v))}},a=()=>t,d={setState:n,getState:a,getInitialState:()=>f,subscribe:m=>(r.add(m),()=>r.delete(m)),destroy:()=>{(m1e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},f=t=e(n,a,d);return d},g1e=e=>e?dP(e):dP,f7={},{useDebugValue:p1e}=_e,{useSyncExternalStoreWithSelector:y1e}=Dne;let fP=!1;const x1e=e=>e;function v1e(e,t=x1e,r){(f7?"production":void 0)!=="production"&&r&&!fP&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),fP=!0);const n=y1e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return p1e(n),n}const hP=e=>{(f7?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?g1e(e):e,r=(n,a)=>v1e(t,n,a);return Object.assign(r,t),r},b1e=e=>e?hP(e):hP;var mP,gP;const pP=typeof window<"u"&&((mP=window.document)!=null&&mP.createElement||((gP=window.navigator)==null?void 0:gP.product)==="ReactNative")?_e.useLayoutEffect:_e.useEffect;function w1e(){const e=b1e(t=>({current:new Array,version:0,set:t}));return{In:({children:t})=>{const r=e(a=>a.set),n=e(a=>a.version);return pP(()=>{r(a=>({version:a.version+1}))},[]),pP(()=>(r(({current:a})=>({current:[...a,t]})),()=>r(({current:a})=>({current:a.filter(i=>i!==t)}))),[t,n]),null},Out:()=>{const t=e(r=>r.current);return _e.createElement(_e.Fragment,null,t)}}}function j1e(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var YS="ScrollArea",[h7]=mu(YS),[_1e,ns]=h7(YS),m7=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...l}=e,[u,d]=y.useState(null),[f,m]=y.useState(null),[g,x]=y.useState(null),[v,j]=y.useState(null),[w,b]=y.useState(null),[S,k]=y.useState(0),[C,E]=y.useState(0),[O,D]=y.useState(!1),[T,M]=y.useState(!1),I=Ht(t,B=>d(B)),$=g3(a);return s.jsx(_1e,{scope:r,type:n,dir:$,scrollHideDelay:i,scrollArea:u,viewport:f,onViewportChange:m,content:g,onContentChange:x,scrollbarX:v,onScrollbarXChange:j,scrollbarXEnabled:O,onScrollbarXEnabledChange:D,scrollbarY:w,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:M,onCornerWidthChange:k,onCornerHeightChange:E,children:s.jsx(Tt.div,{dir:$,...l,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});m7.displayName=YS;var g7="ScrollAreaViewport",p7=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,l=ns(g7,r),u=y.useRef(null),d=Ht(t,u,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Tt.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});p7.displayName=g7;var Ws="ScrollAreaScrollbar",KS=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ns(Ws,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,u=e.orientation==="horizontal";return y.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),a.type==="hover"?s.jsx(S1e,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(N1e,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(y7,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(VS,{...n,ref:t}):null});KS.displayName=Ws;var S1e=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ns(Ws,e.__scopeScrollArea),[i,l]=y.useState(!1);return y.useEffect(()=>{const u=a.scrollArea;let d=0;if(u){const f=()=>{window.clearTimeout(d),l(!0)},m=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",m)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(qs,{present:r||i,children:s.jsx(y7,{"data-state":i?"visible":"hidden",...n,ref:t})})}),N1e=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ns(Ws,e.__scopeScrollArea),i=e.orientation==="horizontal",l=W0(()=>d("SCROLL_END"),100),[u,d]=j1e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,a.scrollHideDelay,d]),y.useEffect(()=>{const f=a.viewport,m=i?"scrollLeft":"scrollTop";if(f){let g=f[m];const x=()=>{const v=f[m];g!==v&&(d("SCROLL"),l()),g=v};return f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[a.viewport,i,d,l]),s.jsx(qs,{present:r||u!=="hidden",children:s.jsx(VS,{"data-state":u==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:yt(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:yt(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),y7=y.forwardRef((e,t)=>{const r=ns(Ws,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,l]=y.useState(!1),u=e.orientation==="horizontal",d=W0(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;l(u?f:m)}},10);return lu(r.viewport,d),lu(r.content,d),s.jsx(qs,{present:n||i,children:s.jsx(VS,{"data-state":i?"visible":"hidden",...a,ref:t})})}),VS=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ns(Ws,e.__scopeScrollArea),i=y.useRef(null),l=y.useRef(0),[u,d]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=j7(u.viewport,u.content),m={...n,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function g(x,v){return A1e(x,l.current,u,v)}return r==="horizontal"?s.jsx(k1e,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollLeft,v=yP(x,u,a.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=g(x,a.dir))}}):r==="vertical"?s.jsx(C1e,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollTop,v=yP(x,u);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=g(x))}}):null}),k1e=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ns(Ws,e.__scopeScrollArea),[l,u]=y.useState(),d=y.useRef(null),f=Ht(t,d,i.onScrollbarXChange);return y.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),s.jsx(v7,{"data-orientation":"horizontal",...a,ref:f,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":H0(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(i.viewport){const x=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(x),S7(x,g)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:bp(l.paddingLeft),paddingEnd:bp(l.paddingRight)}})}})}),C1e=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ns(Ws,e.__scopeScrollArea),[l,u]=y.useState(),d=y.useRef(null),f=Ht(t,d,i.onScrollbarYChange);return y.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),s.jsx(v7,{"data-orientation":"vertical",...a,ref:f,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":H0(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(i.viewport){const x=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(x),S7(x,g)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:bp(l.paddingTop),paddingEnd:bp(l.paddingBottom)}})}})}),[T1e,x7]=h7(Ws),v7=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:m,onResize:g,...x}=e,v=ns(Ws,r),[j,w]=y.useState(null),b=Ht(t,I=>w(I)),S=y.useRef(null),k=y.useRef(""),C=v.viewport,E=n.content-n.viewport,O=Gn(m),D=Gn(d),T=W0(g,10);function M(I){if(S.current){const $=I.clientX-S.current.left,B=I.clientY-S.current.top;f({x:$,y:B})}}return y.useEffect(()=>{const I=$=>{const B=$.target;j?.contains(B)&&O($,E)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[C,j,E,O]),y.useEffect(D,[n,D]),lu(j,T),lu(v.content,T),s.jsx(T1e,{scope:r,scrollbar:j,hasThumb:a,onThumbChange:Gn(i),onThumbPointerUp:Gn(l),onThumbPositionChange:D,onThumbPointerDown:Gn(u),children:s.jsx(Tt.div,{...x,ref:b,style:{position:"absolute",...x.style},onPointerDown:yt(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),S.current=j.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),M(I))}),onPointerMove:yt(e.onPointerMove,M),onPointerUp:yt(e.onPointerUp,I=>{const $=I.target;$.hasPointerCapture(I.pointerId)&&$.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=k.current,v.viewport&&(v.viewport.style.scrollBehavior=""),S.current=null})})})}),vp="ScrollAreaThumb",b7=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=x7(vp,e.__scopeScrollArea);return s.jsx(qs,{present:r||a.hasThumb,children:s.jsx(E1e,{ref:t,...n})})}),E1e=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ns(vp,r),l=x7(vp,r),{onThumbPositionChange:u}=l,d=Ht(t,g=>l.onThumbChange(g)),f=y.useRef(void 0),m=W0(()=>{f.current&&(f.current(),f.current=void 0)},100);return y.useEffect(()=>{const g=i.viewport;if(g){const x=()=>{if(m(),!f.current){const v=D1e(g,u);f.current=v,u()}};return u(),g.addEventListener("scroll",x),()=>g.removeEventListener("scroll",x)}},[i.viewport,m,u]),s.jsx(Tt.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:yt(e.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),j=g.clientX-v.left,w=g.clientY-v.top;l.onThumbPointerDown({x:j,y:w})}),onPointerUp:yt(e.onPointerUp,l.onThumbPointerUp)})});b7.displayName=vp;var GS="ScrollAreaCorner",w7=y.forwardRef((e,t)=>{const r=ns(GS,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(O1e,{...e,ref:t}):null});w7.displayName=GS;var O1e=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ns(GS,r),[i,l]=y.useState(0),[u,d]=y.useState(0),f=!!(i&&u);return lu(a.scrollbarX,()=>{const m=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(m),d(m)}),lu(a.scrollbarY,()=>{const m=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(m),l(m)}),f?s.jsx(Tt.div,{...n,ref:t,style:{width:i,height:u,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function bp(e){return e?parseInt(e,10):0}function j7(e,t){const r=e/t;return isNaN(r)?0:r}function H0(e){const t=j7(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function A1e(e,t,r,n="ltr"){const a=H0(r),i=a/2,l=t||i,u=a-l,d=r.scrollbar.paddingStart+l,f=r.scrollbar.size-r.scrollbar.paddingEnd-u,m=r.content-r.viewport,g=n==="ltr"?[0,m]:[m*-1,0];return _7([d,f],g)(e)}function yP(e,t,r="ltr"){const n=H0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,l=t.content-t.viewport,u=i-n,d=r==="ltr"?[0,l]:[l*-1,0],f=Ww(e,d);return _7([0,l],[0,u])(f)}function _7(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function S7(e,t){return e>0&&e<t}var D1e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=r.left!==i.left,u=r.top!==i.top;(l||u)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function W0(e,t){const r=Gn(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function lu(e,t){const r=Gn(t);mn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var N7=m7,M1e=p7,P1e=w7;const k7=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(N7,{...r,children:[s.jsx(M1e,{ref:n,className:Ie("overflow-hidden [&>div>div[style]]:!block",e),children:t}),s.jsx(QS,{}),s.jsx(P1e,{})]}));k7.displayName=N7.displayName;const QS=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(KS,{ref:n,orientation:t,className:Ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(b7,{className:"relative flex-1 rounded-full bg-border"})}));QS.displayName=KS.displayName;const C7=w1e(),XS=y.createContext({columns:[],data:[],activeCardId:null}),R1e=({id:e,children:t,className:r})=>{const{isOver:n,setNodeRef:a}=HS({id:e});return s.jsx("div",{className:Ie("flex size-full min-h-40 flex-col divide-y overflow-hidden rounded-md border bg-secondary text-xs shadow-sm ring-2 transition-all",n?"ring-primary":"ring-transparent",r),ref:a,children:t})},I1e=({id:e,name:t,children:r,className:n})=>{const{attributes:a,listeners:i,setNodeRef:l,transition:u,transform:d,isDragging:f}=f1e({id:e}),{activeCardId:m}=y.useContext(XS),g={transition:u,transform:Co.Transform.toString(d)},x=v=>{const j=v.target;if(j.closest("button")||j.closest('[role="button"]')){v.preventDefault();return}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{style:g,...i,...a,onMouseDown:x,ref:l,className:Ie("cursor-grab rounded-md",f&&"pointer-events-none cursor-grabbing opacity-30",n),children:r??s.jsx("p",{className:"m-0 font-medium text-sm",children:t})}),m===e&&s.jsx(C7.In,{children:s.jsx("div",{className:Ie("cursor-grab rounded-md ring-2 ring-primary",f&&"cursor-grabbing",n),children:r??s.jsx("p",{className:"m-0 font-medium text-sm",children:t})})})]})},L1e=({children:e,className:t,...r})=>{const{data:n}=y.useContext(XS),a=n.filter(l=>l.column===r.id),i=a.map(l=>l.id);return s.jsxs(k7,{className:"overflow-hidden",children:[s.jsx(s1e,{items:i,children:s.jsx("div",{className:Ie("flex flex-grow flex-col gap-2 p-2 bg-white/5",t),...r,children:a.map(e)})}),s.jsx(QS,{orientation:"vertical"})]})},$1e=({className:e,...t})=>s.jsx("div",{className:Ie("m-0 p-2 font-semibold text-sm",e),...t}),B1e=({children:e,onDragStart:t,onDragEnd:r,onDragOver:n,className:a,columns:i,data:l,onDataChange:u,...d})=>{const[f,m]=y.useState(null),g=rve(mw(W$),mw(Y$),mw(FS)),x=b=>{l.find(k=>k.id===b.active.id)&&m(b.active.id),t?.(b)},v=b=>{const{active:S,over:k}=b;if(!k)return;const C=l.find(T=>T.id===S.id),E=l.find(T=>T.id===k.id);if(!C)return;const O=C.column,D=E?.column||i.find(T=>T.id===k.id)?.id||i[0]?.id;if(O!==D){let T=[...l];const M=T.findIndex($=>$.id===S.id),I=T.findIndex($=>$.id===k.id);T[M].column=D,T=xp(T,M,I),u?.(T)}n?.(b)},j=b=>{m(null),r?.(b);const{active:S,over:k}=b;if(!k||S.id===k.id)return;let C=[...l];const E=C.findIndex(D=>D.id===S.id),O=C.findIndex(D=>D.id===k.id);C=xp(C,E,O),u?.(C)},w={onDragStart({active:b}){const{name:S,column:k}=l.find(C=>C.id===b.id)??{};return`Picked up the card "${S}" from the "${k}" column`},onDragOver({active:b,over:S}){const{name:k}=l.find(E=>E.id===b.id)??{},C=i.find(E=>E.id===S?.id)?.name;return`Dragged the card "${k}" over the "${C}" column`},onDragEnd({active:b,over:S}){const{name:k}=l.find(E=>E.id===b.id)??{},C=i.find(E=>E.id===S?.id)?.name;return`Dropped the card "${k}" into the "${C}" column`},onDragCancel({active:b}){const{name:S}=l.find(k=>k.id===b.id)??{};return`Cancelled dragging the card "${S}"`}};return s.jsx(XS.Provider,{value:{columns:i,data:l,activeCardId:f},children:s.jsxs(Z$,{accessibility:{announcements:w},collisionDetection:lve,onDragEnd:j,onDragOver:v,onDragStart:x,sensors:g,...d,children:[s.jsx("div",{className:Ie("grid size-full auto-cols-fr grid-flow-col gap-4",a),children:i.map(b=>e(b))}),typeof window<"u"&&ja.createPortal(s.jsx(pbe,{children:s.jsx(C7.Out,{})}),document.body)]})})},z1e=({projectId:e})=>{const[t,r]=y.useState("All"),[n,a]=y.useState("All"),[i,l]=y.useState("All"),[u,d]=y.useState(!1),[f,m]=y.useState(null),[g,x]=y.useState(!1),{data:v=[]}=Xwe(t==="All"?void 0:t),j=Zwe(),w=Jwe(),b=e1e(),S=t1e(),k=y.useMemo(()=>v.filter(B=>!(n!=="All"&&B.purpose!==n||i!=="All"&&B.priority!==i)),[v,n,i]),C=y.useMemo(()=>k.map(B=>({id:B.id,name:B.name,column:B.completion_level,automation:B})),[k]),E=y.useMemo(()=>i7.map(B=>({id:B,name:B,color:Fwe[B]})),[]),O=async B=>{for(const z of B){const Y=C.find(ne=>ne.id===z.id);if(Y&&Y.column!==z.column)try{await S.mutateAsync({id:z.id,completionLevel:z.column})}catch(ne){console.error("Failed to update automation level:",ne)}}},D=async B=>{},T=async B=>{x(!0);try{f?await w.mutateAsync({id:f.id,...B}):await j.mutateAsync(B),d(!1),m(null)}finally{x(!1)}},M=async B=>{try{await b.mutateAsync(B)}catch(z){console.error("Failed to delete automation:",z)}},I=B=>{m(B),d(!0)},$=()=>{m(null),d(!0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Gwe,{selectedArea:t,onAreaChange:r,selectedPurpose:n,onPurposeChange:a,selectedPriority:i,onPriorityChange:l,onAddNew:$,automations:v}),s.jsx(B1e,{columns:E,data:C,onDataChange:O,onDragEnd:D,children:B=>s.jsxs(R1e,{id:B.id,className:`${B.color}`,children:[s.jsx($1e,{className:"text-white font-bold",children:B.name}),s.jsx(L1e,{id:B.id,className:"flex-1",children:z=>s.jsx(I1e,{id:z.id,name:z.name,column:z.column,children:s.jsx(Kwe,{automation:z.automation,onEdit:I,onDelete:M})},z.id)})]},B.id)}),s.jsx(Qwe,{isOpen:u,onClose:()=>{d(!1),m(null)},onSave:T,automation:f})]})};function F1e(){const[e,t]=y.useState(null),[r,n]=y.useState(!0),[a,i]=y.useState("tgrassmick@gmail.com"),[l,u]=y.useState("Grassmick1"),[d,f]=y.useState(""),[m,g]=y.useState([]),[x,v]=y.useState([]),[j,w]=y.useState("All Areas"),[b,S]=y.useState("tasks"),[k,C]=y.useState("tasks-list"),[E,O]=y.useState(null),[D,T]=y.useState(null),[M,I]=y.useState(null),[$,B]=y.useState("All Time"),[z,Y]=y.useState("All Areas"),[ne,V]=y.useState("All Levels"),[F,Z]=y.useState(null),[q,U]=y.useState({}),[W,L]=y.useState(null),[ee,J]=y.useState(!1),[Q,fe]=y.useState({}),[ge,re]=y.useState(!1),[ke,se]=y.useState(null),[pe,Ce]=y.useState("dueToday"),[de,Qe]=y.useState(null),[Ee,Ue]=y.useState(""),[et,Wt]=y.useState(""),[Xr,_r]=y.useState(""),[Jt,zr]=y.useState(!1),[yr,K]=y.useState(!1),[ae,P]=y.useState(!1),[oe,ve]=y.useState(0),[Te,tt]=y.useState(null),[jt,Et]=y.useState(0),[lr,Yt]=y.useState(null),[_t,Je]=y.useState(""),[xt,er]=y.useState(!1),[Ye,St]=y.useState(null),[je,Oe]=y.useState(null),[nt,Se]=y.useState(!1),ct=Gq();y.useEffect(()=>{const H=localStorage.getItem("deepWorkSession");if(H){const xe=JSON.parse(H);xe.isRunning&&(K(!0),tt(new Date(xe.startTime)),Qe(xe.task),Ue(xe.taskType||""),Wt(xe.focusArea),Et(xe.pausedDuration||0),xe.isPaused&&(P(!0),Yt(xe.pauseStartTime?new Date(xe.pauseStartTime):null)))}},[]),y.useEffect(()=>{X.auth.getSession().then(({data:{session:xe}})=>{t(xe),n(!1),xe&&(ar(xe.user.id),ut(xe.user.id))});const{data:{subscription:H}}=X.auth.onAuthStateChange((xe,Ge)=>{t(Ge),Ge&&(ar(Ge.user.id),ut(Ge.user.id))});return()=>H.unsubscribe()},[]),y.useEffect(()=>{let H=null;return yr&&!ae&&(H=setInterval(()=>{if(Te){const Ge=Math.floor((new Date().getTime()-Te.getTime())/1e3);ve(Ge-jt)}},1e3)),()=>{H&&clearInterval(H)}},[yr,ae,Te,jt]),y.useEffect(()=>{if(yr){const H={isRunning:yr,isPaused:ae,startTime:Te?.toISOString(),pauseStartTime:lr?.toISOString(),pausedDuration:jt,task:de,taskType:Ee,focusArea:et};localStorage.setItem("deepWorkSession",JSON.stringify(H))}else localStorage.removeItem("deepWorkSession")},[yr,ae,Te,lr,jt,de,Ee,et]);const ar=async H=>{try{const{data:xe,error:Ge}=await X.from("tasks").select("*").eq("user_id",H).order("created_at",{ascending:!1});if(Ge)throw Ge;g(xe||[]),console.log("Fetched tasks:",xe?.length||0,"tasks")}catch(xe){console.error("Error fetching tasks:",xe)}},ut=async H=>{console.log(" fetchDeepWorkSessions called for user:",H);try{const{data:xe,error:Ge}=await X.from("deep_work_log").select(`
          *,
          task:task_id (
            task_name
          )
        `).eq("user_id",H).order("start_time",{ascending:!1});if(Ge)throw console.error(" Fetch error:",Ge),Ge;console.log(" Fetched sessions:",xe?.length||0,"sessions"),console.log(" Sessions data:",xe),v(xe||[])}catch(xe){console.error("Error fetching deep work sessions:",xe)}},ot=async H=>{H.preventDefault(),n(!0),f("");try{const{error:xe}=await X.auth.signInWithPassword({email:a,password:l});if(xe)throw xe}catch(xe){f(xe.message||"Failed to sign in")}finally{n(!1)}},Ar=async H=>{if(window.confirm("Are you sure you want to delete this task?"))try{const{error:xe}=await X.from("tasks").delete().eq("id",H);if(xe)throw xe;e&&ar(e.user.id),L(null),J(!1),fe({})}catch(xe){console.error("Error deleting task:",xe)}},Bn=async(H,xe,Ge=!1)=>{try{const lt=Ge?{completed_at:xe,updated_at:new Date().toISOString()}:{due_date:xe},{error:sn}=await X.from("tasks").update(lt).eq("id",H);if(sn)throw sn;e&&ar(e.user.id),re(!1),se(null)}catch(lt){console.error("Error updating task date:",lt)}},hr=()=>{Z(null),U({}),Je(""),er(!1)},na=async H=>{try{const xe=new Date(q.start_time),Ge=new Date(q.end_time),lt=Math.floor((Ge.getTime()-xe.getTime())/(1e3*60)),sn={area:q.area,task_type:q.task_type,task_id:q.task_id,effort_level:q.effort_level,notes:q.notes,duration_minutes:lt,start_time:q.start_time,end_time:q.end_time};if(H==="new"){const{error:tr}=await X.from("deep_work_log").insert({...sn,user_id:e?.user.id});if(tr)throw tr}else{const{error:tr}=await X.from("deep_work_log").update(sn).eq("id",H);if(tr)throw tr}e&&ut(e.user.id),Z(null),U({}),Je(""),er(!1)}catch(xe){console.error("Error saving session:",xe)}},Sn=async H=>{if(window.confirm("Are you sure you want to delete this session?"))try{const{error:xe}=await X.from("deep_work_log").delete().eq("id",H);if(xe)throw xe;e&&ut(e.user.id),Z(null),U({}),Je(""),er(!1)}catch(xe){console.error("Error deleting session:",xe)}},Nn=H=>({"Full Stack":"#10b981","Huge Capital":"#a855f7",S4:"#3b82f6",808:"#eab308",Personal:"#ec4899",Golf:"#f97316",Health:"#14b8a6"})[H]||"#6b7280",kn=H=>{if(!H)return!1;const xe=H.split("T")[0].split("-"),Ge=new Date(parseInt(xe[0]),parseInt(xe[1])-1,parseInt(xe[2])),lt=new Date;return lt.setHours(0,0,0,0),Ge.setHours(0,0,0,0),Ge.getTime()===lt.getTime()},Ea=H=>{if(!H)return!1;const xe=H.split("T")[0].split("-"),Ge=new Date(parseInt(xe[0]),parseInt(xe[1])-1,parseInt(xe[2])),lt=new Date;return lt.setDate(lt.getDate()+1),lt.setHours(0,0,0,0),Ge.setHours(0,0,0,0),Ge.getTime()===lt.getTime()},zn=H=>{if(!H)return!1;const xe=H.split("T")[0].split("-"),Ge=new Date(parseInt(xe[0]),parseInt(xe[1])-1,parseInt(xe[2])),lt=new Date;return lt.setHours(0,0,0,0),Ge.setHours(0,0,0,0),Ge<lt};let dt=j==="All Areas"?m:m.filter(H=>H.area===j);if(pe!=="all")switch(pe){case"active":dt=dt.filter(H=>H.status!=="Done");break;case"completed":dt=dt.filter(H=>H.status==="Done");break;case"recurring":dt=dt.filter(H=>H.recurring_type!==void 0&&H.recurring_type!==null&&H.recurring_type!=="none");break;case"overdue":dt=dt.filter(H=>zn(H.due_date)&&H.status!=="Done");break;case"dueToday":dt=dt.filter(H=>kn(H.due_date)&&H.status!=="Done");break;case"completedToday":dt=dt.filter(H=>H.status==="Done"&&H.updated_at&&kn(H.updated_at));break;case"dueTomorrow":dt=dt.filter(H=>Ea(H.due_date)&&H.status!=="Done");break}const Cn=m.filter(H=>kn(H.due_date));Cn.filter(H=>H.status==="Done").length,Cn.length,m.filter(H=>H.status!=="Done").length,m.filter(H=>H.status==="Done").length,m.filter(H=>H.recurring_type!==void 0&&H.recurring_type!==null&&H.recurring_type!=="none").length,m.filter(H=>zn(H.due_date)&&H.status!=="Done").length,m.filter(H=>kn(H.due_date)&&H.status!=="Done").length,m.filter(H=>H.status==="Done"&&H.updated_at&&kn(H.updated_at)).length,m.filter(H=>Ea(H.due_date)&&H.status!=="Done").length,dt.length,dt.reduce((H,xe)=>H+(xe.hours_projected||0),0),dt.filter(H=>H.area==="Full Stack").length,dt.filter(H=>H.area==="Full Stack").reduce((H,xe)=>H+(xe.hours_projected||0),0),dt.filter(H=>H.area==="Huge Capital").length,dt.filter(H=>H.area==="Huge Capital").reduce((H,xe)=>H+(xe.hours_projected||0),0),dt.filter(H=>H.area==="S4").length,dt.filter(H=>H.area==="S4").reduce((H,xe)=>H+(xe.hours_projected||0),0),dt.filter(H=>H.area==="Personal").length,dt.filter(H=>H.area==="Personal").reduce((H,xe)=>H+(xe.hours_projected||0),0),dt.filter(H=>H.area==="808").length,dt.filter(H=>H.area==="808").reduce((H,xe)=>H+(xe.hours_projected||0),0),dt.filter(H=>H.area==="Health").length,dt.filter(H=>H.area==="Health").reduce((H,xe)=>H+(xe.hours_projected||0),0),dt.filter(H=>H.area==="Golf").length,dt.filter(H=>H.area==="Golf").reduce((H,xe)=>H+(xe.hours_projected||0),0);const Nt=(()=>{let H=x;const xe=new Date;if($==="Today"){const Ge=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate());H=H.filter(lt=>new Date(lt.start_time)>=Ge)}else if($==="This Week"){const Ge=new Date(xe);Ge.setDate(xe.getDate()-xe.getDay()),Ge.setHours(0,0,0,0),H=H.filter(lt=>new Date(lt.start_time)>=Ge)}else if($==="This Month"){const Ge=new Date(xe.getFullYear(),xe.getMonth(),1);H=H.filter(lt=>new Date(lt.start_time)>=Ge)}return z!=="All Areas"&&(H=H.filter(Ge=>Ge.area===z)),ne!=="All Levels"&&(H=H.filter(Ge=>Ge.effort_level===ne)),H})(),Ys={totalSessions:Nt.length,totalMinutes:Nt.reduce((H,xe)=>H+(xe.duration_minutes||0),0),avgMinutes:Nt.length>0?Math.round(Nt.reduce((H,xe)=>H+(xe.duration_minutes||0),0)/Nt.length):0};Nt.length,Nt.filter(H=>H.area==="Personal").length,Nt.filter(H=>H.area==="Full Stack").length,Nt.filter(H=>H.area==="Huge Capital").length,Nt.filter(H=>H.area==="S4").length,Nt.filter(H=>H.area==="808").length,Nt.filter(H=>H.area==="Health").length,Nt.filter(H=>H.area==="Golf").length,Nt.length,Nt.filter(H=>H.effort_level==="$$$ Printer $$$").length,Nt.filter(H=>H.effort_level==="$ Makes Money $").length,Nt.filter(H=>H.effort_level==="-$ Save Dat $-").length,Nt.filter(H=>H.effort_level===":( No Money ):").length,Nt.filter(H=>H.effort_level==="8) Vibing (8").length;const Ks={};return Nt.forEach(H=>{const xe=H.task?.task_name||"Unknown Task";Ks[xe]||(Ks[xe]={minutes:0,sessions:0,area:H.area,taskType:H.task_type||""}),Ks[xe].minutes+=H.duration_minutes||0,Ks[xe].sessions+=1}),Object.entries(Ks).sort((H,xe)=>xe[1].minutes-H[1].minutes).slice(0,5).map(([H,xe])=>({taskName:H,minutes:xe.minutes,sessions:xe.sessions,area:xe.area,taskType:xe.taskType,percent:Ys.totalMinutes>0?Math.round(xe.minutes/Ys.totalMinutes*100):0})),r&&!e?s.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a"},children:s.jsx("div",{style:{color:"#9ca3af"},children:"Loading..."})}):e?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:"#1a1a1a",color:"#fff",overflow:"visible"},children:[!ct&&s.jsxs("div",{style:{width:"264px",backgroundColor:"#0f0f0f",borderRight:"1px solid #2a2a2a",position:"sticky",top:0,height:"100vh",display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"visible",zIndex:100,minWidth:"264px"},children:[s.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #2a2a2a"},children:[s.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",background:"linear-gradient(to right, #f97316, #eab308)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"4px"},children:"TG Dashboard"}),s.jsx("p",{style:{fontSize:"12px",color:"#6b7280"},children:"Personal Performance Center"})]}),s.jsxs("div",{style:{flex:1,padding:"16px",position:"relative",overflow:"visible"},children:[s.jsxs("div",{style:{marginBottom:"8px",position:"relative"},onMouseEnter:()=>Oe("tasks"),onMouseLeave:()=>Oe(null),children:[s.jsxs("button",{onClick:()=>S("tasks"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics"?"#10b981":"transparent",color:b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics"?"white":"#10b981",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M9 11l3 3L22 4"}),s.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),"Daily"]}),s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),(je==="tasks"||b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics")&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",borderRadius:"8px",padding:"8px"},onMouseEnter:()=>Oe("tasks"),onMouseLeave:()=>Oe(null),children:[s.jsxs("button",{onClick:()=>S("tasks"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="tasks"?"#2a2a2a":"transparent",color:b==="tasks"?"#14d399":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="tasks"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M9 11l3 3L22 4"}),s.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),"Tasks"]}),s.jsxs("button",{onClick:()=>S("calendar"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="calendar"?"#2a2a2a":"transparent",color:b==="calendar"?"#1eefac":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="calendar"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"2",y:"3",width:"12",height:"11",rx:"1"}),s.jsx("path",{d:"M2 6h12M5 1v4M11 1v4"})]}),"Calendar"]}),s.jsxs("button",{onClick:()=>S("dailytime"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="dailytime"?"#2a2a2a":"transparent",color:b==="dailytime"?"#0d9668":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="dailytime"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"8",cy:"8",r:"6"}),s.jsx("path",{d:"M8 4v4l3 2"})]}),"Daily Time"]}),s.jsxs("button",{onClick:()=>S("analytics"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="analytics"?"#2a2a2a":"transparent",color:b==="analytics"?"#14d399":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="analytics"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"Deep Work"]})]})]}),s.jsxs("div",{style:{marginBottom:"8px",position:"relative"},onMouseEnter:()=>Oe("business"),onMouseLeave:()=>Oe(null),children:[s.jsxs("button",{onClick:()=>{S("business"),O(null)},style:{width:"100%",padding:"12px 16px",backgroundColor:b==="business"?"#a855f7":"transparent",color:b==="business"?"white":"#a855f7",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"2",y:"2",width:"12",height:"12",rx:"2"}),s.jsx("path",{d:"M2 6h12M6 2v12"})]}),"Projects"]}),s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),(je==="business"||b==="business"||b==="automations")&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",borderRadius:"8px",padding:"8px"},onMouseEnter:()=>Oe("business"),onMouseLeave:()=>Oe(null),children:[s.jsx("button",{onClick:()=>{S("automations"),O(null)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="automations"?"#2a2a2a":"transparent",color:b==="automations"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="automations"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Automations"}),s.jsx("button",{onClick:()=>{S("business"),O("Full Stack")},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="Full Stack"?"#2a2a2a":"transparent",color:E==="Full Stack"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:E==="Full Stack"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Full Stack"}),s.jsx("button",{onClick:()=>{S("business"),O("Huge Capital")},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="Huge Capital"?"#2a2a2a":"transparent",color:E==="Huge Capital"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:E==="Huge Capital"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Huge Capital"}),s.jsx("button",{onClick:()=>{S("business"),O("S4")},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="S4"?"#2a2a2a":"transparent",color:E==="S4"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:E==="S4"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"S4"}),s.jsx("button",{onClick:()=>{S("business"),O("808")},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="808"?"#2a2a2a":"transparent",color:E==="808"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:E==="808"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"808"}),s.jsx("button",{onClick:()=>{S("business"),O("Personal")},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="Personal"?"#2a2a2a":"transparent",color:E==="Personal"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:E==="Personal"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Personal"}),s.jsx("button",{onClick:()=>{S("business"),O("Health")},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="Health"?"#2a2a2a":"transparent",color:E==="Health"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:E==="Health"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Health"}),s.jsx("button",{onClick:()=>{S("business"),O("Golf")},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="Golf"?"#2a2a2a":"transparent",color:E==="Golf"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:E==="Golf"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Golf"}),s.jsx("button",{onClick:()=>{S("business"),O("Service SaaS")},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="Service SaaS"?"#2a2a2a":"transparent",color:E==="Service SaaS"?"#a855f7":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:E==="Service SaaS"?"600":"500",textAlign:"left",marginBottom:"4px"},children:"Service SaaS"})]})]}),s.jsxs("div",{style:{marginBottom:"8px",position:"relative"},onMouseEnter:()=>Oe("resources"),onMouseLeave:()=>Oe(null),children:[s.jsxs("button",{onClick:()=>S("content"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="content"||b==="notes"?"#eab308":"transparent",color:b==="content"||b==="notes"?"white":"#eab308",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M2 3h12M2 8h12M2 13h12"}),s.jsx("circle",{cx:"5",cy:"3",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"5",cy:"8",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"5",cy:"13",r:"1",fill:"currentColor"})]}),"Resources"]}),s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),(je==="resources"||b==="content"||b==="notes")&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",borderRadius:"8px",padding:"8px"},onMouseEnter:()=>Oe("resources"),onMouseLeave:()=>Oe(null),children:[s.jsxs("button",{onClick:()=>S("content"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="content"?"#2a2a2a":"transparent",color:b==="content"?"#FFC61A":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="content"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M2 3h12M2 8h12M2 13h12"}),s.jsx("circle",{cx:"5",cy:"3",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"5",cy:"8",r:"1",fill:"currentColor"}),s.jsx("circle",{cx:"5",cy:"13",r:"1",fill:"currentColor"})]}),"Content Library"]}),s.jsxs("button",{onClick:()=>S("notes"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="notes"?"#2a2a2a":"transparent",color:b==="notes"?"#D4A004":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="notes"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"2",width:"10",height:"12",rx:"1"}),s.jsx("path",{d:"M6 6h4M6 9h4M6 12h2"})]}),"Notes"]})]})]}),s.jsx("div",{style:{marginBottom:"8px"},children:s.jsxs("button",{onClick:()=>S("finance"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="finance"?"#f97316":"transparent",color:b==="finance"?"white":"#f97316",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"8",cy:"8",r:"6"}),s.jsx("path",{d:"M8 5v6M6 8h4"})]}),"Finance"]})}),s.jsx("div",{style:{marginBottom:"8px"},children:s.jsxs("button",{onClick:()=>S("health"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="health"?"#10b981":"transparent",color:b==="health"?"white":"#10b981",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),"Health"]})}),s.jsxs("div",{style:{marginBottom:"8px",position:"relative"},onMouseEnter:()=>Oe("review"),onMouseLeave:()=>Oe(null),children:[s.jsxs("button",{onClick:()=>S("review"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="review"||b==="insights"||b==="planning"?"#ec4899":"transparent",color:b==="review"||b==="insights"||b==="planning"?"white":"#ec4899",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"20.25px",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"2",y:"2",width:"12",height:"12",rx:"2"}),s.jsx("rect",{x:"5",y:"5",width:"6",height:"2",fill:"currentColor"}),s.jsx("rect",{x:"5",y:"9",width:"4",height:"2",fill:"currentColor"})]}),"Review"]}),s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),(je==="review"||b==="review"||b==="insights"||b==="planning")&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",borderRadius:"8px",padding:"8px"},onMouseEnter:()=>Oe("review"),onMouseLeave:()=>Oe(null),children:[s.jsxs("button",{onClick:()=>S("review"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="review"?"#2a2a2a":"transparent",color:b==="review"?"#F55DAA":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="review"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"2",y:"2",width:"12",height:"12",rx:"2"}),s.jsx("rect",{x:"5",y:"5",width:"6",height:"2",fill:"currentColor"}),s.jsx("rect",{x:"5",y:"9",width:"4",height:"2",fill:"currentColor"})]}),"Dashboard"]}),s.jsxs("button",{onClick:()=>S("insights"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="insights"?"#2a2a2a":"transparent",color:b==="insights"?"#E93D87":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="insights"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"Insights"]}),s.jsxs("button",{onClick:()=>S("planning"),style:{width:"100%",padding:"8px 12px",backgroundColor:b==="planning"?"#2a2a2a":"transparent",color:b==="planning"?"#D92A6D":"#9ca3af",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18.9px",fontWeight:b==="planning"?"600":"500",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"4",width:"10",height:"10",rx:"1"}),s.jsx("path",{d:"M5 2v4M11 2v4"})]}),"Planning"]})]})]})]})]}),nt&&ct&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:40},onClick:()=>Se(!1)}),nt&&ct&&s.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"264px",height:"100vh",backgroundColor:"#0f0f0f",borderRight:"1px solid #2a2a2a",display:"flex",flexDirection:"column",overflowY:"auto",zIndex:50},children:[s.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #2a2a2a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",background:"linear-gradient(to right, #f97316, #eab308)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0"},children:"TG Dashboard"}),s.jsx("button",{onClick:()=>Se(!1),style:{background:"none",border:"none",color:"#9ca3af",fontSize:"24px",cursor:"pointer",padding:"0"},children:""})]}),s.jsxs("div",{style:{flex:1,padding:"16px",position:"relative",overflow:"visible"},children:[s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("button",{onClick:()=>Oe(je==="daily"?null:"daily"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics"?"#10b981":"transparent",color:b==="tasks"||b==="calendar"||b==="dailytime"||b==="analytics"?"white":"#10b981",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Daily",s.jsx("span",{style:{fontSize:"12px"},children:""})]}),je==="daily"&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",borderLeft:"2px solid #10b981",paddingLeft:"8px"},children:[s.jsx("button",{onClick:()=>{S("tasks"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="tasks"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Tasks"}),s.jsx("button",{onClick:()=>{S("calendar"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="calendar"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Calendar"}),s.jsx("button",{onClick:()=>{S("dailytime"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="dailytime"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left"},children:"Daily Time"})]})]}),s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("button",{onClick:()=>Oe(je==="projects"?null:"projects"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="business"?"#a855f7":"transparent",color:b==="business"?"white":"#a855f7",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Projects",s.jsx("span",{style:{fontSize:"12px"},children:""})]}),je==="projects"&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",borderLeft:"2px solid #a855f7",paddingLeft:"8px"},children:[s.jsx("button",{onClick:()=>{S("automations"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="automations"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Automations"}),s.jsx("button",{onClick:()=>{S("business"),O("full-stack"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="full-stack"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Full Stack"}),s.jsx("button",{onClick:()=>{S("business"),O("huge-capital"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="huge-capital"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Huge Capital"}),s.jsx("button",{onClick:()=>{S("business"),O("s4"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="s4"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"S4"}),s.jsx("button",{onClick:()=>{S("business"),O("808"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="808"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"808"}),s.jsx("button",{onClick:()=>{S("business"),O("personal"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="personal"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Personal"}),s.jsx("button",{onClick:()=>{S("business"),O("health"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="health"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Health"}),s.jsx("button",{onClick:()=>{S("business"),O("golf"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="golf"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Golf"}),s.jsx("button",{onClick:()=>{S("business"),O("service-saas"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:E==="service-saas"?"#7e22ce":"transparent",color:"#a855f7",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Service SaaS"})]})]}),s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("button",{onClick:()=>Oe(je==="resources"?null:"resources"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="content"||b==="notes"?"#10b981":"transparent",color:b==="content"||b==="notes"?"white":"#10b981",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Resources",s.jsx("span",{style:{fontSize:"12px"},children:""})]}),je==="resources"&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",borderLeft:"2px solid #10b981",paddingLeft:"8px"},children:[s.jsx("button",{onClick:()=>{S("content"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="content"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Content Library"}),s.jsx("button",{onClick:()=>{S("notes"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="notes"?"#047857":"transparent",color:"#10b981",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left"},children:"Notes"})]})]}),s.jsx("div",{style:{marginBottom:"8px",position:"relative"},children:s.jsx("button",{onClick:()=>{S("finance"),Se(!1)},style:{width:"100%",padding:"12px 16px",backgroundColor:b==="finance"?"#eab308":"transparent",color:b==="finance"?"white":"#eab308",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left"},children:"Finance"})}),s.jsx("div",{style:{marginBottom:"8px",position:"relative"},children:s.jsx("button",{onClick:()=>{S("health"),Se(!1)},style:{width:"100%",padding:"12px 16px",backgroundColor:b==="health"?"#14b8a6":"transparent",color:b==="health"?"white":"#14b8a6",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left"},children:"Health"})}),s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("button",{onClick:()=>Oe(je==="review"?null:"review"),style:{width:"100%",padding:"12px 16px",backgroundColor:b==="review"||b==="analytics"||b==="insights"||b==="planning"?"#ec4899":"transparent",color:b==="review"||b==="analytics"||b==="insights"||b==="planning"?"white":"#ec4899",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Review",s.jsx("span",{style:{fontSize:"12px"},children:""})]}),je==="review"&&s.jsxs("div",{style:{marginTop:"4px",marginLeft:"16px",borderLeft:"2px solid #ec4899",paddingLeft:"8px"},children:[s.jsx("button",{onClick:()=>{S("review"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="review"?"#be185d":"transparent",color:"#ec4899",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Dashboard"}),s.jsx("button",{onClick:()=>{S("analytics"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="analytics"?"#be185d":"transparent",color:"#ec4899",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Analytics"}),s.jsx("button",{onClick:()=>{S("insights"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="insights"?"#be185d":"transparent",color:"#ec4899",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left",marginBottom:"4px"},children:"Insights"}),s.jsx("button",{onClick:()=>{S("planning"),Se(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:b==="planning"?"#be185d":"transparent",color:"#ec4899",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left"},children:"Planning"})]})]}),s.jsx("div",{style:{marginBottom:"8px",position:"relative"},children:s.jsx("button",{onClick:()=>{S("automations"),Se(!1)},style:{width:"100%",padding:"12px 16px",backgroundColor:b==="automations"?"#f59e0b":"transparent",color:b==="automations"?"white":"#f59e0b",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"16px",textAlign:"left"},children:"Automations"})})]})]}),s.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[ct&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderBottom:"1px solid #2a2a2a",backgroundColor:"#0f0f0f"},children:[s.jsx("button",{onClick:()=>Se(!nt),style:{background:"none",border:"none",color:"#9ca3af",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Toggle sidebar",children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),s.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),s.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),s.jsx("span",{style:{color:"#e5e7eb",fontSize:"14px",fontWeight:"500",flex:1},children:"Menu"})]}),b==="tasks"&&s.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[s.jsx("div",{style:{display:"none"}}),k==="tasks-list"&&s.jsx(ute,{}),k==="deepwork"&&s.jsx("div",{style:{padding:"0 20px"},children:s.jsx(FE,{})})]}),b==="business"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(Kte,{preselectedBusinessArea:E,onNavigateToScheduling:(H,xe)=>{T(H),I(xe),S("project-scheduling")}})}),b==="project-scheduling"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(Yte,{selectedBusinessId:D,selectedProjectId:M,onBack:()=>S("business")})}),b==="automations"&&s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:s.jsx(z1e,{})}),b==="content"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(YH,{})}),b==="finance"&&s.jsx("div",{style:{flex:1,overflow:"auto"},children:s.jsx(Jte,{})}),b==="notes"&&s.jsx("div",{style:{flex:1,overflow:"hidden"},children:s.jsx(ere,{})}),b==="analytics"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(FE,{})}),b==="insights"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(Qbe,{})}),b==="health"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(Oxe,{})}),b==="planning"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(Fxe,{})}),b==="calendar"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(Sbe,{})}),b==="dailytime"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(Fbe,{})}),b==="review"&&s.jsx("div",{style:{flex:1,overflowY:"auto"},children:s.jsx(Rwe,{onNavigate:S})})]}),F&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:hr,children:s.jsxs("div",{style:{backgroundColor:"#1f1f1f",borderRadius:"12px",width:"500px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},onClick:H=>H.stopPropagation(),children:[s.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#fff"},children:F==="new"?"Add New Deep Work Session":"Edit Deep Work Session"}),s.jsx("button",{onClick:hr,style:{backgroundColor:"transparent",border:"none",color:"#9ca3af",fontSize:"24px",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}),s.jsxs("div",{style:{padding:"24px"},children:[s.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Task"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",placeholder:"Search tasks...",value:_t,onChange:H=>{Je(H.target.value),er(!0),U({...q,task_name:H.target.value,task_id:null})},onFocus:()=>er(!0),onBlur:()=>setTimeout(()=>er(!1),200),style:{width:"100%",padding:"10px 12px",paddingLeft:q.task_id?"32px":"12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"}}),q.task_id&&s.jsx("div",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:(()=>{const H=m.find(xe=>xe.id===q.task_id);return H?Nn(H.area):"#6b7280"})()}})]}),xt&&s.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#1a1a1a",border:"1px solid #444",borderRadius:"4px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:100},children:[m.filter(H=>H.task_name.toLowerCase().includes(_t.toLowerCase())&&H.status!=="completed").slice(0,5).map(H=>s.jsx("div",{onClick:()=>{U({...q,task_id:H.id,task_name:H.task_name,area:H.area,task_type:H.task_type}),Je(H.task_name),er(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #333"},onMouseEnter:xe=>xe.currentTarget.style.backgroundColor="#2a2a2a",onMouseLeave:xe=>xe.currentTarget.style.backgroundColor="transparent",children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:Nn(H.area),flexShrink:0}}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:"13px",color:"#fff"},children:H.task_name}),s.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:H.area})]})]})},H.id)),_t&&s.jsxs("div",{onClick:()=>{U({...q,task_id:null,task_name:_t}),er(!1)},style:{padding:"8px 12px",cursor:"pointer",fontSize:"13px",color:"#60a5fa"},onMouseEnter:H=>H.currentTarget.style.backgroundColor="#2a2a2a",onMouseLeave:H=>H.currentTarget.style.backgroundColor="transparent",children:['+ Use "',_t,'" as custom task']})]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Focus Area"}),s.jsxs("select",{value:q.area||"",onChange:H=>U({...q,area:H.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"},children:[s.jsx("option",{value:"Full Stack",children:"Full Stack"}),s.jsx("option",{value:"Huge Capital",children:"Huge Capital"}),s.jsx("option",{value:"S4",children:"S4"}),s.jsx("option",{value:"808",children:"808"}),s.jsx("option",{value:"Personal",children:"Personal"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Health",children:"Health"})]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Task Type"}),s.jsx("input",{type:"text",value:q.task_type||"",onChange:H=>U({...q,task_type:H.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"}})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Money Maker Level (Optional)"}),s.jsxs("select",{value:q.effort_level||"",onChange:H=>U({...q,effort_level:H.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"},children:[s.jsx("option",{value:"",children:"Select level..."}),s.jsx("option",{value:"$$$ Printer $$$",style:{color:"#22c55e"},children:"$$$ Printer $$$"}),s.jsx("option",{value:"$ Makes Money $",style:{color:"#15803d"},children:"$ Makes Money $"}),s.jsx("option",{value:"-$ Save Dat $-",style:{color:"#fb923c"},children:"-$ Save Dat $-"}),s.jsx("option",{value:":( No Money ):",style:{color:"#ef4444"},children:":( No Money ):"}),s.jsx("option",{value:"8) Vibing (8",style:{color:"#a855f7"},children:"8) Vibing (8"})]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Duration (minutes) - Auto-calculated"}),s.jsx("input",{type:"number",value:q.duration_minutes||0,readOnly:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"#9ca3af",border:"1px solid #444",borderRadius:"8px",fontSize:"14px"}}),s.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"6px"},children:"Duration is automatically calculated from start and end times"})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Start Time"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[s.jsx("div",{onClick:()=>{const H=document.getElementById("start-date-input");H&&H.showPicker()},style:{position:"relative",cursor:"pointer"},children:s.jsx("input",{id:"start-date-input",type:"date",value:q.start_time?new Date(q.start_time).toISOString().split("T")[0]:"",onChange:H=>{if(!H.target.value)return;const xe=q.start_time?new Date(q.start_time):new Date,[Ge,lt,sn]=H.target.value.split("-"),tr=new Date(xe);tr.setFullYear(parseInt(Ge),parseInt(lt)-1,parseInt(sn));const Fn=tr.toISOString();let Tn={...q,start_time:Fn};if(q.end_time){const Ss=new Date(q.end_time),xr=Math.floor((Ss.getTime()-tr.getTime())/(1e3*60));Tn.duration_minutes=Math.max(0,xr)}U(Tn)},style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",cursor:"pointer",pointerEvents:"none"}})}),s.jsx("div",{onClick:()=>{const H=document.getElementById("start-time-input");H&&H.showPicker()},style:{position:"relative",cursor:"pointer"},children:s.jsx("input",{id:"start-time-input",type:"time",step:"900",value:q.start_time?new Date(q.start_time).toTimeString().slice(0,5):"",onChange:H=>{if(!H.target.value)return;const[xe,Ge]=H.target.value.split(":"),lt=q.start_time?new Date(q.start_time):new Date;lt.setHours(parseInt(xe),parseInt(Ge),0,0);const sn=lt.toISOString();let tr={...q,start_time:sn};if(q.end_time){const Fn=new Date(q.end_time),Tn=Math.floor((Fn.getTime()-lt.getTime())/(1e3*60));tr.duration_minutes=Math.max(0,Tn)}U(tr)},style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",cursor:"pointer",pointerEvents:"none"}})})]}),s.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:["Current: ",q.start_time?new Date(q.start_time).toLocaleString():"N/A"]})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"End Time"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[s.jsx("div",{onClick:()=>{const H=document.getElementById("end-date-input");H&&H.showPicker()},style:{position:"relative",cursor:"pointer"},children:s.jsx("input",{id:"end-date-input",type:"date",value:q.end_time?new Date(q.end_time).toISOString().split("T")[0]:"",onChange:H=>{if(!H.target.value)return;const xe=q.end_time?new Date(q.end_time):new Date,[Ge,lt,sn]=H.target.value.split("-"),tr=new Date(xe);tr.setFullYear(parseInt(Ge),parseInt(lt)-1,parseInt(sn));const Fn=tr.toISOString();let Tn={...q,end_time:Fn};if(q.start_time){const Ss=new Date(q.start_time),xr=Math.floor((tr.getTime()-Ss.getTime())/(1e3*60));Tn.duration_minutes=Math.max(0,xr)}U(Tn)},style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",cursor:"pointer",pointerEvents:"none"}})}),s.jsx("div",{onClick:()=>{const H=document.getElementById("end-time-input");H&&H.showPicker()},style:{position:"relative",cursor:"pointer"},children:s.jsx("input",{id:"end-time-input",type:"time",step:"900",value:q.end_time?new Date(q.end_time).toTimeString().slice(0,5):"",onChange:H=>{if(!H.target.value)return;const[xe,Ge]=H.target.value.split(":"),lt=q.end_time?new Date(q.end_time):new Date;lt.setHours(parseInt(xe),parseInt(Ge),0,0);const sn=lt.toISOString();let tr={...q,end_time:sn};if(q.start_time){const Fn=new Date(q.start_time),Tn=Math.floor((lt.getTime()-Fn.getTime())/(1e3*60));tr.duration_minutes=Math.max(0,Tn)}U(tr)},style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",cursor:"pointer",pointerEvents:"none"}})})]}),s.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:["Current: ",q.end_time?new Date(q.end_time).toLocaleString():"N/A"]})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("label",{style:{display:"block",fontSize:"13px",color:"#fff",marginBottom:"8px",fontWeight:"500"},children:"Notes"}),s.jsx("textarea",{value:q.notes||"",placeholder:"Session notes...",onChange:H=>U({...q,notes:H.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"8px",fontSize:"14px",minHeight:"80px",resize:"vertical"}})]})]}),s.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F!=="new"?s.jsx("button",{onClick:()=>Sn(F),style:{padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Delete Session"}):s.jsx("div",{}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{onClick:hr,style:{padding:"10px 20px",backgroundColor:"transparent",color:"#9ca3af",border:"1px solid #444",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),s.jsx("button",{onClick:()=>na(F),style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:F==="new"?"Add Session":"Save Changes"})]})]})]})}),(W||ee)&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>{L(null),J(!1),fe({})},children:s.jsxs("div",{style:{backgroundColor:"#0f1419",borderRadius:"12px",padding:"28px",width:"600px",maxHeight:"90vh",overflow:"auto",border:"none"},onClick:H=>H.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[s.jsx("h2",{style:{color:"white",fontSize:"20px",fontWeight:"600",margin:0},children:W?"Edit Task":"Create New Task"}),s.jsx("button",{onClick:()=>{L(null),J(!1),fe({})},style:{background:"none",border:"none",color:"#888",fontSize:"28px",cursor:"pointer",padding:"0",lineHeight:"1"},children:""})]}),s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Task Name"}),s.jsx("input",{type:"text",value:Q.task_name||W?.task_name||"",onChange:H=>fe({...Q,task_name:H.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"},placeholder:"Enter task name..."})]}),s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Description"}),s.jsx("textarea",{value:Q.description||W?.description||"",onChange:H=>fe({...Q,description:H.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",minHeight:"70px",outline:"none",resize:"vertical"},placeholder:"Task description..."})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Area"}),s.jsxs("select",{value:Q.area||W?.area||"",onChange:H=>fe({...Q,area:H.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"},children:[s.jsx("option",{value:"",children:"Select area..."}),s.jsx("option",{value:"Personal",children:"Personal"}),s.jsx("option",{value:"Full Stack",children:"Full Stack"}),s.jsx("option",{value:"Huge Capital",children:"Huge Capital"}),s.jsx("option",{value:"S4",children:"S4"}),s.jsx("option",{value:"808",children:"808"}),s.jsx("option",{value:"Golf",children:"Golf"}),s.jsx("option",{value:"Health",children:"Health"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Type"}),s.jsxs("select",{value:Q.task_type||W?.task_type||"",onChange:H=>fe({...Q,task_type:H.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"},children:[s.jsx("option",{value:"",children:"Select type..."}),(Q.area||W?.area)==="Health"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Admin",children:"Admin"}),s.jsx("option",{value:"Meditation",children:"Meditation"}),s.jsx("option",{value:"Workout",children:"Workout"}),s.jsx("option",{value:"Walk",children:"Walk"}),s.jsx("option",{value:"Yoga",children:"Yoga"})]}),(Q.area||W?.area)==="S4"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Data",children:"Data"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"New Build",children:"New Build"}),s.jsx("option",{value:"Update Build",children:"Update Build"}),s.jsx("option",{value:"Sales",children:"Sales"}),s.jsx("option",{value:"Planning",children:"Planning"})]}),(Q.area||W?.area)==="Huge Capital"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Admin",children:"Admin"}),s.jsx("option",{value:"New Build",children:"New Build"}),s.jsx("option",{value:"Update Build",children:"Update Build"}),s.jsx("option",{value:"Planning",children:"Planning"})]}),(Q.area||W?.area)==="Golf"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Content",children:"Content"}),s.jsx("option",{value:"Equipment",children:"Equipment"}),s.jsx("option",{value:"Practice",children:"Practice"}),s.jsx("option",{value:"Golfing",children:"Golfing"}),s.jsx("option",{value:"Admin",children:"Admin"})]}),(Q.area||W?.area)==="Full Stack"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Admin",children:"Admin"}),s.jsx("option",{value:"Internal Build",children:"Internal Build"}),s.jsx("option",{value:"Client Build",children:"Client Build"}),s.jsx("option",{value:"Team",children:"Team"}),s.jsx("option",{value:"Internal Update",children:"Internal Update"}),s.jsx("option",{value:"Client Update",children:"Client Update"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Sales",children:"Sales"})]}),(Q.area||W?.area)==="808"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Online",children:"Online"}),s.jsx("option",{value:"Artists",children:"Artists"}),s.jsx("option",{value:"Cost Savings",children:"Cost Savings"}),s.jsx("option",{value:"Customer Service",children:"Customer Service"}),s.jsx("option",{value:"Data",children:"Data"}),s.jsx("option",{value:"Fulfillment",children:"Fulfillment"}),s.jsx("option",{value:"Automation",children:"Automation"})]}),(Q.area||W?.area)==="Personal"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Arya",children:"Arya"}),s.jsx("option",{value:"Car",children:"Car"}),s.jsx("option",{value:"Cheypow",children:"Cheypow"}),s.jsx("option",{value:"Finances",children:"Finances"}),s.jsx("option",{value:"Friends",children:"Friends"}),s.jsx("option",{value:"House",children:"House"}),s.jsx("option",{value:"Life",children:"Life"})]})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Priority"}),s.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:["Low","Medium","High"].map(H=>s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",color:"white"},children:[s.jsx("input",{type:"radio",name:"priority",value:H,checked:(Q.priority||W?.priority)===H,onChange:xe=>fe({...Q,priority:xe.target.value}),style:{cursor:"pointer"}}),s.jsx("span",{style:{fontSize:"14px"},children:H})]},H))})]}),s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Money Maker"}),s.jsxs("select",{value:Q.effort_level||W?.effort_level||"",onChange:H=>fe({...Q,effort_level:H.target.value}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"},children:[s.jsx("option",{value:"",children:"Select money maker..."}),s.jsx("option",{value:"$$$ Printer $$$",style:{color:"#22c55e"},children:"$$$ Printer $$$"}),s.jsx("option",{value:"$ Makes Money $",style:{color:"#15803d"},children:"$ Makes Money $"}),s.jsx("option",{value:"-$ Save Dat $-",style:{color:"#fb923c"},children:"-$ Save Dat $-"}),s.jsx("option",{value:":( No Money ):",style:{color:"#ef4444"},children:":( No Money ):"}),s.jsx("option",{value:"8) Vibing (8",style:{color:"#a855f7"},children:"8) Vibing (8"})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Hours Projected"}),s.jsx("input",{type:"number",value:Q.hours_projected??(W?.hours_projected||0),onChange:H=>fe({...Q,hours_projected:Number(H.target.value)}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Hours Worked"}),s.jsx("input",{type:"number",value:Q.hours_worked??(W?.hours_worked||0),onChange:H=>fe({...Q,hours_worked:Number(H.target.value)}),style:{width:"100%",padding:"10px 12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"}})]})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:"Due Date"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"date",value:Q.due_date?new Date(Q.due_date).toISOString().split("T")[0]:W?.due_date?new Date(W.due_date).toISOString().split("T")[0]:"",onChange:H=>fe({...Q,due_date:H.target.value}),style:{width:"100%",padding:"10px 12px 10px 40px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"14px",outline:"none"}}),s.jsx("div",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",pointerEvents:"none"},children:""})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"12px"},children:[W&&s.jsx("button",{onClick:()=>Ar(W.id),style:{padding:"10px 20px",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontWeight:"500",fontSize:"14px"},children:"Delete Task"}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"12px"},children:[s.jsx("button",{onClick:()=>{L(null),J(!1),fe({})},style:{padding:"10px 20px",backgroundColor:"#374151",border:"none",borderRadius:"6px",color:"#e5e7eb",cursor:"pointer",fontWeight:"500",fontSize:"14px"},children:"Cancel"}),s.jsx("button",{onClick:async()=>{W?(await X.from("tasks").update({task_name:Q.task_name||W.task_name,description:Q.description||W.description,area:Q.area||W.area,task_type:Q.task_type||W.task_type,priority:Q.priority||W.priority,effort_level:Q.effort_level||W.effort_level,due_date:Q.due_date||W.due_date,"Hours Projected":Q.hours_projected??W.hours_projected,"Hours Worked":Q.hours_worked??W.hours_worked}).eq("id",W.id),e&&ar(e.user.id)):(await X.from("tasks").insert({task_name:Q.task_name,description:Q.description||"",area:Q.area||"Personal",task_type:Q.task_type||"",status:"Not started",automation:"Manual",priority:Q.priority||"Medium",effort_level:Q.effort_level||"$ Makes Money $",due_date:Q.due_date||null,user_id:e?.user.id,"Hours Projected":Q.hours_projected||0,"Hours Worked":Q.hours_worked||0}),e&&ar(e.user.id)),L(null),J(!1),fe({})},style:{padding:"10px 20px",backgroundColor:"#60a5fa",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontWeight:"500",fontSize:"14px"},children:W?"Update Task":"Create Task"})]})]})]})}),ge&&ke&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>{re(!1),se(null)},children:s.jsxs("div",{style:{backgroundColor:"#0f1419",borderRadius:"12px",padding:"28px",width:"400px",border:"none"},onClick:H=>H.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[s.jsx("h2",{style:{color:"white",fontSize:"20px",fontWeight:"600",margin:0},children:ke.status==="Done"?"Change Completion Date":"Change Due Date"}),s.jsx("button",{onClick:()=>{re(!1),se(null)},style:{background:"none",border:"none",color:"#888",fontSize:"28px",cursor:"pointer",padding:"0",lineHeight:"1"},children:""})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsxs("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:["Task: ",ke.task_name]}),s.jsx("label",{style:{color:"#9ca3af",display:"block",marginBottom:"8px",fontSize:"14px"},children:ke.status==="Done"?"New Completion Date":"New Due Date"}),s.jsx("input",{type:"date",defaultValue:ke.status==="Done"?ke.completed_at?.split("T")[0]||"":ke.due_date||"",onChange:H=>{H.target.value&&Bn(ke.id,H.target.value,ke.status==="Done")},style:{width:"100%",padding:"12px",backgroundColor:"#1a1f2e",border:"1px solid #2d3748",borderRadius:"6px",color:"white",fontSize:"16px",outline:"none"}})]}),s.jsx("button",{onClick:()=>{re(!1),se(null)},style:{width:"100%",padding:"12px",backgroundColor:"#60a5fa",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontWeight:"500",fontSize:"14px"},children:"Close"})]})})]}):s.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #3b82f6, #a855f7, #ec4899)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",padding:"32px",width:"100%",maxWidth:"448px"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[s.jsx("h1",{style:{fontSize:"36px",fontWeight:"bold",background:"linear-gradient(to right, #2563eb, #9333ea)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"8px"},children:"TG Dashboard"}),s.jsx("p",{style:{color:"#6b7280"},children:"Deep work focused task management"})]}),s.jsxs("form",{onSubmit:ot,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Email"}),s.jsx("input",{type:"email",value:a,onChange:H=>i(H.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px"},required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Password"}),s.jsx("input",{type:"password",value:l,onChange:H=>u(H.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px"},required:!0})]}),d&&s.jsx("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#991b1b",padding:"12px 16px",borderRadius:"8px",fontSize:"14px"},children:d}),s.jsx("button",{type:"submit",disabled:r,style:{width:"100%",padding:"12px",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"white",borderRadius:"8px",fontWeight:"500",border:"none",cursor:r?"not-allowed":"pointer",opacity:r?.5:1},children:r?"Signing in...":"Sign In"})]})]})})}const U1e=new gF({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!0,refetchOnReconnect:!0},mutations:{retry:1}}});Yz.createRoot(document.getElementById("root")).render(s.jsx(y.StrictMode,{children:s.jsx(pF,{client:U1e,children:s.jsx(F1e,{})})}));
